<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/apt/configuration.apt at 2022-07-11

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Waarp OpenR66 &#x2013; </title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="http://www.waarp.fr" id="bannerLeft"><img src="images/waarp.jpg"  alt="Waarp Project"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-07-11</span>
           | <span id="projectVersion">Version: 3.6.2-jre8</span>
      </div>
      <div class="xright"><a href="http://www.waarp.fr/" class="externalLink" title="Waarp">Waarp</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Waarp OpenR66</h5>
    <ul>
     <li class="none"><a href="index.html" title="Overview of OpenR66">Overview of OpenR66</a></li>
     <li class="none"><strong>Configuration of OpenR66 Server and Clients</strong></li>
     <li class="none"><a href="sslconfig.html" title="Configuration of OpenR66 SSL keys">Configuration of OpenR66 SSL keys</a></li>
     <li class="none"><a href="commands.html" title="Commands for OpenR66 Server and Clients">Commands for OpenR66 Server and Clients</a></li>
     <li class="none"><a href="protocol.html" title="Protocol for OpenR66 File Transfer">Protocol for OpenR66 File Transfer</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="https://www.waarp.fr/" title="Waarp" class="poweredBy">
        <img class="poweredBy"  alt="Waarp" src="https://www.waarp.fr/i/logo.png"     />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="WaarpR66_Server_and_Clients_Configuration"></a>WaarpR66 Server and Clients Configuration</h2><section>
<h3><a name="How_to_configure_Waarp_OpenR66"></a>How to configure Waarp OpenR66</h3><section>
<h4><a name="Configuration_files"></a>Configuration files</h4>
<p>In the zip distribution <i>WaarpR66-X.Y.Z-dist.zip</i> (available at Github for download), you will find an extra directory named: <i>src/main/config</i> where several examples files are located as: <i>config-serverA.xml</i>, <i>config-serverB.xml</i>. Other files like <i>config-clientA.xml</i> are for clients, and <i>config-serverInitA.xml</i>, <i>OpenR66-authent-A.xml</i>, <i>limitConfiga.xml</i>, <i>*.rule.xml</i>, certs/*.cer/*.jks/*.ggp are for initialization or password storage.</p>
<p>A detailed description of their contents can be found in <a href="./Config-OpenR66-Server.html">Config OpenR66 Server</a>, <a href="./Config-OpenR66-Client.html">Config OpenR66 Client</a>, <a href="./Config-OpenR66-ClientNoDB.html">Config OpenR66 Client with No Database</a>, <a href="./Config-OpenR66-SubmitClient.html">Config OpenR66 Client for Submit Only</a>, <a href="./OpenR66-Limit.html">Config OpenR66 Limits</a>, <a href="./OpenR66-Rule.html">Config OpenR66 Rule</a>, <a href="./OpenR66-Authent.html">Config OpenR66 Authentications</a> and <a href="./Config-Snmp.html">Config for OpenR66 SNMP support</a>.</p>
<p>The first ones (<i>config-ServerX.xml</i>) specifies the general behavior for the OpenR66 Server:</p>
<ul>
<li>server names, ports, home directory and subdirectories, ssl key</li>
<li>server admin name and password (for administrator access and shutdown function)</li>
<li>server special configuration like threads number, timeout of connection, deleteOnAbort, usenio, fastmd5, blocksize</li>
<li>server database configuration</li></ul>
<p>The second one (<i>config-clientX.xml</i>) is a configuration file for OpenR66 Client:</p>
<ul>
<li>client names, home directory and subdirectories, optionally ssl key</li>
<li>server special configuration like threads number, timeout of connection, deleteOnAbort, usenio, fastmd5, blocksize</li>
<li>optionally server database configuration</li></ul>
<p>The file <i>config-serverInitC.xml</i> is an example of how to instantiate the database with the correct values in it. The values are from:</p>
<ul>
<li><i>config-serverInitX.xml</i> : host name and database access</li>
<li>rules_directory where <i>*.rule.xml</i> files are: all information needed to process a rule (directories, actions on pre transfer, post transfer and error status).</li>
<li>host_authent_file <i>OpenR66-authent-A.xml</i> (host name, address, ports and ssl support) and the associated <i>*.ggp</i> for password:</li>
<li>limit_configuration_file <i>limitConfiga.xml</i> where session and global limit for bandwitdth are specified.</li></ul></section><section>
<h4><a name="Steps"></a>Steps</h4>
<ul>
<li>Create keys for SSH and Passwords (see <a href="./sslconfig.html">Config OpenR66 OpenSSL and WaarpPassword GUI project</a>)</li>
<li>Create configurations files (server configuration file, authentication configuration file, rule configuration file, snmp configuration file) for a server</li>
<li>Create configurations files (client configuration file, authentication configuration file, rule configuration file) for a client</li>
<li>Create the database using the ServerInitDatabase (see <a href="./commands.html">Commands detail</a>)
<p>A simplified picture of the OpenR66 Database schema is shown here:</p><figure><img src="images/OpenR66-database.png" alt="" /><figcaption>Waarp OpenR66 Database Schema</figcaption></figure></li>
<li>Make some tests for server using Message command to all declared interface (NOSSL and SSL) (see <a href="./commands.html">Commands detail</a>)</li></ul></section></section><section>
<h3><a name="How_to_run_Waarp_OpenR66"></a>How to run Waarp OpenR66</h3>
<p>It can be started like:</p>
<div>
<pre>  java ... classpath and jvm settings ... &lt;org.waarp.openr66.server.R66Server&gt; &lt;src/main/config/configX.xml&gt;</pre></div>
<p>Note that in the classpath you need :</p>
<ul>
<li>External jars:
<ul>
<li><a class="externalLink" href="http://netty.io">Netty</a></li>
<li><a class="externalLink" href="http://commons.apache.org/io/">Apache-Commons-IO</a></li>
<li><a class="externalLink" href="http://commons.apache.org/exec/">Apache-Commons-Exec</a></li>
<li><a class="externalLink" href="http://commons.apache.org/compress/">Apache-Commons-Compress</a></li>
<li><a class="externalLink" href="http://commons.apache.org/codec/">Apache-Commons-Codec</a></li>
<li><a class="externalLink" href="http://www.dom4j.org/">DOM4J</a></li>
<li><a class="externalLink" href="http://jaxen.codehaus.org/">Jaxen</a></li>
<li><a class="externalLink" href="http://www.slf4j.org/">SLF4J</a></li>
<li><a class="externalLink" href="http://logback.qos.ch/">Logback</a></li>
<li><a class="externalLink" href="https://github.com/jezhumble/javasysmon">JavaSysMon</a></li>
<li><a class="externalLink" href="http://www.snmp4j.org">SNMP4J</a></li>
<li><i>Database JDBC support</i> for instance for H2, PostGreSQL, Oracle, MySQL</li></ul></li>
<li>Waarp jars:
<ul>
<li><i>NettyExtension</i></li>
<li><i>WaarpDigest</i></li>
<li><i>WaarpCommon</i>
<ul>
<li><i>WaarpExec</i></li>
<li><i>WaarpSnmp</i></li></ul></li></ul></li></ul>
<p>To shutdown the service, either you do if Unix (not under Windows)</p>
<div>
<pre>  kill -s USR1 &lt;processID&gt;</pre></div>
<p>Or use the TERM (15) signal</p>
<div>
<pre>  kill -s TERM &lt;processID&gt;</pre></div>
<p>or much better you connect as an admin user into the Administrator (HTTPS) and ask to shutdown</p>
<p>or you use the command line:</p>
<div>
<pre>  java ... classpath and jvm settings ... &lt;openr66.server.R66Server&gt; &lt;src/main/config/configX.xml&gt;</pre></div>
<p>where the password is the one in the <i>config.xml</i> for admin actions.</p>
<p>Hope this helps a bit... If you have any questions, remarks, just ask!</p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2009&#x2013;2022<a href="http://www.waarp.fr">Waarp</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
