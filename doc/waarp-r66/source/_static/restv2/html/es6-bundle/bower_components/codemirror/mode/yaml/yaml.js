// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("yaml",function(){var cons=["true","false","on","off","yes","no"],keywordRegex=new RegExp("\\b(("+cons.join(")|(")+"))$","i");return{token:function(stream,state){var ch=stream.peek(),esc=state.escaped;state.escaped=/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;/* comments */if("#"==ch&&(0==stream.pos||/\s/.test(stream.string.charAt(stream.pos-1)))){stream.skipToEnd();return"comment"}if(stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(state.literal&&stream.indentation()>state.keyCol){stream.skipToEnd();return"string"}else if(state.literal){state.literal=!1}if(stream.sol()){state.keyCol=0;state.pair=!1;state.pairStart=!1;/* document start */if(stream.match(/---/)){return"def"}/* document end */if(stream.match(/\.\.\./)){return"def"}/* array list item */if(stream.match(/\s*-\s+/)){return"meta"}}/* inline pairs/lists */if(stream.match(/^(\{|\}|\[|\])/)){if("{"==ch)state.inlinePairs++;else if("}"==ch)state.inlinePairs--;else if("["==ch)state.inlineList++;else state.inlineList--;return"meta"}/* list seperator */if(0<state.inlineList&&!esc&&","==ch){stream.next();return"meta"}/* pairs seperator */if(0<state.inlinePairs&&!esc&&","==ch){state.keyCol=0;state.pair=!1;state.pairStart=!1;stream.next();return"meta"}/* start of value of a pair */if(state.pairStart){/* block literals */if(stream.match(/^\s*(\||\>)\s*/)){state.literal=!0/* skipSlots */;return"meta"};/* references */if(stream.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)){return"variable-2"}/* numbers */if(0==state.inlinePairs&&stream.match(/^\s*-?[0-9\.\,]+\s?$/)){return"number"}if(0<state.inlinePairs&&stream.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)){return"number"}/* keywords */if(stream.match(keywordRegex)){return"keyword"}}/* pairs (associative arrays) -> key */if(!state.pair&&stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)){state.pair=!0;state.keyCol=stream.indentation();return"atom"}if(state.pair&&stream.match(/^:\s*/)){state.pairStart=!0;return"meta"}/* nothing found, continue */state.pairStart=!1;state.escaped="\\"==ch;stream.next();return null},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}});CodeMirror.defineMIME("text/x-yaml","yaml");CodeMirror.defineMIME("text/yaml","yaml")});