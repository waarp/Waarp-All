// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("turtle",function(config){var indentUnit=config.indentUnit,curPunc;function wordRegexp(words){return new RegExp("^(?:"+words.join("|")+")$","i")}var ops=wordRegexp([]),keywords=wordRegexp(["@prefix","@base","a"]),operatorChars=/[*+\-<>=&|]/;function tokenBase(stream,state){var ch=stream.next();curPunc=null;if("<"==ch&&!stream.match(/^[\s\u00a0=]/,/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)){stream.match(/^[^\s\u00a0>]*>?/);return"atom"}else if("\""==ch||"'"==ch){state.tokenize=tokenLiteral(ch);return state.tokenize(stream,state)}else if(/[{}\(\),\.;\[\]]/.test(ch)){curPunc=ch;return null}else if("#"==ch){stream.skipToEnd();return"comment"}else if(operatorChars.test(ch)){stream.eatWhile(operatorChars);return null}else if(":"==ch){return"operator"}else{stream.eatWhile(/[_\w\d]/);if(":"==stream.peek()){return"variable-3"}else{var word=stream.current();if(keywords.test(word)){return"meta"}if("A"<=ch&&"Z">=ch){return"comment"}else{return"keyword"}}var word=stream.current();if(ops.test(word))return null;else if(keywords.test(word))return"meta";else return"variable"}}function tokenLiteral(quote){return function(stream,state){var escaped=!1,ch;while(null!=(ch=stream.next())){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==ch}return"string"}}function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type}}function popContext(state){state.indent=state.context.indent;state.context=state.context.prev}return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(stream,state){if(stream.sol()){if(state.context&&null==state.context.align)state.context.align=!1;state.indent=stream.indentation()}if(stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"!=style&&state.context&&null==state.context.align&&"pattern"!=state.context.type){state.context.align=!0/* skipSlots */}if("("==curPunc)pushContext(state,")",stream.column());else if("["==curPunc)pushContext(state,"]",stream.column());else if("{"==curPunc)pushContext(state,"}",stream.column());else if(/[\]\}\)]/.test(curPunc)){while(state.context&&"pattern"==state.context.type)popContext(state);if(state.context&&curPunc==state.context.type)popContext(state)}else if("."==curPunc&&state.context&&"pattern"==state.context.type)popContext(state);else if(/atom|string|variable/.test(style)&&state.context){if(/[\}\]]/.test(state.context.type))pushContext(state,"pattern",stream.column());else if("pattern"==state.context.type&&!state.context.align){state.context.align=!0;state.context.col=stream.column()}}return style},indent:function(state,textAfter){var firstChar=textAfter&&textAfter.charAt(0),context=state.context;if(/[\]\}]/.test(firstChar))while(context&&"pattern"==context.type)context=context.prev;var closing=context&&firstChar==context.type;if(!context)return 0;else if("pattern"==context.type)return context.col;else if(context.align)return context.col+(closing?0:1);else return context.indent+(closing?0:indentUnit)},lineComment:"#"}});CodeMirror.defineMIME("text/turtle","turtle")});