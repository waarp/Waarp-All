<html><head></head><body><div hidden="" by-polymer-bundler=""><script>(function(a){function b(a){return r.typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?b=function(a){return typeof a}:b=function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(a)}function c(a){function b(d,e){try{var f=a[d](e),g=f.value,h=g instanceof r.AwaitValue;Promise.resolve(h?g.wrapped:g).then(function(a){return h?void b("next",a):void c(f.done?"return":"normal",a)},function(a){b("throw",a)})}catch(a){c("throw",a)}}function c(a,c){switch(a){case"return":d.resolve({value:c,done:!0});break;case"throw":d.reject(c);break;default:d.resolve({value:c,done:!1});}d=d.next,d?b(d.key,d.arg):e=null}var d,e;this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};e?e=e.next=h:(d=e=h,b(a,c))})},"function"!==typeof a.return&&(this.return=void 0)}function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function f(a,b){for(var c in b){var d=b[c];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,c,d)}if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(b),f=0;f<e.length;f++){var g=e[f],d=b[g];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,g,d)}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(){return r.extends=h=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},h.apply(this,arguments)}function i(a){return r.getPrototypeOf=i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},i(a)}function j(a,b){return r.setPrototypeOf=j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},j(a,b)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function l(){return r.construct=k()?l=Reflect.construct:l=function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&r.setPrototypeOf(f,d.prototype),f},l.apply(null,arguments)}function m(a){var b="function"===typeof Map?new Map:void 0;return r.wrapNativeSuper=m=function(a){function c(){return r.construct(a,arguments,r.getPrototypeOf(this).constructor)}if(null===a||!r.isNativeFunction(a))return a;if("function"!==typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r.setPrototypeOf(c,a)},m(a)}function n(a,b,c){return r.get="undefined"!==typeof Reflect&&Reflect.get?n=Reflect.get:n=function(a,b,c){var d=r.superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}},n(a,b,c||a)}function o(a,b,c,d){return o="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(a,b,c,d){var e,f=r.superPropBase(a,b);if(f){if(e=Object.getOwnPropertyDescriptor(f,b),e.set)return e.set.call(d,c),!0;if(!e.writable)return!1}if(e=Object.getOwnPropertyDescriptor(d,b),e){if(!e.writable)return!1;e.value=c,Object.defineProperty(d,b,e)}else r.defineProperty(d,b,c);return!0},o(a,b,c,d)}function p(a,b,c,d,e){var f=o(a,b,c,d||a);if(!f&&e)throw new Error("failed to set property");return c}function q(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}var r=a.babelHelpers={};r.typeof=b,r.asyncIterator=function(a){var b;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator],null!=b))return b.call(a);if(Symbol.iterator&&(b=a[Symbol.iterator],null!=b))return b.call(a)}throw new TypeError("Object is not async iterable")},r.AwaitValue=function(a){this.wrapped=a},"function"===typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this}),c.prototype.next=function(a){return this._invoke("next",a)},c.prototype.throw=function(a){return this._invoke("throw",a)},c.prototype.return=function(a){return this._invoke("return",a)},r.AsyncGenerator=c,r.wrapAsyncGenerator=function(a){return function(){return new r.AsyncGenerator(a.apply(this,arguments))}},r.awaitAsyncGenerator=function(a){return new r.AwaitValue(a)},r.asyncGeneratorDelegate=function(a,b){function c(c,d){return e=!0,d=new Promise(function(b){b(a[c](d))}),{done:!1,value:b(d)}}var d={},e=!1;return"function"===typeof Symbol&&Symbol.iterator&&(d[Symbol.iterator]=function(){return this}),d.next=function(a){return e?(e=!1,a):c("next",a)},"function"===typeof a.throw&&(d.throw=function(a){if(e)throw e=!1,a;return c("throw",a)}),"function"===typeof a.return&&(d.return=function(a){return c("return",a)}),d},r.asyncToGenerator=function(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function g(a){d(i,e,f,g,h,"next",a)}function h(a){d(i,e,f,g,h,"throw",a)}var i=a.apply(b,c);g(void 0)})}},r.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},r.createClass=function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a},r.defineEnumerableProperties=f,r.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&a[e]===void 0&&Object.defineProperty(a,e,f)}return a},r.defineProperty=g,r.extends=h,r.objectSpread=function(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){r.defineProperty(a,b,c[b])})}return a},r.inherits=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&r.setPrototypeOf(a,b)},r.getPrototypeOf=i,r.setPrototypeOf=j,r.construct=l,r.isNativeFunction=function(a){return-1!==Function.toString.call(a).indexOf("[native code]")},r.wrapNativeSuper=m,r.instanceof=function(a,b){return null!=b&&"undefined"!==typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},r.interopRequireDefault=function(a){return a&&a.__esModule?a:{default:a}},r.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b},r.newArrowCheck=function(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError("Cannot destructure undefined")},r.objectWithoutPropertiesLoose=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e},r.objectWithoutProperties=function(a,b){if(null==a)return{};var c,d,e=r.objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(0<=b.indexOf(c))&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e},r.assertThisInitialized=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},r.possibleConstructorReturn=function(a,b){return b&&("object"===typeof b||"function"===typeof b)?b:r.assertThisInitialized(a)},r.superPropBase=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=r.getPrototypeOf(a),null!==a););return a},r.get=n,r.set=p,r.taggedTemplateLiteral=function(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},r.temporalRef=function(a,b){if(a===r.temporalUndefined)throw new ReferenceError(b+" is not defined - temporal dead zone");else return a},r.readOnlyError=function(a){throw new Error("\""+a+"\" is read-only")},r.temporalUndefined={},r.slicedToArray=function(a,b){return r.arrayWithHoles(a)||r.iterableToArrayLimit(a,b)||r.nonIterableRest()},r.toArray=function(a){return r.arrayWithHoles(a)||r.iterableToArray(a)||r.nonIterableRest()},r.toConsumableArray=function(a){return r.arrayWithoutHoles(a)||r.iterableToArray(a)||r.nonIterableSpread()},r.arrayWithoutHoles=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}},r.arrayWithHoles=function(a){if(Array.isArray(a))return a},r.iterableToArray=q,r.iterableToArrayLimit=function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c},r.nonIterableSpread=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},r.nonIterableRest=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.toPropertyKey=function(a){var b=r.toPrimitive(a,"string");return"symbol"===typeof b?b:b+""}})("undefined"===typeof global?self:global);</script><script>(function(){'use strict';const userPolymer=window.Polymer;/**
   * @namespace Polymer
   * @summary Polymer is a lightweight library built on top of the web
   *   standards-based Web Components API's, and makes it easy to build your
   *   own custom HTML elements.
   * @param {!PolymerInit} info Prototype for the custom element. It must contain
   *   an `is` property to specify the element name. Other properties populate
   *   the element prototype. The `properties`, `observers`, `hostAttributes`,
   *   and `listeners` properties are processed to create element features.
   * @return {!Object} Returns a custom element class for the given provided
   *   prototype `info` object. The name of the element if given by `info.is`.
   */window.Polymer=function(info){return window.Polymer._polymerFn(info)};// support user settings on the Polymer object
if(userPolymer){Object.assign(Polymer,userPolymer)}// To be plugged by legacy implementation if loaded
/* eslint-disable valid-jsdoc */ /**
   * @param {!PolymerInit} info Prototype for the custom element. It must contain
   *   an `is` property to specify the element name. Other properties populate
   *   the element prototype. The `properties`, `observers`, `hostAttributes`,
   *   and `listeners` properties are processed to create element features.
   * @return {!Object} Returns a custom element class for the given provided
   *   prototype `info` object. The name of the element if given by `info.is`.
   */window.Polymer._polymerFn=function(info){// eslint-disable-line no-unused-vars
throw new Error("Load polymer.html to use the Polymer() function.")};/* eslint-enable */window.Polymer.version="2.7.2";/* eslint-disable no-unused-vars */ /*
  When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]
  We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.
  */window.JSCompiler_renameProperty=function(prop,obj){return prop};/* eslint-enable */})();</script><script>(function(){'use strict';let CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;/**
     * Resolves the given URL against the provided `baseUri'.
     * 
     * Note that this function performs no resolution for URLs that start
     * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose
     * URL resolution, use `window.URL`.
     *
     * @memberof Polymer.ResolveUrl
     * @param {string} url Input URL to resolve
     * @param {?string=} baseURI Base URI to resolve the URL against
     * @return {string} resolved URL
     */function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}// Lazy feature detection.
if(workingURL===void 0){workingURL=/* eat */!1;try{const u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href}catch(e){// silently fail
}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}// Fallback to creating an anchor into a disconnected document.
if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument("temp");resolveDoc.base=resolveDoc.createElement("base");resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement("a");resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}/**
     * Resolves any relative URL's in the given CSS text against the provided
     * `ownerDocument`'s `baseURI`.
     *
     * @memberof Polymer.ResolveUrl
     * @param {string} cssText CSS text to process
     * @param {string} baseURI Base URI to resolve the URL against
     * @return {string} Processed CSS text with resolved URL's
     */function resolveCss(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})}/**
     * Returns a path from a given `url`. The path includes the trailing
     * `/` from the url.
     *
     * @memberof Polymer.ResolveUrl
     * @param {string} url Input URL to transform
     * @return {string} resolved path
     */function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}/**
     * Module with utilities for resolving relative URL's.
     *
     * @namespace
     * @memberof Polymer
     * @summary Module with utilities for resolving relative URL's.
     */Polymer.ResolveUrl={resolveCss:resolveCss,resolveUrl:resolveUrl,pathFromUrl:pathFromUrl}})();</script><script>/** @suppress {deprecated} */(function(){'use strict';/**
   * Sets the global, legacy settings.
   *
   * @deprecated
   * @namespace
   * @memberof Polymer
   */Polymer.Settings=Polymer.Settings||{};Polymer.Settings.useShadow=!window.ShadyDOM;Polymer.Settings.useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss);Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;/**
   * Globally settable property that is automatically assigned to
   * `Polymer.ElementMixin` instances, useful for binding in templates to
   * make URL's relative to an application's root.  Defaults to the main
   * document URL, but can be overridden by users.  It may be useful to set
   * `Polymer.rootPath` to provide a stable application mount path when
   * using client side routing.
   *
   * @memberof Polymer
   */Polymer.rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);/**
   * Sets the global rootPath property used by `Polymer.ElementMixin` and
   * available via `Polymer.rootPath`.
   *
   * @memberof Polymer
   * @param {string} path The new root path
   * @return {void}
   */Polymer.setRootPath=function(path){Polymer.rootPath=path};/**
   * A global callback used to sanitize any value before inserting it into the DOM. The callback signature is:
   *
   *     Polymer = {
   *       sanitizeDOMValue: function(value, name, type, node) { ... }
   *     }
   *
   * Where:
   *
   * `value` is the value to sanitize.
   * `name` is the name of an attribute or property (for example, href).
   * `type` indicates where the value is being inserted: one of property, attribute, or text.
   * `node` is the node where the value is being inserted.
   *
   * @type {(function(*,string,string,Node):*)|undefined}
   * @memberof Polymer
   */Polymer.sanitizeDOMValue=Polymer.sanitizeDOMValue||null;/**
   * Sets the global sanitizeDOMValue available via `Polymer.sanitizeDOMValue`.
   *
   * @memberof Polymer
   * @param {(function(*,string,string,Node):*)|undefined} newSanitizeDOMValue the global sanitizeDOMValue callback
   * @return {void}
   */Polymer.setSanitizeDOMValue=function(newSanitizeDOMValue){Polymer.sanitizeDOMValue=newSanitizeDOMValue};/**
   * Globally settable property to make Polymer Gestures use passive TouchEvent listeners when recognizing gestures.
   * When set to `true`, gestures made from touch will not be able to prevent scrolling, allowing for smoother
   * scrolling performance.
   * Defaults to `false` for backwards compatibility.
   *
   * @memberof Polymer
   */Polymer.passiveTouchGestures=Polymer.passiveTouchGestures||/* eat */!1;/**
   * Sets `passiveTouchGestures` globally for all elements using Polymer Gestures.
   *
   * @memberof Polymer
   * @param {boolean} usePassive enable or disable passive touch gestures globally
   * @return {void}
   */Polymer.setPassiveTouchGestures=function(usePassive){Polymer.passiveTouchGestures=usePassive};Polymer.legacyOptimizations=Polymer.legacyOptimizations||window.PolymerSettings&&window.PolymerSettings.legacyOptimizations||!1;/**
   * Sets `legacyOptimizations` globally for all elements. Enables
   * optimizations when only legacy Polymer() style elements are used.
   *
   * @memberof Polymer
   * @param {boolean} useLegacyOptimizations enable or disable legacy optimizations globally.
   * @return {void}
   */Polymer.setLegacyOptimizations=function(useLegacyOptimizations){Polymer.legacyOptimizations=useLegacyOptimizations}})();</script><script>(function(){'use strict';// unique global id for deduping mixins.
let dedupeId=0;/**
   * @constructor
   * @extends {Function}
   * @private
   */function MixinFunction(){}/** @type {(WeakMap | undefined)} */MixinFunction.prototype.__mixinApplications;/** @type {(Object | undefined)} */MixinFunction.prototype.__mixinSet;/* eslint-disable valid-jsdoc */ /**
   * Wraps an ES6 class expression mixin such that the mixin is only applied
   * if it has not already been applied its base argument. Also memoizes mixin
   * applications.
   *
   * @memberof Polymer
   * @template T
   * @param {T} mixin ES6 class expression mixin to wrap
   * @return {T}
   * @suppress {invalidCasts}
   */Polymer.dedupingMixin=function(mixin){let mixinApplications=/** @type {!MixinFunction} */mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;/** @type {!MixinFunction} */mixin.__mixinApplications=mixinApplications}// maintain a unique id for each mixin
let mixinDedupeId=dedupeId++;function dedupingMixin(base){let baseSet=/** @type {!MixinFunction} */base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=/** @type {!Function} */mixin(base);map.set(base,extended)}// copy inherited mixin set from the extended class, or the base class
// NOTE: we avoid use of Set here because some browser (IE11)
// cannot extend a base Set via the constructor.
let mixinSet=Object.create(/** @type {!MixinFunction} */extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;/** @type {!MixinFunction} */extended.__mixinSet=mixinSet;return extended}return(/** @type {T} */dedupingMixin)};/* eslint-enable valid-jsdoc */})();</script><script>(function(){'use strict';const MODULE_STYLE_LINK_SELECTOR="link[rel=import][type~=css]",INCLUDE_ATTR="include",SHADY_UNSCOPED_ATTR="shady-unscoped";function importModule(moduleId){const/** Polymer.DomModule */PolymerDomModule=customElements.get("dom-module");if(!PolymerDomModule){return null}return PolymerDomModule.import(moduleId)}function styleForImport(importDoc){// NOTE: polyfill affordance.
// under the HTMLImports polyfill, there will be no 'body',
// but the import pseudo-doc can be used directly.
let container=importDoc.body?importDoc.body:importDoc;const importCss=Polymer.ResolveUrl.resolveCss(container.textContent,importDoc.baseURI),style=document.createElement("style");style.textContent=importCss;return style}/** @typedef {{assetpath: string}} */let templateWithAssetPath;// eslint-disable-line no-unused-vars
/**
   * Module with utilities for collection CSS text from `<templates>`, external
   * stylesheets, and `dom-module`s.
   *
   * @namespace
   * @memberof Polymer
   * @summary Module with utilities for collection CSS text from various sources.
   */const StyleGather={/**
     * Returns a list of <style> elements in a space-separated list of `dom-module`s.
     *
     * @memberof Polymer.StyleGather
     * @param {string} moduleIds List of dom-module id's within which to
     * search for css.
     * @return {!Array<!HTMLStyleElement>} Array of contained <style> elements
     * @this {StyleGather}
     */stylesFromModules(moduleIds){const modules=moduleIds.trim().split(/\s+/),styles=[];for(let i=0;i<modules.length;i++){styles.push(...this.stylesFromModule(modules[i]))}return styles},/**
     * Returns a list of <style> elements in a given `dom-module`.
     * Styles in a `dom-module` can come either from `<style>`s within the
     * first `<template>`, or else from one or more
     * `<link rel="import" type="css">` links outside the template.
     *
     * @memberof Polymer.StyleGather
     * @param {string} moduleId dom-module id to gather styles from
     * @return {!Array<!HTMLStyleElement>} Array of contained styles.
     * @this {StyleGather}
     */stylesFromModule(moduleId){const m=importModule(moduleId);if(!m){console.warn("Could not find style data in module named",moduleId);return[]}if(m._styles===void 0){const styles=[...this._stylesFromModuleImports(m)],template=m.querySelector("template");// module imports: <link rel="import" type="css">
if(template){styles.push(...this.stylesFromTemplate(template,/** @type {templateWithAssetPath} */m.assetpath))}m._styles=styles}return m._styles},/**
     * Returns the `<style>` elements within a given template.
     *
     * @memberof Polymer.StyleGather
     * @param {!HTMLTemplateElement} template Template to gather styles from
     * @param {string} baseURI baseURI for style content
     * @return {!Array<!HTMLStyleElement>} Array of styles
     * @this {StyleGather}
     */stylesFromTemplate(template,baseURI){if(!template._styles){const styles=[],e$=template.content.querySelectorAll("style");// if element is a template, get content from its .content
for(let i=0;i<e$.length;i++){let e=e$[i],include=e.getAttribute(INCLUDE_ATTR);// support style sharing by allowing styles to "include"
// other dom-modules that contain styling
if(include){styles.push(...this.stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index}))}if(baseURI){e.textContent=Polymer.ResolveUrl.resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles},/**
     * Returns a list of <style> elements  from stylesheets loaded via `<link rel="import" type="css">` links within the specified `dom-module`.
     *
     * @memberof Polymer.StyleGather
     * @param {string} moduleId Id of `dom-module` to gather CSS from
     * @return {!Array<!HTMLStyleElement>} Array of contained styles.
     * @this {StyleGather}
     */stylesFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._stylesFromModuleImports(m):[]},/**
     * @memberof Polymer.StyleGather
     * @this {StyleGather}
     * @param {!HTMLElement} module dom-module element that could contain `<link rel="import" type="css">` styles
     * @return {!Array<!HTMLStyleElement>} Array of contained styles
     */_stylesFromModuleImports(module){const styles=[],p$=module.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);for(let i=0,p;i<p$.length;i++){p=p$[i];if(p.import){const importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){const style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,"");importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles},/**
     *
     * Returns CSS text of styles in a space-separated list of `dom-module`s.
     * Note: This method is deprecated, use `stylesFromModules` instead.
     *
     * @deprecated
     * @memberof Polymer.StyleGather
     * @param {string} moduleIds List of dom-module id's within which to
     * search for css.
     * @return {string} Concatenated CSS content from specified `dom-module`s
     * @this {StyleGather}
     */cssFromModules(moduleIds){let modules=moduleIds.trim().split(/\s+/),cssText="";for(let i=0;i<modules.length;i++){cssText+=this.cssFromModule(modules[i])}return cssText},/**
     * Returns CSS text of styles in a given `dom-module`.  CSS in a `dom-module`
     * can come either from `<style>`s within the first `<template>`, or else
     * from one or more `<link rel="import" type="css">` links outside the
     * template.
     *
     * Any `<styles>` processed are removed from their original location.
     * Note: This method is deprecated, use `styleFromModule` instead.
     *
     * @deprecated
     * @memberof Polymer.StyleGather
     * @param {string} moduleId dom-module id to gather styles from
     * @return {string} Concatenated CSS content from specified `dom-module`
     * @this {StyleGather}
     */cssFromModule(moduleId){let m=importModule(moduleId);if(m&&m._cssText===void 0){// module imports: <link rel="import" type="css">
let cssText=this._cssFromModuleImports(m),t=m.querySelector("template");// include css from the first template in the module
if(t){cssText+=this.cssFromTemplate(t,/** @type {templateWithAssetPath} */m.assetpath)}m._cssText=cssText||null}if(!m){console.warn("Could not find style data in module named",moduleId)}return m&&m._cssText||""},/**
     * Returns CSS text of `<styles>` within a given template.
     *
     * Any `<styles>` processed are removed from their original location.
     * Note: This method is deprecated, use `styleFromTemplate` instead.
     *
     * @deprecated
     * @memberof Polymer.StyleGather
     * @param {!HTMLTemplateElement} template Template to gather styles from
     * @param {string} baseURI Base URI to resolve the URL against
     * @return {string} Concatenated CSS content from specified template
     * @this {StyleGather}
     */cssFromTemplate(template,baseURI){let cssText="";const e$=this.stylesFromTemplate(template,baseURI);// if element is a template, get content from its .content
for(let i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText},/**
     * Returns CSS text from stylesheets loaded via `<link rel="import" type="css">`
     * links within the specified `dom-module`.
     *
     * Note: This method is deprecated, use `stylesFromModuleImports` instead.
     *
     * @deprecated
     *
     * @memberof Polymer.StyleGather
     * @param {string} moduleId Id of `dom-module` to gather CSS from
     * @return {string} Concatenated CSS content from links in specified `dom-module`
     * @this {StyleGather}
     */cssFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._cssFromModuleImports(m):""},/**
     * @deprecated
     * @memberof Polymer.StyleGather
     * @this {StyleGather}
     * @param {!HTMLElement} module dom-module element that could contain `<link rel="import" type="css">` styles
     * @return {string} Concatenated CSS content from links in the dom-module
     */_cssFromModuleImports(module){let cssText="",styles=this._stylesFromModuleImports(module);for(let i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}};Polymer.StyleGather=StyleGather})();</script><script>(function(){'use strict';let modules={},lcModules={};function setModule(id,module){// store id separate from lowercased id so that
// in all cases mixedCase id will stored distinctly
// and lowercase version is a fallback
modules[id]=lcModules[id.toLowerCase()]=module}function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector("style")){console.warn("dom-module %s has style outside template",inst.id)}}/**
   * The `dom-module` element registers the dom it contains to the name given
   * by the module's id attribute. It provides a unified database of dom
   * accessible via its static `import` API.
   *
   * A key use case of `dom-module` is for providing custom element `<template>`s
   * via HTML imports that are parsed by the native HTML parser, that can be
   * relocated during a bundling pass and still looked up by `id`.
   *
   * Example:
   *
   *     <dom-module id="foo">
   *       <img src="stuff.png">
   *     </dom-module>
   *
   * Then in code in some other location that cannot access the dom-module above
   *
   *     let img = customElements.get('dom-module').import('foo', 'img');
   *
   * @customElement
   * @extends HTMLElement
   * @memberof Polymer
   * @summary Custom element that provides a registry of relocatable DOM content
   *   by `id` that is agnostic to bundling.
   * @unrestricted
   */class DomModule extends HTMLElement{static get observedAttributes(){return["id"]}/**
     * Retrieves the element specified by the css `selector` in the module
     * registered by `id`. For example, this.import('foo', 'img');
     * @param {string} id The id of the dom-module in which to search.
     * @param {string=} selector The css selector by which to find the element.
     * @return {Element} Returns the element which matches `selector` in the
     * module registered at the specified `id`.
     */static import(id,selector){if(id){let m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}/* eslint-disable no-unused-vars */ /**
     * @param {string} name Name of attribute.
     * @param {?string} old Old value of attribute.
     * @param {?string} value Current value of attribute.
     * @param {?string} namespace Attribute namespace.
     * @return {void}
     */attributeChangedCallback(name,old,value,namespace){if(old!==value){this.register()}}/* eslint-enable no-unused-args */ /**
     * The absolute URL of the original location of this `dom-module`.
     *
     * This value will differ from this element's `ownerDocument` in the
     * following ways:
     * - Takes into account any `assetpath` attribute added during bundling
     *   to indicate the original location relative to the bundled location
     * - Uses the HTMLImports polyfill's `importForElement` API to ensure
     *   the path is relative to the import document's location since
     *   `ownerDocument` is not currently polyfilled
     */get assetpath(){// Don't override existing assetpath.
if(!this.__assetpath){// note: assetpath set via an attribute must be relative to this
// element's location; accomodate polyfilled HTMLImports
const owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=Polymer.ResolveUrl.resolveUrl(this.getAttribute("assetpath")||"",owner.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(url)}return this.__assetpath}/**
     * Registers the dom-module at a given id. This method should only be called
     * when a dom-module is imperatively created. For
     * example, `document.createElement('dom-module').register('foo')`.
     * @param {string=} id The id at which to register the dom-module.
     * @return {void}
     */register(id){id=id||this.id;if(id){// Under strictTemplatePolicy, reject and null out any re-registered
// dom-module since it is ambiguous whether first-in or last-in is trusted 
if(Polymer.strictTemplatePolicy&&findModule(id)!==void 0){setModule(id,null);throw new Error(`strictTemplatePolicy: dom-module ${id} re-registered`)}this.id=id;setModule(id,this);styleOutsideTemplateCheck(this)}}}DomModule.prototype.modules=modules;customElements.define("dom-module",DomModule);/** @const */Polymer.DomModule=DomModule})();</script><script>(function(){'use strict';/**
   * Module with utilities for manipulating structured data path strings.
   *
   * @namespace
   * @memberof Polymer
   * @summary Module with utilities for manipulating structured data path strings.
   */const Path={/**
     * Returns true if the given string is a structured data path (has dots).
     *
     * Example:
     *
     * ```
     * Polymer.Path.isPath('foo.bar.baz') // true
     * Polymer.Path.isPath('foo')         // false
     * ```
     *
     * @memberof Polymer.Path
     * @param {string} path Path string
     * @return {boolean} True if the string contained one or more dots
     */isPath:function(path){return 0<=path.indexOf(".")},/**
     * Returns the root property name for the given path.
     *
     * Example:
     *
     * ```
     * Polymer.Path.root('foo.bar.baz') // 'foo'
     * Polymer.Path.root('foo')         // 'foo'
     * ```
     *
     * @memberof Polymer.Path
     * @param {string} path Path string
     * @return {string} Root property name
     */root:function(path){let dotIndex=path.indexOf(".");if(-1===dotIndex){return path}return path.slice(0,dotIndex)},/**
     * Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not
     * Returns true if the given path is an ancestor of the base path.
     *
     * Example:
     *
     * ```
     * Polymer.Path.isAncestor('foo.bar', 'foo')         // true
     * Polymer.Path.isAncestor('foo.bar', 'foo.bar')     // false
     * Polymer.Path.isAncestor('foo.bar', 'foo.bar.baz') // false
     * ```
     *
     * @memberof Polymer.Path
     * @param {string} base Path string to test against.
     * @param {string} path Path string to test.
     * @return {boolean} True if `path` is an ancestor of `base`.
     */isAncestor:function(base,path){//     base.startsWith(path + '.');
return 0===base.indexOf(path+".")},/**
     * Given `base` is `foo.bar`, `foo.bar.baz` is an descendant
     *
     * Example:
     *
     * ```
     * Polymer.Path.isDescendant('foo.bar', 'foo.bar.baz') // true
     * Polymer.Path.isDescendant('foo.bar', 'foo.bar')     // false
     * Polymer.Path.isDescendant('foo.bar', 'foo')         // false
     * ```
     *
     * @memberof Polymer.Path
     * @param {string} base Path string to test against.
     * @param {string} path Path string to test.
     * @return {boolean} True if `path` is a descendant of `base`.
     */isDescendant:function(base,path){//     path.startsWith(base + '.');
return 0===path.indexOf(base+".")},/**
     * Replaces a previous base path with a new base path, preserving the
     * remainder of the path.
     *
     * User must ensure `path` has a prefix of `base`.
     *
     * Example:
     *
     * ```
     * Polymer.Path.translate('foo.bar', 'zot', 'foo.bar.baz') // 'zot.baz'
     * ```
     *
     * @memberof Polymer.Path
     * @param {string} base Current base string to remove
     * @param {string} newBase New base string to replace with
     * @param {string} path Path to translate
     * @return {string} Translated string
     */translate:function(base,newBase,path){return newBase+path.slice(base.length)},/**
     * @param {string} base Path string to test against
     * @param {string} path Path string to test
     * @return {boolean} True if `path` is equal to `base`
     * @this {Path}
     */matches:function(base,path){return base===path||this.isAncestor(base,path)||this.isDescendant(base,path)},/**
     * Converts array-based paths to flattened path.  String-based paths
     * are returned as-is.
     *
     * Example:
     *
     * ```
     * Polymer.Path.normalize(['foo.bar', 0, 'baz'])  // 'foo.bar.0.baz'
     * Polymer.Path.normalize('foo.bar.0.baz')        // 'foo.bar.0.baz'
     * ```
     *
     * @memberof Polymer.Path
     * @param {string | !Array<string|number>} path Input path
     * @return {string} Flattened path
     */normalize:function(path){if(Array.isArray(path)){let parts=[];for(let i=0,args;i<path.length;i++){args=path[i].toString().split(".");for(let j=0;j<args.length;j++){parts.push(args[j])}}return parts.join(".")}else{return path}},/**
     * Splits a path into an array of property names. Accepts either arrays
     * of path parts or strings.
     *
     * Example:
     *
     * ```
     * Polymer.Path.split(['foo.bar', 0, 'baz'])  // ['foo', 'bar', '0', 'baz']
     * Polymer.Path.split('foo.bar.0.baz')        // ['foo', 'bar', '0', 'baz']
     * ```
     *
     * @memberof Polymer.Path
     * @param {string | !Array<string|number>} path Input path
     * @return {!Array<string>} Array of path parts
     * @this {Path}
     * @suppress {checkTypes}
     */split:function(path){if(Array.isArray(path)){return this.normalize(path).split(".")}return path.toString().split(".")},/**
     * Reads a value from a path.  If any sub-property in the path is `undefined`,
     * this method returns `undefined` (will never throw.
     *
     * @memberof Polymer.Path
     * @param {Object} root Object from which to dereference path from
     * @param {string | !Array<string|number>} path Path to read
     * @param {Object=} info If an object is provided to `info`, the normalized
     *  (flattened) path will be set to `info.path`.
     * @return {*} Value at path, or `undefined` if the path could not be
     *  fully dereferenced.
     * @this {Path}
     */get:function(root,path,info){let prop=root,parts=this.split(path);// Loop over path parts[0..n-1] and dereference
for(let i=0;i<parts.length;i++){if(!prop){return}let part=parts[i];prop=prop[part]}if(info){info.path=parts.join(".")}return prop},/**
     * Sets a value to a path.  If any sub-property in the path is `undefined`,
     * this method will no-op.
     *
     * @memberof Polymer.Path
     * @param {Object} root Object from which to dereference path from
     * @param {string | !Array<string|number>} path Path to set
     * @param {*} value Value to set to path
     * @return {string | undefined} The normalized version of the input path
     * @this {Path}
     */set:function(root,path,value){let prop=root,parts=this.split(path),last=parts[parts.length-1];if(1<parts.length){// Loop over path parts[0..n-2] and dereference
for(let i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}// Set value to object at end of path
prop[last]=value}else{// Simple property set
prop[path]=value}return parts.join(".")}};/**
   * Returns true if the given string is a structured data path (has dots).
   *
   * This function is deprecated.  Use `Polymer.Path.isPath` instead.
   *
   * Example:
   *
   * ```
   * Polymer.Path.isDeep('foo.bar.baz') // true
   * Polymer.Path.isDeep('foo')         // false
   * ```
   *
   * @deprecated
   * @memberof Polymer.Path
   * @param {string} path Path string
   * @return {boolean} True if the string contained one or more dots
   */Path.isDeep=Path.isPath;Polymer.Path=Path})();</script><script>(function(){'use strict';const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g,CaseMap={/**
     * Converts "dash-case" identifier (e.g. `foo-bar-baz`) to "camelCase"
     * (e.g. `fooBarBaz`).
     *
     * @memberof Polymer.CaseMap
     * @param {string} dash Dash-case identifier
     * @return {string} Camel-case representation of the identifier
     */dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))},/**
     * Converts "camelCase" identifier (e.g. `fooBarBaz`) to "dash-case"
     * (e.g. `foo-bar-baz`).
     *
     * @memberof Polymer.CaseMap
     * @param {string} camel Camel-case identifier
     * @return {string} Dash-case representation of the identifier
     */camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}};Polymer.CaseMap=CaseMap})();</script><script>(function(){'use strict';// Microtask implemented using Mutation Observer
let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(microtaskFlush).observe(microtaskNode,{characterData:!0});function microtaskFlush(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}/**
   * Module that provides a number of strategies for enqueuing asynchronous
   * tasks.  Each sub-module provides a standard `run(fn)` interface that returns a
   * handle, and a `cancel(handle)` interface for canceling async tasks before
   * they run.
   *
   * @namespace
   * @memberof Polymer
   * @summary Module that provides a number of strategies for enqueuing asynchronous
   * tasks.
   */Polymer.Async={/**
     * Async interface wrapper around `setTimeout`.
     *
     * @namespace
     * @memberof Polymer.Async
     * @summary Async interface wrapper around `setTimeout`.
     */timeOut:{/**
       * Returns a sub-module with the async interface providing the provided
       * delay.
       *
       * @memberof Polymer.Async.timeOut
       * @param {number=} delay Time to wait before calling callbacks in ms
       * @return {!AsyncInterface} An async timeout interface
       */after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},/**
       * Enqueues a function called in the next task.
       *
       * @memberof Polymer.Async.timeOut
       * @param {!Function} fn Callback to run
       * @param {number=} delay Delay in milliseconds
       * @return {number} Handle used for canceling task
       */run(fn,delay){return window.setTimeout(fn,delay)},/**
       * Cancels a previously enqueued `timeOut` callback.
       *
       * @memberof Polymer.Async.timeOut
       * @param {number} handle Handle returned from `run` of callback to cancel
       * @return {void}
       */cancel(handle){window.clearTimeout(handle)}},/**
     * Async interface wrapper around `requestAnimationFrame`.
     *
     * @namespace
     * @memberof Polymer.Async
     * @summary Async interface wrapper around `requestAnimationFrame`.
     */animationFrame:{/**
       * Enqueues a function called at `requestAnimationFrame` timing.
       *
       * @memberof Polymer.Async.animationFrame
       * @param {function(number):void} fn Callback to run
       * @return {number} Handle used for canceling task
       */run(fn){return window.requestAnimationFrame(fn)},/**
       * Cancels a previously enqueued `animationFrame` callback.
       *
       * @memberof Polymer.Async.animationFrame
       * @param {number} handle Handle returned from `run` of callback to cancel
       * @return {void}
       */cancel(handle){window.cancelAnimationFrame(handle)}},/**
     * Async interface wrapper around `requestIdleCallback`.  Falls back to
     * `setTimeout` on browsers that do not support `requestIdleCallback`.
     *
     * @namespace
     * @memberof Polymer.Async
     * @summary Async interface wrapper around `requestIdleCallback`.
     */idlePeriod:{/**
       * Enqueues a function called at `requestIdleCallback` timing.
       *
       * @memberof Polymer.Async.idlePeriod
       * @param {function(!IdleDeadline):void} fn Callback to run
       * @return {number} Handle used for canceling task
       */run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},/**
       * Cancels a previously enqueued `idlePeriod` callback.
       *
       * @memberof Polymer.Async.idlePeriod
       * @param {number} handle Handle returned from `run` of callback to cancel
       * @return {void}
       */cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}},/**
     * Async interface for enqueuing callbacks that run at microtask timing.
     *
     * Note that microtask timing is achieved via a single `MutationObserver`,
     * and thus callbacks enqueued with this API will all run in a single
     * batch, and not interleaved with other microtasks such as promises.
     * Promises are avoided as an implementation choice for the time being
     * due to Safari bugs that cause Promises to lack microtask guarantees.
     *
     * @namespace
     * @memberof Polymer.Async
     * @summary Async interface for enqueuing callbacks that run at microtask
     *   timing.
     */microTask:{/**
       * Enqueues a function called at microtask timing.
       *
       * @memberof Polymer.Async.microTask
       * @param {!Function=} callback Callback to run
       * @return {number} Handle used for canceling task
       */run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},/**
       * Cancels a previously enqueued `microTask` callback.
       *
       * @memberof Polymer.Async.microTask
       * @param {number} handle Handle returned from `run` of callback to cancel
       * @return {void}
       */cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}}}})();</script><script>(function(){'use strict';/** @const {!AsyncInterface} */const microtask=Polymer.Async.microTask;/**
     * Element class mixin that provides basic meta-programming for creating one
     * or more property accessors (getter/setter pair) that enqueue an async
     * (batched) `_propertiesChanged` callback.
     *
     * For basic usage of this mixin, call `MyClass.createProperties(props)`
     * once at class definition time to create property accessors for properties
     * named in props, implement `_propertiesChanged` to react as desired to
     * property changes, and implement `static get observedAttributes()` and
     * include lowercase versions of any property names that should be set from
     * attributes. Last, call `this._enableProperties()` in the element's
     * `connectedCallback` to enable the accessors.
     *
     * @mixinFunction
     * @polymer
     * @memberof Polymer
     * @summary Element class mixin for reacting to property changes from
     *   generated property accessors.
     */Polymer.PropertiesChanged=Polymer.dedupingMixin(superClass=>{/**
       * @polymer
       * @mixinClass
       * @extends {superClass}
       * @implements {Polymer_PropertiesChanged}
       * @unrestricted
       */class PropertiesChanged extends superClass{/**
         * Creates property accessors for the given property names.
         * @param {!Object} props Object whose keys are names of accessors.
         * @return {void}
         * @protected
         */static createProperties(props){const proto=this.prototype;for(let prop in props){// don't stomp an existing accessor
if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}/**
         * Returns an attribute name that corresponds to the given property.
         * The attribute name is the lowercased property name. Override to
         * customize this mapping.
         * @param {string} property Property to convert
         * @return {string} Attribute name corresponding to the given property.
         *
         * @protected
         */static attributeNameForProperty(property){return property.toLowerCase()}/**
         * Override point to provide a type to which to deserialize a value to
         * a given property.
         * @param {string} name Name of property
         *
         * @protected
         */static typeForProperty(name){}//eslint-disable-line no-unused-vars
/**
         * Creates a setter/getter pair for the named property with its own
         * local storage.  The getter returns the value in the local storage,
         * and the setter calls `_setProperty`, which updates the local storage
         * for the property and enqueues a `_propertiesChanged` callback.
         *
         * This method may be called on a prototype or an instance.  Calling
         * this method may overwrite a property value that already exists on
         * the prototype/instance by creating the accessor.
         *
         * @param {string} property Name of the property
         * @param {boolean=} readOnly When true, no setter is created; the
         *   protected `_setProperty` function must be used to set the property
         * @return {void}
         * @protected
         */_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}/**
         * Adds the given `property` to a map matching attribute names
         * to property names, using `attributeNameForProperty`. This map is
         * used when deserializing attribute values to properties.
         *
         * @param {string} property Name of the property
         */_addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}/**
         * Defines a property accessor for the given property.
         * @param {string} property Name of the property
         * @param {boolean=} readOnly When true, no setter is created
         * @return {void}
         */_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{/* eslint-disable valid-jsdoc */ /** @this {PropertiesChanged} */get(){return this._getProperty(property)},/** @this {PropertiesChanged} */set:readOnly?function(){}:function(value){this._setProperty(property,value)}/* eslint-enable */})}constructor(){super();this.__dataEnabled=/* eat */!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}/**
         * Lifecycle callback called when properties are enabled via
         * `_enableProperties`.
         *
         * Users may override this function to implement behavior that is
         * dependent on the element having its property data initialized, e.g.
         * from defaults (initialized from `constructor`, `_initializeProperties`),
         * `attributeChangedCallback`, or values propagated from host e.g. via
         * bindings.  `super.ready()` must be called to ensure the data system
         * becomes enabled.
         *
         * @return {void}
         * @public
         */ready(){this.__dataReady=!0;this._flushProperties()}/**
         * Initializes the local storage for property accessors.
         *
         * Provided as an override point for performing any setup work prior
         * to initializing the property accessor system.
         *
         * @return {void}
         * @protected
         */_initializeProperties(){// Capture instance properties; these will be set into accessors
// during first flush. Don't set them here, since we want
// these to overwrite defaults/constructor assignments
for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}/**
         * Called at ready time with bag of instance properties that overwrote
         * accessors when the element upgraded.
         *
         * The default implementation sets these properties back into the
         * setter at ready time.  This method is provided as an override
         * point for customizing or providing more efficient initialization.
         *
         * @param {Object} props Bag of property values that were overwritten
         *   when creating property accessors.
         * @return {void}
         * @protected
         */_initializeInstanceProperties(props){Object.assign(this,props)}/**
         * Updates the local storage for a property (via `_setPendingProperty`)
         * and enqueues a `_proeprtiesChanged` callback.
         *
         * @param {string} property Name of the property
         * @param {*} value Value to set
         * @return {void}
         * @protected
         */_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}/**
         * Returns the value for the given property.
         * @param {string} property Name of property
         * @return {*} Value for the given property
         * @protected
         */_getProperty(property){return this.__data[property]}/* eslint-disable no-unused-vars */ /**
         * Updates the local storage for a property, records the previous value,
         * and adds it to the set of "pending changes" that will be passed to the
         * `_propertiesChanged` callback.  This method does not enqueue the
         * `_propertiesChanged` callback.
         *
         * @param {string} property Name of the property
         * @param {*} value Value to set
         * @param {boolean=} ext Not used here; affordance for closure
         * @return {boolean} Returns true if the property changed
         * @protected
         */_setPendingProperty(property,value,ext){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}// Ensure old is captured from the last turn
if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}/* eslint-enable */ /**
         * Marks the properties as invalid, and enqueues an async
         * `_propertiesChanged` callback.
         *
         * @return {void}
         * @protected
         */_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microtask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}/**
         * Call to enable property accessor processing. Before this method is
         * called accessor values will be set but side effects are
         * queued. When called, any pending side effects occur immediately.
         * For elements, generally `connectedCallback` is a normal spot to do so.
         * It is safe to call this method multiple times as it only turns on
         * property accessors once.
         *
         * @return {void}
         * @protected
         */_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}/**
         * Calls the `_propertiesChanged` callback with the current set of
         * pending changes (and old values recorded when pending changes were
         * set), and resets the pending set of changes. Generally, this method
         * should not be called in user code.
         *
         * @return {void}
         * @protected
         */_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}/**
         * Called in `_flushProperties` to determine if `_propertiesChanged`
         * should be called. The default implementation returns true if
         * properties are pending. Override to customize when
         * `_propertiesChanged` is called.
         * @param {!Object} currentProps Bag of all current accessor values
         * @param {!Object} changedProps Bag of properties changed since the last
         *   call to `_propertiesChanged`
         * @param {!Object} oldProps Bag of previous values for each property
         *   in `changedProps`
         * @return {boolean} true if changedProps is truthy
         */_shouldPropertiesChange(currentProps,changedProps,oldProps){// eslint-disable-line no-unused-vars
return!!changedProps}/**
         * Callback called when any properties with accessors created via
         * `_createPropertyAccessor` have been set.
         *
         * @param {!Object} currentProps Bag of all current accessor values
         * @param {!Object} changedProps Bag of properties changed since the last
         *   call to `_propertiesChanged`
         * @param {!Object} oldProps Bag of previous values for each property
         *   in `changedProps`
         * @return {void}
         * @protected
         */_propertiesChanged(currentProps,changedProps,oldProps){}// eslint-disable-line no-unused-vars
/**
         * Method called to determine whether a property value should be
         * considered as a change and cause the `_propertiesChanged` callback
         * to be enqueued.
         *
         * The default implementation returns `true` if a strict equality
         * check fails. The method always returns false for `NaN`.
         *
         * Override this method to e.g. provide stricter checking for
         * Objects/Arrays when using immutable patterns.
         *
         * @param {string} property Property name
         * @param {*} value New property value
         * @param {*} old Previous property value
         * @return {boolean} Whether the property should be considered a change
         *   and enqueue a `_proeprtiesChanged` callback
         * @protected
         */_shouldPropertyChange(property,value,old){return(// Strict equality check
old!==value&&(// This ensures (old==NaN, value==NaN) always returns false
old===old||value===value))}/**
         * Implements native Custom Elements `attributeChangedCallback` to
         * set an attribute value to a property via `_attributeToProperty`.
         *
         * @param {string} name Name of attribute that changed
         * @param {?string} old Old attribute value
         * @param {?string} value New attribute value
         * @param {?string} namespace Attribute namespace.
         * @return {void}
         * @suppress {missingProperties} Super may or may not implement the callback
         */attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value,namespace)}}/**
         * Deserializes an attribute to its associated property.
         *
         * This method calls the `_deserializeValue` method to convert the string to
         * a typed value.
         *
         * @param {string} attribute Name of attribute to deserialize.
         * @param {?string} value of the attribute.
         * @param {*=} type type to deserialize to, defaults to the value
         * returned from `typeForProperty`
         * @return {void}
         */_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}/**
         * Serializes a property to its associated attribute.
         *
         * @suppress {invalidCasts} Closure can't figure out `this` is an element.
         *
         * @param {string} property Property name to reflect.
         * @param {string=} attribute Attribute name to reflect to.
         * @param {*=} value Property value to refect.
         * @return {void}
         */_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(/** @type {!HTMLElement} */this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}/**
         * Sets a typed value to an HTML attribute on a node.
         *
         * This method calls the `_serializeValue` method to convert the typed
         * value to a string.  If the `_serializeValue` method returns `undefined`,
         * the attribute will be removed (this is the default for boolean
         * type `false`).
         *
         * @param {Element} node Element to set attribute to.
         * @param {*} value Value to serialize.
         * @param {string} attribute Attribute name to serialize to.
         * @return {void}
         */_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}/**
         * Converts a typed JavaScript value to a string.
         *
         * This method is called when setting JS property values to
         * HTML attributes.  Users may override this method to provide
         * serialization for custom types.
         *
         * @param {*} value Property value to serialize.
         * @return {string | undefined} String serialized from the provided
         * property  value.
         */_serializeValue(value){switch(typeof value){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}/**
         * Converts a string to a typed JavaScript value.
         *
         * This method is called when reading HTML attribute values to
         * JS properties.  Users may override this method to provide
         * deserialization for custom `type`s. Types for `Boolean`, `String`,
         * and `Number` convert attributes to the expected types.
         *
         * @param {?string} value Value to deserialize.
         * @param {*=} type Type to deserialize the string to.
         * @return {*} Typed value deserialized from the provided string.
         */_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}return PropertiesChanged})})();</script><script>(function(){'use strict';let caseMap=Polymer.CaseMap;// Save map of native properties; this forms a blacklist or properties
// that won't have their values "saved" by `saveAccessorValue`, since
// reading from an HTMLElement accessor from the context of a prototype throws
const nativeProperties={};let proto=HTMLElement.prototype;while(proto){let props=Object.getOwnPropertyNames(proto);for(let i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}/**
   * Used to save the value of a property that will be overridden with
   * an accessor. If the `model` is a prototype, the values will be saved
   * in `__dataProto`, and it's up to the user (or downstream mixin) to
   * decide how/when to set these values back into the accessors.
   * If `model` is already an instance (it has a `__data` property), then
   * the value will be set as a pending property, meaning the user should
   * call `_invalidateProperties` or `_flushProperties` to take effect
   *
   * @param {Object} model Prototype or instance
   * @param {string} property Name of property
   * @return {void}
   * @private
   */function saveAccessorValue(model,property){// Don't read/store value for any native properties since they could throw
if(!nativeProperties[property]){let value=model[property];if(value!==void 0){if(model.__data){// Adding accessor to instance; update the property
// It is the user's responsibility to call _flushProperties
model._setPendingProperty(property,value)}else{// Adding accessor to proto; save proto's value for instance-time use
if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty("__dataProto",model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}/**
   * Element class mixin that provides basic meta-programming for creating one
   * or more property accessors (getter/setter pair) that enqueue an async
   * (batched) `_propertiesChanged` callback.
   *
   * For basic usage of this mixin:
   * 
   * -   Declare attributes to observe via the standard `static get observedAttributes()`. Use
   *     `dash-case` attribute names to represent `camelCase` property names. 
   * -   Implement the `_propertiesChanged` callback on the class.
   * -   Call `MyClass.createPropertiesForAttributes()` **once** on the class to generate 
   *     property accessors for each observed attribute. This must be called before the first 
   *     instance is created, for example, by calling it before calling `customElements.define`.
   *     It can also be called lazily from the element's `constructor`, as long as it's guarded so
   *     that the call is only made once, when the first instance is created.
   * -   Call `this._enableProperties()` in the element's `connectedCallback` to enable 
   *     the accessors.
   *
   * Any `observedAttributes` will automatically be
   * deserialized via `attributeChangedCallback` and set to the associated
   * property using `dash-case`-to-`camelCase` convention.
   *
   * @mixinFunction
   * @polymer
   * @appliesMixin Polymer.PropertiesChanged
   * @memberof Polymer
   * @summary Element class mixin for reacting to property changes from
   *   generated property accessors.
   */Polymer.PropertyAccessors=Polymer.dedupingMixin(superClass=>{/**
     * @constructor
     * @extends {superClass}
     * @implements {Polymer_PropertiesChanged}
     * @unrestricted
     * @private
     */const base=Polymer.PropertiesChanged(superClass);/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_PropertyAccessors}
     * @extends {base}
     * @unrestricted
     */class PropertyAccessors extends base{/**
       * Generates property accessors for all attributes in the standard
       * static `observedAttributes` array.
       *
       * Attribute names are mapped to property names using the `dash-case` to
       * `camelCase` convention
       *
       * @return {void}
       */static createPropertiesForAttributes(){let a$=this.observedAttributes;for(let i=0;i<a$.length;i++){this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[i]))}}/**
       * Returns an attribute name that corresponds to the given property.
       * By default, converts camel to dash case, e.g. `fooBar` to `foo-bar`.
       * @param {string} property Property to convert
       * @return {string} Attribute name corresponding to the given property.
       *
       * @protected
       */static attributeNameForProperty(property){return caseMap.camelToDashCase(property)}/**
       * Overrides PropertiesChanged implementation to initialize values for
       * accessors created for values that already existed on the element
       * prototype.
       *
       * @return {void}
       * @protected
       */_initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}super._initializeProperties()}/**
       * Called at instance time with bag of properties that were overwritten
       * by accessors on the prototype when accessors were created.
       *
       * The default implementation sets these properties back into the
       * setter at instance time.  This method is provided as an override
       * point for customizing or providing more efficient initialization.
       *
       * @param {Object} props Bag of property values that were overwritten
       *   when creating property accessors.
       * @return {void}
       * @protected
       */_initializeProtoProperties(props){for(let p in props){this._setProperty(p,props[p])}}/**
       * Ensures the element has the given attribute. If it does not,
       * assigns the given value to the attribute.
       *
       * @suppress {invalidCasts} Closure can't figure out `this` is infact an element
       *
       * @param {string} attribute Name of attribute to ensure is set.
       * @param {string} value of the attribute.
       * @return {void}
       */_ensureAttribute(attribute,value){const el=/** @type {!HTMLElement} */this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}/**
       * Overrides PropertiesChanged implemention to serialize objects as JSON.
       *
       * @param {*} value Property value to serialize.
       * @return {string | undefined} String serialized from the provided property value.
       */_serializeValue(value){/* eslint-disable no-fallthrough */switch(typeof value){case"object":if(value instanceof Date){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return""}}default:return super._serializeValue(value);}}/**
       * Converts a string to a typed JavaScript value.
       *
       * This method is called by Polymer when reading HTML attribute values to
       * JS properties.  Users may override this method on Polymer element
       * prototypes to provide deserialization for custom `type`s.  Note,
       * the `type` argument is the value of the `type` field provided in the
       * `properties` configuration object for a given property, and is
       * by convention the constructor for the type to deserialize.
       *
       *
       * @param {?string} value Attribute value to deserialize.
       * @param {*=} type Type to deserialize the string to.
       * @return {*} Typed value deserialized from the provided string.
       */_deserializeValue(value,type){/**
         * @type {*}
         */let outValue;switch(type){case Object:try{outValue=JSON.parse(/** @type {string} */value)}catch(x){// allow non-JSON literals like Strings and Numbers
outValue=value}break;case Array:try{outValue=JSON.parse(/** @type {string} */value)}catch(x){outValue=null;console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`)}break;case Date:outValue=isNaN(value)?value+"":+value;outValue=new Date(outValue);break;default:outValue=super._deserializeValue(value,type);break;}return outValue}/* eslint-enable no-fallthrough */ /**
       * Overrides PropertiesChanged implementation to save existing prototype
       * property value so that it can be reset.
       * @param {string} property Name of the property
       * @param {boolean=} readOnly When true, no setter is created
       *
       * When calling on a prototype, any overwritten values are saved in
       * `__dataProto`, and it is up to the subclasser to decide how/when
       * to set those properties back into the accessor.  When calling on an
       * instance, the overwritten value is set via `_setPendingProperty`,
       * and the user should call `_invalidateProperties` or `_flushProperties`
       * for the values to take effect.
       * @protected
       * @return {void}
       */_definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);super._definePropertyAccessor(property,readOnly)}/**
       * Returns true if this library created an accessor for the given property.
       *
       * @param {string} property Property name
       * @return {boolean} True if an accessor was created
       */_hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}/**
       * Returns true if the specified property has a pending change.
       *
       * @param {string} prop Property name
       * @return {boolean} True if property has a pending change
       * @protected
       */_isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}return PropertyAccessors})})();</script><script>(function(){'use strict';const walker=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,/* eat */!1),templateExtensions={"dom-if":!0,"dom-repeat":!0};// 1.x backwards-compatible auto-wrapper for template type extensions
// This is a clear layering violation and gives favored-nation status to
// dom-if and dom-repeat templates.  This is a conceit we're choosing to keep
// a.) to ease 1.x backwards-compatibility due to loss of `is`, and
// b.) to maintain if/repeat capability in parser-constrained elements
//     (e.g. table, select) in lieu of native CE type extensions without
//     massive new invention in this space (e.g. directive system)
function wrapTemplateExtension(node){let is=node.getAttribute("is");if(is&&templateExtensions[is]){let t=node;t.removeAttribute("is");node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){// recursively ascend tree until we hit root
let parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);// unwind the stack, returning the indexed node at each level
if(parent){// note: marginally faster than indexing via childNodes
// (http://jsperf.com/childnodes-lookup)
walker.currentNode=parent;for(let n=walker.firstChild(),i=0;n;n=walker.nextSibling()){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}// construct `$` map (from id annotations)
function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}// install event listeners (from event annotations)
function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(let j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}// push configuration references at configure time
function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){// Instances can optionally have a _methodHost which allows redirecting where
// to find methods. Currently used by `templatize`.
context=context._methodHost||context;let handler=function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn("listener method `"+methodName+"` not defined")}};return handler}/**
   * Element mixin that provides basic template parsing and stamping, including
   * the following template-related features for stamped templates:
   *
   * - Declarative event listeners (`on-eventname="listener"`)
   * - Map of node id's to stamped node instances (`this.$.id`)
   * - Nested template content caching/removal and re-installation (performance
   *   optimization)
   *
   * @mixinFunction
   * @polymer
   * @memberof Polymer
   * @summary Element class mixin that provides basic template parsing and stamping
   */Polymer.TemplateStamp=Polymer.dedupingMixin(superClass=>{/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_TemplateStamp}
     */class TemplateStamp extends superClass{/**
       * Scans a template to produce template metadata.
       *
       * Template-specific metadata are stored in the object returned, and node-
       * specific metadata are stored in objects in its flattened `nodeInfoList`
       * array.  Only nodes in the template that were parsed as nodes of
       * interest contain an object in `nodeInfoList`.  Each `nodeInfo` object
       * contains an `index` (`childNodes` index in parent) and optionally
       * `parent`, which points to node info of its parent (including its index).
       *
       * The template metadata object returned from this method has the following
       * structure (many fields optional):
       *
       * ```js
       *   {
       *     // Flattened list of node metadata (for nodes that generated metadata)
       *     nodeInfoList: [
       *       {
       *         // `id` attribute for any nodes with id's for generating `$` map
       *         id: {string},
       *         // `on-event="handler"` metadata
       *         events: [
       *           {
       *             name: {string},   // event name
       *             value: {string},  // handler method name
       *           }, ...
       *         ],
       *         // Notes when the template contained a `<slot>` for shady DOM
       *         // optimization purposes
       *         hasInsertionPoint: {boolean},
       *         // For nested `<template>`` nodes, nested template metadata
       *         templateInfo: {object}, // nested template metadata
       *         // Metadata to allow efficient retrieval of instanced node
       *         // corresponding to this metadata
       *         parentInfo: {number},   // reference to parent nodeInfo>
       *         parentIndex: {number},  // index in parent's `childNodes` collection
       *         infoIndex: {number},    // index of this `nodeInfo` in `templateInfo.nodeInfoList`
       *       },
       *       ...
       *     ],
       *     // When true, the template had the `strip-whitespace` attribute
       *     // or was nested in a template with that setting
       *     stripWhitespace: {boolean},
       *     // For nested templates, nested template content is moved into
       *     // a document fragment stored here; this is an optimization to
       *     // avoid the cost of nested template cloning
       *     content: {DocumentFragment}
       *   }
       * ```
       *
       * This method kicks off a recursive treewalk as follows:
       *
       * ```
       *    _parseTemplate <---------------------+
       *      _parseTemplateContent              |
       *        _parseTemplateNode  <------------|--+
       *          _parseTemplateNestedTemplate --+  |
       *          _parseTemplateChildNodes ---------+
       *          _parseTemplateNodeAttributes
       *            _parseTemplateNodeAttribute
       *
       * ```
       *
       * These methods may be overridden to add custom metadata about templates
       * to either `templateInfo` or `nodeInfo`.
       *
       * Note that this method may be destructive to the template, in that
       * e.g. event annotations may be removed after being noted in the
       * template metadata.
       *
       * @param {!HTMLTemplateElement} template Template to parse
       * @param {TemplateInfo=} outerTemplateInfo Template metadata from the outer
       *   template, for parsing nested templates
       * @return {!TemplateInfo} Parsed template metadata
       */static _parseTemplate(template,outerTemplateInfo){// since a template may be re-used, memo-ize metadata
if(!template._templateInfo){let templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute("strip-whitespace");this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}static _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}/**
       * Parses template node and adds template and node metadata based on
       * the current node, and its `childNodes` and `attributes`.
       *
       * This method may be overridden to add custom node or template specific
       * metadata based on this node.
       *
       * @param {Node} node Node to parse
       * @param {!TemplateInfo} templateInfo Template metadata for current template
       * @param {!NodeInfo} nodeInfo Node metadata for current template.
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       */static _parseTemplateNode(node,templateInfo,nodeInfo){let noted,element=/** @type {Element} */node;if("template"==element.localName&&!element.hasAttribute("preserve-content")){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if("slot"===element.localName){// For ShadyDom optimization, indicating there is an insertion point
templateInfo.hasInsertionPoint=!0}walker.currentNode=element;if(walker.firstChild()){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}/**
       * Parses template child nodes for the given root node.
       *
       * This method also wraps whitelisted legacy template extensions
       * (`is="dom-if"` and `is="dom-repeat"`) with their equivalent element
       * wrappers, collapses text nodes, and strips whitespace from the template
       * if the `templateInfo.stripWhitespace` setting was provided.
       *
       * @param {Node} root Root node whose `childNodes` will be parsed
       * @param {!TemplateInfo} templateInfo Template metadata for current template
       * @param {!NodeInfo} nodeInfo Node metadata for current template.
       * @return {void}
       */static _parseTemplateChildNodes(root,templateInfo,nodeInfo){if("script"===root.localName||"style"===root.localName){return}walker.currentNode=root;for(let node=walker.firstChild(),parentIndex=0,next;node;node=next){// Wrap templates
if("template"==node.localName){node=wrapTemplateExtension(node)}// collapse adjacent textNodes: fixes an IE issue that can cause
// text nodes to be inexplicably split =(
// note that root.normalize() should work but does not so we do this
// manually.
walker.currentNode=node;next=walker.nextSibling();if(node.nodeType===Node.TEXT_NODE){let/** Node */n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=walker.nextSibling();root.removeChild(n);n=next}// optionally strip whitespace
if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}let childInfo={parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(/** @type {!NodeInfo} */childInfo)-1}// Increment if not removed
walker.currentNode=node;if(walker.parentNode()){parentIndex++}}}/**
       * Parses template content for the given nested `<template>`.
       *
       * Nested template info is stored as `templateInfo` in the current node's
       * `nodeInfo`. `template.content` is removed and stored in `templateInfo`.
       * It will then be the responsibility of the host to set it back to the
       * template and for users stamping nested templates to use the
       * `_contentForTemplate` method to retrieve the content for this template
       * (an optimization to avoid the cost of cloning nested template content).
       *
       * @param {HTMLTemplateElement} node Node to parse (a <template>)
       * @param {TemplateInfo} outerTemplateInfo Template metadata for current template
       *   that includes the template `node`
       * @param {!NodeInfo} nodeInfo Node metadata for current template.
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       */static _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){let templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}/**
       * Parses template node attributes and adds node metadata to `nodeInfo`
       * for nodes of interest.
       *
       * @param {Element} node Node to parse
       * @param {TemplateInfo} templateInfo Template metadata for current template
       * @param {NodeInfo} nodeInfo Node metadata for current template.
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       */static _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){// Make copy of original attribute list, since the order may change
// as attributes are added and removed
let noted=!1,attrs=Array.from(node.attributes);for(let i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}/**
       * Parses a single template node attribute and adds node metadata to
       * `nodeInfo` for attributes of interest.
       *
       * This implementation adds metadata for `on-event="handler"` attributes
       * and `id` attributes.
       *
       * @param {Element} node Node to parse
       * @param {!TemplateInfo} templateInfo Template metadata for current template
       * @param {!NodeInfo} nodeInfo Node metadata for current template.
       * @param {string} name Attribute name
       * @param {string} value Attribute value
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       */static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){// events (on-*)
if("on-"===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value});return!0}// static id
else if("id"===name){nodeInfo.id=value;return!0}return!1}/**
       * Returns the `content` document fragment for a given template.
       *
       * For nested templates, Polymer performs an optimization to cache nested
       * template content to avoid the cost of cloning deeply nested templates.
       * This method retrieves the cached content for a given template.
       *
       * @param {HTMLTemplateElement} template Template to retrieve `content` for
       * @return {DocumentFragment} Content fragment
       */static _contentForTemplate(template){let templateInfo=/** @type {HTMLTemplateElementWithInfo} */template._templateInfo;return templateInfo&&templateInfo.content||template.content}/**
       * Clones the provided template content and returns a document fragment
       * containing the cloned dom.
       *
       * The template is parsed (once and memoized) using this library's
       * template parsing features, and provides the following value-added
       * features:
       * * Adds declarative event listeners for `on-event="handler"` attributes
       * * Generates an "id map" for all nodes with id's under `$` on returned
       *   document fragment
       * * Passes template info including `content` back to templates as
       *   `_templateInfo` (a performance optimization to avoid deep template
       *   cloning)
       *
       * Note that the memoized template parsing process is destructive to the
       * template: attributes for bindings and declarative event listeners are
       * removed after being noted in notes, and any nested `<template>.content`
       * is removed and stored in notes as well.
       *
       * @param {!HTMLTemplateElement} template Template to stamp
       * @return {!StampedTemplate} Cloned template content
       */_stampTemplate(template){// Polyfill support: bootstrap the template if it has not already been
if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}let templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=/** @type {DocumentFragment} */document.importNode(content,!0);// NOTE: ShadyDom optimization indicating there is an insertion point
dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;let nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(let i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=/** @type {!StampedTemplate} */dom;// eslint-disable-line no-self-assign
return dom}/**
       * Adds an event listener by method name for the event provided.
       *
       * This method generates a handler function that looks up the method
       * name at handling time.
       *
       * @param {!Node} node Node to add listener on
       * @param {string} eventName Name of event
       * @param {string} methodName Name of method
       * @param {*=} context Context the method will be called on (defaults
       *   to `node`)
       * @return {Function} Generated handler function
       */_addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;let handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}/**
       * Override point for adding custom or simulated event handling.
       *
       * @param {!Node} node Node to add event listener to
       * @param {string} eventName Name of event
       * @param {function(!Event):void} handler Listener function to add
       * @return {void}
       */_addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}/**
       * Override point for adding custom or simulated event handling.
       *
       * @param {!Node} node Node to remove event listener from
       * @param {string} eventName Name of event
       * @param {function(!Event):void} handler Listener function to remove
       * @return {void}
       */_removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}return TemplateStamp})})();</script><script>(function(){'use strict';/** @const {Object} */const CaseMap=Polymer.CaseMap;// Monotonically increasing unique ID used for de-duping effects triggered
// from multiple properties in the same turn
let dedupeId=0;/**
   * Property effect types; effects are stored on the prototype using these keys
   * @enum {string}
   */const TYPES={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},capitalAttributeRegex=/[A-Z]/;/** @const {RegExp} */ /**
   * @typedef {{
   * name: (string | undefined),
   * structured: (boolean | undefined),
   * wildcard: (boolean | undefined)
   * }}
   */let DataTrigger,DataEffect,PropertyEffectsType;//eslint-disable-line no-unused-vars
/**
   * @typedef {{
   * info: ?,
   * trigger: (!DataTrigger | undefined),
   * fn: (!Function | undefined)
   * }}
   */ //eslint-disable-line no-unused-vars
/**
   * Ensures that the model has an own-property map of effects for the given type.
   * The model may be a prototype or an instance.
   *
   * Property effects are stored as arrays of effects by property in a map,
   * by named type on the model. e.g.
   *
   *   __computeEffects: {
   *     foo: [ ... ],
   *     bar: [ ... ]
   *   }
   *
   * If the model does not yet have an effect map for the type, one is created
   * and returned.  If it does, but it is not an own property (i.e. the
   * prototype had effects), the the map is deeply cloned and the copy is
   * set on the model and returned, ready for new effects to be added.
   *
   * @param {Object} model Prototype or instance
   * @param {string} type Property effect type
   * @return {Object} The own-property map of effects for the given type
   * @private
   */function ensureOwnEffectMap(model,type){let effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(let p in effects){let protoFx=effects[p],instFx=effects[p]=Array(protoFx.length);for(let i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}// -- effects ----------------------------------------------
/**
   * Runs all effects of a given type for the given set of property changes
   * on an instance.
   *
   * @param {!PropertyEffectsType} inst The instance with effects to run
   * @param {Object} effects Object map of property-to-Array of effects
   * @param {Object} props Bag of current property changes
   * @param {Object=} oldProps Bag of previous values for changed properties
   * @param {boolean=} hasPaths True with `props` contains one or more paths
   * @param {*=} extraArgs Additional metadata to pass to effect function
   * @return {boolean} True if an effect ran for this property
   * @private
   */function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){let ran=/* eat */!1,id=dedupeId++;for(let prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}/**
   * Runs a list of effects for a given property.
   *
   * @param {!PropertyEffectsType} inst The instance with effects to run
   * @param {Object} effects Object map of property-to-Array of effects
   * @param {number} dedupeId Counter used for de-duping effects
   * @param {string} prop Name of changed property
   * @param {*} props Changed properties
   * @param {*} oldProps Old properties
   * @param {boolean=} hasPaths True with `props` contains one or more paths
   * @param {*=} extraArgs Additional metadata to pass to effect function
   * @return {boolean} True if an effect ran for this property
   * @private
   */function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){let ran=!1,rootProperty=hasPaths?Polymer.Path.root(prop):prop,fxs=effects[rootProperty];if(fxs){for(let i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}/**
   * Determines whether a property/path that has changed matches the trigger
   * criteria for an effect.  A trigger is a descriptor with the following
   * structure, which matches the descriptors returned from `parseArg`.
   * e.g. for `foo.bar.*`:
   * ```
   * trigger: {
   *   name: 'a.b',
   *   structured: true,
   *   wildcard: true
   * }
   * ```
   * If no trigger is given, the path is deemed to match.
   *
   * @param {string} path Path or property that changed
   * @param {DataTrigger} trigger Descriptor
   * @return {boolean} Whether the path matched the trigger
   */function pathMatchesTrigger(path,trigger){if(trigger){let triggerPath=trigger.name;return triggerPath==path||trigger.structured&&Polymer.Path.isAncestor(triggerPath,path)||trigger.wildcard&&Polymer.Path.isDescendant(triggerPath,path)}else{return!0}}/**
   * Implements the "observer" effect.
   *
   * Calls the method with `info.methodName` on the instance, passing the
   * new and old values.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} property Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @return {void}
   * @private
   */function runObserverEffect(inst,property,props,oldProps,info){let fn="string"===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn("observer method `"+info.method+"` not defined")}}/**
   * Runs "notify" effects for a set of changed properties.
   *
   * This method differs from the generic `runEffects` method in that it
   * will dispatch path notification events in the case that the property
   * changed was a path and the root property for that path didn't have a
   * "notify" effect.  This is to maintain 1.0 behavior that did not require
   * `notify: true` to ensure object sub-property notifications were
   * sent.
   *
   * @param {!PropertyEffectsType} inst The instance with effects to run
   * @param {Object} notifyProps Bag of properties to notify
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {boolean} hasPaths True with `props` contains one or more paths
   * @return {void}
   * @private
   */function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){// Notify
let fxs=inst[TYPES.NOTIFY],notified,id=dedupeId++;// Try normal notify effects; if none, fall back to try path notification
for(let prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}// Flush host if we actually notified and host was batching
// And the host has already initialized clients; this prevents
// an issue with a host observing data changes before clients are ready.
let host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}/**
   * Dispatches {property}-changed events with path information in the detail
   * object to indicate a sub-path of the property was changed.
   *
   * @param {!PropertyEffectsType} inst The element from which to fire the event
   * @param {string} path The path that was changed
   * @param {Object} props Bag of current property changes
   * @return {boolean} Returns true if the path was notified
   * @private
   */function notifyPath(inst,path,props){let rootProperty=Polymer.Path.root(path);if(rootProperty!==path){let eventName=Polymer.CaseMap.camelToDashCase(rootProperty)+"-changed";dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}/**
   * Dispatches {property}-changed events to indicate a property (or path)
   * changed.
   *
   * @param {!PropertyEffectsType} inst The element from which to fire the event
   * @param {string} eventName The name of the event to send ('{property}-changed')
   * @param {*} value The value of the changed property
   * @param {string | null | undefined} path If a sub-path of this property changed, the path
   *   that changed (optional).
   * @return {void}
   * @private
   * @suppress {invalidCasts}
   */function dispatchNotifyEvent(inst,eventName,value,path){let detail={value:value,queueProperty:!0};if(path){detail.path=path}/** @type {!HTMLElement} */inst.dispatchEvent(new CustomEvent(eventName,{detail}))}/**
   * Implements the "notify" effect.
   *
   * Dispatches a non-bubbling event named `info.eventName` on the instance
   * with a detail object containing the new `value`.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} property Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @param {boolean} hasPaths True with `props` contains one or more paths
   * @return {void}
   * @private
   */function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){let rootProperty=hasPaths?Polymer.Path.root(property):property,path=rootProperty!=property?property:null,value=path?Polymer.Path.get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property];// specifically for .splices
}dispatchNotifyEvent(inst,info.eventName,value,path)}/**
   * Handler function for 2-way notification events. Receives context
   * information captured in the `addNotifyListener` closure from the
   * `__notifyListeners` metadata.
   *
   * Sets the value of the notified property to the host property or path.  If
   * the event contained path information, translate that path to the host
   * scope's name for that path first.
   *
   * @param {CustomEvent} event Notification event (e.g. '<property>-changed')
   * @param {!PropertyEffectsType} inst Host element instance handling the notification event
   * @param {string} fromProp Child element property that was bound
   * @param {string} toPath Host property/path that was bound
   * @param {boolean} negate Whether the binding was negated
   * @return {void}
   * @private
   */function handleNotification(event,inst,fromProp,toPath,negate){let value,detail=/** @type {Object} */event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=Polymer.Path.translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.currentTarget[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}/**
   * Implements the "reflect" effect.
   *
   * Sets the attribute named `info.attrName` to the given property value.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} property Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @return {void}
   * @private
   */function runReflectEffect(inst,property,props,oldProps,info){let value=inst.__data[property];if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,info.attrName,"attribute",/** @type {Node} */inst)}inst._propertyToAttribute(property,info.attrName,value)}/**
   * Runs "computed" effects for a set of changed properties.
   *
   * This method differs from the generic `runEffects` method in that it
   * continues to run computed effects based on the output of each pass until
   * there are no more newly computed properties.  This ensures that all
   * properties that will be computed by the initial set of changes are
   * computed before other effects (binding propagation, observers, and notify)
   * run.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {!Object} changedProps Bag of changed properties
   * @param {!Object} oldProps Bag of previous values for changed properties
   * @param {boolean} hasPaths True with `props` contains one or more paths
   * @return {void}
   * @private
   */function runComputedEffects(inst,changedProps,oldProps,hasPaths){let computeEffects=inst[TYPES.COMPUTE];if(computeEffects){let inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}/**
   * Implements the "computed property" effect by running the method with the
   * values of the arguments specified in the `info` object and setting the
   * return value to the computed property specified.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} property Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @return {void}
   * @private
   */function runComputedEffect(inst,property,props,oldProps,info){let result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}/**
   * Computes path changes based on path links set up using the `linkPaths`
   * API.
   *
   * @param {!PropertyEffectsType} inst The instance whose props are changing
   * @param {string | !Array<(string|number)>} path Path that has changed
   * @param {*} value Value of changed path
   * @return {void}
   * @private
   */function computeLinkedPaths(inst,path,value){let links=inst.__dataLinkedPaths;if(links){let link;for(let a in links){let b=links[a];if(Polymer.Path.isDescendant(a,path)){link=Polymer.Path.translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(Polymer.Path.isDescendant(b,path)){link=Polymer.Path.translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}// -- bindings ----------------------------------------------
/**
   * Adds binding metadata to the current `nodeInfo`, and binding effects
   * for all part dependencies to `templateInfo`.
   *
   * @param {Function} constructor Class that `_parseTemplate` is currently
   *   running on
   * @param {TemplateInfo} templateInfo Template metadata for current template
   * @param {NodeInfo} nodeInfo Node metadata for current template node
   * @param {string} kind Binding kind, either 'property', 'attribute', or 'text'
   * @param {string} target Target property name
   * @param {!Array<!BindingPart>} parts Array of binding part metadata
   * @param {string=} literal Literal text surrounding binding parts (specified
   *   only for 'property' bindings, since these must be initialized as part
   *   of boot-up)
   * @return {void}
   * @private
   */function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){// Create binding metadata and add to nodeInfo
nodeInfo.bindings=nodeInfo.bindings||[];let/** Binding */binding={kind,target,parts,literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);// Add listener info to binding metadata
if(shouldAddListener(binding)){let{event,negate}=binding.parts[0];binding.listenerEvent=event||CaseMap.camelToDashCase(target)+"-changed";binding.listenerNegate=negate}// Add "propagate" property effects to templateInfo
let index=templateInfo.nodeInfoList.length;for(let i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}/**
   * Adds property effects to the given `templateInfo` for the given binding
   * part.
   *
   * @param {Function} constructor Class that `_parseTemplate` is currently
   *   running on
   * @param {TemplateInfo} templateInfo Template metadata for current template
   * @param {!Binding} binding Binding metadata
   * @param {!BindingPart} part Binding part metadata
   * @param {number} index Index into `nodeInfoList` for this node
   * @return {void}
   */function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if("attribute"===binding.kind&&"-"===binding.target[0]){console.warn("Cannot set attribute "+binding.target+" because \"-\" is not a valid attribute starting character")}else{let dependencies=part.dependencies,info={index,binding,part,evaluator:constructor};for(let j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if("string"==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info,trigger})}}}}/**
   * Implements the "binding" (property/path binding) effect.
   *
   * Note that binding syntax is overridable via `_parseBindings` and
   * `_evaluateBinding`.  This method will call `_evaluateBinding` for any
   * non-literal parts returned from `_parseBindings`.  However,
   * there is no support for _path_ bindings via custom binding parts,
   * as this is specific to Polymer's path binding syntax.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} path Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @param {boolean} hasPaths True with `props` contains one or more paths
   * @param {Array} nodeList List of nodes associated with `nodeInfoList` template
   *   metadata
   * @return {void}
   * @private
   */function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){let node=nodeList[info.index],binding=info.binding,part=info.part;// Subpath notification: transform path and set to client
// e.g.: foo="{{obj.sub}}", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop
if(hasPaths&&part.source&&path.length>part.source.length&&"property"==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){let value=props[path];path=Polymer.Path.translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{let value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);// Propagate value to child
applyBindingValue(inst,node,binding,part,value)}}/**
   * Sets the value for an "binding" (binding) effect to a node,
   * either as a property or attribute.
   *
   * @param {!PropertyEffectsType} inst The instance owning the binding effect
   * @param {Node} node Target node for binding
   * @param {!Binding} binding Binding metadata
   * @param {!BindingPart} part Binding part metadata
   * @param {*} value Value to set
   * @return {void}
   * @private
   */function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,binding.target,binding.kind,node)}if("attribute"==binding.kind){// Attribute binding
inst._valueToNodeAttribute(/** @type {Element} */node,value,binding.target)}else{// Property binding
let prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}/**
   * Transforms an "binding" effect value based on compound & negation
   * effect metadata, as well as handling for special-case properties
   *
   * @param {Node} node Node the value will be set to
   * @param {*} value Value to set
   * @param {!Binding} binding Binding metadata
   * @param {!BindingPart} part Binding part metadata
   * @return {*} Transformed value to set
   * @private
   */function computeBindingValue(node,value,binding,part){if(binding.isCompound){let storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join("")}if("attribute"!==binding.kind){// Some browsers serialize `undefined` to `"undefined"`
if("textContent"===binding.target||"value"===binding.target&&("input"===node.localName||"textarea"===node.localName)){value=value==void 0?"":value}}return value}/**
   * Returns true if a binding's metadata meets all the requirements to allow
   * 2-way binding, and therefore a `<property>-changed` event listener should be
   * added:
   * - used curly braces
   * - is a property (not attribute) binding
   * - is not a textContent binding
   * - is not compound
   *
   * @param {!Binding} binding Binding metadata
   * @return {boolean} True if 2-way listener should be added
   * @private
   */function shouldAddListener(binding){return!!binding.target&&"attribute"!=binding.kind&&"text"!=binding.kind&&!binding.isCompound&&"{"===binding.parts[0].mode}/**
   * Setup compound binding storage structures, notify listeners, and dataHost
   * references onto the bound nodeList.
   *
   * @param {!PropertyEffectsType} inst Instance that bas been previously bound
   * @param {TemplateInfo} templateInfo Template metadata
   * @return {void}
   * @private
   */function setupBindings(inst,templateInfo){// Setup compound storage, dataHost, and notify listeners
let{nodeList,nodeInfoList}=templateInfo;if(nodeInfoList.length){for(let i=0;i<nodeInfoList.length;i++){let info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(let i=0,binding;i<bindings.length;i++){binding=bindings[i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}/**
   * Initializes `__dataCompoundStorage` local storage on a bound node with
   * initial literal data for compound bindings, and sets the joined
   * literal parts to the bound property.
   *
   * When changes to compound parts occur, they are first set into the compound
   * storage array for that property, and then the array is joined to result in
   * the final value set to the property/attribute.
   *
   * @param {Node} node Bound node to initialize
   * @param {Binding} binding Binding metadata
   * @return {void}
   * @private
   */function setupCompoundStorage(node,binding){if(binding.isCompound){// Create compound storage map
let storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length);for(let j=0;j<parts.length;j++){literals[j]=parts[j].literal}let target=binding.target;storage[target]=literals;// Configure properties with their literal parts
if(binding.literal&&"property"==binding.kind){node[target]=binding.literal}}}/**
   * Adds a 2-way binding notification event listener to the node specified
   *
   * @param {Object} node Child element to add listener to
   * @param {!PropertyEffectsType} inst Host element instance to handle notification event
   * @param {Binding} binding Binding metadata
   * @return {void}
   * @private
   */function addNotifyListener(node,inst,binding){if(binding.listenerEvent){let part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}// -- for method-based effects (complexObserver & computed) --------------
/**
   * Adds property effects for each argument in the method signature (and
   * optionally, for the method name if `dynamic` is true) that calls the
   * provided effect function.
   *
   * @param {Element | Object} model Prototype or instance
   * @param {!MethodSignature} sig Method signature metadata
   * @param {string} type Type of property effect to add
   * @param {Function} effectFn Function to run when arguments change
   * @param {*=} methodInfo Effect-specific information to be included in
   *   method effect metadata
   * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether
   *   method names should be included as a dependency to the effect. Note,
   *   defaults to true if the signature is static (sig.static is true).
   * @return {void}
   * @private
   */function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&("object"!==typeof dynamicFn||dynamicFn[sig.methodName]);let info={methodName:sig.methodName,args:sig.args,methodInfo,dynamicFn};for(let i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}/**
   * Calls a method with arguments marshaled from properties on the instance
   * based on the method signature contained in the effect metadata.
   *
   * Multi-property observers, computed properties, and inline computing
   * functions call this function to invoke the method, then use the return
   * value accordingly.
   *
   * @param {!PropertyEffectsType} inst The instance the effect will be run on
   * @param {string} property Name of property
   * @param {Object} props Bag of current property changes
   * @param {Object} oldProps Bag of previous values for changed properties
   * @param {?} info Effect metadata
   * @return {*} Returns the return value from the method invocation
   * @private
   */function runMethodEffect(inst,property,props,oldProps,info){// Instances can optionally have a _methodHost which allows redirecting where
// to find methods. Currently used by `templatize`.
let context=inst._methodHost||inst,fn=context[info.methodName];if(fn){let args=inst._marshalArgs(info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn("method `"+info.methodName+"` not defined")}}const emptyArray=[],IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")",NUMBER="(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")",SQUOTE_STRING="(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")",DQUOTE_STRING="(?:"+"\"(?:[^\"\\\\]|\\\\.)*\""+")",STRING="(?:"+SQUOTE_STRING+"|"+DQUOTE_STRING+")",ARGUMENT="(?:("+IDENT+"|"+NUMBER+"|"+STRING+")\\s*"+")",ARGUMENTS="(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")",ARGUMENT_LIST="(?:"+"\\(\\s*"+"(?:"+ARGUMENTS+"?"+")"+"\\)\\s*"+")",BINDING="("+IDENT+"\\s*"+ARGUMENT_LIST+"?"+")",OPEN_BRACKET="(\\[\\[|{{)"+"\\s*",CLOSE_BRACKET="(?:]]|}})",NEGATE="(?:(!)\\s*)?",EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET,bindingRegex=new RegExp(EXPRESSION,"g");// Regular expressions used for binding
/**
   * Create a string from binding parts of all the literal parts
   *
   * @param {!Array<BindingPart>} parts All parts to stringify
   * @return {string} String made from the literal parts
   */function literalFromParts(parts){let s="";for(let i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||""}return s}/**
   * Parses an expression string for a method signature, and returns a metadata
   * describing the method in terms of `methodName`, `static` (whether all the
   * arguments are literals), and an array of `args`
   *
   * @param {string} expression The expression to parse
   * @return {?MethodSignature} The method metadata object if a method expression was
   *   found, otherwise `undefined`
   * @private
   */function parseMethod(expression){// tries to match valid javascript property names
let m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){let methodName=m[1],sig={methodName,static:!0,args:emptyArray};if(m[2].trim()){// replace escaped commas with comma entity, split on un-escaped commas
let args=m[2].replace(/\\,/g,"&comma;").split(",");return parseArgs(args,sig)}else{return sig}}return null}/**
   * Parses an array of arguments and sets the `args` property of the supplied
   * signature metadata object. Sets the `static` property to false if any
   * argument is a non-literal.
   *
   * @param {!Array<string>} argList Array of argument names
   * @param {!MethodSignature} sig Method signature metadata object
   * @return {!MethodSignature} The updated signature metadata object
   * @private
   */function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){let arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}/**
   * Parses an individual argument, and returns an argument metadata object
   * with the following fields:
   *
   *   {
   *     value: 'prop',        // property/path or literal value
   *     literal: false,       // whether argument is a literal
   *     structured: false,    // whether the property is a path
   *     rootProperty: 'prop', // the root property of the path
   *     wildcard: false       // whether the argument was a wildcard '.*' path
   *   }
   *
   * @param {string} rawArg The string value of the argument
   * @return {!MethodArg} Argument metadata object
   * @private
   */function parseArg(rawArg){// clean up whitespace
let arg=rawArg.trim()// replace comma entity with comma
.replace(/&comma;/g,",")// repair extra escape sequences; note only commas strictly need
// escaping, but we allow any other char to be escaped since its
// likely users will do this
.replace(/\\(.)/g,"$1"),a={name:arg,value:"",literal:!1},fc=arg[0];// basic argument descriptor
if("-"===fc){fc=arg[1]}if("0"<=fc&&"9">=fc){fc="#"}switch(fc){case"'":case"\"":a.value=arg.slice(1,-1);a.literal=!0;break;case"#":a.value=+arg;a.literal=!0;break;}// if not literal, look for structured path
if(!a.literal){a.rootProperty=Polymer.Path.root(arg);// detect structured path (has dots)
a.structured=Polymer.Path.isPath(arg);if(a.structured){a.wildcard=".*"==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}// data api
/**
   * Sends array splice notifications (`.splices` and `.length`)
   *
   * Note: this implementation only accepts normalized paths
   *
   * @param {!PropertyEffectsType} inst Instance to send notifications to
   * @param {Array} array The array the mutations occurred on
   * @param {string} path The path to the array that was mutated
   * @param {Array} splices Array of splice records
   * @return {void}
   * @private
   */function notifySplices(inst,array,path,splices){let splicesPath=path+".splices";inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+".length",array.length);// Null here to allow potentially large splice records to be GC'ed.
inst.__data[splicesPath]={indexSplices:null}}/**
   * Creates a splice record and sends an array splice notification for
   * the described mutation
   *
   * Note: this implementation only accepts normalized paths
   *
   * @param {!PropertyEffectsType} inst Instance to send notifications to
   * @param {Array} array The array the mutations occurred on
   * @param {string} path The path to the array that was mutated
   * @param {number} index Index at which the array mutation occurred
   * @param {number} addedCount Number of added items
   * @param {Array} removed Array of removed items
   * @return {void}
   * @private
   */function notifySplice(inst,array,path,index,addedCount,removed){notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:"splice"}])}/**
   * Returns an upper-cased version of the string.
   *
   * @param {string} name String to uppercase
   * @return {string} Uppercased string
   * @private
   */function upper(name){return name[0].toUpperCase()+name.substring(1)}/**
   * Element class mixin that provides meta-programming for Polymer's template
   * binding and data observation (collectively, "property effects") system.
   *
   * This mixin uses provides the following key static methods for adding
   * property effects to an element class:
   * - `addPropertyEffect`
   * - `createPropertyObserver`
   * - `createMethodObserver`
   * - `createNotifyingProperty`
   * - `createReadOnlyProperty`
   * - `createReflectedProperty`
   * - `createComputedProperty`
   * - `bindTemplate`
   *
   * Each method creates one or more property accessors, along with metadata
   * used by this mixin's implementation of `_propertiesChanged` to perform
   * the property effects.
   *
   * Underscored versions of the above methods also exist on the element
   * prototype for adding property effects on instances at runtime.
   *
   * Note that this mixin overrides several `PropertyAccessors` methods, in
   * many cases to maintain guarantees provided by the Polymer 1.x features;
   * notably it changes property accessors to be synchronous by default
   * whereas the default when using `PropertyAccessors` standalone is to be
   * async by default.
   *
   * @mixinFunction
   * @polymer
   * @appliesMixin Polymer.TemplateStamp
   * @appliesMixin Polymer.PropertyAccessors
   * @memberof Polymer
   * @summary Element class mixin that provides meta-programming for Polymer's
   * template binding and data observation system.
   */Polymer.PropertyEffects=Polymer.dedupingMixin(superClass=>{/**
     * @constructor
     * @extends {superClass}
     * @implements {Polymer_PropertyAccessors}
     * @implements {Polymer_TemplateStamp}
     * @unrestricted
     * @private
     */const propertyEffectsBase=Polymer.TemplateStamp(Polymer.PropertyAccessors(superClass));/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_PropertyEffects}
     * @extends {propertyEffectsBase}
     * @unrestricted
     */class PropertyEffects extends propertyEffectsBase{constructor(){super();/** @type {boolean} */ // Used to identify users of this mixin, ala instanceof
this.__isPropertyEffectsClient=!0;/** @type {number} */ // NOTE: used to track re-entrant calls to `_flushProperties`
// path changes dirty check against `__dataTemp` only during one "turn"
// and are cleared when `__dataCounter` returns to 0.
this.__dataCounter=0;/** @type {boolean} */this.__dataClientsReady;/** @type {Array} */this.__dataPendingClients;/** @type {Object} */this.__dataToNotify;/** @type {Object} */this.__dataLinkedPaths;/** @type {boolean} */this.__dataHasPaths;/** @type {Object} */this.__dataCompoundStorage;/** @type {Polymer_PropertyEffects} */this.__dataHost;/** @type {!Object} */this.__dataTemp;/** @type {boolean} */this.__dataClientsInitialized;/** @type {!Object} */this.__data;/** @type {!Object} */this.__dataPending;/** @type {!Object} */this.__dataOld;/** @type {Object} */this.__computeEffects;/** @type {Object} */this.__reflectEffects;/** @type {Object} */this.__notifyEffects;/** @type {Object} */this.__propagateEffects;/** @type {Object} */this.__observeEffects;/** @type {Object} */this.__readOnly;/** @type {!TemplateInfo} */this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}/**
       * @return {void}
       */_initializeProperties(){super._initializeProperties();hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;// May be set on instance prior to upgrade
this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}/**
       * Overrides `Polymer.PropertyAccessors` implementation to provide a
       * more efficient implementation of initializing properties from
       * the prototype on the instance.
       *
       * @override
       * @param {Object} props Properties to initialize on the prototype
       * @return {void}
       */_initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}/**
       * Overrides `Polymer.PropertyAccessors` implementation to avoid setting
       * `_setProperty`'s `shouldNotify: true`.
       *
       * @override
       * @param {Object} props Properties to initialize on the instance
       * @return {void}
       */_initializeInstanceProperties(props){let readOnly=this[TYPES.READ_ONLY];for(let prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}// Prototype setup ----------------------------------------
/**
       * Equivalent to static `addPropertyEffect` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Property that should trigger the effect
       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES
       * @param {Object=} effect Effect metadata object
       * @return {void}
       * @protected
       */_addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);// effects are accumulated into arrays per property based on type
let effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}/**
       * Removes the given property effect.
       *
       * @param {string} property Property the effect was associated with
       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES
       * @param {Object=} effect Effect metadata object to remove
       * @return {void}
       */_removePropertyEffect(property,type,effect){let effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}/**
       * Returns whether the current prototype/instance has a property effect
       * of a certain type.
       *
       * @param {string} property Property name
       * @param {string=} type Effect type, from this.PROPERTY_EFFECT_TYPES
       * @return {boolean} True if the prototype/instance has an effect of this type
       * @protected
       */_hasPropertyEffect(property,type){let effects=this[type];return!!(effects&&effects[property])}/**
       * Returns whether the current prototype/instance has a "read only"
       * accessor for the given property.
       *
       * @param {string} property Property name
       * @return {boolean} True if the prototype/instance has an effect of this type
       * @protected
       */_hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}/**
       * Returns whether the current prototype/instance has a "notify"
       * property effect for the given property.
       *
       * @param {string} property Property name
       * @return {boolean} True if the prototype/instance has an effect of this type
       * @protected
       */_hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}/**
       * Returns whether the current prototype/instance has a "reflect to attribute"
       * property effect for the given property.
       *
       * @param {string} property Property name
       * @return {boolean} True if the prototype/instance has an effect of this type
       * @protected
       */_hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}/**
       * Returns whether the current prototype/instance has a "computed"
       * property effect for the given property.
       *
       * @param {string} property Property name
       * @return {boolean} True if the prototype/instance has an effect of this type
       * @protected
       */_hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}// Runtime ----------------------------------------
/**
       * Sets a pending property or path.  If the root property of the path in
       * question had no accessor, the path is set, otherwise it is enqueued
       * via `_setPendingProperty`.
       *
       * This function isolates relatively expensive functionality necessary
       * for the public API (`set`, `setProperties`, `notifyPath`, and property
       * change listeners via {{...}} bindings), such that it is only done
       * when paths enter the system, and not at every propagation step.  It
       * also sets a `__dataHasPaths` flag on the instance which is used to
       * fast-path slower path-matching code in the property effects host paths.
       *
       * `path` can be a path string or array of path parts as accepted by the
       * public API.
       *
       * @param {string | !Array<number|string>} path Path to set
       * @param {*} value Value to set
       * @param {boolean=} shouldNotify Set to true if this change should
       *  cause a property notification event dispatch
       * @param {boolean=} isPathNotification If the path being set is a path
       *   notification of an already changed value, as opposed to a request
       *   to set and notify the change.  In the latter `false` case, a dirty
       *   check is performed and then the value is set to the path before
       *   enqueuing the pending property change.
       * @return {boolean} Returns true if the property/path was enqueued in
       *   the pending changes bag.
       * @protected
       */_setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||Polymer.Path.root(Array.isArray(path)?path[0]:path)!==path){// Dirty check changes being set to a path against the actual object,
// since this is the entry point for paths into the system; from here
// the only dirty checks are against the `__dataTemp` cache to prevent
// duplicate work in the same turn only. Note, if this was a notification
// of a change already set to a path (isPathNotification: true),
// we always let the change through and skip the `set` since it was
// already dirty checked at the point of entry and the underlying
// object has already been updated
if(!isPathNotification){let old=Polymer.Path.get(this,path);path=/** @type {string} */Polymer.Path.set(this,path,value);// Use property-accessor's simpler dirty check
if(!path||!super._shouldPropertyChange(path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(/**@type{string}*/path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(/**@type{string}*/path,value,shouldNotify)}else{this[path]=value}}return!1}/**
       * Applies a value to a non-Polymer element/node's property.
       *
       * The implementation makes a best-effort at binding interop:
       * Some native element properties have side-effects when
       * re-setting the same value (e.g. setting `<input>.value` resets the
       * cursor position), so we do a dirty-check before setting the value.
       * However, for better interop with non-Polymer custom elements that
       * accept objects, we explicitly re-set object changes coming from the
       * Polymer world (which may include deep object changes without the
       * top reference changing), erring on the side of providing more
       * information.
       *
       * Users may override this method to provide alternate approaches.
       *
       * @param {!Node} node The node to set a property on
       * @param {string} prop The property to set
       * @param {*} value The value to set
       * @return {void}
       * @protected
       */_setUnmanagedPropertyToNode(node,prop,value){// It is a judgment call that resetting primitives is
// "bad" and resettings objects is also "good"; alternatively we could
// implement a whitelist of tag & property values that should never
// be reset (e.g. <input>.value && <select>.value)
if(value!==node[prop]||"object"==typeof value){node[prop]=value}}/**
       * Overrides the `PropertiesChanged` implementation to introduce special
       * dirty check logic depending on the property & value being set:
       *
       * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})
       *    Stored in `__dataTemp`, dirty checked against `__dataTemp`
       * 2. Object set to simple property (e.g. 'prop': {...})
       *    Stored in `__dataTemp` and `__data`, dirty checked against
       *    `__dataTemp` by default implementation of `_shouldPropertyChange`
       * 3. Primitive value set to simple property (e.g. 'prop': 42)
       *    Stored in `__data`, dirty checked against `__data`
       *
       * The dirty-check is important to prevent cycles due to two-way
       * notification, but paths and objects are only dirty checked against any
       * previous value set during this turn via a "temporary cache" that is
       * cleared when the last `_propertiesChanged` exits. This is so:
       * a. any cached array paths (e.g. 'array.3.prop') may be invalidated
       *    due to array mutations like shift/unshift/splice; this is fine
       *    since path changes are dirty-checked at user entry points like `set`
       * b. dirty-checking for objects only lasts one turn to allow the user
       *    to mutate the object in-place and re-set it with the same identity
       *    and have all sub-properties re-propagated in a subsequent turn.
       *
       * The temp cache is not necessarily sufficient to prevent invalid array
       * paths, since a splice can happen during the same turn (with pathological
       * user code); we could introduce a "fixup" for temporarily cached array
       * paths if needed: https://github.com/Polymer/polymer/issues/4227
       *
       * @override
       * @param {string} property Name of the property
       * @param {*} value Value to set
       * @param {boolean=} shouldNotify True if property should fire notification
       *   event (applies only for `notify: true` properties)
       * @return {boolean} Returns true if the property changed
       */_setPendingProperty(property,value,shouldNotify){let isPath=this.__dataHasPaths&&Polymer.Path.isPath(property),prevProps=isPath?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}// Ensure old is captured from the last turn
if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}// Paths are stored in temporary cache (cleared at end of turn),
// which is used for dirty-checking, all others stored in __data
if(isPath){this.__dataTemp[property]=value}else{this.__data[property]=value}// All changes go into pending property bag, passed to _propertiesChanged
this.__dataPending[property]=value;// Track properties that should notify separately
if(isPath||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}/**
       * Overrides base implementation to ensure all accessors set `shouldNotify`
       * to true, for per-property notification tracking.
       *
       * @override
       * @param {string} property Name of the property
       * @param {*} value Value to set
       * @return {void}
       */_setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}/**
       * Overrides `PropertyAccessor`'s default async queuing of
       * `_propertiesChanged`: if `__dataReady` is false (has not yet been
       * manually flushed), the function no-ops; otherwise flushes
       * `_propertiesChanged` synchronously.
       *
       * @override
       * @return {void}
       */_invalidateProperties(){if(this.__dataReady){this._flushProperties()}}/**
       * Enqueues the given client on a list of pending clients, whose
       * pending property changes can later be flushed via a call to
       * `_flushClients`.
       *
       * @param {Object} client PropertyEffects client to enqueue
       * @return {void}
       * @protected
       */_enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}/**
       * Overrides superclass implementation.
       *
       * @return {void}
       * @protected
       */_flushProperties(){this.__dataCounter++;super._flushProperties();this.__dataCounter--}/**
       * Flushes any clients previously enqueued via `_enqueueClient`, causing
       * their `_flushProperties` method to run.
       *
       * @return {void}
       * @protected
       */_flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();// Override point where accessors are turned on; importantly,
// this is after clients have fully readied, providing a guarantee
// that any property effects occur only after all clients are ready.
this.__dataReady=!0}else{this.__enableOrFlushClients()}}// NOTE: We ensure clients either enable or flush as appropriate. This
// handles two corner cases:
// (1) clients flush properly when connected/enabled before the host
// enables; e.g.
//   (a) Templatize stamps with no properties and does not flush and
//   (b) the instance is inserted into dom and
//   (c) then the instance flushes.
// (2) clients enable properly when not connected/enabled when the host
// flushes; e.g.
//   (a) a template is runtime stamped and not yet connected/enabled
//   (b) a host sets a property, causing stamped dom to flush
//   (c) the stamped dom enables.
__enableOrFlushClients(){let clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(let i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}/**
       * Perform any initial setup on client dom. Called before the first
       * `_flushProperties` call on client dom and before any element
       * observers are called.
       *
       * @return {void}
       * @protected
       */_readyClients(){this.__enableOrFlushClients()}/**
       * Sets a bag of property changes to this instance, and
       * synchronously processes all effects of the properties as a batch.
       *
       * Property names must be simple properties, not paths.  Batched
       * path propagation is not supported.
       *
       * @param {Object} props Bag of one or more key-value pairs whose key is
       *   a property and value is the new value to set for that property.
       * @param {boolean=} setReadOnly When true, any private values set in
       *   `props` will be set. By default, `setProperties` will not set
       *   `readOnly: true` root properties.
       * @return {void}
       * @public
       */setProperties(props,setReadOnly){for(let path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){//TODO(kschaaf): explicitly disallow paths in setProperty?
// wildcard observers currently only pass the first changed path
// in the `info` object, and you could do some odd things batching
// paths, e.g. {'foo.bar': {...}, 'foo': null}
this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}/**
       * Overrides `PropertyAccessors` so that property accessor
       * side effects are not enabled until after client dom is fully ready.
       * Also calls `_flushClients` callback to ensure client dom is enabled
       * that was not enabled as a result of flushing properties.
       *
       * @override
       * @return {void}
       */ready(){// It is important that `super.ready()` is not called here as it
// immediately turns on accessors. Instead, we wait until `readyClients`
// to enable accessors to provide a guarantee that clients are ready
// before processing any accessors side effects.
this._flushProperties();// If no data was pending, `_flushProperties` will not `flushClients`
// so ensure this is done.
if(!this.__dataClientsReady){this._flushClients()}// Before ready, client notifications do not trigger _flushProperties.
// Therefore a flush is necessary here if data has been set.
if(this.__dataPending){this._flushProperties()}}/**
       * Implements `PropertyAccessors`'s properties changed callback.
       *
       * Runs each class of effects for the batch of changed properties in
       * a specific order (compute, propagate, reflect, observe, notify).
       *
       * @param {!Object} currentProps Bag of all current accessor values
       * @param {!Object} changedProps Bag of properties changed since the last
       *   call to `_propertiesChanged`
       * @param {!Object} oldProps Bag of previous values for each property
       *   in `changedProps`
       * @return {void}
       */_propertiesChanged(currentProps,changedProps,oldProps){// ----------------------------
// let c = Object.getOwnPropertyNames(changedProps || {});
// window.debug && console.group(this.localName + '#' + this.id + ': ' + c);
// if (window.debug) { debugger; }
// ----------------------------
let hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;// Compute properties
runComputedEffects(this,changedProps,oldProps,hasPaths);// Clear notify properties prior to possible reentry (propagate, observe),
// but after computing effects have a chance to add to them
let notifyProps=this.__dataToNotify;this.__dataToNotify=null;// Propagate properties to clients
this._propagatePropertyChanges(changedProps,oldProps,hasPaths);// Flush clients
this._flushClients();// Reflect properties
runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);// Observe properties
runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);// Notify properties to host
if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}// Clear temporary cache at end of turn
if(1==this.__dataCounter){this.__dataTemp={}}// ----------------------------
// window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);
// ----------------------------
}/**
       * Called to propagate any property changes to stamped template nodes
       * managed by this element.
       *
       * @param {Object} changedProps Bag of changed properties
       * @param {Object} oldProps Bag of previous values for changed properties
       * @param {boolean} hasPaths True with `props` contains one or more paths
       * @return {void}
       * @protected
       */_propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}let templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}/**
       * Aliases one data path as another, such that path notifications from one
       * are routed to the other.
       *
       * @param {string | !Array<string|number>} to Target path to link.
       * @param {string | !Array<string|number>} from Source path to link.
       * @return {void}
       * @public
       */linkPaths(to,from){to=Polymer.Path.normalize(to);from=Polymer.Path.normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}/**
       * Removes a data path alias previously established with `_linkPaths`.
       *
       * Note, the path to unlink should be the target (`to`) used when
       * linking the paths.
       *
       * @param {string | !Array<string|number>} path Target path to unlink.
       * @return {void}
       * @public
       */unlinkPaths(path){path=Polymer.Path.normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}/**
       * Notify that an array has changed.
       *
       * Example:
       *
       *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];
       *     ...
       *     this.items.splice(1, 1, {name: 'Sam'});
       *     this.items.push({name: 'Bob'});
       *     this.notifySplices('items', [
       *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1, object: this.items, type: 'splice' },
       *       { index: 3, removed: [], addedCount: 1, object: this.items, type: 'splice'}
       *     ]);
       *
       * @param {string} path Path that should be notified.
       * @param {Array} splices Array of splice records indicating ordered
       *   changes that occurred to the array. Each record should have the
       *   following fields:
       *    * index: index at which the change occurred
       *    * removed: array of items that were removed from this index
       *    * addedCount: number of new items added at this index
       *    * object: a reference to the array in question
       *    * type: the string literal 'splice'
       *
       *   Note that splice records _must_ be normalized such that they are
       *   reported in index order (raw results from `Object.observe` are not
       *   ordered and must be normalized/merged before notifying).
       * @return {void}
       * @public
      */notifySplices(path,splices){let info={path:""},array=/** @type {Array} */Polymer.Path.get(this,path,info);notifySplices(this,array,info.path,splices)}/**
       * Convenience method for reading a value from a path.
       *
       * Note, if any part in the path is undefined, this method returns
       * `undefined` (this method does not throw when dereferencing undefined
       * paths).
       *
       * @param {(string|!Array<(string|number)>)} path Path to the value
       *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)
       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that
       *   bracketed expressions are not supported; string-based path parts
       *   *must* be separated by dots.  Note that when dereferencing array
       *   indices, the index may be used as a dotted part directly
       *   (e.g. `users.12.name` or `['users', 12, 'name']`).
       * @param {Object=} root Root object from which the path is evaluated.
       * @return {*} Value at the path, or `undefined` if any part of the path
       *   is undefined.
       * @public
       */get(path,root){return Polymer.Path.get(root||this,path)}/**
       * Convenience method for setting a value to a path and notifying any
       * elements bound to the same path.
       *
       * Note, if any part in the path except for the last is undefined,
       * this method does nothing (this method does not throw when
       * dereferencing undefined paths).
       *
       * @param {(string|!Array<(string|number)>)} path Path to the value
       *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)
       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that
       *   bracketed expressions are not supported; string-based path parts
       *   *must* be separated by dots.  Note that when dereferencing array
       *   indices, the index may be used as a dotted part directly
       *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).
       * @param {*} value Value to set at the specified path.
       * @param {Object=} root Root object from which the path is evaluated.
       *   When specified, no notification will occur.
       * @return {void}
       * @public
      */set(path,value,root){if(root){Polymer.Path.set(root,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][/** @type {string} */path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}/**
       * Adds items onto the end of the array at the path specified.
       *
       * The arguments after `path` and return value match that of
       * `Array.prototype.push`.
       *
       * This method notifies other paths to the same array that a
       * splice occurred to the array.
       *
       * @param {string | !Array<string|number>} path Path to array.
       * @param {...*} items Items to push onto array
       * @return {number} New length of the array.
       * @public
       */push(path,...items){let info={path:""},array=/** @type {Array}*/Polymer.Path.get(this,path,info),len=array.length,ret=array.push(...items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}/**
       * Removes an item from the end of array at the path specified.
       *
       * The arguments after `path` and return value match that of
       * `Array.prototype.pop`.
       *
       * This method notifies other paths to the same array that a
       * splice occurred to the array.
       *
       * @param {string | !Array<string|number>} path Path to array.
       * @return {*} Item that was removed.
       * @public
       */pop(path){let info={path:""},array=/** @type {Array} */Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}/**
       * Starting from the start index specified, removes 0 or more items
       * from the array and inserts 0 or more new items in their place.
       *
       * The arguments after `path` and return value match that of
       * `Array.prototype.splice`.
       *
       * This method notifies other paths to the same array that a
       * splice occurred to the array.
       *
       * @param {string | !Array<string|number>} path Path to array.
       * @param {number} start Index from which to start removing/inserting.
       * @param {number} deleteCount Number of items to remove.
       * @param {...*} items Items to insert into array.
       * @return {Array} Array of removed items.
       * @public
       */splice(path,start,deleteCount,...items){let info={path:""},array=/** @type {Array} */Polymer.Path.get(this,path,info);// Normalize fancy native splice handling of crazy start values
if(0>start){start=array.length-Math.floor(-start)}else if(start){start=Math.floor(start)}// array.splice does different things based on the number of arguments
// you pass in. Therefore, array.splice(0) and array.splice(0, undefined)
// do different things. In the former, the whole array is cleared. In the
// latter, no items are removed.
// This means that we need to detect whether 1. one of the arguments
// is actually passed in and then 2. determine how many arguments
// we should pass on to the native array.splice
//
let ret;// Omit any additional arguments if they were not passed in
if(2===arguments.length){ret=array.splice(start);// Either start was undefined and the others were defined, but in this
// case we can safely pass on all arguments
//
// Note: this includes the case where none of the arguments were passed in,
// e.g. this.splice('array'). However, if both start and deleteCount
// are undefined, array.splice will not modify the array (as expected)
}else{ret=array.splice(start,deleteCount,...items)}// At the end, check whether any items were passed in (e.g. insertions)
// or if the return array contains items (e.g. deletions).
// Only notify if items were added or deleted.
if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}/**
       * Removes an item from the beginning of array at the path specified.
       *
       * The arguments after `path` and return value match that of
       * `Array.prototype.pop`.
       *
       * This method notifies other paths to the same array that a
       * splice occurred to the array.
       *
       * @param {string | !Array<string|number>} path Path to array.
       * @return {*} Item that was removed.
       * @public
       */shift(path){let info={path:""},array=/** @type {Array} */Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}/**
       * Adds items onto the beginning of the array at the path specified.
       *
       * The arguments after `path` and return value match that of
       * `Array.prototype.push`.
       *
       * This method notifies other paths to the same array that a
       * splice occurred to the array.
       *
       * @param {string | !Array<string|number>} path Path to array.
       * @param {...*} items Items to insert info array
       * @return {number} New length of the array.
       * @public
       */unshift(path,...items){let info={path:""},array=/** @type {Array} */Polymer.Path.get(this,path,info),ret=array.unshift(...items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}/**
       * Notify that a path has changed.
       *
       * Example:
       *
       *     this.item.user.name = 'Bob';
       *     this.notifyPath('item.user.name');
       *
       * @param {string} path Path that should be notified.
       * @param {*=} value Value at the path (optional).
       * @return {void}
       * @public
      */notifyPath(path,value){/** @type {string} */let propPath;if(1==arguments.length){// Get value if not supplied
let info={path:""};value=Polymer.Path.get(this,path,info);propPath=info.path}else if(Array.isArray(path)){// Normalize path if needed
propPath=Polymer.Path.normalize(path)}else{propPath=/** @type{string} */path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}/**
       * Equivalent to static `createReadOnlyProperty` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Property name
       * @param {boolean=} protectedSetter Creates a custom protected setter
       *   when `true`.
       * @return {void}
       * @protected
       */_createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this["_set"+upper(property)]=/** @this {PropertyEffects} */function(value){this._setProperty(property,value)}}}/**
       * Equivalent to static `createPropertyObserver` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Property name
       * @param {string|function(*,*)} method Function or name of observer method to call
       * @param {boolean=} dynamicFn Whether the method name should be included as
       *   a dependency to the effect.
       * @return {void}
       * @protected
       */_createPropertyObserver(property,method,dynamicFn){let info={property,method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(/** @type {string} */method,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:method}})}}/**
       * Equivalent to static `createMethodObserver` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} expression Method expression
       * @param {boolean|Object=} dynamicFn Boolean or object map indicating
       *   whether method names should be included as a dependency to the effect.
       * @return {void}
       * @protected
       */_createMethodObserver(expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed observer expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}/**
       * Equivalent to static `createNotifyingProperty` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Property name
       * @return {void}
       * @protected
       */_createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(property)+"-changed",property:property}})}/**
       * Equivalent to static `createReflectedProperty` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Property name
       * @return {void}
       * @protected
       */_createReflectedProperty(property){let attr=this.constructor.attributeNameForProperty(property);if("-"===attr[0]){console.warn("Property "+property+" cannot be reflected to attribute "+attr+" because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.")}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}/**
       * Equivalent to static `createComputedProperty` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * @param {string} property Name of computed property to set
       * @param {string} expression Method expression
       * @param {boolean|Object=} dynamicFn Boolean or object map indicating
       *   whether method names should be included as a dependency to the effect.
       * @return {void}
       * @protected
       */_createComputedProperty(property,expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed computed expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}/**
       * Gather the argument values for a method specified in the provided array
       * of argument metadata.
       *
       * The `path` and `value` arguments are used to fill in wildcard descriptor
       * when the method is being called as a result of a path notification.
       *
       * @param {!Array<!MethodArg>} args Array of argument metadata
       * @param {string} path Property/path name that triggered the method effect
       * @param {Object} props Bag of current property changes
       * @return {Array<*>} Array of argument values
       * @private
       */_marshalArgs(args,path,props){const data=this.__data;let values=[];for(let i=0,l=args.length;i<l;i++){let arg=args[i],name=arg.name,v;if(arg.literal){v=arg.value}else{if(arg.structured){v=Polymer.Path.get(data,name);// when data is not stored e.g. `splices`
if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){// Only send the actual path changed info if the change that
// caused the observer to run matched the wildcard
let baseChanged=0===name.indexOf(path+"."),matches=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches?path:name,value:matches?props[path]:v,base:v}}else{values[i]=v}}return values}// -- static class methods ------------
/**
       * Ensures an accessor exists for the specified property, and adds
       * to a list of "property effects" that will run when the accessor for
       * the specified property is set.  Effects are grouped by "type", which
       * roughly corresponds to a phase in effect processing.  The effect
       * metadata should be in the following form:
       *
       *     {
       *       fn: effectFunction, // Reference to function to call to perform effect
       *       info: { ... }       // Effect metadata passed to function
       *       trigger: {          // Optional triggering metadata; if not provided
       *         name: string      // the property is treated as a wildcard
       *         structured: boolean
       *         wildcard: boolean
       *       }
       *     }
       *
       * Effects are called from `_propertiesChanged` in the following order by
       * type:
       *
       * 1. COMPUTE
       * 2. PROPAGATE
       * 3. REFLECT
       * 4. OBSERVE
       * 5. NOTIFY
       *
       * Effect functions are called with the following signature:
       *
       *     effectFunction(inst, path, props, oldProps, info, hasPaths)
       *
       * @param {string} property Property that should trigger the effect
       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES
       * @param {Object=} effect Effect metadata object
       * @return {void}
       * @protected
       */static addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}/**
       * Creates a single-property observer for the given property.
       *
       * @param {string} property Property name
       * @param {string|function(*,*)} method Function or name of observer method to call
       * @param {boolean=} dynamicFn Whether the method name should be included as
       *   a dependency to the effect.
       * @return {void}
       * @protected
       */static createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}/**
       * Creates a multi-property "method observer" based on the provided
       * expression, which should be a string in the form of a normal JavaScript
       * function signature: `'methodName(arg1, [..., argn])'`.  Each argument
       * should correspond to a property or path in the context of this
       * prototype (or instance), or may be a literal string or number.
       *
       * @param {string} expression Method expression
       * @param {boolean|Object=} dynamicFn Boolean or object map indicating
       * @return {void}
       *   whether method names should be included as a dependency to the effect.
       * @protected
       */static createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}/**
       * Causes the setter for the given property to dispatch `<property>-changed`
       * events to notify of changes to the property.
       *
       * @param {string} property Property name
       * @return {void}
       * @protected
       */static createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}/**
       * Creates a read-only accessor for the given property.
       *
       * To set the property, use the protected `_setProperty` API.
       * To create a custom protected setter (e.g. `_setMyProp()` for
       * property `myProp`), pass `true` for `protectedSetter`.
       *
       * Note, if the property will have other property effects, this method
       * should be called first, before adding other effects.
       *
       * @param {string} property Property name
       * @param {boolean=} protectedSetter Creates a custom protected setter
       *   when `true`.
       * @return {void}
       * @protected
       */static createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}/**
       * Causes the setter for the given property to reflect the property value
       * to a (dash-cased) attribute of the same name.
       *
       * @param {string} property Property name
       * @return {void}
       * @protected
       */static createReflectedProperty(property){this.prototype._createReflectedProperty(property)}/**
       * Creates a computed property whose value is set to the result of the
       * method described by the given `expression` each time one or more
       * arguments to the method changes.  The expression should be a string
       * in the form of a normal JavaScript function signature:
       * `'methodName(arg1, [..., argn])'`
       *
       * @param {string} property Name of computed property to set
       * @param {string} expression Method expression
       * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether
       *   method names should be included as a dependency to the effect.
       * @return {void}
       * @protected
       */static createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}/**
       * Parses the provided template to ensure binding effects are created
       * for them, and then ensures property accessors are created for any
       * dependent properties in the template.  Binding effects for bound
       * templates are stored in a linked list on the instance so that
       * templates can be efficiently stamped and unstamped.
       *
       * @param {!HTMLTemplateElement} template Template containing binding
       *   bindings
       * @return {!TemplateInfo} Template metadata object
       * @protected
       */static bindTemplate(template){return this.prototype._bindTemplate(template)}// -- binding ----------------------------------------------
/**
       * Equivalent to static `bindTemplate` API but can be called on
       * an instance to add effects at runtime.  See that method for
       * full API docs.
       *
       * This method may be called on the prototype (for prototypical template
       * binding, to avoid creating accessors every instance) once per prototype,
       * and will be called with `runtimeBinding: true` by `_stampTemplate` to
       * create and link an instance of the template metadata associated with a
       * particular stamping.
       *
       * @param {!HTMLTemplateElement} template Template containing binding
       *   bindings
       * @param {boolean=} instanceBinding When false (default), performs
       *   "prototypical" binding of the template and overwrites any previously
       *   bound template for the class. When true (as passed from
       *   `_stampTemplate`), the template info is instanced and linked into
       *   the list of bound templates.
       * @return {!TemplateInfo} Template metadata object; for `runtimeBinding`,
       *   this is an instance of the prototypical template info
       * @protected
       */_bindTemplate(template,instanceBinding){let templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;// Optimization: since this is called twice for proto-bound templates,
// don't attempt to recreate accessors if this template was pre-bound
if(!wasPreBound){for(let prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){// For instance-time binding, create instance of template metadata
// and link into list of templates if necessary
templateInfo=/** @type {!TemplateInfo} */Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){let last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}/**
       * Adds a property effect to the given template metadata, which is run
       * at the "propagate" stage of `_propertiesChanged` when the template
       * has been bound to the element via `_bindTemplate`.
       *
       * The `effect` object should match the format in `_addPropertyEffect`.
       *
       * @param {Object} templateInfo Template metadata to add effect to
       * @param {string} prop Property that should trigger the effect
       * @param {Object=} effect Effect metadata object
       * @return {void}
       * @protected
       */static _addTemplatePropertyEffect(templateInfo,prop,effect){let hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;let effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}/**
       * Stamps the provided template and performs instance-time setup for
       * Polymer template features, including data bindings, declarative event
       * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment
       * is returned containing the stamped DOM, ready for insertion into the
       * DOM.
       *
       * This method may be called more than once; however note that due to
       * `shadycss` polyfill limitations, only styles from templates prepared
       * using `ShadyCSS.prepareTemplate` will be correctly polyfilled (scoped
       * to the shadow root and support CSS custom properties), and note that
       * `ShadyCSS.prepareTemplate` may only be called once per element. As such,
       * any styles required by in runtime-stamped templates must be included
       * in the main element template.
       *
       * @param {!HTMLTemplateElement} template Template to stamp
       * @return {!StampedTemplate} Cloned template content
       * @override
       * @protected
       */_stampTemplate(template){// Ensures that created dom is `_enqueueClient`'d to this element so
// that it can be flushed on next call to `_flushProperties`
hostStack.beginHosting(this);let dom=super._stampTemplate(template);hostStack.endHosting(this);let templateInfo=/** @type {!TemplateInfo} */this._bindTemplate(template,!0);// Add template-instance-specific data to instanced templateInfo
templateInfo.nodeList=dom.nodeList;// Capture child nodes to allow unstamping of non-prototypical templates
if(!templateInfo.wasPreBound){let nodes=templateInfo.childNodes=[];for(let n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;// Setup compound storage, 2-way listeners, and dataHost for bindings
setupBindings(this,templateInfo);// Flush properties into template nodes if already booted
if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}/**
       * Removes and unbinds the nodes previously contained in the provided
       * DocumentFragment returned from `_stampTemplate`.
       *
       * @param {!StampedTemplate} dom DocumentFragment previously returned
       *   from `_stampTemplate` associated with the nodes to be removed
       * @return {void}
       * @protected
       */_removeBoundDom(dom){// Unlink template info
let templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;// Remove stamped nodes
let nodes=templateInfo.childNodes;for(let i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}/**
       * Overrides default `TemplateStamp` implementation to add support for
       * parsing bindings from `TextNode`'s' `textContent`.  A `bindings`
       * array is added to `nodeInfo` and populated with binding metadata
       * with information capturing the binding target, and a `parts` array
       * with one or more metadata objects capturing the source(s) of the
       * binding.
       *
       * @override
       * @param {Node} node Node to parse
       * @param {TemplateInfo} templateInfo Template metadata for current template
       * @param {NodeInfo} nodeInfo Node metadata for current template node
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       * @protected
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static _parseTemplateNode(node,templateInfo,nodeInfo){let noted=super._parseTemplateNode(node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){let parts=this._parseBindings(node.textContent,templateInfo);if(parts){// Initialize the textContent with any literal parts
// NOTE: default to a space here so the textNode remains; some browsers
// (IE) omit an empty textNode following cloneNode/importNode.
node.textContent=literalFromParts(parts)||" ";addBinding(this,templateInfo,nodeInfo,"text","textContent",parts);noted=!0}}return noted}/**
       * Overrides default `TemplateStamp` implementation to add support for
       * parsing bindings from attributes.  A `bindings`
       * array is added to `nodeInfo` and populated with binding metadata
       * with information capturing the binding target, and a `parts` array
       * with one or more metadata objects capturing the source(s) of the
       * binding.
       *
       * @override
       * @param {Element} node Node to parse
       * @param {TemplateInfo} templateInfo Template metadata for current template
       * @param {NodeInfo} nodeInfo Node metadata for current template node
       * @param {string} name Attribute name
       * @param {string} value Attribute value
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       * @protected
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){let parts=this._parseBindings(value,templateInfo);if(parts){// Attribute or property
let origName=name,kind="property";// The only way we see a capital letter here is if the attr has
// a capital letter in it per spec. In this case, to make sure
// this binding works, we go ahead and make the binding to the attribute.
if(capitalAttributeRegex.test(name)){kind="attribute"}else if("$"==name[name.length-1]){name=name.slice(0,-1);kind="attribute"}// Initialize attribute bindings with any literal parts
let literal=literalFromParts(parts);if(literal&&"attribute"==kind){// Ensure a ShadyCSS template scoped style is not removed
// when a class$ binding's initial literal value is set.
if("class"==name&&node.hasAttribute("class")){literal+=" "+node.getAttribute(name)}node.setAttribute(name,literal)}// Clear attribute before removing, since IE won't allow removing
// `value` attribute if it previously had a value (can't
// unconditionally set '' before removing since attributes with `$`
// can't be set using setAttribute)
if("input"===node.localName&&"value"===origName){node.setAttribute(origName,"")}// Remove annotation
node.removeAttribute(origName);// Case hackery: attributes are lower-case, but bind targets
// (properties) are case sensitive. Gambit is to map dash-case to
// camel-case: `foo-bar` becomes `fooBar`.
// Attribute bindings are excepted.
if("property"===kind){name=Polymer.CaseMap.dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return super._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value)}}/**
       * Overrides default `TemplateStamp` implementation to add support for
       * binding the properties that a nested template depends on to the template
       * as `_host_<property>`.
       *
       * @override
       * @param {Node} node Node to parse
       * @param {TemplateInfo} templateInfo Template metadata for current template
       * @param {NodeInfo} nodeInfo Node metadata for current template node
       * @return {boolean} `true` if the visited node added node-specific
       *   metadata to `nodeInfo`
       * @protected
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){let noted=super._parseTemplateNestedTemplate(node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps,mode="{";// Merge host props into outer template and add bindings
for(let source in hostProps){let parts=[{mode,source,dependencies:[source]}];addBinding(this,templateInfo,nodeInfo,"property","_host_"+source,parts)}return noted}/**
       * Called to parse text in a template (either attribute values or
       * textContent) into binding metadata.
       *
       * Any overrides of this method should return an array of binding part
       * metadata  representing one or more bindings found in the provided text
       * and any "literal" text in between.  Any non-literal parts will be passed
       * to `_evaluateBinding` when any dependencies change.  The only required
       * fields of each "part" in the returned array are as follows:
       *
       * - `dependencies` - Array containing trigger metadata for each property
       *   that should trigger the binding to update
       * - `literal` - String containing text if the part represents a literal;
       *   in this case no `dependencies` are needed
       *
       * Additional metadata for use by `_evaluateBinding` may be provided in
       * each part object as needed.
       *
       * The default implementation handles the following types of bindings
       * (one or more may be intermixed with literal strings):
       * - Property binding: `[[prop]]`
       * - Path binding: `[[object.prop]]`
       * - Negated property or path bindings: `[[!prop]]` or `[[!object.prop]]`
       * - Two-way property or path bindings (supports negation):
       *   `{{prop}}`, `{{object.prop}}`, `{{!prop}}` or `{{!object.prop}}`
       * - Inline computed method (supports negation):
       *   `[[compute(a, 'literal', b)]]`, `[[!compute(a, 'literal', b)]]`
       *
       * The default implementation uses a regular expression for best
       * performance. However, the regular expression uses a white-list of
       * allowed characters in a data-binding, which causes problems for
       * data-bindings that do use characters not in this white-list.
       *
       * Instead of updating the white-list with all allowed characters,
       * there is a StrictBindingParser (see lib/mixins/strict-binding-parser)
       * that uses a state machine instead. This state machine is able to handle
       * all characters. However, it is slightly less performant, therefore we
       * extracted it into a separate optional mixin.
       *
       * @param {string} text Text to parse from attribute or textContent
       * @param {Object} templateInfo Current template metadata
       * @return {Array<!BindingPart>} Array of binding part metadata
       * @protected
       */static _parseBindings(text,templateInfo){let parts=[],lastIndex=0,m;// Example: "literal1{{prop}}literal2[[!compute(foo,bar)]]final"
// Regex matches:
//        Iteration 1:  Iteration 2:
// m[1]: '{{'          '[['
// m[2]: ''            '!'
// m[3]: 'prop'        'compute(foo,bar)'
while(null!==(m=bindingRegex.exec(text))){// Add literal part
if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}// Add binding part
let mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent="",colon=-1;if("{"==mode&&0<(colon=source.indexOf("::"))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}let signature=parseMethod(source),dependencies=[];if(signature){// Inline computed function
let{args,methodName}=signature;for(let i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}let dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{// Property or path
dependencies.push(source)}parts.push({source,mode,negate,customEvent,signature,dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}// Add a final literal part
if(lastIndex&&lastIndex<text.length){let literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}/**
       * Called to evaluate a previously parsed binding part based on a set of
       * one or more changed dependencies.
       *
       * @param {this} inst Element that should be used as scope for
       *   binding dependencies
       * @param {BindingPart} part Binding part metadata
       * @param {string} path Property/path that triggered this effect
       * @param {Object} props Bag of current property changes
       * @param {Object} oldProps Bag of previous values for changed properties
       * @param {boolean} hasPaths True with `props` contains one or more paths
       * @return {*} Value the binding part evaluated to
       * @protected
       */static _evaluateBinding(inst,part,path,props,oldProps,hasPaths){let value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=Polymer.Path.get(inst,part.source)}else{if(hasPaths&&Polymer.Path.isPath(path)){value=Polymer.Path.get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}// make a typing for closure :P
PropertyEffectsType=PropertyEffects;return PropertyEffects});/**
   * Helper api for enqueuing client dom created by a host element.
   *
   * By default elements are flushed via `_flushProperties` when
   * `connectedCallback` is called. Elements attach their client dom to
   * themselves at `ready` time which results from this first flush.
   * This provides an ordering guarantee that the client dom an element
   * creates is flushed before the element itself (i.e. client `ready`
   * fires before host `ready`).
   *
   * However, if `_flushProperties` is called *before* an element is connected,
   * as for example `Templatize` does, this ordering guarantee cannot be
   * satisfied because no elements are connected. (Note: Bound elements that
   * receive data do become enqueued clients and are properly ordered but
   * unbound elements are not.)
   *
   * To maintain the desired "client before host" ordering guarantee for this
   * case we rely on the "host stack. Client nodes registers themselves with
   * the creating host element when created. This ensures that all client dom
   * is readied in the proper order, maintaining the desired guarantee.
   *
   * @private
   */let hostStack={stack:[],/**
     * @param {*} inst Instance to add to hostStack
     * @return {void}
     * @this {hostStack}
     */registerHost(inst){if(this.stack.length){let host=this.stack[this.stack.length-1];host._enqueueClient(inst)}},/**
     * @param {*} inst Instance to begin hosting
     * @return {void}
     * @this {hostStack}
     */beginHosting(inst){this.stack.push(inst)},/**
     * @param {*} inst Instance to end hosting
     * @return {void}
     * @this {hostStack}
     */endHosting(inst){let stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}}})();</script><script>(function(){'use strict';/**
   * Provides basic tracking of element definitions (registrations) and
   * instance counts.
   *
   * @namespace
   * @summary Provides basic tracking of element definitions (registrations) and
   * instance counts.
   */Polymer.telemetry={/**
     * Total number of Polymer element instances created.
     * @type {number}
     */instanceCount:0,/**
     * Array of Polymer element classes that have been finalized.
     * @type {Array<Polymer.Element>}
     */registrations:[],/**
     * @param {!PolymerElementConstructor} prototype Element prototype to log
     * @this {this}
     * @private
     */_regLog:function(prototype){console.log("["+prototype.is+"]: registered")},/**
     * Registers a class prototype for telemetry purposes.
     * @param {HTMLElement} prototype Element prototype to register
     * @this {this}
     * @protected
     */register:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},/**
     * Logs all elements registered with an `is` to the console.
     * @public
     * @this {this}
     */dumpRegistrations:function(){this.registrations.forEach(this._regLog)}}})();</script><script>(function(){'use strict';/**
   * Creates a copy of `props` with each property normalized such that
   * upgraded it is an object with at least a type property { type: Type}.
   *
   * @param {Object} props Properties to normalize
   * @return {Object} Copy of input `props` with normalized properties that
   * are in the form {type: Type}
   * @private
   */function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}/**
   * Mixin that provides a minimal starting point to using the PropertiesChanged
   * mixin by providing a mechanism to declare properties in a static
   * getter (e.g. static get properties() { return { foo: String } }). Changes
   * are reported via the `_propertiesChanged` method.
   *
   * This mixin provides no specific support for rendering. Users are expected
   * to create a ShadowRoot and put content into it and update it in whatever
   * way makes sense. This can be done in reaction to properties changing by
   * implementing `_propertiesChanged`.
   *
   * @mixinFunction
   * @polymer
   * @appliesMixin Polymer.PropertiesChanged
   * @memberof Polymer
   * @summary Mixin that provides a minimal starting point for using
   * the PropertiesChanged mixin by providing a declarative `properties` object.
   */Polymer.PropertiesMixin=Polymer.dedupingMixin(superClass=>{/**
     * @constructor
     * @extends {superClass}
     * @implements {Polymer_PropertiesChanged}
     * @private
     */const base=Polymer.PropertiesChanged(superClass);/**
     * Returns the super class constructor for the given class, if it is an
     * instance of the PropertiesMixin.
     *
     * @param {!PropertiesMixinConstructor} constructor PropertiesMixin constructor
     * @return {PropertiesMixinConstructor} Super class constructor
     */function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);// Note, the `PropertiesMixin` class below only refers to the class
// generated by this call to the mixin; the instanceof test only works
// because the mixin is deduped and guaranteed only to apply once, hence
// all constructors in a proto chain will see the same `PropertiesMixin`
return superCtor.prototype instanceof PropertiesMixin?/** @type {PropertiesMixinConstructor} */superCtor:null}/**
     * Returns a memoized version of the `properties` object for the
     * given class. Properties not in object format are converted to at
     * least {type}.
     *
     * @param {PropertiesMixinConstructor} constructor PropertiesMixin constructor
     * @return {Object} Memoized properties object
     */function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))){const properties=constructor.properties;if(properties){props=normalizeProperties(properties)}}constructor.__ownProperties=props}return constructor.__ownProperties}/**
     * @polymer
     * @mixinClass
     * @extends {base}
     * @implements {Polymer_PropertiesMixin}
     * @unrestricted
     */class PropertiesMixin extends base{/**
       * Implements standard custom elements getter to observes the attributes
       * listed in `properties`.
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static get observedAttributes(){if(!this.hasOwnProperty("__observedAttributes")){Polymer.telemetry.register(this.prototype);const props=this._properties;this.__observedAttributes=props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}return this.__observedAttributes}/**
       * Finalizes an element definition, including ensuring any super classes
       * are also finalized. This includes ensuring property
       * accessors exist on the element prototype. This method calls
       * `_finalizeClass` to finalize each constructor in the prototype chain.
       * @return {void}
       */static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const superCtor=superPropertiesClass(/** @type {PropertiesMixinConstructor} */this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}/**
       * Finalize an element class. This includes ensuring property
       * accessors exist on the element prototype. This method is called by
       * `finalize` and finalizes the class constructor.
       *
       * @protected
       */static _finalizeClass(){const props=ownProperties(/** @type {PropertiesMixinConstructor} */this);if(props){this.createProperties(props)}}/**
       * Returns a memoized version of all properties, including those inherited
       * from super classes. Properties not in object format are converted to
       * at least {type}.
       *
       * @return {Object} Object containing properties for this class
       * @protected
       */static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const superCtor=superPropertiesClass(/** @type {PropertiesMixinConstructor} */this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(/** @type {PropertiesMixinConstructor} */this))}return this.__properties}/**
       * Overrides `PropertiesChanged` method to return type specified in the
       * static `properties` object for the given property.
       * @param {string} name Name of property
       * @return {*} Type to which to deserialize attribute
       *
       * @protected
       */static typeForProperty(name){const info=this._properties[name];return info&&info.type}/**
       * Overrides `PropertiesChanged` method and adds a call to
       * `finalize` which lazily configures the element's property accessors.
       * @override
       * @return {void}
       */_initializeProperties(){Polymer.telemetry.instanceCount++;this.constructor.finalize();super._initializeProperties()}/**
       * Called when the element is added to a document.
       * Calls `_enableProperties` to turn on property system from
       * `PropertiesChanged`.
       * @suppress {missingProperties} Super may or may not implement the callback
       * @return {void}
       */connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}/**
       * Called when the element is removed from a document
       * @suppress {missingProperties} Super may or may not implement the callback
       * @return {void}
       */disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin})})();</script><script>(function(){'use strict';const builtCSS=window.ShadyCSS&&window.ShadyCSS.cssBuild;/**
   * Element class mixin that provides the core API for Polymer's meta-programming
   * features including template stamping, data-binding, attribute deserialization,
   * and property change observation.
   *
   * Subclassers may provide the following static getters to return metadata
   * used to configure Polymer's features for the class:
   *
   * - `static get is()`: When the template is provided via a `dom-module`,
   *   users should return the `dom-module` id from a static `is` getter.  If
   *   no template is needed or the template is provided directly via the
   *   `template` getter, there is no need to define `is` for the element.
   *
   * - `static get template()`: Users may provide the template directly (as
   *   opposed to via `dom-module`) by implementing a static `template` getter.
   *   The getter may return an `HTMLTemplateElement` or a string, which will
   *   automatically be parsed into a template.
   *
   * - `static get properties()`: Should return an object describing
   *   property-related metadata used by Polymer features (key: property name
   *   value: object containing property metadata). Valid keys in per-property
   *   metadata include:
   *   - `type` (String|Number|Object|Array|...): Used by
   *     `attributeChangedCallback` to determine how string-based attributes
   *     are deserialized to JavaScript property values.
   *   - `notify` (boolean): Causes a change in the property to fire a
   *     non-bubbling event called `<property>-changed`. Elements that have
   *     enabled two-way binding to the property use this event to observe changes.
   *   - `readOnly` (boolean): Creates a getter for the property, but no setter.
   *     To set a read-only property, use the private setter method
   *     `_setProperty(property, value)`.
   *   - `observer` (string): Observer method name that will be called when
   *     the property changes. The arguments of the method are
   *     `(value, previousValue)`.
   *   - `computed` (string): String describing method and dependent properties
   *     for computing the value of this property (e.g. `'computeFoo(bar, zot)'`).
   *     Computed properties are read-only by default and can only be changed
   *     via the return value of the computing method.
   *
   * - `static get observers()`: Array of strings describing multi-property
   *   observer methods and their dependent properties (e.g.
   *   `'observeABC(a, b, c)'`).
   *
   * The base class provides default implementations for the following standard
   * custom element lifecycle callbacks; users may override these, but should
   * call the super method to ensure
   * - `constructor`: Run when the element is created or upgraded
   * - `connectedCallback`: Run each time the element is connected to the
   *   document
   * - `disconnectedCallback`: Run each time the element is disconnected from
   *   the document
   * - `attributeChangedCallback`: Run each time an attribute in
   *   `observedAttributes` is set or removed (note: this element's default
   *   `observedAttributes` implementation will automatically return an array
   *   of dash-cased attributes based on `properties`)
   *
   * @mixinFunction
   * @polymer
   * @appliesMixin Polymer.PropertyEffects
   * @appliesMixin Polymer.PropertiesMixin
   * @memberof Polymer
   * @property rootPath {string} Set to the value of `Polymer.rootPath`,
   *   which defaults to the main document path
   * @property importPath {string} Set to the value of the class's static
   *   `importPath` property, which defaults to the path of this element's
   *   `dom-module` (when `is` is used), but can be overridden for other
   *   import strategies.
   * @summary Element class mixin that provides the core API for Polymer's
   * meta-programming features.
   */Polymer.ElementMixin=Polymer.dedupingMixin(base=>{/**
     * @constructor
     * @extends {base}
     * @implements {Polymer_PropertyEffects}
     * @implements {Polymer_PropertiesMixin}
     * @private
     */const polymerElementBase=Polymer.PropertiesMixin(Polymer.PropertyEffects(base));/**
     * Returns a list of properties with default values.
     * This list is created as an optimization since it is a subset of
     * the list returned from `_properties`.
     * This list is used in `_initializeProperties` to set property defaults.
     *
     * @param {PolymerElementConstructor} constructor Element class
     * @return {PolymerElementProperties} Flattened properties for this class
     *   that have default values
     * @private
     */function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;let props=constructor._properties;for(let p in props){let info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}/**
     * Returns a memoized version of the `observers` array.
     * @param {PolymerElementConstructor} constructor Element class
     * @return {Array} Array containing own observers for the given class
     * @protected
     */function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?/** @type {PolymerElementConstructor} */constructor.observers:null}return constructor.__ownObservers}/**
     * Creates effects for a property.
     *
     * Note, once a property has been set to
     * `readOnly`, `computed`, `reflectToAttribute`, or `notify`
     * these values may not be changed. For example, a subclass cannot
     * alter these settings. However, additional `observers` may be added
     * by subclasses.
     *
     * The info object should contain property metadata as follows:
     *
     * * `type`: {function} type to which an attribute matching the property
     * is deserialized. Note the property is camel-cased from a dash-cased
     * attribute. For example, 'foo-bar' attribute is deserialized to a
     * property named 'fooBar'.
     *
     * * `readOnly`: {boolean} creates a readOnly property and
     * makes a private setter for the private of the form '_setFoo' for a
     * property 'foo',
     *
     * * `computed`: {string} creates a computed property. A computed property
     * is also automatically set to `readOnly: true`. The value is calculated
     * by running a method and arguments parsed from the given string. For
     * example 'compute(foo)' will compute a given property when the
     * 'foo' property changes by executing the 'compute' method. This method
     * must return the computed value.
     *
     * * `reflectToAttribute`: {boolean} If true, the property value is reflected
     * to an attribute of the same name. Note, the attribute is dash-cased
     * so a property named 'fooBar' is reflected as 'foo-bar'.
     *
     * * `notify`: {boolean} sends a non-bubbling notification event when
     * the property changes. For example, a property named 'foo' sends an
     * event named 'foo-changed' with `event.detail` set to the value of
     * the property.
     *
     * * observer: {string} name of a method that runs when the property
     * changes. The arguments of the method are (value, previousValue).
     *
     * Note: Users may want control over modifying property
     * effects via subclassing. For example, a user might want to make a
     * reflectToAttribute property not do so in a subclass. We've chosen to
     * disable this because it leads to additional complication.
     * For example, a readOnly effect generates a special setter. If a subclass
     * disables the effect, the setter would fail unexpectedly.
     * Based on feedback, we may want to try to make effects more malleable
     * and/or provide an advanced api for manipulating them.
     * Also consider adding warnings when an effect cannot be changed.
     *
     * @param {!PolymerElement} proto Element class prototype to add accessors
     *   and effects to
     * @param {string} name Name of the property.
     * @param {Object} info Info object from which to create property effects.
     * Supported keys:
     * @param {Object} allProps Flattened map of all properties defined in this
     *   element (including inherited properties)
     * @return {void}
     * @private
     */function createPropertyFromConfig(proto,name,info,allProps){// computed forces readOnly...
if(info.computed){info.readOnly=!0}// Note, since all computed properties are readOnly, this prevents
// adding additional computed property effects (which leads to a confusing
// setup where multiple triggers for setting a property)
// While we do have `hasComputedEffect` this is set on the property's
// dependencies rather than itself.
if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}// always add observer
if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}// always create the mapping from attribute back to property for deserialization.
proto._addPropertyToAttributeMap(name)}/**
     * Process all style elements in the element template. Styles with the
     * `include` attribute are processed such that any styles in
     * the associated "style modules" are included in the element template.
     * @param {PolymerElementConstructor} klass Element class
     * @param {!HTMLTemplateElement} template Template to process
     * @param {string} is Name of element
     * @param {string} baseURI Base URI for element
     * @private
     */function processElementStyles(klass,template,is,baseURI){if(!builtCSS){const templateStyles=template.content.querySelectorAll("style"),stylesWithImports=Polymer.StyleGather.stylesFromTemplate(template),linkedStyles=Polymer.StyleGather.stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild;for(let idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}// keep track of the last "concrete" style in the template we have encountered
let templateStyleIndex=0;// ensure all gathered styles are actually in this template.
for(let i=0;i<stylesWithImports.length;i++){let s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];// if the style is not in this template, it's been "included" and
// we put a clone of it in the template before the style that included it
if(templateStyle!==s){s=s.cloneNode(!0);templateStyle.parentNode.insertBefore(s,templateStyle)}else{templateStyleIndex++}s.textContent=klass._processStyleText(s.textContent,baseURI)}}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}/**
     * Look up template from dom-module for element
     *
     * @param {!string} is Element name to look up
     * @return {!HTMLTemplateElement} Template found in dom module, or
     *   undefined if not found
     * @protected
     */function getTemplateFromDomModule(is){let template=null;if(is&&Polymer.DomModule){template=Polymer.DomModule.import(is,"template");// Under strictTemplatePolicy, require any element with an `is`
// specified to have a dom-module
if(Polymer.strictTemplatePolicy&&!template){throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${is}`)}}return template}/**
     * @polymer
     * @mixinClass
     * @unrestricted
     * @implements {Polymer_ElementMixin}
     */class PolymerElement extends polymerElementBase{/**
       * Override of PropertiesMixin _finalizeClass to create observers and
       * find the template.
       * @return {void}
       * @protected
       * @override
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static _finalizeClass(){super._finalizeClass();const observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}this._prepareTemplate()}static _prepareTemplate(){// note: create "working" template that is finalized at instance time
let template=/** @type {PolymerElementConstructor} */this.template;if(template){if("string"===typeof template){let t=document.createElement("template");t.innerHTML=template;template=t}else if(!Polymer.legacyOptimizations){template=template.cloneNode(!0)}}this.prototype._template=template}/**
       * Override of PropertiesChanged createProperties to create accessors
       * and property effects for all of the properties.
       * @return {void}
       * @protected
       * @override
       */static createProperties(props){for(let p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}/**
       * Creates observers for the given `observers` array.
       * Leverages `PropertyEffects` to create observers.
       * @param {Object} observers Array of observer descriptors for
       *   this class
       * @param {Object} dynamicFns Object containing keys for any properties
       *   that are functions and should trigger the effect when the function
       *   reference is changed
       * @return {void}
       * @protected
       */static createObservers(observers,dynamicFns){const proto=this.prototype;for(let i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}/**
       * Returns the template that will be stamped into this element's shadow root.
       *
       * If a `static get is()` getter is defined, the default implementation
       * will return the first `<template>` in a `dom-module` whose `id`
       * matches this element's `is`.
       *
       * Users may override this getter to return an arbitrary template
       * (in which case the `is` getter is unnecessary). The template returned
       * may be either an `HTMLTemplateElement` or a string that will be
       * automatically parsed into a template.
       *
       * Note that when subclassing, if the super class overrode the default
       * implementation and the subclass would like to provide an alternate
       * template via a `dom-module`, it should override this getter and
       * return `Polymer.DomModule.import(this.is, 'template')`.
       *
       * If a subclass would like to modify the super class template, it should
       * clone it rather than modify it in place.  If the getter does expensive
       * work such as cloning/modifying a template, it should memoize the
       * template for maximum performance:
       *
       *   let memoizedTemplate;
       *   class MySubClass extends MySuperClass {
       *     static get template() {
       *       if (!memoizedTemplate) {
       *         memoizedTemplate = MySuperClass.template.cloneNode(true);
       *         let subContent = document.createElement('div');
       *         subContent.textContent = 'This came from MySubClass';
       *         memoizedTemplate.content.appendChild(subContent);
       *       }
       *       return memoizedTemplate;
       *     }
       *   }
       *
       * @return {HTMLTemplateElement|string} Template to be stamped
       */static get template(){// Explanation of template-related properties:
// - constructor.template (this getter): the template for the class.
//     This can come from the prototype (for legacy elements), from a
//     dom-module, or from the super class's template (or can be overridden
//     altogether by the user)
// - constructor._template: memoized version of constructor.template
// - prototype._template: working template for the element, which will be
//     parsed and modified in place. It is a cloned version of
//     constructor.template, saved in _finalizeClass(). Note that before
//     this getter is called, for legacy elements this could be from a
//     _template field on the info object passed to Polymer(), a behavior,
//     or set in registered(); once the static getter runs, a clone of it
//     will overwrite it on the prototype as the working template.
if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=// If user has put template on prototype (e.g. in legacy via registered
// callback or info object), prefer that first
this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:// Look in dom-module associated with this element's is
getTemplateFromDomModule(/** @type {PolymerElementConstructor}*/this.is)||// Next look for superclass template (call the super impl this
// way so that `this` points to the superclass)
Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/this.prototype).constructor.template}return this._template}/**
       * Set the template.
       *
       * @param {HTMLTemplateElement|string} value Template to set.
       */static set template(value){this._template=value}/**
       * Path matching the url from which the element was imported.
       *
       * This path is used to resolve url's in template style cssText.
       * The `importPath` property is also set on element instances and can be
       * used to create bindings relative to the import path.
       *
       * For elements defined in ES modules, users should implement
       * `static get importMeta() { return import.meta; }`, and the default
       * implementation of `importPath` will  return `import.meta.url`'s path.
       * For elements defined in HTML imports, this getter will return the path
       * to the document containing a `dom-module` element matching this
       * element's static `is` property.
       *
       * Note, this path should contain a trailing `/`.
       *
       * @return {string} The import path for this element class
       * @suppress {missingProperties}
       */static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const meta=this.importMeta;if(meta){this._importPath=Polymer.ResolveUrl.pathFromUrl(meta.url)}else{const module=Polymer.DomModule&&Polymer.DomModule.import(/** @type {PolymerElementConstructor} */this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/this.prototype).constructor.importPath}}return this._importPath}constructor(){super();/** @type {HTMLTemplateElement} */this._template;/** @type {string} */this._importPath;/** @type {string} */this.rootPath;/** @type {string} */this.importPath;/** @type {StampedTemplate | HTMLElement | ShadowRoot} */this.root;/** @type {!Object<string, !Element>} */this.$}/**
       * Overrides the default `Polymer.PropertyAccessors` to ensure class
       * metaprogramming related to property accessors and effects has
       * completed (calls `finalize`).
       *
       * It also initializes any property defaults provided via `value` in
       * `properties` metadata.
       *
       * @return {void}
       * @override
       * @suppress {invalidCasts}
       */_initializeProperties(){this.constructor.finalize();// note: finalize template when we have access to `localName` to
// avoid dependence on `is` for polyfilling styling.
this.constructor._finalizeTemplate(/** @type {!HTMLElement} */this.localName);super._initializeProperties();// set path defaults
this.rootPath=Polymer.rootPath;this.importPath=this.constructor.importPath;// apply property defaults...
let p$=propertyDefaults(this.constructor);if(!p$){return}for(let p in p$){let info=p$[p];// Don't set default value if there is already an own property, which
// happens when a `properties` property with default but no effects had
// a property set (e.g. bound) by its host before upgrade
if(!this.hasOwnProperty(p)){let value="function"==typeof info.value?info.value.call(this):info.value;// Set via `_setProperty` if there is an accessor, to enable
// initializing readOnly property defaults
if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}/**
       * Gather style text for a style element in the template.
       *
       * @param {string} cssText Text containing styling to process
       * @param {string} baseURI Base URI to rebase CSS paths against
       * @return {string} The processed CSS text
       * @protected
       */static _processStyleText(cssText,baseURI){return Polymer.ResolveUrl.resolveCss(cssText,baseURI)}/**
      * Configures an element `proto` to function with a given `template`.
      * The element name `is` and extends `ext` must be specified for ShadyCSS
      * style scoping.
      *
      * @param {string} is Tag name (or type extension name) for this element
      * @return {void}
      * @protected
      */static _finalizeTemplate(is){/** @const {HTMLTemplateElement} */const template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;const importPath=this.importPath,baseURI=importPath?Polymer.ResolveUrl.resolveUrl(importPath):"";// e.g. support `include="module-name"`, and ShadyCSS
processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}/**
       * Provides a default implementation of the standard Custom Elements
       * `connectedCallback`.
       *
       * The default implementation enables the property effects system and
       * flushes any pending properties, and updates shimmed CSS properties
       * when using the ShadyCSS scoping/custom properties polyfill.
       *
       * @suppress {missingProperties, invalidCasts} Super may or may not implement the callback
       * @return {void}
       */connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(/** @type {!HTMLElement} */this)}super.connectedCallback()}/**
       * Stamps the element template.
       *
       * @return {void}
       * @override
       */ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}super.ready()}/**
       * Implements `PropertyEffects`'s `_readyClients` call. Attaches
       * element dom by calling `_attachDom` with the dom stamped from the
       * element's template via `_stampTemplate`. Note that this allows
       * client dom to be attached to the element prior to any observers
       * running.
       *
       * @return {void}
       * @override
       */_readyClients(){if(this._template){this.root=this._attachDom(/** @type {StampedTemplate} */this.root)}// The super._readyClients here sets the clients initialized flag.
// We must wait to do this until after client dom is created/attached
// so that this flag can be checked to prevent notifications fired
// during this process from being handled before clients are ready.
super._readyClients()}/**
       * Attaches an element's stamped dom to itself. By default,
       * this method creates a `shadowRoot` and adds the dom to it.
       * However, this method may be overridden to allow an element
       * to put its dom in another location.
       *
       * @throws {Error}
       * @suppress {missingReturn}
       * @param {StampedTemplate} dom to attach to the element.
       * @return {ShadowRoot} node to which the dom has been attached.
       */_attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+// TODO(sorvell): move to compile-time conditional when supported
"Polymer.Element can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}/**
       * When using the ShadyCSS scoping and custom property shim, causes all
       * shimmed styles in this element (and its subtree) to be updated
       * based on current custom property values.
       *
       * The optional parameter overrides inline custom property styles with an
       * object of properties where the keys are CSS properties, and the values
       * are strings.
       *
       * Example: `this.updateStyles({'--color': 'blue'})`
       *
       * These properties are retained unless a value of `null` is set.
       *
       * Note: This function does not support updating CSS mixins.
       * You can not dynamically change the value of an `@apply`.
       *
       * @param {Object=} properties Bag of custom property key/values to
       *   apply to this element.
       * @return {void}
       * @suppress {invalidCasts}
       */updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */this,properties)}}/**
       * Rewrites a given URL relative to a base URL. The base URL defaults to
       * the original location of the document containing the `dom-module` for
       * this element. This method will return the same URL before and after
       * bundling.
       *
       * Note that this function performs no resolution for URLs that start
       * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose
       * URL resolution, use `window.URL`.
       *
       * @param {string} url URL to resolve.
       * @param {string=} base Optional base URL to resolve against, defaults
       * to the element's `importPath`
       * @return {string} Rewritten URL relative to base
       */resolveUrl(url,base){if(!base&&this.importPath){base=Polymer.ResolveUrl.resolveUrl(this.importPath)}return Polymer.ResolveUrl.resolveUrl(url,base)}/**
       * Overrides `PropertyAccessors` to add map of dynamic functions on
       * template info, for consumption by `PropertyEffects` template binding
       * code. This map determines which method templates should have accessors
       * created for them.
       *
       * @override
       * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
       */static _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return super._parseTemplateContent(template,templateInfo,nodeInfo)}}return PolymerElement});/**
   * When using the ShadyCSS scoping and custom property shim, causes all
   * shimmed `styles` (via `custom-style`) in the document (and its subtree)
   * to be updated based on current custom property values.
   *
   * The optional parameter overrides inline custom property styles with an
   * object of properties where the keys are CSS properties, and the values
   * are strings.
   *
   * Example: `Polymer.updateStyles({'--color': 'blue'})`
   *
   * These properties are retained unless a value of `null` is set.
   *
   * @param {Object=} props Bag of custom property key/values to
   *   apply to the document.
   * @return {void}
   */Polymer.updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}}})();</script><script>(function(){'use strict';/**
     * Class representing a static string value which can be used to filter
     * strings by asseting that they have been created via this class. The
     * `value` property returns the string passed to the constructor.
     */class LiteralString{constructor(string){/** @type {string} */this.value=string.toString()}/**
       * @return {string} LiteralString string value
       */toString(){return this.value}}/**
     * @param {*} value Object to stringify into HTML
     * @return {string} HTML stringified form of `obj`
     */function literalValue(value){if(value instanceof LiteralString){return(/** @type {!LiteralString} */value.value)}else{throw new Error(`non-literal value passed to Polymer.htmlLiteral: ${value}`)}}/**
     * @param {*} value Object to stringify into HTML
     * @return {string} HTML stringified form of `obj`
     */function htmlValue(value){if(value instanceof HTMLTemplateElement){return(/** @type {!HTMLTemplateElement } */value.innerHTML)}else if(value instanceof LiteralString){return literalValue(value)}else{throw new Error(`non-template value passed to Polymer.html: ${value}`)}}/**
     * A template literal tag that creates an HTML <template> element from the
     * contents of the string.
     *
     * This allows you to write a Polymer Template in JavaScript.
     *
     * Templates can be composed by interpolating `HTMLTemplateElement`s in
     * expressions in the JavaScript template literal. The nested template's
     * `innerHTML` is included in the containing template.  The only other
     * values allowed in expressions are those returned from `Polymer.htmlLiteral`
     * which ensures only literal values from JS source ever reach the HTML, to
     * guard against XSS risks.
     *
     * All other values are disallowed in expressions to help prevent XSS
     * attacks; however, `Polymer.htmlLiteral` can be used to compose static
     * string values into templates. This is useful to compose strings into
     * places that do not accept html, like the css text of a `style`
     * element.
     *
     * Example:
     *
     *     static get template() {
     *       return Polymer.html`
     *         <style>:host{ content:"..." }</style>
     *         <div class="shadowed">${this.partialTemplate}</div>
     *         ${super.template}
     *       `;
     *     }
     *     static get partialTemplate() { return Polymer.html`<span>Partial!</span>`; }
     *
     * @memberof Polymer
     * @param {!ITemplateArray} strings Constant parts of tagged template literal
     * @param {...*} values Variable parts of tagged template literal
     * @return {!HTMLTemplateElement} Constructed HTMLTemplateElement
     */Polymer.html=function html(strings,...values){const template=/** @type {!HTMLTemplateElement} */document.createElement("template");template.innerHTML=values.reduce((acc,v,idx)=>acc+htmlValue(v)+strings[idx+1],strings[0]);return template};/**
     * An html literal tag that can be used with `Polymer.html` to compose.
     * a literal string.
     *
     * Example:
     *
     *     static get template() {
     *       return Polymer.html`
     *         <style>
     *           :host { display: block; }
     *           ${styleTemplate}
     *         </style>
     *         <div class="shadowed">${staticValue}</div>
     *         ${super.template}
     *       `;
     *     }
     *     static get styleTemplate() { return Polymer.htmlLiteral`.shadowed { background: gray; }`; }
     *
     * @memberof Polymer
     * @param {!ITemplateArray} strings Constant parts of tagged template literal
     * @param {...*} values Variable parts of tagged template literal
     * @return {!LiteralString} Constructed literal string
     */Polymer.htmlLiteral=function(strings,...values){return new LiteralString(values.reduce((acc,v,idx)=>acc+literalValue(v)+strings[idx+1],strings[0]))}})();</script><script>(function(){'use strict';/**
   * Base class that provides the core API for Polymer's meta-programming
   * features including template stamping, data-binding, attribute deserialization,
   * and property change observation.
   *
   * @customElement
   * @memberof Polymer
   * @constructor
   * @implements {Polymer_ElementMixin}
   * @extends {HTMLElement}
   * @appliesMixin Polymer.ElementMixin
   * @summary Custom element base class that provides the core API for Polymer's
   *   key meta-programming features including template stamping, data-binding,
   *   attribute deserialization, and property change observation
   */Polymer.Element=Polymer.ElementMixin(HTMLElement);// NOTE: this is here for modulizer to export `html` for the module version of this file
Polymer.html=Polymer.html})();</script><script>(function(){'use strict';let scheduled=/* eat */!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;// before next render
requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);// after the render
setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(let i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}function flush(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}/**
   * Module for scheduling flushable pre-render and post-render tasks.
   *
   * @namespace
   * @memberof Polymer
   * @summary Module for scheduling flushable pre-render and post-render tasks.
   */Polymer.RenderStatus={/**
     * Enqueues a callback which will be run before the next render, at
     * `requestAnimationFrame` timing.
     *
     * This method is useful for enqueuing work that requires DOM measurement,
     * since measurement may not be reliable in custom element callbacks before
     * the first render, as well as for batching measurement tasks in general.
     *
     * Tasks in this queue may be flushed by calling `Polymer.RenderStatus.flush()`.
     *
     * @memberof Polymer.RenderStatus
     * @param {*} context Context object the callback function will be bound to
     * @param {function(...*):void} callback Callback function
     * @param {!Array=} args An array of arguments to call the callback function with
     * @return {void}
     */beforeNextRender:function(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])},/**
     * Enqueues a callback which will be run after the next render, equivalent
     * to one task (`setTimeout`) after the next `requestAnimationFrame`.
     *
     * This method is useful for tuning the first-render performance of an
     * element or application by deferring non-critical work until after the
     * first paint.  Typical non-render-critical work may include adding UI
     * event listeners and aria attributes.
     *
     * @memberof Polymer.RenderStatus
     * @param {*} context Context object the callback function will be bound to
     * @param {function(...*):void} callback Callback function
     * @param {!Array=} args An array of arguments to call the callback function with
     * @return {void}
     */afterNextRender:function(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])},/**
     * Flushes all `beforeNextRender` tasks, followed by all `afterNextRender`
     * tasks.
     *
     * @memberof Polymer.RenderStatus
     * @return {void}
     */flush:flush}})();</script><script>(function(){'use strict';const RAMLAware={defaultScope:"default",ramlAwares:[],/**
     * Store for RAML definitions.
     * @type {Object<String, Object>} The key is a scope (`default` by default)
     * and the value is the RAML definition for this scope.
     */raml:{},/**
     * Attaches new RAML aware to the system. Added aware element will get
     * updates about new content.
     *
     * @param {RamlAware} aware The aware instance.
     */attachRamlAware:function(aware){if(-1===this.ramlAwares.indexOf(aware)){this.ramlAwares.push(aware);if(!aware.scope){aware.scope=this.defaultScope}else{this.scopeChanged(aware)}}},/**
     * Removes avare from the map.
     * @param {RamlAware} aware Instance of the aware
     */detachRamlAware:function(aware){const index=this.ramlAwares.indexOf(aware);if(-1!==index){this.ramlAwares.splice(index,1);this.cleanUpData(aware.scope)}else{console.warn("The aware wasn't attached!")}},/**
     * [setRaml description]
     * @param {HTMLElement} srcAware The aware that notified about the change
     */setRaml:function(srcAware){const scope=srcAware.scope||this.defaultScope,raml=srcAware.raml||void 0;this.raml[scope]=raml;const defaultScope=this.defaultScope;this.ramlAwares.forEach(function(aware){if(aware===srcAware){return}const localScope=aware.scope||defaultScope;if(localScope!==scope){return}aware.raml=raml})},scopeChanged:function(aware){const scope=aware.scope||this.defaultScope;if(this.raml[scope]){aware.raml=this.raml[scope]}},/**
     * Checks if
     * @param {[type]} scope [description]
     * @return {[type]} [description]
     */cleanUpData:function(scope){const awares=this.ramlAwares;for(var i=0,len=awares.length;i<len;i++){if(awares[i].scope===scope){return}}delete this.raml[scope]}};/**
   *
   * Element that is aware of the AMF (RAML, OAS) content.
   *
   * The element contains the same RAML data as other elements whenever their
   * location in the document. The RAML data are encapsulated in `scope` attribute.
   * By default the `scope` is `default`. If you create two `<raml-aware>`s with
   * different scopes then changing one raml will not affect the other.
   *
   * Setting a RAML data on a `<raml-aware>` will notify other awares with the same
   * scopes about the change and update their RAML data so it can be transfered
   * between different parts of application on even different web components.
   *
   * ### Example
   *
   * ```html
   * <raml-aware raml="{{raml}}" scope="request"></raml-aware>
   * <raml-aware raml="{{importRaml}}" scope="import"></raml-aware>
   * ```
   *
   * ```javascript
   * const r1 = document.querySelector('raml-aware[scope="request"]');
   * const r2 = document.querySelector('raml-aware[scope="import"]');
   * r1.raml = {};
   * r2.raml = null;
   * assert(r1.raml !== r2.raml);
   * ```
   *
   * ## Limitations
   *
   * `RamlAware` has to be attached to DOM for it to work. This element uses
   * web components callback methods to initialize value. If the component is
   * never attached it will never initialize it's values.
   *
   * @customElement
   * @polymer
   * @memberof ApiElements
   * @demo demo/index.html
   */class RamlAware extends Polymer.Element{static get is(){return"raml-aware"}static get properties(){return{/**
         * Scope for the RAML file.
         * Different awares may have different scope and keep different RAML objects.
         * It can be useful when one aware supports request panel and another
         * RAML import for example. In this case first one may have scope not set
         * (`default` scope) and second one `import` scope. Then both RAMLs are
         * encapsulated to the scope.
         */scope:{type:String,observer:"_scopeChanged"},// The RAML/AMF definition.
raml:{type:Object,notify:!0}}}static get observers(){return["_ramlChanged(raml.*)"]}connectedCallback(){super.connectedCallback();RAMLAware.attachRamlAware(this)}disconnectedCallback(){super.disconnectedCallback();RAMLAware.detachRamlAware(this)}/**
     * Update RAML data for selected scope.
     */_scopeChanged(){RAMLAware.scopeChanged(this)}/**
     * Notifies other awares about RAML change.
     */_ramlChanged(){RAMLAware.setRaml(this)}}window.customElements.define(RamlAware.is,RamlAware)})();</script><script>(function(){/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/'use strict';var l=!(window.ShadyDOM&&window.ShadyDOM.inUse),p;function r(a){p=a&&a.shimcssproperties?!1:l||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}var t;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(t=window.ShadyCSS.cssBuild);var aa=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?p=window.ShadyCSS.nativeCss:window.ShadyCSS?(r(window.ShadyCSS),window.ShadyCSS=void 0):r(window.WebComponents&&window.WebComponents.flags);var u=p,v=t;function w(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}function x(a){a=a.replace(ba,"").replace(ca,"");var b=y,c=a,e=new w;e.start=0;e.end=c.length;for(var d=e,f=0,g=c.length;f<g;f++)if("{"===c[f]){d.rules||(d.rules=[]);var h=d,k=h.rules[h.rules.length-1]||null;d=new w;d.start=f+1;d.parent=h;d.previous=k;h.rules.push(d)}else"}"===c[f]&&(d.end=f+1,d=d.parent||e);return b(e,a)}function y(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=da(c),c=c.replace(z," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?0===c.indexOf("@media")?a.type=A:c.match(ea)&&(a.type=B,a.keyframesName=a.selector.split(z).pop()):a.type=0===c.indexOf("--")?C:D);if(c=a.rules)for(var e=0,d=c.length,f=void 0;e<d&&(f=c[e]);e++)y(f,b);return a}function da(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})}function E(a,b,c){c=void 0===c?"":c;var e="";if(a.cssText||a.rules){var d=a.rules,f;if(f=d)f=d[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=d.length,h=void 0;f<g&&(h=d[f]);f++)e=E(h,b,e)}else b?b=a.cssText:(b=a.cssText,b=b.replace(fa,"").replace(ha,""),b=b.replace(ia,"").replace(ja,"")),(e=b.trim())&&(e="  "+e+"\n")}e&&(a.selector&&(c+=a.selector+" {\n"),c+=e,a.selector&&(c+="}\n\n"));return c}var D=1,B=7,A=4,C=1E3,ba=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ca=/@import[^;]*;/gim,fa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,ha=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ia=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ja=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,ea=/^@[^\s]*keyframes/,z=/\s+/g,G=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,H=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ka=/@media\s(.*)/,I=new Set;function J(a){if(!a)return"";"string"===typeof a&&(a=x(a));return E(a,u)}function K(a){!a.__cssRules&&a.textContent&&(a.__cssRules=x(a.textContent));return a.__cssRules||null}function L(a,b,c,e){if(a){var d=!1,f=a.type;if(e&&f===A){var g=a.selector.match(ka);g&&(window.matchMedia(g[1]).matches||(d=!0))}f===D?b(a):c&&f===B?c(a):f===C&&(d=!0);if((a=a.rules)&&!d)for(d=0,f=a.length,g=void 0;d<f&&(g=a[d]);d++)L(g,b,c,e)}}function M(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");a:{for(var e=0,d=c+3,f=a.length;d<f;d++)if("("===a[d])e++;else if(")"===a[d]&&0===--e)break a;d=-1}e=a.substring(c+4,d);c=a.substring(0,c);a=M(a.substring(d+1),b);d=e.indexOf(",");return-1===d?b(c,e.trim(),"",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function N(a){if(void 0!==v)return v;if(void 0===a.__cssBuild){var b=a.getAttribute("css-build");if(b)a.__cssBuild=b;else{a:{b="template"===a.localName?a.content.firstChild:a.firstChild;if(b instanceof Comment&&(b=b.textContent.trim().split(":"),"css-build"===b[0])){b=b[1];break a}b=""}if(""!==b){var c="template"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.__cssBuild=b}}return a.__cssBuild||""};var la=/;\s*/m,ma=/^\s*(initial)|(inherit)\s*$/,O=/\s*!important/;function P(){this.a={}}P.prototype.set=function(a,b){a=a.trim();this.a[a]={h:b,i:{}}};P.prototype.get=function(a){a=a.trim();return this.a[a]||null};var Q=null;function R(){this.b=this.c=null;this.a=new P}R.prototype.o=function(a){a=H.test(a)||G.test(a);H.lastIndex=0;G.lastIndex=0;return a};R.prototype.m=function(a,b){if(void 0===a._gatheredStyle){for(var c=[],e=a.content.querySelectorAll("style"),d=0,f;d<e.length;d++){f=e[d];if(f.hasAttribute("shady-unscoped")){if(!l){var g=f.textContent;I.has(g)||(I.add(g),g=f.cloneNode(!0),document.head.appendChild(g));f.parentNode.removeChild(f)}}else c.push(f.textContent),f.parentNode.removeChild(f)}(c=c.join("").trim())?(e=document.createElement("style"),e.textContent=c,a.content.insertBefore(e,a.content.firstChild),c=e):c=null;a._gatheredStyle=c}return(a=a._gatheredStyle)?this.j(a,b):null};R.prototype.j=function(a,b){b=void 0===b?"":b;var c=K(a);this.l(c,b);a.textContent=J(c);return c};R.prototype.f=function(a){var b=this,c=K(a);L(c,function(a){":root"===a.selector&&(a.selector="html");b.g(a)});a.textContent=J(c);return c};R.prototype.l=function(a,b){var c=this;this.c=b;L(a,function(a){c.g(a)});this.c=null};R.prototype.g=function(a){a.cssText=na(this,a.parsedCssText,a);":root"===a.selector&&(a.selector=":host > *")};function na(a,b,c){b=b.replace(G,function(b,d,f,g){return oa(a,b,d,f,g,c)});return S(a,b,c)}function pa(a,b){for(var c=b;c.parent;)c=c.parent;var e={},d=!1;L(c,function(c){(d=d||c===b)||c.selector===b.selector&&Object.assign(e,T(a,c.parsedCssText))});return e}function S(a,b,c){for(var e;e=H.exec(b);){var d=e[0],f=e[1];e=e.index;var g=b.slice(0,e+d.indexOf("@apply"));b=b.slice(e+d.length);var h=c?pa(a,c):{};Object.assign(h,T(a,g));d=void 0;var k=a;f=f.replace(la,"");var n=[],m=k.a.get(f);m||(k.a.set(f,{}),m=k.a.get(f));if(m){k.c&&(m.i[k.c]=!0);var q=m.h;for(d in q)k=h&&h[d],m=[d,": var(",f,"_-_",d],k&&m.push(",",k.replace(O,"")),m.push(")"),O.test(q[d])&&m.push(" !important"),n.push(m.join(""))}d=n.join("; ");b=g+d+b;H.lastIndex=e+d.length}return b}function T(a,b,c){c=void 0===c?!1:c;b=b.split(";");for(var e,d,f={},g=0,h;g<b.length;g++)if(e=b[g])if(h=e.split(":"),1<h.length){e=h[0].trim();d=h.slice(1).join(":");if(c){var k=a;h=e;var n=ma.exec(d);n&&(n[1]?(k.b||(k.b=document.createElement("meta"),k.b.setAttribute("apply-shim-measure",""),k.b.style.all="initial",document.head.appendChild(k.b)),h=window.getComputedStyle(k.b).getPropertyValue(h)):h="apply-shim-inherit",d=h)}f[e]=d}return f}function qa(a,b){if(Q)for(var c in b.i)c!==a.c&&Q(c)}function oa(a,b,c,e,d,f){e&&M(e,function(b,c){c&&a.a.get(c)&&(d="@apply "+c+";")});if(!d)return b;var g=S(a,""+d,f);f=b.slice(0,b.indexOf("--"));var h=g=T(a,g,!0),k=a.a.get(c),n=k&&k.h;n?h=Object.assign(Object.create(n),g):a.a.set(c,h);var m=[],q,Z=!1;for(q in h){var F=g[q];void 0===F&&(F="initial");!n||q in n||(Z=!0);m.push(c+"_-_"+q+": "+F)}Z&&qa(a,k);k&&(k.h=h);e&&(f=b+";"+f);return f+m.join("; ")+";"}R.prototype.detectMixin=R.prototype.o;R.prototype.transformStyle=R.prototype.j;R.prototype.transformCustomStyle=R.prototype.f;R.prototype.transformRules=R.prototype.l;R.prototype.transformRule=R.prototype.g;R.prototype.transformTemplate=R.prototype.m;R.prototype._separator="_-_";Object.defineProperty(R.prototype,"invalidCallback",{get:function(){return Q},set:function(a){Q=a}});var U={},ra=Promise.resolve();function sa(a){if(a=U[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function ta(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function ua(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a._validating||(a._validating=!0,ra.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a._validating=!1}))};var V=new R;function W(){this.a=null;V.invalidCallback=sa}function X(a){!a.a&&window.ShadyCSS.CustomStyleInterface&&(a.a=window.ShadyCSS.CustomStyleInterface,a.a.transformCallback=function(a){V.f(a)},a.a.validateCallback=function(){requestAnimationFrame(function(){a.a.enqueued&&a.flushCustomStyles()})})}W.prototype.prepareTemplate=function(a,b){X(this);""===N(a)&&(U[b]=a,b=V.m(a,b),a._styleAst=b)};W.prototype.flushCustomStyles=function(){X(this);if(this.a){var a=this.a.processStyles();if(this.a.enqueued){for(var b=0,c;b<a.length;b++){c=this.a.getStyleForCustomStyle(a[b]);c&&V.f(c)}this.a.enqueued=!1}}};W.prototype.styleSubtree=function(a,b){X(this);if(b)for(var c in b)null===c?a.style.removeProperty(c):a.style.setProperty(c,b[c]);if(a.shadowRoot)for(this.styleElement(a),a=a.shadowRoot.children||a.shadowRoot.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b]);else for(a=a.children||a.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b])};W.prototype.styleElement=function(a){X(this);var b=a.localName,c;b?-1<b.indexOf("-")?c=b:c=a.getAttribute&&a.getAttribute("is")||"":c=a.is;b=U[c];if(!(b&&""!==N(b)||!b||ta(b))){if(ta(b)||b._applyShimValidatingVersion!==b._applyShimNextVersion)this.prepareTemplate(b,c),ua(b);if(a=a.shadowRoot)if(a=a.querySelector("style"))a.__cssRules=b._styleAst,a.textContent=J(b._styleAst)}};W.prototype.styleDocument=function(a){X(this);this.styleSubtree(document.body,a)};if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var Y=new W,va=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(a,b){Y.flushCustomStyles();Y.prepareTemplate(a,b)},prepareTemplateStyles:function(a,b,c){window.ShadyCSS.prepareTemplate(a,b,c)},prepareTemplateDom:function(){},styleSubtree:function(a,b){Y.flushCustomStyles();Y.styleSubtree(a,b)},styleElement:function(a){Y.flushCustomStyles();Y.styleElement(a)},styleDocument:function(a){Y.flushCustomStyles();Y.styleDocument(a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function(){Y.flushCustomStyles()},nativeCss:u,nativeShadow:l,cssBuild:v,disableRuntime:aa};va&&(window.ShadyCSS.CustomStyleInterface=va)}window.ShadyCSS.ApplyShim=V}).call(this);//# sourceMappingURL=apply-shim.min.js.map</script><script>(function(){'use strict';/**
   * @summary Collapse multiple callbacks into one invocation after a timer.
   * @memberof Polymer
   */class Debouncer{constructor(){this._asyncModule=null;this._callback=null;this._timer=null}/**
     * Sets the scheduler; that is, a module with the Async interface,
     * a callback and optional arguments to be passed to the run function
     * from the async module.
     *
     * @param {!AsyncInterface} asyncModule Object with Async interface.
     * @param {function()} callback Callback to run.
     * @return {void}
     */setConfig(asyncModule,callback){this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(()=>{this._timer=null;debouncerQueue.delete(this);this._callback()})}/**
     * Cancels an active debouncer and returns a reference to itself.
     *
     * @return {void}
     */cancel(){if(this.isActive()){this._cancelAsync();// Canceling a debouncer removes its spot from the flush queue,
// so if a debouncer is manually canceled and re-debounced, it
// will reset its flush order (this is a very minor difference from 1.x)
// Re-debouncing via the `debounce` API retains the 1.x FIFO flush order
debouncerQueue.delete(this)}}/**
     * Cancels a debouncer's async callback.
     *
     * @return {void}
     */_cancelAsync(){if(this.isActive()){this._asyncModule.cancel(/** @type {number} */this._timer);this._timer=null}}/**
     * Flushes an active debouncer and returns a reference to itself.
     *
     * @return {void}
     */flush(){if(this.isActive()){this.cancel();this._callback()}}/**
     * Returns true if the debouncer is active.
     *
     * @return {boolean} True if active.
     */isActive(){return null!=this._timer}/**
     * Creates a debouncer if no debouncer is passed as a parameter
     * or it cancels an active debouncer otherwise. The following
     * example shows how a debouncer can be called multiple times within a
     * microtask and "debounced" such that the provided callback function is
     * called once. Add this method to a custom element:
     *
     * _debounceWork() {
     *   this._debounceJob = Polymer.Debouncer.debounce(this._debounceJob,
     *       Polymer.Async.microTask, () => {
     *     this._doWork();
     *   });
     * }
     *
     * If the `_debounceWork` method is called multiple times within the same
     * microtask, the `_doWork` function will be called only once at the next
     * microtask checkpoint.
     *
     * Note: In testing it is often convenient to avoid asynchrony. To accomplish
     * this with a debouncer, you can use `Polymer.enqueueDebouncer` and
     * `Polymer.flush`. For example, extend the above example by adding
     * `Polymer.enqueueDebouncer(this._debounceJob)` at the end of the
     * `_debounceWork` method. Then in a test, call `Polymer.flush` to ensure
     * the debouncer has completed.
     *
     * @param {Debouncer?} debouncer Debouncer object.
     * @param {!AsyncInterface} asyncModule Object with Async interface
     * @param {function()} callback Callback to run.
     * @return {!Debouncer} Returns a debouncer object.
     */static debounce(debouncer,asyncModule,callback){if(debouncer instanceof Debouncer){// Cancel the async callback, but leave in debouncerQueue if it was
// enqueued, to maintain 1.x flush order
debouncer._cancelAsync()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}}/** @const */Polymer.Debouncer=Debouncer;let debouncerQueue=new Set;/**
   * Adds a `Debouncer` to a list of globally flushable tasks.
   *
   * @memberof Polymer
   * @param {!Debouncer} debouncer Debouncer to enqueue
   * @return {void}
   */Polymer.enqueueDebouncer=function(debouncer){debouncerQueue.add(debouncer)};Polymer.flushDebouncers=function(){const didFlush=!!debouncerQueue.size;// If new debouncers are added while flushing, Set.forEach will ensure
// newly added ones are also flushed
debouncerQueue.forEach(debouncer=>{try{debouncer.flush()}catch(e){setTimeout(()=>{throw e})}});return didFlush}})();</script><script>(function(){'use strict';// detect native touch action support
let HAS_NATIVE_TA="string"===typeof document.head.style.touchAction,GESTURE_KEY="__polymerGestures",HANDLED_OBJ="__polymerGesturesHandled",TOUCH_ACTION="__polymerGesturesTouchAction",TAP_DISTANCE=25,TRACK_DISTANCE=5,TRACK_LENGTH=2,MOUSE_TIMEOUT=2500,MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return(/* eat */!1)}}();/**
   * @param {string} name Possible mouse event name
   * @return {boolean} true if mouse event, false if not
   */function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}/* eslint no-empty: ["error", { "allowEmptyCatch": true }] */ // check for passive event listeners
let SUPPORTS_PASSIVE=!1;(function(){try{let opts=Object.defineProperty({},"passive",{get(){SUPPORTS_PASSIVE=!0}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();/**
   * Generate settings for event listeners, dependant on `Polymer.passiveTouchGestures`
   *
   * @param {string} eventName Event name to determine if `{passive}` option is needed
   * @return {{passive: boolean} | undefined} Options to use for addEventListener and removeEventListener
   */function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||"touchend"===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.passiveTouchGestures){return{passive:!0}}else{return}}// Check for touch-only devices
let IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),GestureRecognizer=function(){};// eslint-disable-line no-unused-vars
/** @type {function(): void} */GestureRecognizer.prototype.reset;/** @type {function(MouseEvent): void | undefined} */GestureRecognizer.prototype.mousedown;/** @type {(function(MouseEvent): void | undefined)} */GestureRecognizer.prototype.mousemove;/** @type {(function(MouseEvent): void | undefined)} */GestureRecognizer.prototype.mouseup;/** @type {(function(TouchEvent): void | undefined)} */GestureRecognizer.prototype.touchstart;/** @type {(function(TouchEvent): void | undefined)} */GestureRecognizer.prototype.touchmove;/** @type {(function(TouchEvent): void | undefined)} */GestureRecognizer.prototype.touchend;/** @type {(function(MouseEvent): void | undefined)} */GestureRecognizer.prototype.click;// keep track of any labels hit by the mouseCanceller
/** @type {!Array<!HTMLLabelElement>} */const clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},canBeDisabled={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};/** @type {!Object<boolean>} */ /**
   * @param {HTMLElement} el Element to check labelling status
   * @return {boolean} element can have labels
   */function canBeLabelled(el){return labellable[el.localName]||!1}/**
   * @param {HTMLElement} el Element that may be labelled.
   * @return {!Array<!HTMLLabelElement>} Relevant label for `el`
   */function matchingLabels(el){let labels=Array.from(/** @type {HTMLInputElement} */el.labels||[]);// IE doesn't have `labels` and Safari doesn't populate `labels`
// if element is in a shadowroot.
// In this instance, finding the non-ancestor labels is enough,
// as the mouseCancellor code will handle ancstor labels
if(!labels.length){labels=[];let root=el.getRootNode();// if there is an id on `el`, check for all labels with a matching `for` attribute
if(el.id){let matching=root.querySelectorAll(`label[for = ${el.id}]`);for(let i=0;i<matching.length;i++){labels.push(/** @type {!HTMLLabelElement} */matching[i])}}}return labels}// touch will make synthetic mouse events
// `preventDefault` on touchend will cancel them,
// but this breaks `<input>` focus and link clicks
// disable mouse handlers for MOUSE_TIMEOUT ms after
// a touchend to ignore synthetic mouse events
let mouseCanceller=function(mouseEvent){// Check for sourceCapabilities, used to distinguish synthetic events
// if mouseEvent did not come from a device that fires touch events,
// it was made by a real mouse and should be counted
// http://wicg.github.io/InputDeviceCapabilities/#dom-inputdevicecapabilities-firestouchevents
let sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}// skip synthetic mouse events
mouseEvent[HANDLED_OBJ]={skip:!0};// disable "ghost clicks"
if("click"===mouseEvent.type){let clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(let i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if("label"===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){let ownerLabels=matchingLabels(path[i]);// check if one of the clicked labels is labelling this element
for(let j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}// if one of the clicked labels was labelling the target element,
// this is not a ghost click
if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};/**
   * @param {boolean=} setup True to add, false to remove.
   * @return {void}
   */function setupTeardownMouseCanceller(setup){let events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS;for(let i=0,en;i<events.length;i++){en=events[i];if(setup){// reset clickLabels array
clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function ignoreMouse(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}let unset=function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null};POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(MOUSE_TIMEOUT),unset)}/**
   * @param {MouseEvent} ev event to test for left mouse button down
   * @return {boolean} has left mouse button down
   */function hasLeftMouseButton(ev){let type=ev.type;// exit early if the event is not a mouse event
if(!isMouseEvent(type)){return!1}// ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)
// instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)
if("mousemove"===type){// allow undefined for testing events
let buttons=ev.buttons===void 0?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}// buttons is a bitmask, check that the left button bit is set (1)
return!!(1&buttons)}else{// allow undefined for testing events
let button=ev.button===void 0?0:ev.button;// ev.button is 0 in mousedown/mouseup/click for left button activation
return 0===button}}function isSyntheticClick(ev){if("click"===ev.type){// ev.detail is 0 for HTMLElement.click in most browsers
if(0===ev.detail){return!0}// in the worst case, check that the x/y position of the click is within
// the bounding box of the target of the event
// Thanks IE 10 >:(
let t=Gestures._findOriginalTarget(ev);// make sure the target of the event is an element so we can use getBoundingClientRect,
// if not, just assume it is a synthetic click
if(!t.nodeType||/** @type {Element} */t.nodeType!==Node.ELEMENT_NODE){return!0}let bcr=/** @type {Element} */t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;// use page x/y to account for scrolling
// ev is a synthetic click if the position is outside the bounding box of the target
return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}let POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){let ta="auto",path=ev.composedPath&&ev.composedPath();if(path){for(let i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}// use a document-wide touchend listener to start the ghost-click prevention mechanism
// Use passive event listeners, if supported, to not affect scrolling performance
document.addEventListener("touchend",ignoreMouse,SUPPORTS_PASSIVE?{passive:!0}:!1);/**
   * Module for adding listeners to a node for the following normalized
   * cross-platform "gesture" events:
   * - `down` - mouse or touch went down
   * - `up` - mouse or touch went up
   * - `tap` - mouse click or finger tap
   * - `track` - mouse drag or touch move
   *
   * @namespace
   * @memberof Polymer
   * @summary Module for adding cross-platform gesture event listeners.
   */const Gestures={gestures:{},recognizers:[],/**
     * Finds the element rendered on the screen at the provided coordinates.
     *
     * Similar to `document.elementFromPoint`, but pierces through
     * shadow roots.
     *
     * @memberof Polymer.Gestures
     * @param {number} x Horizontal pixel coordinate
     * @param {number} y Vertical pixel coordinate
     * @return {Element} Returns the deepest shadowRoot inclusive element
     * found at the screen position given.
     */deepTargetFind:function(x,y){let node=document.elementFromPoint(x,y),next=node;// this code path is only taken when native ShadowDOM is used
// if there is a shadowroot, it may have a node at x/y
// if there is not a shadowroot, exit the loop
while(next&&next.shadowRoot&&!window.ShadyDOM){// if there is a node at x/y in the shadowroot, look deeper
let oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);// on Safari, elementFromPoint may return the shadowRoot host
if(oldNext===next){break}if(next){node=next}}return node},/**
     * a cheaper check than ev.composedPath()[0];
     *
     * @private
     * @param {Event} ev Event.
     * @return {EventTarget} Returns the event target.
     */_findOriginalTarget:function(ev){// shadowdom
if(ev.composedPath){const targets=/** @type {!Array<!EventTarget>} */ev.composedPath();// It shouldn't be, but sometimes targets is empty (window on Safari).
return 0<targets.length?targets[0]:ev.target}// shadydom
return ev.target},/**
     * @private
     * @param {Event} ev Event.
     * @return {void}
     */_handleNative:function(ev){let handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}let gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if("touch"===type.slice(0,5)){ev=/** @type {TouchEvent} */ev;// eslint-disable-line no-self-assign
let t=ev.changedTouches[0];if("touchstart"===type){// only handle the first finger
if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if("touchstart"===type||"touchmove"===type){Gestures._handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];// used to ignore synthetic mouse events
if(handled.skip){return}// reset recognizer state
for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}// enforce gesture recognizer order
for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=!0;r[type](ev)}}},/**
     * @private
     * @param {TouchEvent} ev Event.
     * @return {void}
     */_handleTouchAction:function(ev){let t=ev.changedTouches[0],type=ev.type;if("touchstart"===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if("touchmove"===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;let ta=firstTouchAction(ev),prevent=!1,dx=Math.abs(POINTERSTATE.touch.x-t.clientX),dy=Math.abs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){// scrolling is happening
}else if("none"===ta){prevent=!0}else if("pan-x"===ta){prevent=dy>dx}else if("pan-y"===ta){prevent=dx>dy}if(prevent){ev.preventDefault()}else{Gestures.prevent("track")}}},/**
     * Adds an event listener to a node for the given gesture type.
     *
     * @memberof Polymer.Gestures
     * @param {!Node} node Node to add listener on
     * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`
     * @param {!function(!Event):void} handler Event listener function to call
     * @return {boolean} Returns true if a gesture event listener was added.
     * @this {Gestures}
     */addListener:function(node,evType,handler){if(this.gestures[evType]){this._add(node,evType,handler);return!0}return!1},/**
     * Removes an event listener from a node for the given gesture type.
     *
     * @memberof Polymer.Gestures
     * @param {!Node} node Node to remove listener from
     * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`
     * @param {!function(!Event):void} handler Event listener function previously passed to
     *  `addListener`.
     * @return {boolean} Returns true if a gesture event listener was removed.
     * @this {Gestures}
     */removeListener:function(node,evType,handler){if(this.gestures[evType]){this._remove(node,evType,handler);return!0}return!1},/**
     * automate the event listeners for the native events
     *
     * @private
     * @param {!HTMLElement} node Node on which to add the event.
     * @param {string} evType Event type to add.
     * @param {function(!Event)} handler Event handler function.
     * @return {void}
     * @this {Gestures}
     */_add:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];// don't add mouse handlers on iOS because they cause gray selection overlays
if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&"click"!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){this.setTouchAction(node,recognizer.touchAction)}},/**
     * automate event listener removal for native events
     *
     * @private
     * @param {!HTMLElement} node Node on which to remove the event.
     * @param {string} evType Event type to remove.
     * @param {function(Event?)} handler Event handler function.
     * @return {void}
     * @this {Gestures}
     */_remove:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)},/**
     * Registers a new gesture event recognizer for adding new custom
     * gesture event types.
     *
     * @memberof Polymer.Gestures
     * @param {!GestureRecognizer} recog Gesture recognizer descriptor
     * @return {void}
     * @this {Gestures}
     */register:function(recog){this.recognizers.push(recog);for(let i=0;i<recog.emits.length;i++){this.gestures[recog.emits[i]]=recog}},/**
     * @private
     * @param {string} evName Event name.
     * @return {Object} Returns the gesture for the given event name.
     * @this {Gestures}
     */_findRecognizerByEvent:function(evName){for(let i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(let j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null},/**
     * Sets scrolling direction on node.
     *
     * This value is checked on first move, thus it should be called prior to
     * adding event listeners.
     *
     * @memberof Polymer.Gestures
     * @param {!Element} node Node to set touch action setting on
     * @param {string} value Touch action value
     * @return {void}
     */setTouchAction:function(node,value){if(HAS_NATIVE_TA){// NOTE: add touchAction async so that events can be added in
// custom element constructors. Otherwise we run afoul of custom
// elements restriction against settings attributes (style) in the
// constructor.
Polymer.Async.microTask.run(()=>{node.style.touchAction=value})}node[TOUCH_ACTION]=value},/**
     * Dispatches an event on the `target` element of `type` with the given
     * `detail`.
     * @private
     * @param {!EventTarget} target The element on which to fire an event.
     * @param {string} type The type of event to fire.
     * @param {!Object=} detail The detail object to populate on the event.
     * @return {void}
     */_fire:function(target,type,detail){let ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);// forward `preventDefault` in a clean way
if(ev.defaultPrevented){let preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}},/**
     * Prevents the dispatch and default action of the given event name.
     *
     * @memberof Polymer.Gestures
     * @param {string} evName Event name.
     * @return {void}
     * @this {Gestures}
     */prevent:function(evName){let recognizer=this._findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}},/**
     * Reset the 2500ms timeout on processing mouse input after detecting touch input.
     *
     * Touch inputs create synthesized mouse inputs anywhere from 0 to 2000ms after the touch.
     * This method should only be called during testing with simulated touch inputs.
     * Calling this method in production may cause duplicate taps or other Gestures.
     *
     * @memberof Polymer.Gestures
     * @return {void}
     */resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}};/* eslint-disable valid-jsdoc */Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},/**
     * @this {GestureRecognizer}
     * @return {void}
     */reset:function(){untrackDocument(this.info)},/**
     * @this {GestureRecognizer}
     * @param {MouseEvent} e
     * @return {void}
     */mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this,movefn=function movefn(e){if(!hasLeftMouseButton(e)){self._fire("up",t,e);untrackDocument(self.info)}},upfn=function upfn(e){if(hasLeftMouseButton(e)){self._fire("up",t,e)}untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this._fire("down",t,e)},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchstart:function(e){this._fire("down",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchend:function(e){this._fire("up",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},/**
     * @param {string} type
     * @param {!EventTarget} target
     * @param {Event} event
     * @param {Function} preventer
     * @return {void}
     */_fire:function(type,target,event,preventer){Gestures._fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],/** @this {GestureRecognizer} */addMove:function(move){if(this.moves.length>TRACK_LENGTH){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},/**
     * @this {GestureRecognizer}
     * @return {void}
     */reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},/**
     * @this {GestureRecognizer}
     * @param {number} x
     * @param {number} y
     * @return {boolean}
     */hasMovedEnough:function(x,y){if(this.info.prevent){return!1}if(this.info.started){return!0}let dx=Math.abs(this.info.x-x),dy=Math.abs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},/**
     * @this {GestureRecognizer}
     * @param {MouseEvent} e
     * @return {void}
     */mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this,movefn=function movefn(e){let x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){// first move is 'start', subsequent moves are 'move', mouseup is 'end'
self.info.state=self.info.started?"mouseup"===e.type?"end":"track":"start";if("start"===self.info.state){// if and only if tracking, always prevent tap
Gestures.prevent("tap")}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){// always _fire "end"
self.info.state="end";untrackDocument(self.info)}self._fire(t,e);self.info.started=!0}},upfn=function upfn(e){if(self.info.started){movefn(e)}// remove the temporary listeners
untrackDocument(self.info)};// add temporary document listeners as mouse retargets
trackDocument(this.info,movefn,upfn);this.info.x=e.clientX;this.info.y=e.clientY},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchstart:function(e){let ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchmove:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if("start"===this.info.state){// if and only if tracking, always prevent tap
Gestures.prevent("tap")}this.info.addMove({x:x,y:y});this._fire(t,ct);this.info.state="track";this.info.started=!0}},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchend:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0];// only trackend if track was started and not aborted
if(this.info.started){// reset started state on up
this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});this._fire(t,ct,e)}},/**
     * @this {GestureRecognizer}
     * @param {!EventTarget} target
     * @param {Touch} touch
     * @return {void}
     */_fire:function(target,touch){let secondlast=this.info.moves[this.info.moves.length-2],lastmove=this.info.moves[this.info.moves.length-1],dx=lastmove.x-this.info.x,dy=lastmove.y-this.info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}Gestures._fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},/**
     * @this {GestureRecognizer}
     * @return {void}
     */reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},/**
     * @this {GestureRecognizer}
     * @param {MouseEvent} e
     * @return {void}
     */save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},/**
     * @this {GestureRecognizer}
     * @param {MouseEvent} e
     * @return {void}
     */mousedown:function(e){if(hasLeftMouseButton(e)){this.save(e)}},/**
     * @this {GestureRecognizer}
     * @param {MouseEvent} e
     * @return {void}
     */click:function(e){if(hasLeftMouseButton(e)){this.forward(e)}},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchstart:function(e){this.save(e.changedTouches[0],e)},/**
     * @this {GestureRecognizer}
     * @param {TouchEvent} e
     * @return {void}
     */touchend:function(e){this.forward(e.changedTouches[0],e)},/**
     * @this {GestureRecognizer}
     * @param {Event | Touch} e
     * @param {Event=} preventer
     * @return {void}
     */forward:function(e,preventer){let dx=Math.abs(e.clientX-this.info.x),dy=Math.abs(e.clientY-this.info.y),t=Gestures._findOriginalTarget(/** @type {Event} */preventer||e);if(!t||canBeDisabled[/** @type {!HTMLElement} */t.localName]&&t.hasAttribute("disabled")){return}// dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`
if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){// prevent taps from being generated if an event has canceled them
if(!this.info.prevent){Gestures._fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}});/* eslint-enable valid-jsdoc */ /** @deprecated */Gestures.findOriginalTarget=Gestures._findOriginalTarget;/** @deprecated */Gestures.add=Gestures.addListener;/** @deprecated */Gestures.remove=Gestures.removeListener;Polymer.Gestures=Gestures})();</script><script>(function(){'use strict';/**
   * @const {Polymer.Gestures}
   */const gestures=Polymer.Gestures;/**
   * Element class mixin that provides API for adding Polymer's cross-platform
   * gesture events to nodes.
   *
   * The API is designed to be compatible with override points implemented
   * in `Polymer.TemplateStamp` such that declarative event listeners in
   * templates will support gesture events when this mixin is applied along with
   * `Polymer.TemplateStamp`.
   *
   * @mixinFunction
   * @polymer
   * @memberof Polymer
   * @summary Element class mixin that provides API for adding Polymer's cross-platform
   * gesture events to nodes
   */Polymer.GestureEventListeners=Polymer.dedupingMixin(superClass=>{/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_GestureEventListeners}
     */class GestureEventListeners extends superClass{/**
       * Add the event listener to the node if it is a gestures event.
       *
       * @param {!Node} node Node to add event listener to
       * @param {string} eventName Name of event
       * @param {function(!Event):void} handler Listener function to add
       * @return {void}
       */_addEventListenerToNode(node,eventName,handler){if(!gestures.addListener(node,eventName,handler)){super._addEventListenerToNode(node,eventName,handler)}}/**
       * Remove the event listener to the node if it is a gestures event.
       *
       * @param {!Node} node Node to remove event listener from
       * @param {string} eventName Name of event
       * @param {function(!Event):void} handler Listener function to remove
       * @return {void}
       */_removeEventListenerFromNode(node,eventName,handler){if(!gestures.removeListener(node,eventName,handler)){super._removeEventListenerFromNode(node,eventName,handler)}}}return GestureEventListeners})})();</script><script>(function(){'use strict';const HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,HOST_DIR_REPLACMENT=":host([dir=\"$1\"])",EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,EL_DIR_REPLACMENT=":host([dir=\"$2\"]) $1",DIR_CHECK=/:dir\((?:ltr|rtl)\)/,SHIM_SHADOW=!!(window.ShadyDOM&&window.ShadyDOM.inUse),DIR_INSTANCES=[];/** @type {MutationObserver} */let observer=null,DOCUMENT_DIR="";function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute("dir")}/**
     * @param {!Polymer_DirMixin} instance Instance to set RTL status on
     */function setRTL(instance){if(!instance.__autoDirOptOut){const el=/** @type {!HTMLElement} */instance;el.setAttribute("dir",DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute("dir");for(let i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}/**
     * Element class mixin that allows elements to use the `:dir` CSS Selector to have
     * text direction specific styling.
     *
     * With this mixin, any stylesheet provided in the template will transform `:dir` into
     * `:host([dir])` and sync direction with the page via the element's `dir` attribute.
     *
     * Elements can opt out of the global page text direction by setting the `dir` attribute
     * directly in `ready()` or in HTML.
     *
     * Caveats:
     * - Applications must set `<html dir="ltr">` or `<html dir="rtl">` to sync direction
     * - Automatic left-to-right or right-to-left styling is sync'd with the `<html>` element only.
     * - Changing `dir` at runtime is supported.
     * - Opting out of the global direction styling is permanent
     *
     * @mixinFunction
     * @polymer
     * @appliesMixin Polymer.PropertyAccessors
     * @memberof Polymer
     */Polymer.DirMixin=Polymer.dedupingMixin(base=>{if(!SHIM_SHADOW){if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]})}}/**
       * @constructor
       * @extends {base}
       * @implements {Polymer_PropertyAccessors}
       * @private
       */const elementBase=Polymer.PropertyAccessors(base);/**
       * @polymer
       * @mixinClass
       * @implements {Polymer_DirMixin}
       */class Dir extends elementBase{/**
         * @override
         * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do
         */static _processStyleText(cssText,baseURI){cssText=super._processStyleText(cssText,baseURI);if(!SHIM_SHADOW&&DIR_CHECK.test(cssText)){cssText=this._replaceDirInCssText(cssText);this.__activateDir=!0}return cssText}/**
         * Replace `:dir` in the given CSS text
         *
         * @param {string} text CSS text to replace DIR
         * @return {string} Modified CSS
         */static _replaceDirInCssText(text){let replacedText=text;replacedText=replacedText.replace(HOST_DIR,HOST_DIR_REPLACMENT);replacedText=replacedText.replace(EL_DIR,EL_DIR_REPLACMENT);return replacedText}constructor(){super();/** @type {boolean} */this.__autoDirOptOut=/* eat */!1}/**
         * @suppress {invalidCasts} Closure doesn't understand that `this` is an HTMLElement
         * @return {void}
         */ready(){super.ready();this.__autoDirOptOut=/** @type {!HTMLElement} */this.hasAttribute("dir")}/**
         * @suppress {missingProperties} If it exists on elementBase, it can be super'd
         * @return {void}
         */connectedCallback(){if(elementBase.prototype.connectedCallback){super.connectedCallback()}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}/**
         * @suppress {missingProperties} If it exists on elementBase, it can be super'd
         * @return {void}
         */disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){super.disconnectedCallback()}if(this.constructor.__activateDir){const idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}Dir.__activateDir=!1;return Dir})})();</script><script>(function(){'use strict';// run a callback when HTMLImports are ready or immediately if
// this api is not available.
function whenImportsReady(cb){if(window.HTMLImports){HTMLImports.whenReady(cb)}else{cb()}}/**
   * Convenience method for importing an HTML document imperatively.
   *
   * This method creates a new `<link rel="import">` element with
   * the provided URL and appends it to the document to start loading.
   * In the `onload` callback, the `import` property of the `link`
   * element will contain the imported document contents.
   *
   * @memberof Polymer
   * @param {string} href URL to document to load.
   * @param {?function(!Event):void=} onload Callback to notify when an import successfully
   *   loaded.
   * @param {?function(!ErrorEvent):void=} onerror Callback to notify when an import
   *   unsuccessfully loaded.
   * @param {boolean=} optAsync True if the import should be loaded `async`.
   *   Defaults to `false`.
   * @return {!HTMLLinkElement} The link element for the URL to be loaded.
   */Polymer.importHref=function(href,onload,onerror,optAsync){let link=/** @type {HTMLLinkElement} */document.head.querySelector("link[href=\""+href+"\"][import-href]");if(!link){link=/** @type {HTMLLinkElement} */document.createElement("link");link.rel="import";link.href=href;link.setAttribute("import-href","")}// always ensure link has `async` attribute if user specified one,
// even if it was previously not async. This is considered less confusing.
if(optAsync){link.setAttribute("async","")}// NOTE: the link may now be in 3 states: (1) pending insertion,
// (2) inflight, (3) already loaded. In each case, we need to add
// event listeners to process callbacks.
let cleanup=function(){link.removeEventListener("load",loadListener);link.removeEventListener("error",errorListener)},loadListener=function(event){cleanup();// In case of a successful load, cache the load event on the link so
// that it can be used to short-circuit this method in the future when
// it is called with the same href param.
link.__dynamicImportLoaded=!0;if(onload){whenImportsReady(()=>{onload(event)})}},errorListener=function(event){cleanup();// In case of an error, remove the link from the document so that it
// will be automatically created again the next time `importHref` is
// called.
if(link.parentNode){link.parentNode.removeChild(link)}if(onerror){whenImportsReady(()=>{onerror(event)})}};link.addEventListener("load",loadListener);link.addEventListener("error",errorListener);if(null==link.parentNode){document.head.appendChild(link);// if the link already loaded, dispatch a fake load event
// so that listeners are called and get a proper event argument.
}else if(link.__dynamicImportLoaded){link.dispatchEvent(new Event("load"))}return link}})();</script><script>(function(){'use strict';// unresolved
function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents){window.addEventListener("WebComponentsReady",resolve)}else{if("interactive"===document.readyState||"complete"===document.readyState){resolve()}else{window.addEventListener("DOMContentLoaded",resolve)}}})();</script><script>(function(){'use strict';function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;// Note: This function is *based* on the computation of the Levenshtein
// "edit" distance. The one change is that "updates" are treated as two
// edits - not one. With Array splices, an update is really a delete
// followed by an add. By retaining this, we optimize for "keeping" the
// maximum array items in the original array. For example:
//
//   'xxxx123' -> '123yyyy'
//
// With 1-edit updates, the shortest path would be just to update all seven
// characters. With 2-edit updates, we delete 4, leave 3, and add 4. This
// leaves the substring '123' intact.
function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){// "Deletion" columns
let rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount);// "Addition" rows. Initialize null column.
for(let i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}// Initialize null row
for(let j=0;j<columnCount;j++)distances[0][j]=j;for(let i=1;i<rowCount;i++){for(let j=1;j<columnCount;j++){if(equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{let north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}}}return distances}// This starts at the final weight, and walks "backward" by finding
// the minimum previous weight recursively until the origin of the weight
// matrix.
function spliceOperationsFromEditDistances(distances){let i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}let northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}/**
   * Splice Projection functions:
   *
   * A splice map is a representation of how a previous array of items
   * was transformed into a new array of items. Conceptually it is a list of
   * tuples of
   *
   *   <index, removed, addedCount>
   *
   * which are kept in ascending index order of. The tuple represents that at
   * the |index|, |removed| sequence of items were removed, and counting forward
   * from |index|, |addedCount| items were added.
   */ /**
   * Lacking individual splice mutation information, the minimal set of
   * splices can be synthesized given the previous state and final state of an
   * array. The basic approach is to calculate the edit distance matrix and
   * choose the shortest path through it.
   *
   * Complexity: O(l * p)
   *   l: The length of the current array
   *   p: The length of the old array
   *
   * @param {!Array} current The current "changed" array for which to
   * calculate splices.
   * @param {number} currentStart Starting index in the `current` array for
   * which splices are calculated.
   * @param {number} currentEnd Ending index in the `current` array for
   * which splices are calculated.
   * @param {!Array} old The original "unchanged" array to compare `current`
   * against to determine splices.
   * @param {number} oldStart Starting index in the `old` array for
   * which splices are calculated.
   * @param {number} oldEnd Ending index in the `old` array for
   * which splices are calculated.
   * @return {!Array} Returns an array of splice record objects. Each of these
   * contains: `index` the location where the splice occurred; `removed`
   * the array of removed items from this location; `addedCount` the number
   * of items added at this location.
   */function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){let prefixCount=0,suffixCount=0,splice,minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];let ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;let splices=[],index=currentStart,oldIndex=oldStart;for(let i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(let i=0;i<searchLength;i++)if(!equals(current[i],old[i]))return i;return searchLength}function sharedSuffix(current,old,searchLength){let index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2]))count++;return count}function calculateSplices(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}function equals(currentValue,previousValue){return currentValue===previousValue}/**
   * @namespace
   * @memberof Polymer
   * @summary Module that provides utilities for diffing arrays.
   */Polymer.ArraySplice={/**
     * Returns an array of splice records indicating the minimum edits required
     * to transform the `previous` array into the `current` array.
     *
     * Splice records are ordered by index and contain the following fields:
     * - `index`: index where edit started
     * - `removed`: array of removed items from this index
     * - `addedCount`: number of items added at this index
     *
     * This function is based on the Levenshtein "minimum edit distance"
     * algorithm. Note that updates are treated as removal followed by addition.
     *
     * The worst-case time complexity of this algorithm is `O(l * p)`
     *   l: The length of the current array
     *   p: The length of the previous array
     *
     * However, the worst-case complexity is reduced by an `O(n)` optimization
     * to detect any shared prefix & suffix between the two arrays and only
     * perform the more expensive minimum edit distance calculation over the
     * non-shared portions of the arrays.
     *
     * @function
     * @memberof Polymer.ArraySplice
     * @param {!Array} current The "changed" array for which splices will be
     * calculated.
     * @param {!Array} previous The "unchanged" original array to compare
     * `current` against to determine the splices.
     * @return {!Array} Returns an array of splice record objects. Each of these
     * contains: `index` the location where the splice occurred; `removed`
     * the array of removed items from this location; `addedCount` the number
     * of items added at this location.
     */calculateSplices}})();</script><script>(function(){'use strict';/**
   * Returns true if `node` is a slot element
   * @param {Node} node Node to test.
   * @return {boolean} Returns true if the given `node` is a slot
   * @private
   */function isSlot(node){return"slot"===node.localName}/**
   * Class that listens for changes (additions or removals) to
   * "flattened nodes" on a given `node`. The list of flattened nodes consists
   * of a node's children and, for any children that are `<slot>` elements,
   * the expanded flattened list of `assignedNodes`.
   * For example, if the observed node has children `<a></a><slot></slot><b></b>`
   * and the `<slot>` has one `<div>` assigned to it, then the flattened
   * nodes list is `<a></a><div></div><b></b>`. If the `<slot>` has other
   * `<slot>` elements assigned to it, these are flattened as well.
   *
   * The provided `callback` is called whenever any change to this list
   * of flattened nodes occurs, where an addition or removal of a node is
   * considered a change. The `callback` is called with one argument, an object
   * containing an array of any `addedNodes` and `removedNodes`.
   *
   * Note: the callback is called asynchronous to any changes
   * at a microtask checkpoint. This is because observation is performed using
   * `MutationObserver` and the `<slot>` element's `slotchange` event which
   * are asynchronous.
   *
   * An example:
   * ```js
   * class TestSelfObserve extends Polymer.Element {
   *   static get is() { return 'test-self-observe';}
   *   connectedCallback() {
   *     super.connectedCallback();
   *     this._observer = new Polymer.FlattenedNodesObserver(this, (info) => {
   *       this.info = info;
   *     });
   *   }
   *   disconnectedCallback() {
   *     super.disconnectedCallback();
   *     this._observer.disconnect();
   *   }
   * }
   * customElements.define(TestSelfObserve.is, TestSelfObserve);
   * ```
   *
   * @memberof Polymer
   * @summary Class that listens for changes (additions or removals) to
   * "flattened nodes" on a given `node`.
   */class FlattenedNodesObserver{/**
     * Returns the list of flattened nodes for the given `node`.
     * This list consists of a node's children and, for any children
     * that are `<slot>` elements, the expanded flattened list of `assignedNodes`.
     * For example, if the observed node has children `<a></a><slot></slot><b></b>`
     * and the `<slot>` has one `<div>` assigned to it, then the flattened
     * nodes list is `<a></a><div></div><b></b>`. If the `<slot>` has other
     * `<slot>` elements assigned to it, these are flattened as well.
     *
     * @param {HTMLElement|HTMLSlotElement} node The node for which to return the list of flattened nodes.
     * @return {Array} The list of flattened nodes for the given `node`.
    */static getFlattenedNodes(node){if(isSlot(node)){node=/** @type {HTMLSlotElement} */node;// eslint-disable-line no-self-assign
return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(node=>{if(isSlot(node)){node=/** @type {HTMLSlotElement} */node;// eslint-disable-line no-self-assign
return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce((a,b)=>a.concat(b),[])}}/**
     * @param {Element} target Node on which to listen for changes.
     * @param {?function(!Element, { target: !Element, addedNodes: !Array<!Element>, removedNodes: !Array<!Element> }):void} callback Function called when there are additions
     * or removals from the target's list of flattened nodes.
    */constructor(target,callback){/**
       * @type {MutationObserver}
       * @private
       */this._shadyChildrenObserver=null;/**
       * @type {MutationObserver}
       * @private
       */this._nativeChildrenObserver=null;this._connected=/* eat */!1;/**
       * @type {Element}
       * @private
       */this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;/**
       * @type {function()}
       * @private
       */this._boundSchedule=()=>{this._schedule()};this.connect();this._schedule()}/**
     * Activates an observer. This method is automatically called when
     * a `FlattenedNodesObserver` is created. It should only be called to
     * re-activate an observer that has been deactivated via the `disconnect` method.
     *
     * @return {void}
     */connect(){if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,mutations=>{this._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(mutations=>{this._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}/**
     * Deactivates the flattened nodes observer. After calling this method
     * the observer callback will not be called when changes to flattened nodes
     * occur. The `connect` method may be subsequently called to reactivate
     * the observer.
     *
     * @return {void}
     */disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}/**
     * @return {void}
     * @private
     */_schedule(){if(!this._scheduled){this._scheduled=!0;Polymer.Async.microTask.run(()=>this.flush())}}/**
     * @param {Array<MutationRecord>} mutations Mutations signaled by the mutation observer
     * @return {void}
     * @private
     */_processMutations(mutations){this._processSlotMutations(mutations);this.flush()}/**
     * @param {Array<MutationRecord>} mutations Mutations signaled by the mutation observer
     * @return {void}
     * @private
     */_processSlotMutations(mutations){if(mutations){for(let i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}/**
     * Flushes the observer causing any pending changes to be immediately
     * delivered the observer callback. By default these changes are delivered
     * asynchronously at the next microtask checkpoint.
     *
     * @return {boolean} Returns true if any pending changes caused the observer
     * callback to run.
     */flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;let info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=Polymer.ArraySplice.calculateSplices(newNodes,this._effectiveNodes);// process removals
for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}// process adds
for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=s.index;j<s.index+s.addedCount;j++){info.addedNodes.push(newNodes[j])}}// update cache
this._effectiveNodes=newNodes;let didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}/**
     * @param {!Array<Element|Node>|!NodeList<Node>} nodeList Nodes that could change
     * @return {void}
     * @private
     */_listenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener("slotchange",this._boundSchedule)}}}/**
     * @param {!Array<Element|Node>|!NodeList<Node>} nodeList Nodes that could change
     * @return {void}
     * @private
     */_unlistenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener("slotchange",this._boundSchedule)}}}}Polymer.FlattenedNodesObserver=FlattenedNodesObserver})();</script><script>(function(){'use strict';/**
   * Forces several classes of asynchronously queued tasks to flush:
   * - Debouncers added via `enqueueDebouncer`
   * - ShadyDOM distribution
   *
   * @memberof Polymer
   * @return {void}
   */Polymer.flush=function(){let shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=Polymer.flushDebouncers()}while(shadyDOM||debouncers)}})();</script><script>(function(){'use strict';const p=Element.prototype,normalizedMatchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)};/**
   * @const {function(this:Node, string): boolean}
   */ /**
   * Node API wrapper class returned from `Polymer.dom.(target)` when
   * `target` is a `Node`.
   *
   * @memberof Polymer
   */class DomApi{/**
     * @param {Node} node Node for which to create a Polymer.dom helper object.
     */constructor(node){this.node=node}/**
     * Returns an instance of `Polymer.FlattenedNodesObserver` that
     * listens for node changes on this element.
     *
     * @param {function(!Element, { target: !Element, addedNodes: !Array<!Element>, removedNodes: !Array<!Element> }):void} callback Called when direct or distributed children
     *   of this element changes
     * @return {!Polymer.FlattenedNodesObserver} Observer instance
     */observeNodes(callback){return new Polymer.FlattenedNodesObserver(this.node,callback)}/**
     * Disconnects an observer previously created via `observeNodes`
     *
     * @param {!Polymer.FlattenedNodesObserver} observerHandle Observer instance
     *   to disconnect.
     * @return {void}
     */unobserveNodes(observerHandle){observerHandle.disconnect()}/**
     * Provided as a backwards-compatible API only.  This method does nothing.
     * @return {void}
     */notifyObserver(){}/**
     * Returns true if the provided node is contained with this element's
     * light-DOM children or shadow root, including any nested shadow roots
     * of children therein.
     *
     * @param {Node} node Node to test
     * @return {boolean} Returns true if the given `node` is contained within
     *   this element's light or shadow DOM.
     */deepContains(node){if(this.node.contains(node)){return!0}let n=node,doc=node.ownerDocument;// walk from node to `this` or `document`
while(n&&n!==doc&&n!==this.node){// use logical parentnode, or native ShadowRoot host
n=n.parentNode||n.host}return n===this.node}/**
     * Returns the root node of this node.  Equivalent to `getRoodNode()`.
     *
     * @return {Node} Top most element in the dom tree in which the node
     * exists. If the node is connected to a document this is either a
     * shadowRoot or the document; otherwise, it may be the node
     * itself or a node or document fragment containing it.
     */getOwnerRoot(){return this.node.getRootNode()}/**
     * For slot elements, returns the nodes assigned to the slot; otherwise
     * an empty array. It is equivalent to `<slot>.addignedNodes({flatten:true})`.
     *
     * @return {!Array<!Node>} Array of assigned nodes
     */getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}/**
     * Returns an array of all slots this element was distributed to.
     *
     * @return {!Array<!HTMLSlotElement>} Description
     */getDestinationInsertionPoints(){let ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}/**
     * Calls `importNode` on the `ownerDocument` for this node.
     *
     * @param {!Node} node Node to import
     * @param {boolean} deep True if the node should be cloned deeply during
     *   import
     * @return {Node} Clone of given node imported to this owner document
     */importNode(node,deep){let doc=this.node instanceof Document?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}/**
     * @return {!Array<!Node>} Returns a flattened list of all child nodes and
     * nodes assigned to child slots.
     */getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}/**
     * Returns a filtered list of flattened child elements for this element based
     * on the given selector.
     *
     * @param {string} selector Selector to filter nodes against
     * @return {!Array<!HTMLElement>} List of flattened child elements
     */queryDistributedElements(selector){let c$=this.getEffectiveChildNodes(),list=[];for(let i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}/**
     * For shadow roots, returns the currently focused element within this
     * shadow root.
     *
     * @return {Node|undefined} Currently focused element
     */get activeElement(){let node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}function forwardMethods(proto,methods){for(let i=0,method;i<methods.length;i++){method=methods[i];/* eslint-disable valid-jsdoc */proto[method]=/** @this {DomApi} */function(){return this.node[method].apply(this.node,arguments)};/* eslint-enable */}}function forwardReadOnlyProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=/** @type {DomApi} */this;return domApi.node[name]},configurable:!0})}}function forwardProperties(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=/** @type {DomApi} */this;return domApi.node[name]},set:function(value){/** @type {DomApi} */this.node[name]=value},configurable:!0})}}forwardMethods(DomApi.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]);forwardReadOnlyProperties(DomApi.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]);forwardProperties(DomApi.prototype,["textContent","innerHTML"]);/**
   * Event API wrapper class returned from `Polymer.dom.(target)` when
   * `target` is an `Event`.
   */class EventApi{constructor(event){this.event=event}/**
     * Returns the first node on the `composedPath` of this event.
     *
     * @return {!EventTarget} The node this event was dispatched to
     */get rootTarget(){return this.event.composedPath()[0]}/**
     * Returns the local (re-targeted) target for this event.
     *
     * @return {!EventTarget} The local (re-targeted) target for this event.
     */get localTarget(){return this.event.target}/**
     * Returns the `composedPath` for this event.
     * @return {!Array<!EventTarget>} The nodes this event propagated through
     */get path(){return this.event.composedPath()}}Polymer.DomApi=DomApi;/**
   * @function
   * @param {boolean=} deep
   * @return {!Node}
   */Polymer.DomApi.prototype.cloneNode;/**
   * @function
   * @param {!Node} node
   * @return {!Node}
   */Polymer.DomApi.prototype.appendChild;/**
   * @function
   * @param {!Node} newChild
   * @param {Node} refChild
   * @return {!Node}
   */Polymer.DomApi.prototype.insertBefore;/**
   * @function
   * @param {!Node} node
   * @return {!Node}
   */Polymer.DomApi.prototype.removeChild;/**
   * @function
   * @param {!Node} oldChild
   * @param {!Node} newChild
   * @return {!Node}
   */Polymer.DomApi.prototype.replaceChild;/**
   * @function
   * @param {string} name
   * @param {string} value
   * @return {void}
   */Polymer.DomApi.prototype.setAttribute;/**
   * @function
   * @param {string} name
   * @return {void}
   */Polymer.DomApi.prototype.removeAttribute;/**
   * @function
   * @param {string} selector
   * @return {?Element}
   */Polymer.DomApi.prototype.querySelector;/**
   * @function
   * @param {string} selector
   * @return {!NodeList<!Element>}
   */Polymer.DomApi.prototype.querySelectorAll;/**
   * Legacy DOM and Event manipulation API wrapper factory used to abstract
   * differences between native Shadow DOM and "Shady DOM" when polyfilling on
   * older browsers.
   *
   * Note that in Polymer 2.x use of `Polymer.dom` is no longer required and
   * in the majority of cases simply facades directly to the standard native
   * API.
   *
   * @namespace
   * @summary Legacy DOM and Event manipulation API wrapper factory used to
   * abstract differences between native Shadow DOM and "Shady DOM."
   * @memberof Polymer
   * @param {(Node|Event)=} obj Node or event to operate on
   * @return {!DomApi|!EventApi} Wrapper providing either node API or event API
   */Polymer.dom=function(obj){obj=obj||document;if(!obj.__domApi){let helper;if(obj instanceof Event){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi};Polymer.dom.matchesSelector=matchesSelector;/**
   * Forces several classes of asynchronously queued tasks to flush:
   * - Debouncers added via `Polymer.enqueueDebouncer`
   * - ShadyDOM distribution
   *
   * This method facades to `Polymer.flush`.
   *
   * @memberof Polymer.dom
   */Polymer.dom.flush=Polymer.flush;/**
   * Adds a `Polymer.Debouncer` to a list of globally flushable tasks.
   *
   * This method facades to `Polymer.enqueueDebouncer`.
   *
   * @memberof Polymer.dom
   * @param {!Polymer.Debouncer} debouncer Debouncer to enqueue
   */Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})();</script><script>(function(){'use strict';let styleInterface=window.ShadyCSS;/**
   * Element class mixin that provides Polymer's "legacy" API intended to be
   * backward-compatible to the greatest extent possible with the API
   * found on the Polymer 1.x `Polymer.Base` prototype applied to all elements
   * defined using the `Polymer({...})` function.
   *
   * @mixinFunction
   * @polymer
   * @appliesMixin Polymer.ElementMixin
   * @appliesMixin Polymer.GestureEventListeners
   * @property isAttached {boolean} Set to `true` in this element's
   *   `connectedCallback` and `false` in `disconnectedCallback`
   * @memberof Polymer
   * @summary Element class mixin that provides Polymer's "legacy" API
   */Polymer.LegacyElementMixin=Polymer.dedupingMixin(base=>{/**
     * @constructor
     * @extends {base}
     * @implements {Polymer_ElementMixin}
     * @implements {Polymer_GestureEventListeners}
     * @implements {Polymer_DirMixin}
     * @private
     */const legacyElementBase=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(base))),DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};/**
     * Map of simple names to touch action names
     * @dict
     */ /**
     * @polymer
     * @mixinClass
     * @extends {legacyElementBase}
     * @implements {Polymer_LegacyElementMixin}
     * @unrestricted
     */class LegacyElement extends legacyElementBase{constructor(){super();/** @type {boolean} */this.isAttached;/** @type {WeakMap<!Element, !Object<string, !Function>>} */this.__boundListeners;/** @type {Object<string, Function>} */this._debouncers}/**
       * Forwards `importMeta` from the prototype (i.e. from the info object
       * passed to `Polymer({...})`) to the static API.
       *
       * @return {!Object} The `import.meta` object set on the prototype
       * @suppress {missingProperties} `this` is always in the instance in
       *  closure for some reason even in a static method, rather than the class
       */static get importMeta(){return this.prototype.importMeta}/**
       * Legacy callback called during the `constructor`, for overriding
       * by the user.
       * @return {void}
       */created(){}/**
       * Provides an implementation of `connectedCallback`
       * which adds Polymer legacy API's `attached` method.
       * @return {void}
       * @override
       */connectedCallback(){super.connectedCallback();this.isAttached=!0;this.attached()}/**
       * Legacy callback called during `connectedCallback`, for overriding
       * by the user.
       * @return {void}
       */attached(){}/**
       * Provides an implementation of `disconnectedCallback`
       * which adds Polymer legacy API's `detached` method.
       * @return {void}
       * @override
       */disconnectedCallback(){super.disconnectedCallback();this.isAttached=/* eat */!1;this.detached()}/**
       * Legacy callback called during `disconnectedCallback`, for overriding
       * by the user.
       * @return {void}
       */detached(){}/**
       * Provides an override implementation of `attributeChangedCallback`
       * which adds the Polymer legacy API's `attributeChanged` method.
       * @param {string} name Name of attribute.
       * @param {?string} old Old value of attribute.
       * @param {?string} value Current value of attribute.
       * @param {?string} namespace Attribute namespace.
       * @return {void}
       * @override
       */attributeChangedCallback(name,old,value,namespace){if(old!==value){super.attributeChangedCallback(name,old,value,namespace);this.attributeChanged(name,old,value)}}/**
       * Legacy callback called during `attributeChangedChallback`, for overriding
       * by the user.
       * @param {string} name Name of attribute.
       * @param {?string} old Old value of attribute.
       * @param {?string} value Current value of attribute.
       * @return {void}
       */attributeChanged(name,old,value){}// eslint-disable-line no-unused-vars
/**
       * Overrides the default `Polymer.PropertyEffects` implementation to
       * add support for class initialization via the `_registered` callback.
       * This is called only when the first instance of the element is created.
       *
       * @return {void}
       * @override
       * @suppress {invalidCasts}
       */_initializeProperties(){let proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty("__hasRegisterFinished")){this._registered();// backstop in case the `_registered` implementation does not set this
proto.__hasRegisterFinished=!0}super._initializeProperties();this.root=/** @type {HTMLElement} */this;this.created();// Ensure listeners are applied immediately so that they are
// added before declarative event listeners. This allows an element to
// decorate itself via an event prior to any declarative listeners
// seeing the event. Note, this ensures compatibility with 1.x ordering.
this._applyListeners()}/**
       * Called automatically when an element is initializing.
       * Users may override this method to perform class registration time
       * work. The implementation should ensure the work is performed
       * only once for the class.
       * @protected
       * @return {void}
       */_registered(){}/**
       * Overrides the default `Polymer.PropertyEffects` implementation to
       * add support for installing `hostAttributes` and `listeners`.
       *
       * @return {void}
       * @override
       */ready(){this._ensureAttributes();super.ready()}/**
       * Ensures an element has required attributes. Called when the element
       * is being readied via `ready`. Users should override to set the
       * element's required attributes. The implementation should be sure
       * to check and not override existing attributes added by
       * the user of the element. Typically, setting attributes should be left
       * to the element user and not done here; reasonable exceptions include
       * setting aria roles and focusability.
       * @protected
       * @return {void}
       */_ensureAttributes(){}/**
       * Adds element event listeners. Called when the element
       * is being readied via `ready`. Users should override to
       * add any required element event listeners.
       * In performance critical elements, the work done here should be kept
       * to a minimum since it is done before the element is rendered. In
       * these elements, consider adding listeners asynchronously so as not to
       * block render.
       * @protected
       * @return {void}
       */_applyListeners(){}/**
       * Converts a typed JavaScript value to a string.
       *
       * Note this method is provided as backward-compatible legacy API
       * only.  It is not directly called by any Polymer features. To customize
       * how properties are serialized to attributes for attribute bindings and
       * `reflectToAttribute: true` properties as well as this method, override
       * the `_serializeValue` method provided by `Polymer.PropertyAccessors`.
       *
       * @param {*} value Value to deserialize
       * @return {string | undefined} Serialized value
       */serialize(value){return this._serializeValue(value)}/**
       * Converts a string to a typed JavaScript value.
       *
       * Note this method is provided as backward-compatible legacy API
       * only.  It is not directly called by any Polymer features.  To customize
       * how attributes are deserialized to properties for in
       * `attributeChangedCallback`, override `_deserializeValue` method
       * provided by `Polymer.PropertyAccessors`.
       *
       * @param {string} value String to deserialize
       * @param {*} type Type to deserialize the string to
       * @return {*} Returns the deserialized value in the `type` given.
       */deserialize(value,type){return this._deserializeValue(value,type)}/**
       * Serializes a property to its associated attribute.
       *
       * Note this method is provided as backward-compatible legacy API
       * only.  It is not directly called by any Polymer features.
       *
       * @param {string} property Property name to reflect.
       * @param {string=} attribute Attribute name to reflect.
       * @param {*=} value Property value to reflect.
       * @return {void}
       */reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}/**
       * Sets a typed value to an HTML attribute on a node.
       *
       * Note this method is provided as backward-compatible legacy API
       * only.  It is not directly called by any Polymer features.
       *
       * @param {*} value Value to serialize.
       * @param {string} attribute Attribute name to serialize to.
       * @param {Element} node Element to set attribute to.
       * @return {void}
       */serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(/** @type {Element} */node||this,value,attribute)}/**
       * Copies own properties (including accessor descriptors) from a source
       * object to a target object.
       *
       * @param {Object} prototype Target object to copy properties to.
       * @param {Object} api Source object to copy properties from.
       * @return {Object} prototype object that was passed as first argument.
       */extend(prototype,api){if(!(prototype&&api)){return prototype||api}let n$=Object.getOwnPropertyNames(api);for(let i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}/**
       * Copies props from a source object to a target object.
       *
       * Note, this method uses a simple `for...in` strategy for enumerating
       * properties.  To ensure only `ownProperties` are copied from source
       * to target and that accessor implementations are copied, use `extend`.
       *
       * @param {!Object} target Target object to copy properties to.
       * @param {!Object} source Source object to copy properties from.
       * @return {!Object} Target object that was passed as first argument.
       */mixin(target,source){for(let i in source){target[i]=source[i]}return target}/**
       * Sets the prototype of an object.
       *
       * Note this method is provided as backward-compatible legacy API
       * only.  It is not directly called by any Polymer features.
       * @param {Object} object The object on which to set the prototype.
       * @param {Object} prototype The prototype that will be set on the given
       * `object`.
       * @return {Object} Returns the given `object` with its prototype set
       * to the given `prototype` object.
       */chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}/* **** Begin Template **** */ /**
       * Calls `importNode` on the `content` of the `template` specified and
       * returns a document fragment containing the imported content.
       *
       * @param {HTMLTemplateElement} template HTML template element to instance.
       * @return {!DocumentFragment} Document fragment containing the imported
       *   template content.
      */instanceTemplate(template){let content=this.constructor._contentForTemplate(template),dom=/** @type {!DocumentFragment} */document.importNode(content,!0);return dom}/* **** Begin Events **** */ /**
       * Dispatches a custom event with an optional detail value.
       *
       * @param {string} type Name of event type.
       * @param {*=} detail Detail value containing event-specific
       *   payload.
       * @param {{ bubbles: (boolean|undefined), cancelable: (boolean|undefined), composed: (boolean|undefined) }=}
       *  options Object specifying options.  These may include:
       *  `bubbles` (boolean, defaults to `true`),
       *  `cancelable` (boolean, defaults to false), and
       *  `node` on which to fire the event (HTMLElement, defaults to `this`).
       * @return {!Event} The new event that was fired.
       */fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;let event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;let node=options.node||this;node.dispatchEvent(event);return event}/**
       * Convenience method to add an event listener on a given element,
       * late bound to a named method on this element.
       *
       * @param {Element} node Element to add event listener to.
       * @param {string} eventName Name of event to listen for.
       * @param {string} methodName Name of handler method on `this` to call.
       * @return {void}
       */listen(node,eventName,methodName){node=/** @type {!Element} */node||this;let hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}let key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}/**
       * Convenience method to remove an event listener from a given element,
       * late bound to a named method on this element.
       *
       * @param {Element} node Element to remove event listener from.
       * @param {string} eventName Name of event to stop listening to.
       * @param {string} methodName Name of handler method on `this` to not call
       anymore.
       * @return {void}
       */unlisten(node,eventName,methodName){node=/** @type {!Element} */node||this;let bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}/**
       * Override scrolling behavior to all direction, one direction, or none.
       *
       * Valid scroll directions:
       *   - 'all': scroll in any direction
       *   - 'x': scroll only in the 'x' direction
       *   - 'y': scroll only in the 'y' direction
       *   - 'none': disable scrolling for this node
       *
       * @param {string=} direction Direction to allow scrolling
       * Defaults to `all`.
       * @param {Element=} node Element to apply scroll direction setting.
       * Defaults to `this`.
       * @return {void}
       */setScrollDirection(direction,node){Polymer.Gestures.setTouchAction(/** @type {Element} */node||this,DIRECTION_MAP[direction]||"auto")}/* **** End Events **** */ /**
       * Convenience method to run `querySelector` on this local DOM scope.
       *
       * This function calls `Polymer.dom(this.root).querySelector(slctr)`.
       *
       * @param {string} slctr Selector to run on this local DOM scope
       * @return {Element} Element found by the selector, or null if not found.
       */$$(slctr){return this.root.querySelector(slctr)}/**
       * Return the element whose local dom within which this element
       * is contained. This is a shorthand for
       * `this.getRootNode().host`.
       * @this {Element}
       */get domHost(){let root=this.getRootNode();return root instanceof DocumentFragment?/** @type {ShadowRoot} */root.host:root}/**
       * Force this element to distribute its children to its local dom.
       * This should not be necessary as of Polymer 2.0.2 and is provided only
       * for backwards compatibility.
       * @return {void}
       */distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}/**
       * Returns a list of nodes that are the effective childNodes. The effective
       * childNodes list is the same as the element's childNodes except that
       * any `<content>` elements are replaced with the list of nodes distributed
       * to the `<content>`, the result of its `getDistributedNodes` method.
       * @return {!Array<!Node>} List of effective child nodes.
       * @suppress {invalidCasts} LegacyElementMixin must be applied to an HTMLElement
       */getEffectiveChildNodes(){const thisEl=/** @type {Element} */this,domApi=/** @type {Polymer.DomApi} */Polymer.dom(thisEl);return domApi.getEffectiveChildNodes()}/**
       * Returns a list of nodes distributed within this element that match
       * `selector`. These can be dom children or elements distributed to
       * children that are insertion points.
       * @param {string} selector Selector to run.
       * @return {!Array<!Node>} List of distributed elements that match selector.
       * @suppress {invalidCasts} LegacyElementMixin must be applied to an HTMLElement
       */queryDistributedElements(selector){const thisEl=/** @type {Element} */this,domApi=/** @type {Polymer.DomApi} */Polymer.dom(thisEl);return domApi.queryDistributedElements(selector)}/**
       * Returns a list of elements that are the effective children. The effective
       * children list is the same as the element's children except that
       * any `<content>` elements are replaced with the list of elements
       * distributed to the `<content>`.
       *
       * @return {!Array<!Node>} List of effective children.
       */getEffectiveChildren(){let list=this.getEffectiveChildNodes();return list.filter(function(/** @type {!Node} */n){return n.nodeType===Node.ELEMENT_NODE})}/**
       * Returns a string of text content that is the concatenation of the
       * text content's of the element's effective childNodes (the elements
       * returned by <a href="#getEffectiveChildNodes>getEffectiveChildNodes</a>.
       *
       * @return {string} List of effective children.
       */getEffectiveTextContent(){let cn=this.getEffectiveChildNodes(),tc=[];for(let i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join("")}/**
       * Returns the first effective childNode within this element that
       * match `selector`. These can be dom child nodes or elements distributed
       * to children that are insertion points.
       * @param {string} selector Selector to run.
       * @return {Node} First effective child node that matches selector.
       */queryEffectiveChildren(selector){let e$=this.queryDistributedElements(selector);return e$&&e$[0]}/**
       * Returns a list of effective childNodes within this element that
       * match `selector`. These can be dom child nodes or elements distributed
       * to children that are insertion points.
       * @param {string} selector Selector to run.
       * @return {!Array<!Node>} List of effective child nodes that match selector.
       */queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}/**
       * Returns a list of nodes distributed to this element's `<slot>`.
       *
       * If this element contains more than one `<slot>` in its local DOM,
       * an optional selector may be passed to choose the desired content.
       *
       * @param {string=} slctr CSS selector to choose the desired
       *   `<slot>`.  Defaults to `content`.
       * @return {!Array<!Node>} List of distributed nodes for the `<slot>`.
       */getContentChildNodes(slctr){let content=this.root.querySelector(slctr||"slot");return content?/** @type {Polymer.DomApi} */Polymer.dom(content).getDistributedNodes():[]}/**
       * Returns a list of element children distributed to this element's
       * `<slot>`.
       *
       * If this element contains more than one `<slot>` in its
       * local DOM, an optional selector may be passed to choose the desired
       * content.  This method differs from `getContentChildNodes` in that only
       * elements are returned.
       *
       * @param {string=} slctr CSS selector to choose the desired
       *   `<content>`.  Defaults to `content`.
       * @return {!Array<!HTMLElement>} List of distributed nodes for the
       *   `<slot>`.
       * @suppress {invalidCasts}
       */getContentChildren(slctr){let children=/** @type {!Array<!HTMLElement>} */this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}/**
       * Checks whether an element is in this element's light DOM tree.
       *
       * @param {?Node} node The element to be checked.
       * @return {boolean} true if node is in this element's light DOM tree.
       * @suppress {invalidCasts} LegacyElementMixin must be applied to an HTMLElement
       */isLightDescendant(node){const thisNode=/** @type {Node} */this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}/**
       * Checks whether an element is in this element's local DOM tree.
       *
       * @param {!Element} node The element to be checked.
       * @return {boolean} true if node is in this element's local DOM tree.
       */isLocalDescendant(node){return this.root===node.getRootNode()}/**
       * No-op for backwards compatibility. This should now be handled by
       * ShadyCss library.
       * @param  {*} container Unused
       * @param  {*} shouldObserve Unused
       * @return {void}
       */scopeSubtree(container,shouldObserve){}// eslint-disable-line no-unused-vars
/**
       * Returns the computed style value for the given property.
       * @param {string} property The css property name.
       * @return {string} Returns the computed css property value for the given
       * `property`.
       * @suppress {invalidCasts} LegacyElementMixin must be applied to an HTMLElement
       */getComputedStyleValue(property){return styleInterface.getComputedStyleValue(/** @type {!Element} */this,property)}// debounce
/**
       * Call `debounce` to collapse multiple requests for a named task into
       * one invocation which is made after the wait time has elapsed with
       * no new request.  If no wait time is given, the callback will be called
       * at microtask timing (guaranteed before paint).
       *
       *     debouncedClickAction(e) {
       *       // will not call `processClick` more than once per 100ms
       *       this.debounce('click', function() {
       *        this.processClick();
       *       } 100);
       *     }
       *
       * @param {string} jobName String to identify the debounce job.
       * @param {function():void} callback Function that is called (with `this`
       *   context) when the wait time elapses.
       * @param {number} wait Optional wait time in milliseconds (ms) after the
       *   last signal that must elapse before invoking `callback`
       * @return {!Object} Returns a debouncer object on which exists the
       * following methods: `isActive()` returns true if the debouncer is
       * active; `cancel()` cancels the debouncer if it is active;
       * `flush()` immediately invokes the debounced callback if the debouncer
       * is active.
       */debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Polymer.Debouncer.debounce(this._debouncers[jobName],0<wait?Polymer.Async.timeOut.after(wait):Polymer.Async.microTask,callback.bind(this))}/**
       * Returns whether a named debouncer is active.
       *
       * @param {string} jobName The name of the debouncer started with `debounce`
       * @return {boolean} Whether the debouncer is active (has not yet fired).
       */isDebouncerActive(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}/**
       * Immediately calls the debouncer `callback` and inactivates it.
       *
       * @param {string} jobName The name of the debouncer started with `debounce`
       * @return {void}
       */flushDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}/**
       * Cancels an active debouncer.  The `callback` will not be called.
       *
       * @param {string} jobName The name of the debouncer started with `debounce`
       * @return {void}
       */cancelDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}/**
       * Runs a callback function asynchronously.
       *
       * By default (if no waitTime is specified), async callbacks are run at
       * microtask timing, which will occur before paint.
       *
       * @param {!Function} callback The callback function to run, bound to `this`.
       * @param {number=} waitTime Time to wait before calling the
       *   `callback`.  If unspecified or 0, the callback will be run at microtask
       *   timing (before paint).
       * @return {number} Handle that may be used to cancel the async job.
       */async(callback,waitTime){return 0<waitTime?Polymer.Async.timeOut.run(callback.bind(this),waitTime):~Polymer.Async.microTask.run(callback.bind(this))}/**
       * Cancels an async operation started with `async`.
       *
       * @param {number} handle Handle returned from original `async` call to
       *   cancel.
       * @return {void}
       */cancelAsync(handle){0>handle?Polymer.Async.microTask.cancel(~handle):Polymer.Async.timeOut.cancel(handle)}// other
/**
       * Convenience method for creating an element and configuring it.
       *
       * @param {string} tag HTML element tag to create.
       * @param {Object=} props Object of properties to configure on the
       *    instance.
       * @return {!Element} Newly created and configured element.
       */create(tag,props){let elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(let n in props){elt[n]=props[n]}}}return elt}/**
       * Convenience method for importing an HTML document imperatively.
       *
       * This method creates a new `<link rel="import">` element with
       * the provided URL and appends it to the document to start loading.
       * In the `onload` callback, the `import` property of the `link`
       * element will contain the imported document contents.
       *
       * @param {string} href URL to document to load.
       * @param {?function(!Event):void=} onload Callback to notify when an import successfully
       *   loaded.
       * @param {?function(!ErrorEvent):void=} onerror Callback to notify when an import
       *   unsuccessfully loaded.
       * @param {boolean=} optAsync True if the import should be loaded `async`.
       *   Defaults to `false`.
       * @return {!HTMLLinkElement} The link element for the URL to be loaded.
       */importHref(href,onload,onerror,optAsync){// eslint-disable-line no-unused-vars
let loadFn=onload?onload.bind(this):null,errorFn=onerror?onerror.bind(this):null;return Polymer.importHref(href,loadFn,errorFn,optAsync)}/**
       * Polyfill for Element.prototype.matches, which is sometimes still
       * prefixed.
       *
       * @param {string} selector Selector to test.
       * @param {!Element=} node Element to test the selector against.
       * @return {boolean} Whether the element matches the selector.
       */elementMatches(selector,node){return Polymer.dom.matchesSelector(/** @type {!Element} */node||this,selector)}/**
       * Toggles an HTML attribute on or off.
       *
       * @param {string} name HTML attribute name
       * @param {boolean=} bool Boolean to force the attribute on or off.
       *    When unspecified, the state of the attribute will be reversed.
       * @param {Element=} node Node to target.  Defaults to `this`.
       * @return {void}
       */toggleAttribute(name,bool,node){node=/** @type {Element} */node||this;if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}/**
       * Toggles a CSS class on or off.
       *
       * @param {string} name CSS class name
       * @param {boolean=} bool Boolean to force the class on or off.
       *    When unspecified, the state of the class will be reversed.
       * @param {Element=} node Node to target.  Defaults to `this`.
       * @return {void}
       */toggleClass(name,bool,node){node=/** @type {Element} */node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}/**
       * Cross-platform helper for setting an element's CSS `transform` property.
       *
       * @param {string} transformText Transform setting.
       * @param {Element=} node Element to apply the transform to.
       * Defaults to `this`
       * @return {void}
       */transform(transformText,node){node=/** @type {Element} */node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}/**
       * Cross-platform helper for setting an element's CSS `translate3d`
       * property.
       *
       * @param {number} x X offset.
       * @param {number} y Y offset.
       * @param {number} z Z offset.
       * @param {Element=} node Element to apply the transform to.
       * Defaults to `this`.
       * @return {void}
       */translate3d(x,y,z,node){node=/** @type {Element} */node||this;this.transform("translate3d("+x+","+y+","+z+")",node)}/**
       * Removes an item from an array, if it exists.
       *
       * If the array is specified by path, a change notification is
       * generated, so that observers, data bindings and computed
       * properties watching that path can update.
       *
       * If the array is passed directly, **no change
       * notification is generated**.
       *
       * @param {string | !Array<number|string>} arrayOrPath Path to array from which to remove the item
       *   (or the array itself).
       * @param {*} item Item to remove.
       * @return {Array} Array containing item removed.
       */arrayDelete(arrayOrPath,item){let index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{let arr=Polymer.Path.get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}// logging
/**
       * Facades `console.log`/`warn`/`error` as override point.
       *
       * @param {string} level One of 'log', 'warn', 'error'
       * @param {Array} args Array of strings or objects to log
       * @return {void}
       */_logger(level,args){// accept ['foo', 'bar'] and [['foo', 'bar']]
if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case"log":case"warn":case"error":console[level](...args);}}/**
       * Facades `console.log` as an override point.
       *
       * @param {...*} args Array of strings or objects to log
       * @return {void}
       */_log(...args){this._logger("log",args)}/**
       * Facades `console.warn` as an override point.
       *
       * @param {...*} args Array of strings or objects to log
       * @return {void}
       */_warn(...args){this._logger("warn",args)}/**
       * Facades `console.error` as an override point.
       *
       * @param {...*} args Array of strings or objects to log
       * @return {void}
       */_error(...args){this._logger("error",args)}/**
       * Formats a message using the element type an a method name.
       *
       * @param {string} methodName Method name to associate with message
       * @param {...*} args Array of strings or objects to log
       * @return {Array} Array with formatting information for `console`
       *   logging.
       */_logf(methodName,...args){return["[%s::%s]",this.is,methodName,...args]}}LegacyElement.prototype.is="";return LegacyElement})})();</script><script>(function(){'use strict';const lifecycleProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},excludeOnInfo={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},excludeOnBehaviors=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},excludeOnInfo);function copyProperties(source,target,excludeProps){const noAccessors=source._noAccessors,propertyNames=Object.getOwnPropertyNames(source);for(let i=0,p;i<propertyNames.length;i++){p=propertyNames[i];if(p in excludeProps){continue}if(noAccessors){target[p]=source[p]}else{let pd=Object.getOwnPropertyDescriptor(source,p);if(pd){// ensure property is configurable so that a later behavior can
// re-configure it.
pd.configurable=!0;Object.defineProperty(target,p,pd)}}}}/**
     * Applies a "legacy" behavior or array of behaviors to the provided class.
     *
     * Note: this method will automatically also apply the `Polymer.LegacyElementMixin`
     * to ensure that any legacy behaviors can rely on legacy Polymer API on
     * the underlying element.
     *
     * @template T
     * @param {!Object|!Array<!Object>} behaviors Behavior object or array of behaviors.
     * @param {function(new:T)} klass Element class.
     * @return {function(new:T)} Returns a new Element class extended by the
     * passed in `behaviors` and also by `Polymer.LegacyElementMixin`.
     * @memberof Polymer
     * @suppress {invalidCasts, checkTypes}
     */function mixinBehaviors(behaviors,klass){return GenerateClassFromInfo({},Polymer.LegacyElementMixin(klass),behaviors)}// NOTE:
// 1.x
// Behaviors were mixed in *in reverse order* and de-duped on the fly.
// The rule was that behavior properties were copied onto the element
// prototype if and only if the property did not already exist.
// Given: Polymer{ behaviors: [A, B, C, A, B]}, property copy order was:
// (1), B, (2), A, (3) C. This means prototype properties win over
// B properties win over A win over C. This mirrors what would happen
// with inheritance if element extended B extended A extended C.
//
// Again given, Polymer{ behaviors: [A, B, C, A, B]}, the resulting
// `behaviors` array was [C, A, B].
// Behavior lifecycle methods were called in behavior array order
// followed by the element, e.g. (1) C.created, (2) A.created,
// (3) B.created, (4) element.created. There was no support for
// super, and "super-behavior" methods were callable only by name).
//
// 2.x
// Behaviors are made into proper mixins which live in the
// element's prototype chain. Behaviors are placed in the element prototype
// eldest to youngest and de-duped youngest to oldest:
// So, first [A, B, C, A, B] becomes [C, A, B] then,
// the element prototype becomes (oldest) (1) Polymer.Element, (2) class(C),
// (3) class(A), (4) class(B), (5) class(Polymer({...})).
// Result:
// This means element properties win over B properties win over A win
// over C. (same as 1.x)
// If lifecycle is called (super then me), order is
// (1) C.created, (2) A.created, (3) B.created, (4) element.created
// (again same as 1.x)
function applyBehaviors(proto,behaviors,lifecycle){for(let i=0;i<behaviors.length;i++){applyInfo(proto,behaviors[i],lifecycle,excludeOnBehaviors)}}function applyInfo(proto,info,lifecycle,excludeProps){copyProperties(info,proto,excludeProps);for(let p in lifecycleProps){if(info[p]){lifecycle[p]=lifecycle[p]||[];lifecycle[p].push(info[p])}}}/**
     * @param {Array} behaviors List of behaviors to flatten.
     * @param {Array=} list Target list to flatten behaviors into.
     * @param {Array=} exclude List of behaviors to exclude from the list.
     * @return {!Array} Returns the list of flattened behaviors.
     */function flattenBehaviors(behaviors,list,exclude){list=list||[];for(let i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{// dedup
if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn("behavior is null, check for missing or 404 import")}}return list}/* Note about construction and extension of legacy classes.
      [Changed in Q4 2018 to optimize performance.]

      When calling `Polymer` or `mixinBehaviors`, the generated class below is
      made. The list of behaviors was previously made into one generated class per
      behavior, but this is no longer the case as behaviors are now called
      manually. Note, there may *still* be multiple generated classes in the
      element's prototype chain if extension is used with `mixinBehaviors`.

      The generated class is directly tied to the info object and behaviors
      used to create it. That list of behaviors is filtered so it's only the
      behaviors not active on the superclass. In order to call through to the
      entire list of lifecycle methods, it's important to call `super`.

      The element's `properties` and `observers` are controlled via the finalization
      mechanism provided by `PropertiesMixin`. `Properties` and `observers` are
      collected by manually traversing the prototype chain and merging.

      To limit changes, the `_registered` method is called via `_initializeProperties`
      and not `_finalizeClass`.
    */ /**
     * @param {!PolymerInit} info Polymer info object
     * @param {function(new:HTMLElement)} Base base class to extend with info object
     * @param {Object} behaviors behaviors to copy into the element
     * @return {function(new:HTMLElement)} Generated class
     * @suppress {checkTypes}
     * @private
     */function GenerateClassFromInfo(info,Base,behaviors){// manages behavior and lifecycle processing (filled in after class definition)
let behaviorList;const lifecycle={};/** @private */class PolymerGenerated extends Base{// explicitly not calling super._finalizeClass
static _finalizeClass(){// if calling via a subclass that hasn't been generated, pass through to super
if(!this.hasOwnProperty(window.JSCompiler_renameProperty("generatedFrom",this))){super._finalizeClass()}else{// interleave properties and observers per behavior and `info`
if(behaviorList){for(let i=0,b;i<behaviorList.length;i++){b=behaviorList[i];if(b.properties){this.createProperties(b.properties)}if(b.observers){this.createObservers(b.observers,b.properties)}}}if(info.properties){this.createProperties(info.properties)}if(info.observers){this.createObservers(info.observers,info.properties)}// make sure to prepare the element template
this._prepareTemplate()}}static get properties(){const properties={};if(behaviorList){for(let i=0;i<behaviorList.length;i++){Object.assign(properties,behaviorList[i].properties)}}Object.assign(properties,info.properties);return properties}static get observers(){let observers=[];if(behaviorList){for(let i=0,b;i<behaviorList.length;i++){b=behaviorList[i];if(b.observers){observers=observers.concat(b.observers)}}}if(info.observers){observers=observers.concat(info.observers)}return observers}/**
         * @return {void}
         */created(){super.created();const list=lifecycle.created;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}/**
         * @return {void}
         */_registered(){/* NOTE: `beforeRegister` is called here for bc, but the behavior
            is different than in 1.x. In 1.0, the method was called *after*
            mixing prototypes together but *before* processing of meta-objects.
            However, dynamic effects can still be set here and can be done either
            in `beforeRegister` or `registered`. It is no longer possible to set
            `is` in `beforeRegister` as you could in 1.x.
          */ // only proceed if the generated class' prototype has not been registered.
const generatedProto=PolymerGenerated.prototype;if(!generatedProto.hasOwnProperty("__hasRegisterFinished")){generatedProto.__hasRegisterFinished=!0;// ensure superclass is registered first.
super._registered();// copy properties onto the generated class lazily if we're optimizing,
if(Polymer.legacyOptimizations){copyPropertiesToProto(generatedProto)}// make sure legacy lifecycle is called on the *element*'s prototype
// and not the generated class prototype; if the element has been
// extended, these are *not* the same.
const proto=Object.getPrototypeOf(this);let list=lifecycle.beforeRegister;if(list){for(let i=0;i<list.length;i++){list[i].call(proto)}}list=lifecycle.registered;if(list){for(let i=0;i<list.length;i++){list[i].call(proto)}}}}/**
         * @return {void}
         */_applyListeners(){super._applyListeners();const list=lifecycle.listeners;if(list){for(let i=0;i<list.length;i++){const listeners=list[i];if(listeners){for(let l in listeners){this._addMethodEventListenerToNode(this,l,listeners[l])}}}}}// note: exception to "super then me" rule;
// do work before calling super so that super attributes
// only apply if not already set.
/**
         * @return {void}
         */_ensureAttributes(){const list=lifecycle.hostAttributes;if(list){for(let i=list.length-1;0<=i;i--){const hostAttributes=list[i];for(let a in hostAttributes){this._ensureAttribute(a,hostAttributes[a])}}}super._ensureAttributes()}/**
         * @return {void}
         */ready(){super.ready();let list=lifecycle.ready;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}/**
         * @return {void}
         */attached(){super.attached();let list=lifecycle.attached;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}/**
         * @return {void}
         */detached(){super.detached();let list=lifecycle.detached;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}/**
         * Implements native Custom Elements `attributeChangedCallback` to
         * set an attribute value to a property via `_attributeToProperty`.
         *
         * @param {string} name Name of attribute that changed
         * @param {?string} old Old attribute value
         * @param {?string} value New attribute value
         * @return {void}
         */attributeChanged(name,old,value){super.attributeChanged();let list=lifecycle.attributeChanged;if(list){for(let i=0;i<list.length;i++){list[i].call(this,name,old,value)}}}}// apply behaviors, note actual copying is done lazily at first instance creation
if(behaviors){// NOTE: ensure the behavior is extending a class with
// legacy element api. This is necessary since behaviors expect to be able
// to access 1.x legacy api.
if(!Array.isArray(behaviors)){behaviors=[behaviors]}let superBehaviors=Base.prototype.behaviors;// get flattened, deduped list of behaviors *not* already on super class
behaviorList=flattenBehaviors(behaviors,null,superBehaviors);PolymerGenerated.prototype.behaviors=superBehaviors?superBehaviors.concat(behaviors):behaviorList}const copyPropertiesToProto=proto=>{if(behaviorList){applyBehaviors(proto,behaviorList,lifecycle)}applyInfo(proto,info,lifecycle,excludeOnInfo)};// copy properties if we're not optimizing
if(!Polymer.legacyOptimizations){copyPropertiesToProto(PolymerGenerated.prototype)}PolymerGenerated.generatedFrom=info;return PolymerGenerated}/**
     * Generates a class that extends `Polymer.LegacyElement` based on the
     * provided info object.  Metadata objects on the `info` object
     * (`properties`, `observers`, `listeners`, `behaviors`, `is`) are used
     * for Polymer's meta-programming systems, and any functions are copied
     * to the generated class.
     *
     * Valid "metadata" values are as follows:
     *
     * `is`: String providing the tag name to register the element under. In
     * addition, if a `dom-module` with the same id exists, the first template
     * in that `dom-module` will be stamped into the shadow root of this element,
     * with support for declarative event listeners (`on-...`), Polymer data
     * bindings (`[[...]]` and `{{...}}`), and id-based node finding into
     * `this.$`.
     *
     * `properties`: Object describing property-related metadata used by Polymer
     * features (key: property names, value: object containing property metadata).
     * Valid keys in per-property metadata include:
     * - `type` (String|Number|Object|Array|...): Used by
     *   `attributeChangedCallback` to determine how string-based attributes
     *   are deserialized to JavaScript property values.
     * - `notify` (boolean): Causes a change in the property to fire a
     *   non-bubbling event called `<property>-changed`. Elements that have
     *   enabled two-way binding to the property use this event to observe changes.
     * - `readOnly` (boolean): Creates a getter for the property, but no setter.
     *   To set a read-only property, use the private setter method
     *   `_setProperty(property, value)`.
     * - `observer` (string): Observer method name that will be called when
     *   the property changes. The arguments of the method are
     *   `(value, previousValue)`.
     * - `computed` (string): String describing method and dependent properties
     *   for computing the value of this property (e.g. `'computeFoo(bar, zot)'`).
     *   Computed properties are read-only by default and can only be changed
     *   via the return value of the computing method.
     *
     * `observers`: Array of strings describing multi-property observer methods
     *  and their dependent properties (e.g. `'observeABC(a, b, c)'`).
     *
     * `listeners`: Object describing event listeners to be added to each
     *  instance of this element (key: event name, value: method name).
     *
     * `behaviors`: Array of additional `info` objects containing metadata
     * and callbacks in the same format as the `info` object here which are
     * merged into this element.
     *
     * `hostAttributes`: Object listing attributes to be applied to the host
     *  once created (key: attribute name, value: attribute value).  Values
     *  are serialized based on the type of the value.  Host attributes should
     *  generally be limited to attributes such as `tabIndex` and `aria-...`.
     *  Attributes in `hostAttributes` are only applied if a user-supplied
     *  attribute is not already present (attributes in markup override
     *  `hostAttributes`).
     *
     * In addition, the following Polymer-specific callbacks may be provided:
     * - `registered`: called after first instance of this element,
     * - `created`: called during `constructor`
     * - `attached`: called during `connectedCallback`
     * - `detached`: called during `disconnectedCallback`
     * - `ready`: called before first `attached`, after all properties of
     *   this element have been propagated to its template and all observers
     *   have run
     *
     * @param {!PolymerInit} info Object containing Polymer metadata and functions
     *   to become class methods.
     * @template T
     * @param {function(T):T} mixin Optional mixin to apply to legacy base class
     *   before extending with Polymer metaprogramming.
     * @return {function(new:HTMLElement)} Generated class
     * @memberof Polymer
     */Polymer.Class=function(info,mixin){if(!info){console.warn("Polymer.Class requires `info` argument")}let klass=mixin?mixin(Polymer.LegacyElementMixin(HTMLElement)):Polymer.LegacyElementMixin(HTMLElement);klass=GenerateClassFromInfo(info,klass,info.behaviors);if(info._enableDisableUpgrade){klass=Polymer.DisableUpgradeMixin(klass)}// decorate klass with registration info
klass.is=klass.prototype.is=info.is;return klass};Polymer.mixinBehaviors=mixinBehaviors})();</script><script>(function(){'use strict';/**
     * Legacy class factory and registration helper for defining Polymer
     * elements.
     *
     * This method is equivalent to
     * `customElements.define(info.is, Polymer.Class(info));`
     *
     * See `Polymer.Class` for details on valid legacy metadata format for `info`.
     *
     * @global
     * @override
     * @function Polymer
     * @param {!PolymerInit} info Object containing Polymer metadata and functions
     *   to become class methods.
     * @return {function(new: HTMLElement)} Generated class
     * @suppress {duplicate, invalidCasts, checkTypes}
     */window.Polymer._polymerFn=function(info){// if input is a `class` (aka a function with a prototype), use the prototype
// remember that the `constructor` will never be called
let klass;if("function"===typeof info){klass=info}else{klass=Polymer.Class(info)}customElements.define(klass.is,/** @type {!HTMLElement} */klass);return klass}})();</script><script>(function(){'use strict';// Common implementation for mixin & behavior
function mutablePropertyChange(inst,property,value,old,mutableData){let isObject;if(mutableData){isObject="object"===typeof value&&null!==value;// Pull `old` for Objects from temp cache, but treat `null` as a primitive
if(isObject){old=inst.__dataTemp[property]}}// Strict equality check, but return false for NaN===NaN
let shouldChange=old!==value&&(old===old||value===value);// Objects are stored in temporary cache (cleared at end of
// turn), which is used for dirty-checking
if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}/**
   * Element class mixin to skip strict dirty-checking for objects and arrays
   * (always consider them to be "dirty"), for use on elements utilizing
   * `Polymer.PropertyEffects`
   *
   * By default, `Polymer.PropertyEffects` performs strict dirty checking on
   * objects, which means that any deep modifications to an object or array will
   * not be propagated unless "immutable" data patterns are used (i.e. all object
   * references from the root to the mutation were changed).
   *
   * Polymer also provides a proprietary data mutation and path notification API
   * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient
   * mutation and notification of deep changes in an object graph to all elements
   * bound to the same object graph.
   *
   * In cases where neither immutable patterns nor the data mutation API can be
   * used, applying this mixin will cause Polymer to skip dirty checking for
   * objects and arrays (always consider them to be "dirty").  This allows a
   * user to make a deep modification to a bound object graph, and then either
   * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`
   * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all
   * elements that wish to be updated based on deep mutations must apply this
   * mixin or otherwise skip strict dirty checking for objects/arrays.
   * Specifically, any elements in the binding tree between the source of a
   * mutation and the consumption of it must apply this mixin or enable the
   * `Polymer.OptionalMutableData` mixin.
   *
   * In order to make the dirty check strategy configurable, see
   * `Polymer.OptionalMutableData`.
   *
   * Note, the performance characteristics of propagating large object graphs
   * will be worse as opposed to using strict dirty checking with immutable
   * patterns or Polymer's path notification API.
   *
   * @mixinFunction
   * @polymer
   * @memberof Polymer
   * @summary Element class mixin to skip strict dirty-checking for objects
   *   and arrays
   */Polymer.MutableData=Polymer.dedupingMixin(superClass=>{/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_MutableData}
     */class MutableData extends superClass{/**
       * Overrides `Polymer.PropertyEffects` to provide option for skipping
       * strict equality checking for Objects and Arrays.
       *
       * This method pulls the value to dirty check against from the `__dataTemp`
       * cache (rather than the normal `__data` cache) for Objects.  Since the temp
       * cache is cleared at the end of a turn, this implementation allows
       * side-effects of deep object changes to be processed by re-setting the
       * same object (using the temp cache as an in-turn backstop to prevent
       * cycles due to 2-way notification).
       *
       * @param {string} property Property name
       * @param {*} value New property value
       * @param {*} old Previous property value
       * @return {boolean} Whether the property should be considered a change
       * @protected
       */_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}return MutableData});/**
   * Element class mixin to add the optional ability to skip strict
   * dirty-checking for objects and arrays (always consider them to be
   * "dirty") by setting a `mutable-data` attribute on an element instance.
   *
   * By default, `Polymer.PropertyEffects` performs strict dirty checking on
   * objects, which means that any deep modifications to an object or array will
   * not be propagated unless "immutable" data patterns are used (i.e. all object
   * references from the root to the mutation were changed).
   *
   * Polymer also provides a proprietary data mutation and path notification API
   * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient
   * mutation and notification of deep changes in an object graph to all elements
   * bound to the same object graph.
   *
   * In cases where neither immutable patterns nor the data mutation API can be
   * used, applying this mixin will allow Polymer to skip dirty checking for
   * objects and arrays (always consider them to be "dirty").  This allows a
   * user to make a deep modification to a bound object graph, and then either
   * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`
   * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all
   * elements that wish to be updated based on deep mutations must apply this
   * mixin or otherwise skip strict dirty checking for objects/arrays.
   * Specifically, any elements in the binding tree between the source of a
   * mutation and the consumption of it must enable this mixin or apply the
   * `Polymer.MutableData` mixin.
   *
   * While this mixin adds the ability to forgo Object/Array dirty checking,
   * the `mutableData` flag defaults to false and must be set on the instance.
   *
   * Note, the performance characteristics of propagating large object graphs
   * will be worse by relying on `mutableData: true` as opposed to using
   * strict dirty checking with immutable patterns or Polymer's path notification
   * API.
   *
   * @mixinFunction
   * @polymer
   * @memberof Polymer
   * @summary Element class mixin to optionally skip strict dirty-checking
   *   for objects and arrays
   */Polymer.OptionalMutableData=Polymer.dedupingMixin(superClass=>{/**
     * @mixinClass
     * @polymer
     * @implements {Polymer_OptionalMutableData}
     */class OptionalMutableData extends superClass{static get properties(){return{/**
           * Instance-level flag for configuring the dirty-checking strategy
           * for this element.  When true, Objects and Arrays will skip dirty
           * checking, otherwise strict equality checking will be used.
           */mutableData:Boolean}}/**
       * Overrides `Polymer.PropertyEffects` to provide option for skipping
       * strict equality checking for Objects and Arrays.
       *
       * When `this.mutableData` is true on this instance, this method
       * pulls the value to dirty check against from the `__dataTemp` cache
       * (rather than the normal `__data` cache) for Objects.  Since the temp
       * cache is cleared at the end of a turn, this implementation allows
       * side-effects of deep object changes to be processed by re-setting the
       * same object (using the temp cache as an in-turn backstop to prevent
       * cycles due to 2-way notification).
       *
       * @param {string} property Property name
       * @param {*} value New property value
       * @param {*} old Previous property value
       * @return {boolean} Whether the property should be considered a change
       * @protected
       */_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}return OptionalMutableData});// Export for use by legacy behavior
Polymer.MutableData._mutablePropertyChange=mutablePropertyChange})();</script><script>(function(){'use strict';// Base class for HTMLTemplateElement extension that has property effects
// machinery for propagating host properties to children. This is an ES5
// class only because Babel (incorrectly) requires super() in the class
// constructor even though no `this` is used and it returns an instance.
let newInstance=null;/**
     * @constructor
     * @extends {HTMLTemplateElement}
     * @private
     */function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});/**
     * @constructor
     * @implements {Polymer_PropertyEffects}
     * @extends {HTMLTemplateElementExtension}
     * @private
     */const DataTemplate=Polymer.PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=Polymer.MutableData(DataTemplate);/**
     * @constructor
     * @implements {Polymer_MutableData}
     * @extends {DataTemplate}
     * @private
     */ // Applies a DataTemplate subclass to a <template> instance
function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}/**
     * Base class for TemplateInstance.
     * @constructor
     * @implements {Polymer_PropertyEffects}
     * @private
     */const base=Polymer.PropertyEffects(class{});/**
     * @polymer
     * @customElement
     * @appliesMixin Polymer.PropertyEffects
     * @unrestricted
     */class TemplateInstanceBase extends base{constructor(props){super();this._configureProperties(props);this.root=this._stampTemplate(this.__dataHost);// Save list of stamped children
let children=this.children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=this}if(this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__){this._showHideChildren(!0)}// Flush props only when props are passed if instance props exist
// or when there isn't instance props.
let options=this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){this._enableProperties()}}/**
       * Configure the given `props` by calling `_setPendingProperty`. Also
       * sets any properties stored in `__hostProps`.
       * @private
       * @param {Object} props Object of property name-value pairs to set.
       * @return {void}
       */_configureProperties(props){let options=this.__templatizeOptions;if(options.forwardHostProp){for(let hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost["_host_"+hprop])}}// Any instance props passed in the constructor will overwrite host props;
// normally this would be a user error but we don't specifically filter them
for(let iprop in props){this._setPendingProperty(iprop,props[iprop])}}/**
       * Forwards a host property to this instance.  This method should be
       * called on instances from the `options.forwardHostProp` callback
       * to propagate changes of host properties to each instance.
       *
       * Note this method enqueues the change, which are flushed as a batch.
       *
       * @param {string} prop Property or path name
       * @param {*} value Value of the property to forward
       * @return {void}
       */forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,/* eat */!1,!0)){this.__dataHost._enqueueClient(this)}}/**
       * Override point for adding custom or simulated event handling.
       *
       * @param {!Node} node Node to add event listener to
       * @param {string} eventName Name of event
       * @param {function(!Event):void} handler Listener function to add
       * @return {void}
       */_addEventListenerToNode(node,eventName,handler){if(this._methodHost&&this.__templatizeOptions.parentModel){// If this instance should be considered a parent model, decorate
// events this template instance as `model`
this._methodHost._addEventListenerToNode(node,eventName,e=>{e.model=this;handler(e)})}else{// Otherwise delegate to the template's host (which could be)
// another template instance
let templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}/**
       * Shows or hides the template instance top level child elements. For
       * text nodes, `textContent` is removed while "hidden" and replaced when
       * "shown."
       * @param {boolean} hide Set to true to hide the children;
       * set to false to show them.
       * @return {void}
       * @protected
       */_showHideChildren(hide){let c=this.children;for(let i=0,n;i<c.length;i++){n=c[i];// Ignore non-changes
if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else{n.textContent=n.__polymerTextContent__}// remove and replace slot
}else if("slot"===n.localName){if(hide){n.__polymerReplaced__=document.createComment("hidden-slot");n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{const replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}/**
       * Overrides default property-effects implementation to intercept
       * textContent bindings while children are "hidden" and cache in
       * private storage for later retrieval.
       *
       * @param {!Node} node The node to set a property on
       * @param {string} prop The property to set
       * @param {*} value The value to set
       * @return {void}
       * @protected
       */_setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&"textContent"==prop){node.__polymerTextContent__=value}else{super._setUnmanagedPropertyToNode(node,prop,value)}}/**
       * Find the parent model of this template instance.  The parent model
       * is either another templatize instance that had option `parentModel: true`,
       * or else the host element.
       *
       * @return {!Polymer_PropertyEffects} The parent model of this instance
       */get parentModel(){let model=this.__parentModel;if(!model){let options;model=this;do{// A template instance's `__dataHost` is a <template>
// `model.__dataHost.__dataHost` is the template's host
model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}/**
       * Stub of HTMLElement's `dispatchEvent`, so that effects that may
       * dispatch events safely no-op.
       *
       * @param {Event} event Event to dispatch
       * @return {boolean} Always true.
       */dispatchEvent(event){// eslint-disable-line no-unused-vars
return!0}}/** @type {!DataTemplate} */TemplateInstanceBase.prototype.__dataHost;/** @type {!TemplatizeOptions} */TemplateInstanceBase.prototype.__templatizeOptions;/** @type {!Polymer_PropertyEffects} */TemplateInstanceBase.prototype._methodHost;/** @type {!Object} */TemplateInstanceBase.prototype.__templatizeOwner;/** @type {!Object} */TemplateInstanceBase.prototype.__hostProps;/**
     * @constructor
     * @extends {TemplateInstanceBase}
     * @implements {Polymer_MutableData}
     * @private
     */const MutableTemplateInstanceBase=Polymer.MutableData(TemplateInstanceBase);function findMethodHost(template){// Technically this should be the owner of the outermost template.
// In shadow dom, this is always getRootNode().host, but we can
// approximate this via cooperation with our dataHost always setting
// `_methodHost` as long as there were bindings (or id's) on this
// instance causing it to get a dataHost.
let templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}/* eslint-disable valid-jsdoc */ /**
     * @suppress {missingProperties} class.prototype is not defined for some reason
     */function createTemplatizerClass(template,templateInfo,options){// Anonymous class created by the templatize
let base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase;// Affordance for global mixins onto TemplatizeInstance
if(Polymer.Templatize.mixin){base=Polymer.Templatize.mixin(base)}/**
       * @constructor
       * @extends {base}
       * @private
       */let klass=class extends base{};klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}/**
     * @suppress {missingProperties} class.prototype is not defined for some reason
     */function addPropagateEffects(template,templateInfo,options){let userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){// Provide data API and property effects on memoized template class
let klass=templateInfo.templatizeTemplateClass;if(!klass){let base=options.mutableData?MutableDataTemplate:DataTemplate;/** @private */klass=templateInfo.templatizeTemplateClass=class TemplatizedTemplate extends base{};// Add template - >instances effects
// and host <- template effects
let hostProps=templateInfo.hostProps;for(let prop in hostProps){klass.prototype._addPropertyEffect("_host_"+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty("_host_"+prop)}}upgradeTemplate(template,klass);// Mix any pre-bound data into __data; no need to flush this to
// instances since they pull from the template at instance-time
if(template.__dataProto){// Note, generally `__dataProto` could be chained, but it's guaranteed
// to not be since this is a vanilla template we just added effects to
Object.assign(template.__data,template.__dataProto)}// Clear any pending data for performance
template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}/* eslint-enable valid-jsdoc */function createForwardHostPropEffect(hostProp,userForwardHostProp){return function forwardHostProp(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring("_host_".length),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){let hostProps=templateInfo.hostProps||{};for(let iprop in options.instanceProps){delete hostProps[iprop];let userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(let hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function notifyInstanceProp(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function notifyHostProp(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath("_host_"+prop,props[prop],!0,!0)}}/**
     * Module for preparing and stamping instances of templates that utilize
     * Polymer's data-binding and declarative event listener features.
     *
     * Example:
     *
     *     // Get a template from somewhere, e.g. light DOM
     *     let template = this.querySelector('template');
     *     // Prepare the template
     *     let TemplateClass = Polymer.Templatize.templatize(template);
     *     // Instance the template with an initial data model
     *     let instance = new TemplateClass({myProp: 'initial'});
     *     // Insert the instance's DOM somewhere, e.g. element's shadow DOM
     *     this.shadowRoot.appendChild(instance.root);
     *     // Changing a property on the instance will propagate to bindings
     *     // in the template
     *     instance.myProp = 'new value';
     *
     * The `options` dictionary passed to `templatize` allows for customizing
     * features of the generated template class, including how outer-scope host
     * properties should be forwarded into template instances, how any instance
     * properties added into the template's scope should be notified out to
     * the host, and whether the instance should be decorated as a "parent model"
     * of any event handlers.
     *
     *     // Customize property forwarding and event model decoration
     *     let TemplateClass = Polymer.Templatize.templatize(template, this, {
     *       parentModel: true,
     *       forwardHostProp(property, value) {...},
     *       instanceProps: {...},
     *       notifyInstanceProp(instance, property, value) {...},
     *     });
     *
     * @namespace
     * @memberof Polymer
     * @summary Module for preparing and stamping instances of templates
     *   utilizing Polymer templating features.
     */Polymer.Templatize={/**
       * Returns an anonymous `Polymer.PropertyEffects` class bound to the
       * `<template>` provided.  Instancing the class will result in the
       * template being stamped into a document fragment stored as the instance's
       * `root` property, after which it can be appended to the DOM.
       *
       * Templates may utilize all Polymer data-binding features as well as
       * declarative event listeners.  Event listeners and inline computing
       * functions in the template will be called on the host of the template.
       *
       * The constructor returned takes a single argument dictionary of initial
       * property values to propagate into template bindings.  Additionally
       * host properties can be forwarded in, and instance properties can be
       * notified out by providing optional callbacks in the `options` dictionary.
       *
       * Valid configuration in `options` are as follows:
       *
       * - `forwardHostProp(property, value)`: Called when a property referenced
       *   in the template changed on the template's host. As this library does
       *   not retain references to templates instanced by the user, it is the
       *   templatize owner's responsibility to forward host property changes into
       *   user-stamped instances.  The `instance.forwardHostProp(property, value)`
       *    method on the generated class should be called to forward host
       *   properties into the template to prevent unnecessary property-changed
       *   notifications. Any properties referenced in the template that are not
       *   defined in `instanceProps` will be notified up to the template's host
       *   automatically.
       * - `instanceProps`: Dictionary of property names that will be added
       *   to the instance by the templatize owner.  These properties shadow any
       *   host properties, and changes within the template to these properties
       *   will result in `notifyInstanceProp` being called.
       * - `mutableData`: When `true`, the generated class will skip strict
       *   dirty-checking for objects and arrays (always consider them to be
       *   "dirty").
       * - `notifyInstanceProp(instance, property, value)`: Called when
       *   an instance property changes.  Users may choose to call `notifyPath`
       *   on e.g. the owner to notify the change.
       * - `parentModel`: When `true`, events handled by declarative event listeners
       *   (`on-event="handler"`) will be decorated with a `model` property pointing
       *   to the template instance that stamped it.  It will also be returned
       *   from `instance.parentModel` in cases where template instance nesting
       *   causes an inner model to shadow an outer model.
       *
       * All callbacks are called bound to the `owner`. Any context
       * needed for the callbacks (such as references to `instances` stamped)
       * should be stored on the `owner` such that they can be retrieved via
       * `this`.
       *
       * When `options.forwardHostProp` is declared as an option, any properties
       * referenced in the template will be automatically forwarded from the host of
       * the `<template>` to instances, with the exception of any properties listed in
       * the `options.instanceProps` object.  `instanceProps` are assumed to be
       * managed by the owner of the instances, either passed into the constructor
       * or set after the fact.  Note, any properties passed into the constructor will
       * always be set to the instance (regardless of whether they would normally
       * be forwarded from the host).
       *
       * Note that `templatize()` can be run only once for a given `<template>`.
       * Further calls will result in an error. Also, there is a special
       * behavior if the template was duplicated through a mechanism such as
       * `<dom-repeat>` or `<test-fixture>`. In this case, all calls to
       * `templatize()` return the same class for all duplicates of a template.
       * The class returned from `templatize()` is generated only once using
       * the `options` from the first call. This means that any `options`
       * provided to subsequent calls will be ignored. Therefore, it is very
       * important not to close over any variables inside the callbacks. Also,
       * arrow functions must be avoided because they bind the outer `this`.
       * Inside the callbacks, any contextual information can be accessed
       * through `this`, which points to the `owner`.
       *
       * @memberof Polymer.Templatize
       * @param {!HTMLTemplateElement} template Template to templatize
       * @param {Polymer_PropertyEffects=} owner Owner of the template instances;
       *   any optional callbacks will be bound to this owner.
       * @param {Object=} options Options dictionary (see summary for details)
       * @return {function(new:TemplateInstanceBase)} Generated class bound to the template
       *   provided
       * @suppress {invalidCasts}
       */templatize(template,owner,options){// Under strictTemplatePolicy, the templatized element must be owned
// by a (trusted) Polymer element, indicated by existence of _methodHost;
// e.g. for dom-if & dom-repeat in main document, _methodHost is null
if(Polymer.strictTemplatePolicy&&!findMethodHost(template)){throw new Error("strictTemplatePolicy: template owner not trusted")}options=/** @type {!TemplatizeOptions} */options||{};if(template.__templatizeOwner){throw new Error("A <template> can only be templatized once")}template.__templatizeOwner=owner;const ctor=owner?owner.constructor:TemplateInstanceBase;let templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;// Get memoized base class for the prototypical template, which
// includes property effects for binding template & forwarding
if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}// Host property forwarding must be installed onto template instance
addPropagateEffects(template,templateInfo,options);// Subclass base class and add reference for this specific template
/** @private */let klass=class TemplateInstance extends baseClass{};klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=/** @type {function(new:TemplateInstanceBase)} */klass;//eslint-disable-line no-self-assign
return klass},/**
       * Returns the template "model" associated with a given element, which
       * serves as the binding scope for the template instance the element is
       * contained in. A template model is an instance of
       * `TemplateInstanceBase`, and should be used to manipulate data
       * associated with this template instance.
       *
       * Example:
       *
       *   let model = modelForElement(el);
       *   if (model.index < 10) {
       *     model.set('item.checked', true);
       *   }
       *
       * @memberof Polymer.Templatize
       * @param {HTMLTemplateElement} template The model will be returned for
       *   elements stamped from this template
       * @param {Node=} node Node for which to return a template model.
       * @return {TemplateInstanceBase} Template instance representing the
       *   binding scope for the element
       */modelForElement(template,node){let model;while(node){// An element with a __templatizeInstance marks the top boundary
// of a scope; walk up until we find one, and then ensure that
// its __dataHost matches `this`, meaning this dom-repeat stamped it
if(model=node.__templatizeInstance){// Found an element stamped by another template; keep walking up
// from its __dataHost
if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{// Still in a template scope, keep going up until
// a __templatizeInstance is found
node=node.parentNode}}return null}};Polymer.TemplateInstanceBase=TemplateInstanceBase})();</script><script>(function(){'use strict';let TemplateInstanceBase=Polymer.TemplateInstanceBase,TemplatizerUser;// eslint-disable-line
/**
     * @typedef {{
     *   _templatizerTemplate: HTMLTemplateElement,
     *   _parentModel: boolean,
     *   _instanceProps: Object,
     *   _forwardHostPropV2: Function,
     *   _notifyInstancePropV2: Function,
     *   ctor: TemplateInstanceBase
     * }}
     */ // eslint-disable-line
/**
     * The `Polymer.Templatizer` behavior adds methods to generate instances of
     * templates that are each managed by an anonymous `Polymer.PropertyEffects`
     * instance where data-bindings in the stamped template content are bound to
     * accessors on itself.
     *
     * This behavior is provided in Polymer 2.x as a hybrid-element convenience
     * only.  For non-hybrid usage, the `Polymer.Templatize` library
     * should be used instead.
     *
     * Example:
     *
     *     // Get a template from somewhere, e.g. light DOM
     *     let template = this.querySelector('template');
     *     // Prepare the template
     *     this.templatize(template);
     *     // Instance the template with an initial data model
     *     let instance = this.stamp({myProp: 'initial'});
     *     // Insert the instance's DOM somewhere, e.g. light DOM
     *     Polymer.dom(this).appendChild(instance.root);
     *     // Changing a property on the instance will propagate to bindings
     *     // in the template
     *     instance.myProp = 'new value';
     *
     * Users of `Templatizer` may need to implement the following abstract
     * API's to determine how properties and paths from the host should be
     * forwarded into to instances:
     *
     *     _forwardHostPropV2: function(prop, value)
     *
     * Likewise, users may implement these additional abstract API's to determine
     * how instance-specific properties that change on the instance should be
     * forwarded out to the host, if necessary.
     *
     *     _notifyInstancePropV2: function(inst, prop, value)
     *
     * In order to determine which properties are instance-specific and require
     * custom notification via `_notifyInstanceProp`, define an `_instanceProps`
     * object containing keys for each instance prop, for example:
     *
     *     _instanceProps: {
     *       item: true,
     *       index: true
     *     }
     *
     * Any properties used in the template that are not defined in _instanceProp
     * will be forwarded out to the Templatize `owner` automatically.
     *
     * Users may also implement the following abstract function to show or
     * hide any DOM generated using `stamp`:
     *
     *     _showHideChildren: function(shouldHide)
     *
     * Note that some callbacks are suffixed with `V2` in the Polymer 2.x behavior
     * as the implementations will need to differ from the callbacks required
     * by the 1.x Templatizer API due to changes in the `TemplateInstance` API
     * between versions 1.x and 2.x.
     *
     * @polymerBehavior
     */Polymer.Templatizer={/**
       * Generates an anonymous `TemplateInstance` class (stored as `this.ctor`)
       * for the provided template.  This method should be called once per
       * template to prepare an element for stamping the template, followed
       * by `stamp` to create new instances of the template.
       *
       * @param {!HTMLTemplateElement} template Template to prepare
       * @param {boolean=} mutableData When `true`, the generated class will skip
       *   strict dirty-checking for objects and arrays (always consider them to
       *   be "dirty"). Defaults to false.
       * @return {void}
       * @this {TemplatizerUser}
       */templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=Polymer.Templatize.templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},/**
       * Creates an instance of the template prepared by `templatize`.  The object
       * returned is an instance of the anonymous class generated by `templatize`
       * whose `root` property is a document fragment containing newly cloned
       * template content, and which has property accessors corresponding to
       * properties referenced in template bindings.
       *
       * @param {Object=} model Object containing initial property values to
       *   populate into the template bindings.
       * @return {TemplateInstanceBase} Returns the created instance of
       * the template prepared by `templatize`.
       * @this {TemplatizerUser}
       */stamp(model){return new this.ctor(model)},/**
       * Returns the template "model" (`TemplateInstance`) associated with
       * a given element, which serves as the binding scope for the template
       * instance the element is contained in.  A template model should be used
       * to manipulate data associated with this template instance.
       *
       * @param {HTMLElement} el Element for which to return a template model.
       * @return {TemplateInstanceBase} Model representing the binding scope for
       *   the element.
       * @this {TemplatizerUser}
       */modelForElement(el){return Polymer.Templatize.modelForElement(this._templatizerTemplate,el)}}})();</script><script>(function(){'use strict';/**
     * @constructor
     * @extends {HTMLElement}
     * @implements {Polymer_PropertyEffects}
     * @implements {Polymer_OptionalMutableData}
     * @implements {Polymer_GestureEventListeners}
     * @private
     */const domBindBase=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement)));/**
     * Custom element to allow using Polymer's template features (data binding,
     * declarative event listeners, etc.) in the main document without defining
     * a new custom element.
     *
     * `<template>` tags utilizing bindings may be wrapped with the `<dom-bind>`
     * element, which will immediately stamp the wrapped template into the main
     * document and bind elements to the `dom-bind` element itself as the
     * binding scope.
     *
     * @polymer
     * @customElement
     * @appliesMixin Polymer.PropertyEffects
     * @appliesMixin Polymer.OptionalMutableData
     * @appliesMixin Polymer.GestureEventListeners
     * @extends {domBindBase}
     * @memberof Polymer
     * @summary Custom element to allow using Polymer's template features (data
     *   binding, declarative event listeners, etc.) in the main document.
     */class DomBind extends domBindBase{static get observedAttributes(){return["mutable-data"]}constructor(){super();if(Polymer.strictTemplatePolicy){throw new Error(`strictTemplatePolicy: dom-bind not allowed`)}this.root=null;this.$=null;this.__children=null}/** @return {void} */attributeChangedCallback(){// assumes only one observed attribute
this.mutableData=!0}/** @return {void} */connectedCallback(){this.style.display="none";this.render()}/** @return {void} */disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children){for(let i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}/**
       * Forces the element to render its content. This is typically only
       * necessary to call if HTMLImports with the async attribute are used.
       * @return {void}
       */render(){let template;if(!this.__children){template=/** @type {HTMLTemplateElement} */template||this.querySelector("template");if(!template){// Wait until childList changes and template should be there by then
let observer=new MutationObserver(()=>{template=/** @type {HTMLTemplateElement} */this.querySelector("template");if(template){observer.disconnect();this.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}customElements.define("dom-bind",DomBind);/** @const */Polymer.DomBind=DomBind})();</script><script>(function(){'use strict';let TemplateInstanceBase=Polymer.TemplateInstanceBase;// eslint-disable-line
/**
   * @constructor
   * @implements {Polymer_OptionalMutableData}
   * @extends {Polymer.Element}
   * @private
   */const domRepeatBase=Polymer.OptionalMutableData(Polymer.Element);/**
   * The `<dom-repeat>` element will automatically stamp and binds one instance
   * of template content to each object in a user-provided array.
   * `dom-repeat` accepts an `items` property, and one instance of the template
   * is stamped for each item into the DOM at the location of the `dom-repeat`
   * element.  The `item` property will be set on each instance's binding
   * scope, thus templates should bind to sub-properties of `item`.
   *
   * Example:
   *
   * ```html
   * <dom-module id="employee-list">
   *
   *   <template>
   *
   *     <div> Employee list: </div>
   *     <dom-repeat items="{{employees}}">
   *       <template>
   *         <div>First name: <span>{{item.first}}</span></div>
   *         <div>Last name: <span>{{item.last}}</span></div>
   *       </template>
   *     </dom-repeat>
   *
   *   </template>
   *
   * </dom-module>
   * ```
   *
   * With the following custom element definition:
   *
   * ```js
   * class EmployeeList extends Polymer.Element {
   *   static get is() { return 'employee-list'; }
   *   static get properties() {
   *     return {
   *       employees: {
   *         value() {
   *           return [
   *             {first: 'Bob', last: 'Smith'},
   *             {first: 'Sally', last: 'Johnson'},
   *             ...
   *           ];
   *         }
   *       }
   *     };
   *   }
   * }
   * ```
   *
   * Notifications for changes to items sub-properties will be forwarded to template
   * instances, which will update via the normal structured data notification system.
   *
   * Mutations to the `items` array itself should be made using the Array
   * mutation API's on `Polymer.Base` (`push`, `pop`, `splice`, `shift`,
   * `unshift`), and template instances will be kept in sync with the data in the
   * array.
   *
   * Events caught by event handlers within the `dom-repeat` template will be
   * decorated with a `model` property, which represents the binding scope for
   * each template instance.  The model is an instance of Polymer.Base, and should
   * be used to manipulate data on the instance, for example
   * `event.model.set('item.checked', true);`.
   *
   * Alternatively, the model for a template instance for an element stamped by
   * a `dom-repeat` can be obtained using the `modelForElement` API on the
   * `dom-repeat` that stamped it, for example
   * `this.$.domRepeat.modelForElement(event.target).set('item.checked', true);`.
   * This may be useful for manipulating instance data of event targets obtained
   * by event handlers on parents of the `dom-repeat` (event delegation).
   *
   * A view-specific filter/sort may be applied to each `dom-repeat` by supplying a
   * `filter` and/or `sort` property.  This may be a string that names a function on
   * the host, or a function may be assigned to the property directly.  The functions
   * should implemented following the standard `Array` filter/sort API.
   *
   * In order to re-run the filter or sort functions based on changes to sub-fields
   * of `items`, the `observe` property may be set as a space-separated list of
   * `item` sub-fields that should cause a re-filter/sort when modified.  If
   * the filter or sort function depends on properties not contained in `items`,
   * the user should observe changes to those properties and call `render` to update
   * the view based on the dependency change.
   *
   * For example, for an `dom-repeat` with a filter of the following:
   *
   * ```js
   * isEngineer(item) {
   *   return item.type == 'engineer' || item.manager.type == 'engineer';
   * }
   * ```
   *
   * Then the `observe` property should be configured as follows:
   *
   * ```html
   * <dom-repeat items="{{employees}}" filter="isEngineer" observe="type manager.type">
   * ```
   *
   * @customElement
   * @polymer
   * @memberof Polymer
   * @extends {domRepeatBase}
   * @appliesMixin Polymer.OptionalMutableData
   * @summary Custom element for stamping instance of a template bound to
   *   items in an array.
   */class DomRepeat extends domRepeatBase{// Not needed to find template; can be removed once the analyzer
// can find the tag name from customElements.define call
static get is(){return"dom-repeat"}static get template(){return null}static get properties(){/**
       * Fired whenever DOM is added or removed by this template (by
       * default, rendering occurs lazily).  To force immediate rendering, call
       * `render`.
       *
       * @event dom-change
       */return{/**
         * An array containing items determining how many instances of the template
         * to stamp and that that each template instance should bind to.
         */items:{type:Array},/**
         * The name of the variable to add to the binding scope for the array
         * element associated with a given template instance.
         */as:{type:String,value:"item"},/**
         * The name of the variable to add to the binding scope with the index
         * of the instance in the sorted and filtered list of rendered items.
         * Note, for the index in the `this.items` array, use the value of the
         * `itemsIndexAs` property.
         */indexAs:{type:String,value:"index"},/**
         * The name of the variable to add to the binding scope with the index
         * of the instance in the `this.items` array. Note, for the index of
         * this instance in the sorted and filtered list of rendered items,
         * use the value of the `indexAs` property.
         */itemsIndexAs:{type:String,value:"itemsIndex"},/**
         * A function that should determine the sort order of the items.  This
         * property should either be provided as a string, indicating a method
         * name on the element's host, or else be an actual function.  The
         * function should match the sort function passed to `Array.sort`.
         * Using a sort function has no effect on the underlying `items` array.
         */sort:{type:Function,observer:"__sortChanged"},/**
         * A function that can be used to filter items out of the view.  This
         * property should either be provided as a string, indicating a method
         * name on the element's host, or else be an actual function.  The
         * function should match the sort function passed to `Array.filter`.
         * Using a filter function has no effect on the underlying `items` array.
         */filter:{type:Function,observer:"__filterChanged"},/**
         * When using a `filter` or `sort` function, the `observe` property
         * should be set to a space-separated list of the names of item
         * sub-fields that should trigger a re-sort or re-filter when changed.
         * These should generally be fields of `item` that the sort or filter
         * function depends on.
         */observe:{type:String,observer:"__observeChanged"},/**
         * When using a `filter` or `sort` function, the `delay` property
         * determines a debounce time in ms after a change to observed item
         * properties that must pass before the filter or sort is re-run.
         * This is useful in rate-limiting shuffling of the view when
         * item changes may be frequent.
         */delay:Number,/**
         * Count of currently rendered items after `filter` (if any) has been applied.
         * If "chunking mode" is enabled, `renderedItemCount` is updated each time a
         * set of template instances is rendered.
         *
         */renderedItemCount:{type:Number,notify:!0,readOnly:!0},/**
         * Defines an initial count of template instances to render after setting
         * the `items` array, before the next paint, and puts the `dom-repeat`
         * into "chunking mode".  The remaining items will be created and rendered
         * incrementally at each animation frame therof until all instances have
         * been rendered.
         */initialCount:{type:Number,observer:"__initializeChunking"},/**
         * When `initialCount` is used, this property defines a frame rate (in
         * fps) to target by throttling the number of instances rendered each
         * frame to not exceed the budget for the target frame rate.  The
         * framerate is effectively the number of `requestAnimationFrame`s that
         * it tries to allow to actually fire in a given second. It does this
         * by measuring the time between `rAF`s and continuously adjusting the
         * number of items created each `rAF` to maintain the target framerate.
         * Setting this to a higher number allows lower latency and higher
         * throughput for event handlers and other tasks, but results in a
         * longer time for the remaining items to complete rendering.
         */targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super();this.__instances=[];this.__limit=1/0;this.__pool=[];this.__renderDebouncer=null;this.__itemsIdxToInstIdx={};this.__chunkCount=null;this.__lastChunkTime=null;this.__sortFn=null;this.__filterFn=null;this.__observePaths=null;this.__ctor=null;this.__isDetached=!0;this.template=null}/**
     * @return {void}
     */disconnectedCallback(){super.disconnectedCallback();this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}/**
     * @return {void}
     */connectedCallback(){super.connectedCallback();this.style.display="none";// only perform attachment if the element was previously detached.
if(this.__isDetached){this.__isDetached=/* eat */!1;let parent=this.parentNode;for(let i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}__ensureTemplatized(){// Templatizing (generating the instance constructor) needs to wait
// until ready, since won't have its template content handed back to
// it until then
if(!this.__ctor){let template=this.template=/** @type {HTMLTemplateElement} */this.querySelector("template");if(!template){// // Wait until childList changes and template should be there by then
let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-repeat requires a <template> child")}});observer.observe(this,{childList:!0});return!1}// Template instance props that should be excluded from forwarding
let instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,/**
           * @this {this}
           * @param {string} prop Property to set
           * @param {*} value Value to set property to
           */forwardHostProp:function(prop,value){let i$=this.__instances;for(let i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},/**
           * @this {this}
           * @param {Object} inst Instance to notify
           * @param {string} prop Property to notify
           * @param {*} value Value to notify
           */notifyInstanceProp:function(inst,prop,value){if(Polymer.Path.matches(this.as,prop)){let idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}let path=Polymer.Path.translate(this.as,`${JSCompiler_renameProperty("items",this)}.${idx}`,prop);this.notifyPath(path,value)}}})}return!0}__getMethodHost(){// Technically this should be the owner of the outermost template.
// In shadow dom, this is always getRootNode().host, but we can
// approximate this via cooperation with our dataHost always setting
// `_methodHost` as long as there were bindings (or id's) on this
// instance causing it to get a dataHost.
return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(functionOrMethodName){if("string"===typeof functionOrMethodName){let methodName=functionOrMethodName,obj=this.__getMethodHost();return function(){return obj[methodName].apply(obj,arguments)}}return functionOrMethodName}__sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}__filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}__computeFrameTime(rate){return Math.ceil(1e3/rate)}__initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}__tryRenderChunk(){// Debounced so that multiple calls through `_render` between animation
// frames only queue one new rAF (e.g. array mutation & chunked render)
if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){// Simple auto chunkSize throttling algorithm based on feedback loop:
// measure actual time between frames and scale chunk count by ratio
// of target/actual frame time
let currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn("dom-repeat expected array for `items`, found",this.items)}// If path was to an item (e.g. 'items.3' or 'items.3.foo'), forward the
// path to that instance synchronously (returns false for non-item paths)
if(!this.__handleItemPath(change.path,change.value)){// Otherwise, the array was reset ('items') or spliced ('items.splices'),
// so queue a full refresh
this.__initializeChunking();this.__debounceRender(this.__render)}}__handleObservedPaths(path){// Handle cases where path changes should cause a re-sort/filter
if(this.__sortFn||this.__filterFn){if(!path){// Always re-render if the item itself changed
this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){// Otherwise, re-render if the path changed matches an observed path
let paths=this.__observePaths;for(let i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}/**
     * @param {function(this:DomRepeat)} fn Function to debounce.
     * @param {number=} delay Delay in ms to debounce by.
     */__debounceRender(fn,delay=0){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<delay?Polymer.Async.timeOut.after(delay):Polymer.Async.microTask,fn.bind(this));Polymer.enqueueDebouncer(this.__renderDebouncer)}/**
     * Forces the element to render its content. Normally rendering is
     * asynchronous to a provoking change. This is done for efficiency so
     * that multiple changes trigger only a single render. The render method
     * should be called if, for example, template rendering is required to
     * validate application state.
     * @return {void}
     */render(){// Queue this repeater, then flush all in order
this.__debounceRender(this.__render);Polymer.flush()}__render(){if(!this.__ensureTemplatized()){// No template found yet
return}this.__applyFullRefresh();// Reset the pool
// TODO(kschaaf): Reuse pool across turns and nested templates
// Now that objects/arrays are re-evaluated when set, we can safely
// reuse pooled instances across turns, however we still need to decide
// semantics regarding how long to hold, how many to hold, etc.
this.__pool.length=0;// Set rendered item count
this._setRenderedItemCount(this.__instances.length);// Notify users
this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));// Check to see if we need to render more items
this.__tryRenderChunk()}__applyFullRefresh(){let items=this.items||[],isntIdxToItemsIdx=Array(items.length);for(let i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}// Apply user filter
if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter((i,idx,array)=>this.__filterFn(items[i],idx,array))}// Apply user sort
if(this.__sortFn){isntIdxToItemsIdx.sort((a,b)=>this.__sortFn(items[a],items[b]))}// items->inst map kept for item path forwarding
const itemsIdxToInstIdx=this.__itemsIdxToInstIdx={};let instIdx=0;// Generate instances and assign items
const limit=Math.min(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){let inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}// Remove any extra instances from previous state
for(let i=this.__instances.length-1;i>=instIdx;i--){this.__detachAndRemoveInstance(i)}}__detachInstance(idx){let inst=this.__instances[idx];for(let i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}__attachInstance(idx,parent){let inst=this.__instances[idx];parent.insertBefore(inst.root,this)}__detachAndRemoveInstance(idx){let inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}__stampInstance(item,instIdx,itemIdx){let model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}__insertInstance(item,instIdx,itemIdx){let inst=this.__pool.pop();if(inst){// TODO(kschaaf): If the pool is shared across turns, hostProps
// need to be re-set to reused instances in addition to item
inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}let beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}// Implements extension point from Templatize mixin
/**
     * Shows or hides the template instance top level child elements. For
     * text nodes, `textContent` is removed while "hidden" and replaced when
     * "shown."
     * @param {boolean} hidden Set to true to hide the children;
     * set to false to show them.
     * @return {void}
     * @protected
     */_showHideChildren(hidden){for(let i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}// Called as a side effect of a host items.<key>.<path> path change,
// responsible for notifying item.<path> changes to inst for key
__handleItemPath(path,value){let itemsPath=path.slice(6),dot=itemsPath.indexOf("."),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);// 'items.'.length == 6
// If path was index into array...
if(itemsIdx==parseInt(itemsIdx,10)){let itemSubPath=0>dot?"":itemsPath.substring(dot+1);// If the path is observed, it will trigger a full refresh
this.__handleObservedPaths(itemSubPath);// Note, even if a rull refresh is triggered, always do the path
// notification because unless mutableData is used for dom-repeat
// and all elements in the instance subtree, a full refresh may
// not trigger the proper update.
let instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){let itemPath=this.as+(itemSubPath?"."+itemSubPath:"");// This is effectively `notifyPath`, but avoids some of the overhead
// of the public API
inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}/**
     * Returns the item associated with a given element stamped by
     * this `dom-repeat`.
     *
     * Note, to modify sub-properties of the item,
     * `modelForElement(el).set('item.<sub-prop>', value)`
     * should be used.
     *
     * @param {!HTMLElement} el Element for which to return the item.
     * @return {*} Item associated with the element.
     */itemForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.as]}/**
     * Returns the inst index for a given element stamped by this `dom-repeat`.
     * If `sort` is provided, the index will reflect the sorted order (rather
     * than the original array order).
     *
     * @param {!HTMLElement} el Element for which to return the index.
     * @return {?number} Row index associated with the element (note this may
     *   not correspond to the array index if a user `sort` is applied).
     */indexForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.indexAs]}/**
     * Returns the template "model" associated with a given element, which
     * serves as the binding scope for the template instance the element is
     * contained in. A template model is an instance of `Polymer.Base`, and
     * should be used to manipulate data associated with this template instance.
     *
     * Example:
     *
     *   let model = modelForElement(el);
     *   if (model.index < 10) {
     *     model.set('item.checked', true);
     *   }
     *
     * @param {!HTMLElement} el Element for which to return a template model.
     * @return {TemplateInstanceBase} Model representing the binding scope for
     *   the element.
     */modelForElement(el){return Polymer.Templatize.modelForElement(this.template,el)}}customElements.define(DomRepeat.is,DomRepeat);/** @const */Polymer.DomRepeat=DomRepeat})();</script><script>(function(){'use strict';/**
   * The `<dom-if>` element will stamp a light-dom `<template>` child when
   * the `if` property becomes truthy, and the template can use Polymer
   * data-binding and declarative event features when used in the context of
   * a Polymer element's template.
   *
   * When `if` becomes falsy, the stamped content is hidden but not
   * removed from dom. When `if` subsequently becomes truthy again, the content
   * is simply re-shown. This approach is used due to its favorable performance
   * characteristics: the expense of creating template content is paid only
   * once and lazily.
   *
   * Set the `restamp` property to true to force the stamped content to be
   * created / destroyed when the `if` condition changes.
   *
   * @customElement
   * @polymer
   * @extends Polymer.Element
   * @memberof Polymer
   * @summary Custom element that conditionally stamps and hides or removes
   *   template content based on a boolean flag.
   */class DomIf extends Polymer.Element{// Not needed to find template; can be removed once the analyzer
// can find the tag name from customElements.define call
static get is(){return"dom-if"}static get template(){return null}static get properties(){return{/**
         * Fired whenever DOM is added or removed/hidden by this template (by
         * default, rendering occurs lazily).  To force immediate rendering, call
         * `render`.
         *
         * @event dom-change
         */ /**
         * A boolean indicating whether this template should stamp.
         */if:{type:Boolean,observer:"__debounceRender"},/**
         * When true, elements will be removed from DOM and discarded when `if`
         * becomes false and re-created and added back to the DOM when `if`
         * becomes true.  By default, stamped elements will be hidden but left
         * in the DOM when `if` becomes false, which is generally results
         * in better performance.
         */restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super();this.__renderDebouncer=null;this.__invalidProps=null;this.__instance=null;this._lastIf=/* eat */!1;this.__ctor=null}__debounceRender(){// Render is async for 2 reasons:
// 1. To eliminate dom creation trashing if user code thrashes `if` in the
//    same turn. This was more common in 1.x where a compound computed
//    property could result in the result changing multiple times, but is
//    mitigated to a large extent by batched property processing in 2.x.
// 2. To avoid double object propagation when a bag including values bound
//    to the `if` property as well as one or more hostProps could enqueue
//    the <dom-if> to flush before the <template>'s host property
//    forwarding. In that scenario creating an instance would result in
//    the host props being set once, and then the enqueued changes on the
//    template would set properties a second time, potentially causing an
//    object to be set to an instance more than once.  Creating the
//    instance async from flushing data ensures this doesn't happen. If
//    we wanted a sync option in the future, simply having <dom-if> flush
//    (or clear) its template's pending host properties before creating
//    the instance would also avoid the problem.
this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,()=>this.__render());Polymer.enqueueDebouncer(this.__renderDebouncer)}/**
     * @return {void}
     */disconnectedCallback(){super.disconnectedCallback();if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}/**
     * @return {void}
     */connectedCallback(){super.connectedCallback();this.style.display="none";if(this.if){this.__debounceRender()}}/**
     * Forces the element to render its content. Normally rendering is
     * asynchronous to a provoking change. This is done for efficiency so
     * that multiple changes trigger only a single render. The render method
     * should be called if, for example, template rendering is required to
     * validate application state.
     * @return {void}
     */render(){Polymer.flush()}__render(){if(this.if){if(!this.__ensureInstance()){// No template found yet
return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this._lastIf=this.if}}__ensureInstance(){let parentNode=this.parentNode;// Guard against element being detached while render was queued
if(parentNode){if(!this.__ctor){let template=/** @type {HTMLTemplateElement} */this.querySelector("template");if(!template){// Wait until childList changes and template should be there by then
let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-if requires a <template> child")}});observer.observe(this,{childList:!0});return!1}this.__ctor=Polymer.Templatize.templatize(template,this,{// dom-if templatizer instances require `mutable: true`, as
// `__syncHostProperties` relies on that behavior to sync objects
mutableData:!0,/**
             * @param {string} prop Property to forward
             * @param {*} value Value of property
             * @this {this}
             */forwardHostProp:function(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{// If we have an instance but are squelching host property
// forwarding due to if being false, note the invalidated
// properties so `__syncHostProperties` can sync them the next
// time `if` becomes true
this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[Polymer.Path.root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();let c$=this.__instance.children;if(c$&&c$.length){// Detect case where dom-if was re-attached in new position
let lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}__syncHostProperties(){let props=this.__invalidProps;if(props){for(let prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let c$=this.__instance.children;if(c$&&c$.length){// use first child parent, for case when dom-if may have been detached
let parent=c$[0].parentNode;// Instance children may be disconnected from parents when dom-if
// detaches if a tree was innerHTML'ed
if(parent){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}}this.__instance=null;this.__invalidProps=null}}/**
     * Shows or hides the template instance top level child elements. For
     * text nodes, `textContent` is removed while "hidden" and replaced when
     * "shown."
     * @return {void}
     * @protected
     */_showHideChildren(){let hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}customElements.define(DomIf.is,DomIf);/** @const */Polymer.DomIf=DomIf})();</script><script>(function(){'use strict';/**
   * Element mixin for recording dynamic associations between item paths in a
   * master `items` array and a `selected` array such that path changes to the
   * master array (at the host) element or elsewhere via data-binding) are
   * correctly propagated to items in the selected array and vice-versa.
   *
   * The `items` property accepts an array of user data, and via the
   * `select(item)` and `deselect(item)` API, updates the `selected` property
   * which may be bound to other parts of the application, and any changes to
   * sub-fields of `selected` item(s) will be kept in sync with items in the
   * `items` array.  When `multi` is false, `selected` is a property
   * representing the last selected item.  When `multi` is true, `selected`
   * is an array of multiply selected items.
   *
   * @polymer
   * @mixinFunction
   * @appliesMixin Polymer.ElementMixin
   * @memberof Polymer
   * @summary Element mixin for recording dynamic associations between item paths in a
   * master `items` array and a `selected` array
   */let ArraySelectorMixin=Polymer.dedupingMixin(superClass=>{/**
     * @constructor
     * @extends {superClass}
     * @implements {Polymer_ElementMixin}
     * @private
     */let elementBase=Polymer.ElementMixin(superClass);/**
     * @polymer
     * @mixinClass
     * @implements {Polymer_ArraySelectorMixin}
     * @unrestricted
     */class ArraySelectorMixin extends elementBase{static get properties(){return{/**
           * An array containing items from which selection will be made.
           */items:{type:Array},/**
           * When `true`, multiple items may be selected at once (in this case,
           * `selected` is an array of currently selected items).  When `false`,
           * only one item may be selected at a time.
           */multi:{type:Boolean,value:/* eat */!1},/**
           * When `multi` is true, this is an array that contains any selected.
           * When `multi` is false, this is the currently selected item, or `null`
           * if no item is selected.
           * @type {?(Object|Array<!Object>)}
           */selected:{type:Object,notify:!0},/**
           * When `multi` is false, this is the currently selected item, or `null`
           * if no item is selected.
           * @type {?Object}
           */selectedItem:{type:Object,notify:!0},/**
           * When `true`, calling `select` on an item that is already selected
           * will deselect the item.
           */toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super();this.__lastItems=null;this.__lastMulti=null;this.__selectedMap=null}__updateSelection(multi,itemsInfo){let path=itemsInfo.path;if(path==JSCompiler_renameProperty("items",this)){// Case 1 - items array changed, so diff against previous array and
// deselect any removed items and adjust selected indices
let newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){let splices=Polymer.ArraySplice.calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if(`${JSCompiler_renameProperty("items",this)}.splices`==itemsInfo.path){// Case 2 - got specific splice information describing the array mutation:
// deselect any removed items and adjust selected indices
this.__applySplices(itemsInfo.value.indexSplices)}else{// Case 3 - an array element was changed, so deselect the previous
// item for that index if it was previously selected
let part=path.slice(`${JSCompiler_renameProperty("items",this)}.`.length),idx=parseInt(part,10);if(0>part.indexOf(".")&&part==idx){this.__deselectChangedIdx(idx)}}}__applySplices(splices){let selected=this.__selectedMap;// Adjust selected indices and mark removals
for(let i=0,s;i<splices.length;i++){s=splices[i];selected.forEach((idx,item)=>{if(idx<s.index){// no change
}else if(idx>=s.index+s.removed.length){// adjust index
selected.set(item,idx+s.addedCount-s.removed.length)}else{// remove index
selected.set(item,-1)}});for(let j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(this.items[idx])){selected.set(this.items[idx],idx)}}}// Update linked paths
this.__updateLinks();// Remove selected items that were removed from the items array
let sidx=0;selected.forEach((idx,item)=>{if(0>idx){if(this.multi){this.splice(JSCompiler_renameProperty("selected",this),sidx,1)}else{this.selected=this.selectedItem=null}selected.delete(item)}else{sidx++}})}__updateLinks(){this.__dataLinkedPaths={};if(this.multi){let sidx=0;this.__selectedMap.forEach(idx=>{if(0<=idx){this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${idx}`,`${JSCompiler_renameProperty("selected",this)}.${sidx++}`)}})}else{this.__selectedMap.forEach(idx=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${idx}`);this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${idx}`)})}}/**
       * Clears the selection state.
       * @return {void}
       */clearSelection(){// Unbind previous selection
this.__dataLinkedPaths={};// The selected map stores 3 pieces of information:
// key: items array object
// value: items array index
// order: selected array index
this.__selectedMap=new Map;// Initialize selection
this.selected=this.multi?[]:null;this.selectedItem=null}/**
       * Returns whether the item is currently selected.
       *
       * @param {*} item Item from `items` array to test
       * @return {boolean} Whether the item is selected
       */isSelected(item){return this.__selectedMap.has(item)}/**
       * Returns whether the item is currently selected.
       *
       * @param {number} idx Index from `items` array to test
       * @return {boolean} Whether the item is selected
       */isIndexSelected(idx){return this.isSelected(this.items[idx])}__deselectChangedIdx(idx){let sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){let i=0;this.__selectedMap.forEach((idx,item)=>{if(sidx==i++){this.deselect(item)}})}}__selectedIndexForItemIndex(idx){let selected=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${idx}`];if(selected){return parseInt(selected.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}}/**
       * Deselects the given item if it is already selected.
       *
       * @param {*} item Item from `items` array to deselect
       * @return {void}
       */deselect(item){let idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);let sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice(JSCompiler_renameProperty("selected",this),sidx,1)}else{this.selected=this.selectedItem=null}}}/**
       * Deselects the given index if it is already selected.
       *
       * @param {number} idx Index from `items` array to deselect
       * @return {void}
       */deselectIndex(idx){this.deselect(this.items[idx])}/**
       * Selects the given item.  When `toggle` is true, this will automatically
       * deselect the item if already selected.
       *
       * @param {*} item Item from `items` array to select
       * @return {void}
       */select(item){this.selectIndex(this.items.indexOf(item))}/**
       * Selects the given index.  When `toggle` is true, this will automatically
       * deselect the item if already selected.
       *
       * @param {number} idx Index from `items` array to select
       * @return {void}
       */selectIndex(idx){let item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push(JSCompiler_renameProperty("selected",this),item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}return ArraySelectorMixin});// export mixin
Polymer.ArraySelectorMixin=ArraySelectorMixin;/**
   * @constructor
   * @extends {Polymer.Element}
   * @implements {Polymer_ArraySelectorMixin}
   * @private
   */let baseArraySelector=ArraySelectorMixin(Polymer.Element);/**
   * Element implementing the `Polymer.ArraySelector` mixin, which records
   * dynamic associations between item paths in a master `items` array and a
   * `selected` array such that path changes to the master array (at the host)
   * element or elsewhere via data-binding) are correctly propagated to items
   * in the selected array and vice-versa.
   *
   * The `items` property accepts an array of user data, and via the
   * `select(item)` and `deselect(item)` API, updates the `selected` property
   * which may be bound to other parts of the application, and any changes to
   * sub-fields of `selected` item(s) will be kept in sync with items in the
   * `items` array.  When `multi` is false, `selected` is a property
   * representing the last selected item.  When `multi` is true, `selected`
   * is an array of multiply selected items.
   *
   * Example:
   *
   * ```html
   * <dom-module id="employee-list">
   *
   *   <template>
   *
   *     <div> Employee list: </div>
   *     <dom-repeat id="employeeList" items="{{employees}}">
   *       <template>
   *         <div>First name: <span>{{item.first}}</span></div>
   *           <div>Last name: <span>{{item.last}}</span></div>
   *           <button on-click="toggleSelection">Select</button>
   *       </template>
   *     </dom-repeat>
   *
   *     <array-selector id="selector" items="{{employees}}" selected="{{selected}}" multi toggle></array-selector>
   *
   *     <div> Selected employees: </div>
   *     <dom-repeat items="{{selected}}">
   *       <template>
   *         <div>First name: <span>{{item.first}}</span></div>
   *         <div>Last name: <span>{{item.last}}</span></div>
   *       </template>
   *     </dom-repeat>
   *
   *   </template>
   *
   * </dom-module>
   * ```
   *
   * ```js
   *class EmployeeList extends Polymer.Element {
   *  static get is() { return 'employee-list'; }
   *  static get properties() {
   *    return {
   *      employees: {
   *        value() {
   *          return [
   *            {first: 'Bob', last: 'Smith'},
   *            {first: 'Sally', last: 'Johnson'},
   *            ...
   *          ];
   *        }
   *      }
   *    };
   *  }
   *  toggleSelection(e) {
   *    let item = this.$.employeeList.itemForElement(e.target);
   *    this.$.selector.select(item);
   *  }
   *}
   * ```
   *
   * @polymer
   * @customElement
   * @extends {baseArraySelector}
   * @appliesMixin Polymer.ArraySelectorMixin
   * @memberof Polymer
   * @summary Custom element that links paths between an input `items` array and
   *   an output `selected` item or array based on calls to its selection API.
   */class ArraySelector extends baseArraySelector{// Not needed to find template; can be removed once the analyzer
// can find the tag name from customElements.define call
static get is(){return"array-selector"}}customElements.define(ArraySelector.is,ArraySelector);/** @const */Polymer.ArraySelector=ArraySelector})();</script><script>(function(){/*

Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/'use strict';var c=null,f=window.HTMLImports&&window.HTMLImports.whenReady||null,g;function h(a){requestAnimationFrame(function(){f?f(a):(c||(c=new Promise(function(a){g=a}),"complete"===document.readyState?g():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&g()})),c.then(function(){a&&a()}))})};var k=null,l=null;function m(){this.customStyles=[];this.enqueued=!1;h(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}function n(a){!a.enqueued&&l&&(a.enqueued=!0,h(l))}m.prototype.c=function(a){a.__seenByShadyCSS||(a.__seenByShadyCSS=!0,this.customStyles.push(a),n(this))};m.prototype.b=function(a){if(a.__shadyCSSCachedStyle)return a.__shadyCSSCachedStyle;var b;a.getStyle?b=a.getStyle():b=a;return b};m.prototype.a=function(){for(var a=this.customStyles,b=0,d;b<a.length;b++){d=a[b];if(!d.__shadyCSSCachedStyle){var e=this.b(d);e&&(e=e.__appliedElement||e,k&&k(e),d.__shadyCSSCachedStyle=e)}}return a};m.prototype.addCustomStyle=m.prototype.c;m.prototype.getStyleForCustomStyle=m.prototype.b;m.prototype.processStyles=m.prototype.a;Object.defineProperties(m.prototype,{transformCallback:{get:function(){return k},set:function(a){k=a}},validateCallback:{get:function(){return l},set:function(a){var b=!1;l||(b=!0);l=a;b&&n(this)}}});function p(a,b){for(var d in b)null===d?a.style.removeProperty(d):a.style.setProperty(d,b[d])};var q=!(window.ShadyDOM&&window.ShadyDOM.inUse),r;function t(a){r=a&&a.shimcssproperties?!1:q||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}var u;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(u=window.ShadyCSS.cssBuild);var v=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?r=window.ShadyCSS.nativeCss:window.ShadyCSS?(t(window.ShadyCSS),window.ShadyCSS=void 0):t(window.WebComponents&&window.WebComponents.flags);var w=r,x=u,y=new m;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},prepareTemplateDom:function(){},prepareTemplateStyles:function(){},styleSubtree:function(a,b){y.a();p(a,b)},styleElement:function(){y.a()},styleDocument:function(a){y.a();p(document.body,a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function(){},nativeCss:w,nativeShadow:q,cssBuild:x,disableRuntime:v});window.ShadyCSS.CustomStyleInterface=y}).call(this);//# sourceMappingURL=custom-style-interface.min.js.map</script><script>(function(){'use strict';const attr="include",CustomStyleInterface=window.ShadyCSS.CustomStyleInterface;/**
   * Custom element for defining styles in the main document that can take
   * advantage of [shady DOM](https://github.com/webcomponents/shadycss) shims
   * for style encapsulation, custom properties, and custom mixins.
   *
   * - Document styles defined in a `<custom-style>` are shimmed to ensure they
   *   do not leak into local DOM when running on browsers without native
   *   Shadow DOM.
   * - Custom properties can be defined in a `<custom-style>`. Use the `html` selector
   *   to define custom properties that apply to all custom elements.
   * - Custom mixins can be defined in a `<custom-style>`, if you import the optional
   *   [apply shim](https://github.com/webcomponents/shadycss#about-applyshim)
   *   (`shadycss/apply-shim.html`).
   *
   * To use:
   *
   * - Import `custom-style.html`.
   * - Place a `<custom-style>` element in the main document, wrapping an inline `<style>` tag that
   *   contains the CSS rules you want to shim.
   *
   * For example:
   *
   * ```html
   * <!-- import apply shim--only required if using mixins -->
   * <link rel="import" href="bower_components/shadycss/apply-shim.html">
   * <!-- import custom-style element -->
   * <link rel="import" href="bower_components/polymer/lib/elements/custom-style.html">
   *
   * <custom-style>
   *   <style>
   *     html {
   *       --custom-color: blue;
   *       --custom-mixin: {
   *         font-weight: bold;
   *         color: red;
   *       };
   *     }
   *   </style>
   * </custom-style>
   * ```
   *
   * @customElement
   * @extends HTMLElement
   * @memberof Polymer
   * @summary Custom element for defining styles in the main document that can
   *   take advantage of Polymer's style scoping and custom properties shims.
   */class CustomStyle extends HTMLElement{constructor(){super();this._style=null;CustomStyleInterface.addCustomStyle(this)}/**
     * Returns the light-DOM `<style>` child this element wraps.  Upon first
     * call any style modules referenced via the `include` attribute will be
     * concatenated to this element's `<style>`.
     *
     * @return {HTMLStyleElement} This element's light-DOM `<style>`
     */"getStyle"(){if(this._style){return this._style}const style=/** @type {HTMLStyleElement} */this.querySelector("style");if(!style){return null}this._style=style;const include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=Polymer.StyleGather.cssFromModules(include)+style.textContent}/*
      HTML Imports styling the main document are deprecated in Chrome
      https://crbug.com/523952

      If this element is not in the main document, then it must be in an HTML Import document.
      In that case, move the custom style to the main document.

      The ordering of `<custom-style>` should stay the same as when loaded by HTML Imports, but there may be odd
      cases of ordering w.r.t the main document styles.
      */if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}window.customElements.define("custom-style",CustomStyle);/** @const */Polymer.CustomStyle=CustomStyle})();</script><script>(function(){'use strict';let mutablePropertyChange;/** @suppress {missingProperties} */(()=>{mutablePropertyChange=Polymer.MutableData._mutablePropertyChange})();/**
   * Legacy element behavior to skip strict dirty-checking for objects and arrays,
   * (always consider them to be "dirty") for use on legacy API Polymer elements.
   *
   * By default, `Polymer.PropertyEffects` performs strict dirty checking on
   * objects, which means that any deep modifications to an object or array will
   * not be propagated unless "immutable" data patterns are used (i.e. all object
   * references from the root to the mutation were changed).
   *
   * Polymer also provides a proprietary data mutation and path notification API
   * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient
   * mutation and notification of deep changes in an object graph to all elements
   * bound to the same object graph.
   *
   * In cases where neither immutable patterns nor the data mutation API can be
   * used, applying this mixin will cause Polymer to skip dirty checking for
   * objects and arrays (always consider them to be "dirty").  This allows a
   * user to make a deep modification to a bound object graph, and then either
   * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`
   * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all
   * elements that wish to be updated based on deep mutations must apply this
   * mixin or otherwise skip strict dirty checking for objects/arrays.
   * Specifically, any elements in the binding tree between the source of a
   * mutation and the consumption of it must apply this behavior or enable the
   * `Polymer.OptionalMutableDataBehavior`.
   *
   * In order to make the dirty check strategy configurable, see
   * `Polymer.OptionalMutableDataBehavior`.
   *
   * Note, the performance characteristics of propagating large object graphs
   * will be worse as opposed to using strict dirty checking with immutable
   * patterns or Polymer's path notification API.
   *
   * @polymerBehavior
   * @memberof Polymer
   * @summary Behavior to skip strict dirty-checking for objects and
   *   arrays
   */Polymer.MutableDataBehavior={/**
     * Overrides `Polymer.PropertyEffects` to provide option for skipping
     * strict equality checking for Objects and Arrays.
     *
     * This method pulls the value to dirty check against from the `__dataTemp`
     * cache (rather than the normal `__data` cache) for Objects.  Since the temp
     * cache is cleared at the end of a turn, this implementation allows
     * side-effects of deep object changes to be processed by re-setting the
     * same object (using the temp cache as an in-turn backstop to prevent
     * cycles due to 2-way notification).
     *
     * @param {string} property Property name
     * @param {*} value New property value
     * @param {*} old Previous property value
     * @return {boolean} Whether the property should be considered a change
     * @protected
     */_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}};/**
   * Legacy element behavior to add the optional ability to skip strict
   * dirty-checking for objects and arrays (always consider them to be
   * "dirty") by setting a `mutable-data` attribute on an element instance.
   *
   * By default, `Polymer.PropertyEffects` performs strict dirty checking on
   * objects, which means that any deep modifications to an object or array will
   * not be propagated unless "immutable" data patterns are used (i.e. all object
   * references from the root to the mutation were changed).
   *
   * Polymer also provides a proprietary data mutation and path notification API
   * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient
   * mutation and notification of deep changes in an object graph to all elements
   * bound to the same object graph.
   *
   * In cases where neither immutable patterns nor the data mutation API can be
   * used, applying this mixin will allow Polymer to skip dirty checking for
   * objects and arrays (always consider them to be "dirty").  This allows a
   * user to make a deep modification to a bound object graph, and then either
   * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`
   * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all
   * elements that wish to be updated based on deep mutations must apply this
   * mixin or otherwise skip strict dirty checking for objects/arrays.
   * Specifically, any elements in the binding tree between the source of a
   * mutation and the consumption of it must enable this behavior or apply the
   * `Polymer.OptionalMutableDataBehavior`.
   *
   * While this behavior adds the ability to forgo Object/Array dirty checking,
   * the `mutableData` flag defaults to false and must be set on the instance.
   *
   * Note, the performance characteristics of propagating large object graphs
   * will be worse by relying on `mutableData: true` as opposed to using
   * strict dirty checking with immutable patterns or Polymer's path notification
   * API.
   *
   * @polymerBehavior
   * @memberof Polymer
   * @summary Behavior to optionally skip strict dirty-checking for objects and
   *   arrays
   */Polymer.OptionalMutableDataBehavior={properties:{/**
       * Instance-level flag for configuring the dirty-checking strategy
       * for this element.  When true, Objects and Arrays will skip dirty
       * checking, otherwise strict equality checking will be used.
       */mutableData:Boolean},/**
     * Overrides `Polymer.PropertyEffects` to skip strict equality checking
     * for Objects and Arrays.
     *
     * Pulls the value to dirty check against from the `__dataTemp` cache
     * (rather than the normal `__data` cache) for Objects.  Since the temp
     * cache is cleared at the end of a turn, this implementation allows
     * side-effects of deep object changes to be processed by re-setting the
     * same object (using the temp cache as an in-turn backstop to prevent
     * cycles due to 2-way notification).
     *
     * @param {string} property Property name
     * @param {*} value New property value
     * @param {*} old Previous property value
     * @return {boolean} Whether the property should be considered a change
     * @this {this}
     * @protected
     */_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}})();</script><script>// bc
Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;// NOTE: this is here for modulizer to export `html` for the module version of this file
Polymer.html=Polymer.html;</script><script>// This is left only for backward compatibility with projects
// that incorrectly relied on unscoped global [hidden] rules;
// removing would be a breaking change, but new projects
// should never rely on this.
(function(){var style=document.createElement("style");style.textContent="[hidden] { display: none !important; }";document.head.appendChild(style)})();</script><custom-style><style is="custom-style">[hidden]{display:none !important;}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex;};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none;};--layout-flex:{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2;};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3;};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4;};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5;};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6;};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7;};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8;};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9;};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10;};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11;};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12;};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center;};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center;};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;};--layout-block:{display:block;};--layout-invisible:{visibility:hidden !important;};--layout-relative:{position:relative;};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0;};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto;};--layout-fullbleed:{margin:0;height:100vh;};--layout-fixed-top:{position:fixed;top:0;left:0;right:0;};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0;};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0;};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0;};}</style></custom-style><dom-module id="app-drawer" assetpath="bower_components/app-layout/app-drawer/"><template><style>:host{position:fixed;top:-120px;right:0;bottom:-120px;left:0;visibility:hidden;transition-property:visibility;}:host([opened]){visibility:visible;}:host([persistent]){width:var(--app-drawer-width, 304px);}:host([persistent][position=left]){right:auto;}:host([persistent][position=right]){left:auto;}#contentContainer{position:absolute;top:0;bottom:0;left:0;width:var(--app-drawer-width, 304px);padding:120px 0;transition-property:-webkit-transform;transition-property:transform;-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);background-color:#FFF;@apply --app-drawer-content-container;}#contentContainer[persistent]{width:100%;}#contentContainer[position=right]{right:0;left:auto;-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);}#contentContainer[swipe-open]::after{position:fixed;top:0;bottom:0;left:100%;visibility:visible;width:20px;content:'';}#contentContainer[swipe-open][position=right]::after{right:100%;left:auto;}#contentContainer[opened]{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;transition-property:opacity;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:0;background:var(--app-drawer-scrim-background, rgba(0, 0, 0, 0.5));}#scrim.visible{opacity:1;}:host([no-transition]) #contentContainer{transition-property:none;}</style><div id="scrim" on-click="close"></div><div id="contentContainer" opened$="[[opened]]" persistent$="[[persistent]]" position$="[[position]]" swipe-open$="[[swipeOpen]]"><slot></slot></div></template><script>Polymer({is:"app-drawer",properties:{/**
         * The opened state of the drawer.
         */opened:{type:Boolean,value:/* eat */!1,notify:!0,reflectToAttribute:!0},/**
         * The drawer does not have a scrim and cannot be swiped close.
         */persistent:{type:Boolean,value:!1,reflectToAttribute:!0},/**
         * The transition duration of the drawer in milliseconds.
         */transitionDuration:{type:Number,value:200},/**
         * The alignment of the drawer on the screen ('left', 'right', 'start' or
         * 'end'). 'start' computes to left and 'end' to right in LTR layout and
         * vice versa in RTL layout.
         */align:{type:String,value:"left"},/**
         * The computed, read-only position of the drawer on the screen ('left' or
         * 'right').
         */position:{type:String,readOnly:!0,reflectToAttribute:!0},/**
         * Create an area at the edge of the screen to swipe open the drawer.
         */swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},/**
         * Trap keyboard focus when the drawer is opened and not persistent.
         */noFocusTrap:{type:Boolean,value:!1},/**
         * Disables swiping on the drawer.
         */disableSwipe:{type:Boolean,value:!1}},observers:["resetLayout(position, isAttached)","_resetPosition(align, isAttached)","_styleTransitionDuration(transitionDuration)","_openedPersistentChanged(opened, persistent)"],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this);this.addEventListener("keydown",this._tabKeydownHandler.bind(this));// Only listen for horizontal track so you can vertically scroll
// inside the drawer.
this.listen(this,"track","_track");this.setScrollDirection("y")});this.fire("app-reset-layout")},detached:function(){document.removeEventListener("keydown",this._boundEscKeydownHandler)},/**
       * Opens the drawer.
       */open:function(){this.opened=!0},/**
       * Closes the drawer.
       */close:function(){this.opened=!1},/**
       * Toggles the drawer open and close.
       */toggle:function(){this.opened=!this.opened},/**
       * Gets the width of the drawer.
       *
       * @return {number} The width of the drawer in pixels.
       */getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return"rtl"===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case"start":this._setPosition(this._isRTL()?"right":"left");return;case"end":this._setPosition(this._isRTL()?"left":"right");return;}this._setPosition(this.align)},_escKeydownHandler:function(event){var ESC_KEYCODE=27;if(event.keyCode===ESC_KEYCODE){// Prevent any side effects if app-drawer closes.
event.preventDefault();this.close()}},_track:function(event){if(this.persistent||this.disableSwipe){return}// Disable user selection on desktop.
event.preventDefault();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackMove(event);break;case"end":this._trackEnd(event);break;}},_trackStart:function(event){this._drawerState=this._DRAWER_STATE.TRACKING;var rect=this.$.contentContainer.getBoundingClientRect();this._savedWidth=rect.width;if("left"===this.position){this._translateOffset=rect.left}else{this._translateOffset=rect.right-window.innerWidth}this._trackDetails=[];// Disable transitions since style attributes will reflect user track
// events.
this._styleTransitionDuration(0);this.style.visibility="visible"},_trackMove:function(event){this._translateDrawer(event.detail.dx+this._translateOffset);// Use Date.now() since event.timeStamp is inconsistent across browsers
// (e.g. most browsers use milliseconds but FF 44 uses microseconds).
this._trackDetails.push({dx:event.detail.dx,timeStamp:Date.now()})},_trackEnd:function(event){var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isInEndState=isPositionLeft?0<=x||x<=-drawerWidth:0>=x||x>=drawerWidth;if(!isInEndState){// No longer need the track events after this method returns - allow them
// to be GC'd.
var trackDetails=this._trackDetails;this._trackDetails=null;this._flingDrawer(event,trackDetails);if(this._drawerState===this._DRAWER_STATE.FLINGING){return}}// If the drawer is not flinging, toggle the opened state based on the
// position of the drawer.
var halfWidth=drawerWidth/2;if(event.detail.dx<-halfWidth){this.opened="right"===this.position}else if(event.detail.dx>halfWidth){this.opened="left"===this.position}if(isInEndState){this.debounce("_resetDrawerState",this._resetDrawerState)}else{this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)}this._styleTransitionDuration(this.transitionDuration);this._resetDrawerTranslate();this.style.visibility=""},_calculateVelocity:function(event,trackDetails){// Find the oldest track event that is within 100ms using binary search.
var now=Date.now(),timeLowerBound=now-100,trackDetail,min=0,max=trackDetails.length-1;while(min<=max){// Floor of average of min and max.
var mid=min+max>>1,d=trackDetails[mid];if(d.timeStamp>=timeLowerBound){trackDetail=d;max=mid-1}else{min=mid+1}}if(trackDetail){var dx=event.detail.dx-trackDetail.dx,dt=now-trackDetail.timeStamp||1;return dx/dt}return 0},_flingDrawer:function(event,trackDetails){var velocity=this._calculateVelocity(event,trackDetails);// Do not fling if velocity is not above a threshold.
if(Math.abs(velocity)<this._MIN_FLING_THRESHOLD){return}this._drawerState=this._DRAWER_STATE.FLINGING;var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isVelocityPositive=0<velocity,isClosingLeft=!isVelocityPositive&&isPositionLeft,isClosingRight=isVelocityPositive&&!isPositionLeft,dx;if(isClosingLeft){dx=-(x+drawerWidth)}else if(isClosingRight){dx=drawerWidth-x}else{dx=-x}// Enforce a minimum transition velocity to make the drawer feel snappy.
if(isVelocityPositive){velocity=Math.max(velocity,this._MIN_TRANSITION_VELOCITY);this.opened="left"===this.position}else{velocity=Math.min(velocity,-this._MIN_TRANSITION_VELOCITY);this.opened="right"===this.position}// Calculate the amount of time needed to finish the transition based on the
// initial slope of the timing function.
var t=this._FLING_INITIAL_SLOPE*dx/velocity;this._styleTransitionDuration(t);this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION);this._resetDrawerTranslate();this.debounce("_resetDrawerState",this._resetDrawerState,t)},_styleTransitionDuration:function(duration){this.style.transitionDuration=duration+"ms";this.$.contentContainer.style.transitionDuration=duration+"ms";this.$.scrim.style.transitionDuration=duration+"ms"},_styleTransitionTimingFunction:function(timingFunction){this.$.contentContainer.style.transitionTimingFunction=timingFunction;this.$.scrim.style.transitionTimingFunction=timingFunction},_translateDrawer:function(x){var drawerWidth=this.getWidth();if("left"===this.position){x=Math.max(-drawerWidth,Math.min(x,0));this.$.scrim.style.opacity=1+x/drawerWidth}else{x=Math.max(0,Math.min(x,drawerWidth));this.$.scrim.style.opacity=1-x/drawerWidth}this.translate3d(x+"px","0","0",this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity="";this.transform("",this.$.contentContainer)},_resetDrawerState:function(){var oldState=this._drawerState;// If the drawer was flinging, we need to reset the style attributes.
if(oldState===this._DRAWER_STATE.FLINGING){this._styleTransitionDuration(this.transitionDuration);this._styleTransitionTimingFunction("");this.style.visibility=""}this._savedWidth=null;if(this.opened){this._drawerState=this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED}else{this._drawerState=this._DRAWER_STATE.CLOSED}if(oldState!==this._drawerState){if(this._drawerState===this._DRAWER_STATE.OPENED){this._setKeyboardFocusTrap();document.addEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow="hidden"}else{document.removeEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow=""}// Don't fire the event on initial load.
if(oldState!==this._DRAWER_STATE.INIT){this.fire("app-drawer-transitioned")}}},/**
       * Resets the layout.
       *
       * @method resetLayout
       */resetLayout:function(){this.fire("app-reset-layout")},_setKeyboardFocusTrap:function(){if(this.noFocusTrap){return}// NOTE: Unless we use /deep/ (which we shouldn't since it's deprecated),
// this will not select focusable elements inside shadow roots.
var focusableElementsSelector=["a[href]:not([tabindex=\"-1\"])","area[href]:not([tabindex=\"-1\"])","input:not([disabled]):not([tabindex=\"-1\"])","select:not([disabled]):not([tabindex=\"-1\"])","textarea:not([disabled]):not([tabindex=\"-1\"])","button:not([disabled]):not([tabindex=\"-1\"])","iframe:not([tabindex=\"-1\"])","[tabindex]:not([tabindex=\"-1\"])","[contentEditable=true]:not([tabindex=\"-1\"])"].join(","),focusableElements=Polymer.dom(this).querySelectorAll(focusableElementsSelector);if(0<focusableElements.length){this._firstTabStop=focusableElements[0];this._lastTabStop=focusableElements[focusableElements.length-1]}else{// Reset saved tab stops when there are no focusable elements in the
// drawer.
this._firstTabStop=null;this._lastTabStop=null}// Focus on app-drawer if it has non-zero tabindex. Otherwise, focus the
// first focusable element in the drawer, if it exists. Use the tabindex
// attribute since the this.tabIndex property in IE/Edge returns 0 (instead
// of -1) when the attribute is not set.
var tabindex=this.getAttribute("tabindex");if(tabindex&&-1<parseInt(tabindex,10)){this.focus()}else if(this._firstTabStop){this._firstTabStop.focus()}},_tabKeydownHandler:function(event){if(this.noFocusTrap){return}var TAB_KEYCODE=9;if(this._drawerState===this._DRAWER_STATE.OPENED&&event.keyCode===TAB_KEYCODE){if(event.shiftKey){if(this._firstTabStop&&Polymer.dom(event).localTarget===this._firstTabStop){event.preventDefault();this._lastTabStop.focus()}}else{if(this._lastTabStop&&Polymer.dom(event).localTarget===this._lastTabStop){event.preventDefault();this._firstTabStop.focus()}}}},_openedPersistentChanged:function(opened,persistent){this.toggleClass("visible",opened&&!persistent,this.$.scrim);// Use a debounce timer instead of transitionend since transitionend won't
// fire when app-drawer is display: none.
this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:"cubic-bezier(0.667, 1, 0.667, 1)",_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5/**
       * Fired when the layout of app-drawer has changed.
       *
       * @event app-reset-layout
       */ /**
       * Fired when app-drawer has finished transitioning.
       *
       * @event app-drawer-transitioned
       */}});</script></dom-module><script>Polymer({is:"iron-media-query",properties:{/**
       * The Boolean return value of the media query.
       */queryMatches:{type:Boolean,value:/* eat */!1,readOnly:!0,notify:!0},/**
       * The CSS media query to evaluate.
       */query:{type:String,observer:"queryChanged"},/**
       * If true, the query attribute is assumed to be a complete media query
       * string rather than a single media feature.
       */full:{type:Boolean,value:!1},/**
       * @type {function(MediaQueryList)}
       */_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},/**
       * @type {MediaQueryList}
       */_mq:{value:null}},attached:function(){this.style.display="none";this.queryChanged()},detached:function(){this._remove()},_add:function(){if(this._mq){this._mq.addListener(this._boundMQHandler)}},_remove:function(){if(this._mq){this._mq.removeListener(this._boundMQHandler)}this._mq=null},queryChanged:function(){this._remove();var query=this.query;if(!query){return}if(!this.full&&"("!==query[0]){query="("+query+")"}this._mq=window.matchMedia(query);this._add();this.queryHandler(this._mq)},queryHandler:function(mq){this._setQueryMatches(mq.matches)}});</script><script>(function(){// Contains all connected resizables that do not have a parent.
var ORPHANS=new Set;/**
   * `IronResizableBehavior` is a behavior that can be used in Polymer elements to
   * coordinate the flow of resize events between "resizers" (elements that
   *control the size or hidden state of their children) and "resizables" (elements
   *that need to be notified when they are resized or un-hidden by their parents
   *in order to take action on their new measurements).
   *
   * Elements that perform measurement should add the `IronResizableBehavior`
   *behavior to their element definition and listen for the `iron-resize` event on
   *themselves. This event will be fired when they become showing after having
   *been hidden, when they are resized explicitly by another resizable, or when
   *the window has been resized.
   *
   * Note, the `iron-resize` event is non-bubbling.
   *
   * @polymerBehavior Polymer.IronResizableBehavior
   * @demo demo/index.html
   **/Polymer.IronResizableBehavior={properties:{/**
       * The closest ancestor element that implements `IronResizableBehavior`.
       */_parentResizable:{type:Object,observer:"_parentResizableChanged"},/**
       * True if this element is currently notifying its descendant elements of
       * resize.
       */_notifyingDescendant:{type:Boolean,value:/* eat */!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){// We don't really need property effects on these, and also we want them
// to be created before the `_parentResizable` observer fires:
this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}else{ORPHANS.delete(this);window.removeEventListener("resize",this._boundNotifyResize)}this._parentResizable=null},/**
     * Can be called to manually notify a resizable and its descendant
     * resizables of a resize change.
     */notifyResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this);this._fireResize()},/**
     * Used to assign the closest resizable ancestor to this resizable
     * if the ancestor detects a request for notifications.
     */assignParentResizable:function(parentResizable){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}this._parentResizable=parentResizable;if(parentResizable&&-1===parentResizable._interestedResizables.indexOf(this)){parentResizable._interestedResizables.push(this);parentResizable.listen(this,"iron-resize","_onDescendantIronResize")}},/**
     * Used to remove a resizable descendant from the list of descendants
     * that should be notified of a resize change.
     */stopResizeNotificationsFor:function(target){var index=this._interestedResizables.indexOf(target);if(-1<index){this._interestedResizables.splice(index,1);this.unlisten(target,"iron-resize","_onDescendantIronResize")}},/**
     * This method can be overridden to filter nested elements that should or
     * should not be notified by the current element. Return true if an element
     * should be notified, or false if it should not be notified.
     *
     * @param {HTMLElement} element A candidate descendant element that
     * implements `IronResizableBehavior`.
     * @return {boolean} True if the `element` should be notified of resize.
     */resizerShouldNotify:function(element){return!0},_onDescendantIronResize:function(event){if(this._notifyingDescendant){event.stopPropagation();return}// NOTE(cdata): In ShadowDOM, event retargeting makes echoing of the
// otherwise non-bubbling event "just work." We do it manually here for
// the case where Polymer is not using shadow roots for whatever reason:
if(!Polymer.Settings.useShadow){this._fireResize()}},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(event){var target=/** @type {!EventTarget} */Polymer.dom(event).rootTarget;if(target===this){return}target.assignParentResizable(this);this._notifyDescendant(target);event.stopPropagation()},_parentResizableChanged:function(parentResizable){if(parentResizable){window.removeEventListener("resize",this._boundNotifyResize)}},_notifyDescendant:function(descendant){// NOTE(cdata): In IE10, attached is fired on children first, so it's
// important not to notify them if the parent is not attached yet (or
// else they will get redundantly notified when the parent attaches).
if(!this.isAttached){return}this._notifyingDescendant=!0;descendant.notifyResize();this._notifyingDescendant=!1},_requestResizeNotifications:function(){if(!this.isAttached)return;// NOTE(valdrin) In CustomElements v1 with native HTMLImports, the order
// of imports affects the order of `attached` callbacks (see
// webcomponents/custom-elements#15). This might cause a child to notify
// parents too early (as the parent still has to be upgraded), resulting in
// a parent not able to keep track of the `_interestedResizables`. To solve
// this, we wait for the document to be done loading before firing the
// event.
if("loading"===document.readyState){var _requestResizeNotifications=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function readystatechanged(){document.removeEventListener("readystatechange",readystatechanged);_requestResizeNotifications()})}else{this._findParent();if(!this._parentResizable){// If this resizable is an orphan, tell other orphans to try to find
// their parent again, in case it's this resizable.
ORPHANS.forEach(function(orphan){if(orphan!==this){orphan._findParent()}},this);window.addEventListener("resize",this._boundNotifyResize);this.notifyResize()}else{// If this resizable has a parent, tell other child resizables of
// that parent to try finding their parent again, in case it's this
// resizable.
this._parentResizable._interestedResizables.forEach(function(resizable){if(resizable!==this){resizable._findParent()}},this)}}},_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});if(!this._parentResizable){ORPHANS.add(this)}else{ORPHANS.delete(this)}}}})();</script><script>/**
   * @polymerBehavior Polymer.AppLayoutBehavior
   **/Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function(){this.fire("app-reset-layout")},_appResetLayoutHandler:function(e){if(Polymer.dom(e).path[0]===this){return}this.resetLayout();e.stopPropagation()},_updateLayoutStates:function(){console.error("unimplemented")},/**
       * Resets the layout. If you changed the size of this element via CSS
       * you can notify the changes by either firing the `iron-resize` event
       * or calling `resetLayout` directly.
       *
       * @method resetLayout
       */resetLayout:function(){// Polymer v2.x
var self=this,cb=this._updateLayoutStates.bind(this);if(Polymer.Async&&Polymer.Async.animationFrame){this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,cb);Polymer.enqueueDebouncer(this._layoutDebouncer)}// Polymer v1.x
else{this.debounce("resetLayout",cb)}this._notifyDescendantResize()},_notifyLayoutChanged:function(){var self=this;// TODO: the event `app-reset-layout` can be fired synchronously
// as long as `_updateLayoutStates` waits for all the microtasks after
// rAF. E.g. requestAnimationFrame(setTimeOut())
requestAnimationFrame(function(){self.fire("app-reset-layout")})},_notifyDescendantResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this)}}];</script><dom-module id="app-drawer-layout" assetpath="bower_components/app-layout/app-drawer-layout/"><template><style>:host{display:block;position:relative;z-index:0;}:host ::slotted([slot=drawer]){z-index:1;}:host([fullbleed]){@apply --layout-fit;}#contentContainer{position:relative;z-index:0;height:100%;transition:var(--app-drawer-layout-content-transition, none);}#contentContainer[drawer-position=left]{margin-left:var(--app-drawer-width, 304px);}#contentContainer[drawer-position=right]{margin-right:var(--app-drawer-width, 304px);}</style><slot id="drawerSlot" name="drawer"></slot><div id="contentContainer" drawer-position$="[[_drawerPosition]]"><slot></slot></div><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:"app-drawer-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{/**
         * If true, ignore `responsiveWidth` setting and force the narrow layout.
         */forceNarrow:{type:Boolean,value:/* eat */!1},/**
         * If the viewport's width is smaller than this value, the panel will change
         * to narrow layout. In the mode the drawer will be closed.
         */responsiveWidth:{type:String,value:"640px"},/**
         * Returns true if it is in narrow layout. This is useful if you need to
         * show/hide elements based on the layout.
         */narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},/**
         * If true, the drawer will initially be opened when in narrow layout mode.
         */openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:"_clickHandler"},observers:["_narrowChanged(narrow)"],/**
       * A reference to the app-drawer element.
       *
       * @property drawer
       */get drawer(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},attached:function(){// Disable drawer transitions until after app-drawer-layout sets the initial
// opened state.
var drawer=this.drawer;if(drawer){drawer.setAttribute("no-transition","")}},_clickHandler:function(e){var target=Polymer.dom(e).localTarget;if(target&&target.hasAttribute("drawer-toggle")){var drawer=this.drawer;if(drawer&&!drawer.persistent){drawer.toggle()}}},_updateLayoutStates:function(){var drawer=this.drawer;if(!this.isAttached||!drawer){return}this._drawerPosition=this.narrow?null:drawer.position;if(this._drawerNeedsReset){if(this.narrow){drawer.opened=this.openedWhenNarrow;drawer.persistent=!1}else{drawer.opened=drawer.persistent=!0}if(drawer.hasAttribute("no-transition")){// Enable drawer transitions after app-drawer-layout sets the initial
// opened state.
Polymer.RenderStatus.afterNextRender(this,function(){drawer.removeAttribute("no-transition")})}this._drawerNeedsReset=!1}},_narrowChanged:function(){this._drawerNeedsReset=!0;this.resetLayout()},_onQueryMatchesChanged:function(event){this._setNarrow(event.detail.value)},_computeMediaQuery:function(forceNarrow,responsiveWidth){return forceNarrow?"(min-width: 0px)":"(max-width: "+responsiveWidth+")"}});</script></dom-module><script>/**
   * `Polymer.IronScrollTargetBehavior` allows an element to respond to scroll
   * events from a designated scroll target.
   *
   * Elements that consume this behavior can override the `_scrollHandler`
   * method to add logic on the scroll event.
   *
   * @demo demo/scrolling-region.html Scrolling Region
   * @demo demo/document.html Document Element
   * @polymerBehavior
   */Polymer.IronScrollTargetBehavior={properties:{/**
       * Specifies the element that will handle the scroll event
       * on the behalf of the current element. This is typically a reference to an
       *element, but there are a few more posibilities:
       *
       * ### Elements id
       *
       *```html
       * <div id="scrollable-element" style="overflow: auto;">
       *  <x-element scroll-target="scrollable-element">
       *    <!-- Content-->
       *  </x-element>
       * </div>
       *```
       * In this case, the `scrollTarget` will point to the outer div element.
       *
       * ### Document scrolling
       *
       * For document scrolling, you can use the reserved word `document`:
       *
       *```html
       * <x-element scroll-target="document">
       *   <!-- Content -->
       * </x-element>
       *```
       *
       * ### Elements reference
       *
       *```js
       * appHeader.scrollTarget = document.querySelector('#scrollable-element');
       *```
       *
       * @type {HTMLElement}
       * @default document
       */scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],/**
     * True if the event listener should be installed.
     */_shouldHaveListener:!0,_scrollTargetChanged:function(scrollTarget,isAttached){var eventTarget;if(this._oldScrollTarget){this._toggleScrollListener(/* eat */!1,this._oldScrollTarget);this._oldScrollTarget=null}if(!isAttached){return}// Support element id references
if("document"===scrollTarget){this.scrollTarget=this._doc}else if("string"===typeof scrollTarget){var domHost=this.domHost;this.scrollTarget=domHost&&domHost.$?domHost.$[scrollTarget]:Polymer.dom(this.ownerDocument).querySelector("#"+scrollTarget)}else if(this._isValidScrollTarget()){this._oldScrollTarget=scrollTarget;this._toggleScrollListener(this._shouldHaveListener,scrollTarget)}},/**
     * Runs on every scroll event. Consumer of this behavior may override this
     * method.
     *
     * @protected
     */_scrollHandler:function scrollHandler(){},/**
     * The default scroll target. Consumers of this behavior may want to customize
     * the default scroll target.
     *
     * @type {Element}
     */get _defaultScrollTarget(){return this._doc},/**
     * Shortcut for the document element
     *
     * @type {Element}
     */get _doc(){return this.ownerDocument.documentElement},/**
     * Gets the number of pixels that the content of an element is scrolled
     * upward.
     *
     * @type {number}
     */get _scrollTop(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop}return 0},/**
     * Gets the number of pixels that the content of an element is scrolled to the
     * left.
     *
     * @type {number}
     */get _scrollLeft(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft}return 0},/**
     * Sets the number of pixels that the content of an element is scrolled
     * upward.
     *
     * @type {number}
     */set _scrollTop(top){if(this.scrollTarget===this._doc){window.scrollTo(window.pageXOffset,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollTop=top}},/**
     * Sets the number of pixels that the content of an element is scrolled to the
     * left.
     *
     * @type {number}
     */set _scrollLeft(left){if(this.scrollTarget===this._doc){window.scrollTo(left,window.pageYOffset)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left}},/**
     * Scrolls the content to a particular place.
     *
     * @method scroll
     * @param {number|!{left: number, top: number}} leftOrOptions The left position or scroll options
     * @param {number=} top The top position
     * @return {void}
     */scroll:function(leftOrOptions,top){var left;if("object"===typeof leftOrOptions){left=leftOrOptions.left;top=leftOrOptions.top}else{left=leftOrOptions}left=left||0;top=top||0;if(this.scrollTarget===this._doc){window.scrollTo(left,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left;this.scrollTarget.scrollTop=top}},/**
     * Gets the width of the scroll target.
     *
     * @type {number}
     */get _scrollTargetWidth(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth}return 0},/**
     * Gets the height of the scroll target.
     *
     * @type {number}
     */get _scrollTargetHeight(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight}return 0},/**
     * Returns true if the scroll target is a valid HTMLElement.
     *
     * @return {boolean}
     */_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(yes,scrollTarget){var eventTarget=scrollTarget===this._doc?window:scrollTarget;if(yes){if(!this._boundScrollHandler){this._boundScrollHandler=this._scrollHandler.bind(this);eventTarget.addEventListener("scroll",this._boundScrollHandler)}}else{if(this._boundScrollHandler){eventTarget.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}}},/**
     * Enables or disables the scroll event listener.
     *
     * @param {boolean} yes True to add the event, False to remove it.
     */toggleScrollListener:function(yes){this._shouldHaveListener=yes;this._toggleScrollListener(yes,this.scrollTarget)}};</script><script>/** @namespace */Polymer.AppLayout=Polymer.AppLayout||{};Polymer.AppLayout._scrollEffects={};Polymer.AppLayout._scrollTimer=null;Polymer.AppLayout.scrollTimingFunction=function easeOutQuad(t,b,c,d){t/=d;return-c*t*(t-2)+b};/**
   * Registers a scroll effect to be used in elements that implement the
   * `Polymer.AppScrollEffectsBehavior` behavior.
   *
   * @param {string} effectName The effect name.
   * @param {Object} effectDef The effect definition.
   */Polymer.AppLayout.registerEffect=function registerEffect(effectName,effectDef){if(null!=Polymer.AppLayout._scrollEffects[effectName]){throw new Error("effect `"+effectName+"` is already registered.")}Polymer.AppLayout._scrollEffects[effectName]=effectDef};Polymer.AppLayout.queryAllRoot=function(selector,root){var queue=[root],matches=[];while(0<queue.length){var node=queue.shift();matches.push.apply(matches,node.querySelectorAll(selector));for(var i=0;node.children[i];i++){if(node.children[i].shadowRoot){queue.push(node.children[i].shadowRoot)}}}return matches};/**
   * Scrolls to a particular set of coordinates in a scroll target.
   * If the scroll target is not defined, then it would use the main document as
   * the target.
   *
   * To scroll in a smooth fashion, you can set the option `behavior: 'smooth'`.
   * e.g.
   *
   * ```js
   * Polymer.AppLayout.scroll({top: 0, behavior: 'smooth'});
   * ```
   *
   * To scroll in a silent mode, without notifying scroll changes to any
   * app-layout elements, you can set the option `behavior: 'silent'`. This is
   * particularly useful we you are using `app-header` and you desire to scroll to
   * the top of a scrolling region without running scroll effects. e.g.
   *
   * ```js
   * Polymer.AppLayout.scroll({top: 0, behavior: 'silent'});
   * ```
   *
   * @param {Object} options {top: Number, left: Number, behavior: String(smooth | silent)}
   */Polymer.AppLayout.scroll=function scroll(options){options=options||{};var docEl=document.documentElement,target=options.target||docEl,hasNativeScrollBehavior="scrollBehavior"in target.style&&target.scroll,scrollClassName="app-layout-silent-scroll",scrollTop=options.top||0,scrollLeft=options.left||0,scrollTo=target===docEl?window.scrollTo:function scrollTo(scrollLeft,scrollTop){target.scrollLeft=scrollLeft;target.scrollTop=scrollTop};if("smooth"===options.behavior){if(hasNativeScrollBehavior){target.scroll(options)}else{var timingFn=Polymer.AppLayout.scrollTimingFunction,startTime=Date.now(),currentScrollTop=target===docEl?window.pageYOffset:target.scrollTop,currentScrollLeft=target===docEl?window.pageXOffset:target.scrollLeft,deltaScrollTop=scrollTop-currentScrollTop,deltaScrollLeft=scrollLeft-currentScrollLeft,duration=300,updateFrame=function updateFrame(){var now=Date.now(),elapsedTime=now-startTime;if(elapsedTime<duration){scrollTo(timingFn(elapsedTime,currentScrollLeft,deltaScrollLeft,duration),timingFn(elapsedTime,currentScrollTop,deltaScrollTop,duration));requestAnimationFrame(updateFrame)}else{scrollTo(scrollLeft,scrollTop)}}.bind(this);updateFrame()}}else if("silent"===options.behavior){var headers=Polymer.AppLayout.queryAllRoot("app-header",document.body);headers.forEach(function(header){header.setAttribute("silent-scroll","")});// Browsers keep the scroll momentum even if the bottom of the scrolling
// content was reached. This means that calling scroll({top: 0, behavior:
// 'silent'}) when the momentum is still going will result in more scroll
// events and thus scroll effects. This seems to only apply when using
// document scrolling. Therefore, when should we remove the class from the
// document element?
if(Polymer.AppLayout._scrollTimer){window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer)}Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){headers.forEach(function(header){header.removeAttribute("silent-scroll")});Polymer.AppLayout._scrollTimer=null});scrollTo(scrollLeft,scrollTop)}else{scrollTo(scrollLeft,scrollTop)}};</script><script>/**
   * `Polymer.AppScrollEffectsBehavior` provides an interface that allows an
   * element to use scrolls effects.
   *
   * ### Importing the app-layout effects
   *
   * app-layout provides a set of scroll effects that can be used by explicitly
   * importing `app-scroll-effects.html`:
   *
   * ```html
   * <link rel="import"
   * href="/bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
   * ```
   *
   * The scroll effects can also be used by individually importing
   * `app-layout/app-scroll-effects/effects/[effectName].html`. For example:
   *
   * ```html
   *  <link rel="import"
   * href="/bower_components/app-layout/app-scroll-effects/effects/waterfall.html">
   * ```
   *
   * ### Consuming effects
   *
   * Effects can be consumed via the `effects` property. For example:
   *
   * ```html
   * <app-header effects="waterfall"></app-header>
   * ```
   *
   * ### Creating scroll effects
   *
   * You may want to create a custom scroll effect if you need to modify the CSS
   * of an element based on the scroll position.
   *
   * A scroll effect definition is an object with `setUp()`, `tearDown()` and
   * `run()` functions.
   *
   * To register the effect, you can use
   * `Polymer.AppLayout.registerEffect(effectName, effectDef)` For example, let's
   * define an effect that resizes the header's logo:
   *
   * ```js
   * Polymer.AppLayout.registerEffect('resizable-logo', {
   *   setUp: function(config) {
   *     // the effect's config is passed to the setUp.
   *     this._fxResizeLogo = { logo: Polymer.dom(this).querySelector('[logo]') };
   *   },
   *
   *   run: function(progress) {
   *      // the progress of the effect
   *      this.transform('scale3d(' + progress + ', '+ progress +', 1)',
   * this._fxResizeLogo.logo);
   *   },
   *
   *   tearDown: function() {
   *      // clean up and reset of states
   *      delete this._fxResizeLogo;
   *   }
   * });
   * ```
   * Now, you can consume the effect:
   *
   * ```html
   * <app-header id="appHeader" effects="resizable-logo">
   *   <img logo src="logo.svg">
   * </app-header>
   * ```
   *
   * ### Imperative API
   *
   * ```js
   * var logoEffect = appHeader.createEffect('resizable-logo', effectConfig);
   * // run the effect: logoEffect.run(progress);
   * // tear down the effect: logoEffect.tearDown();
   * ```
   *
   * ### Configuring effects
   *
   * For effects installed via the `effects` property, their configuration can be
   * set via the `effectsConfig` property. For example:
   *
   * ```html
   * <app-header effects="waterfall"
   *   effects-config='{"waterfall": {"startsAt": 0, "endsAt": 0.5}}'>
   * </app-header>
   * ```
   *
   * All effects have a `startsAt` and `endsAt` config property. They specify at
   * what point the effect should start and end. This value goes from 0 to 1
   * inclusive.
   *
   * @polymerBehavior
   */Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,{properties:{/**
         * A space-separated list of the effects names that will be triggered when
         * the user scrolls. e.g. `waterfall parallax-background` installs the
         * `waterfall` and `parallax-background`.
         */effects:{type:String},/**
         * An object that configurates the effects installed via the `effects`
         * property. e.g.
         * ```js
         *  element.effectsConfig = {
         *   "blend-background": {
         *     "startsAt": 0.5
         *   }
         * };
         * ```
         * Every effect has at least two config properties: `startsAt` and
         * `endsAt`. These properties indicate when the event should start and end
         * respectively and relative to the overall element progress. So for
         * example, if `blend-background` starts at `0.5`, the effect will only
         * start once the current element reaches 0.5 of its progress. In this
         * context, the progress is a value in the range of `[0, 1]` that
         * indicates where this element is on the screen relative to the viewport.
         */effectsConfig:{type:Object,value:function(){return{}}},/**
         * Disables CSS transitions and scroll effects on the element.
         */disabled:{type:Boolean,reflectToAttribute:!0,value:/* eat */!1},/**
         * Allows to set a `scrollTop` threshold. When greater than 0,
         * `thresholdTriggered` is true only when the scroll target's `scrollTop`
         * has reached this value.
         *
         * For example, if `threshold = 100`, `thresholdTriggered` is true when
         * the `scrollTop` is at least `100`.
         */threshold:{type:Number,value:0},/**
         * True if the `scrollTop` threshold (set in `scrollTopThreshold`) has
         * been reached.
         */thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig, isAttached)"],/**
       * Updates the scroll state. This method should be overridden
       * by the consumer of this behavior.
       *
       * @method _updateScrollState
       * @param {number} scrollTop
       */_updateScrollState:function(scrollTop){},/**
       * Returns true if the current element is on the screen.
       * That is, visible in the current viewport. This method should be
       * overridden by the consumer of this behavior.
       *
       * @method isOnScreen
       * @return {boolean}
       */isOnScreen:function(){return!1},/**
       * Returns true if there's content below the current element. This method
       * should be overridden by the consumer of this behavior.
       *
       * @method isContentBelow
       * @return {boolean}
       */isContentBelow:function(){return!1},/**
       * List of effects handlers that will take place during scroll.
       *
       * @type {Array<Function>}
       */_effectsRunFn:null,/**
       * List of the effects definitions installed via the `effects` property.
       *
       * @type {Array<Object>}
       */_effects:null,/**
       * The clamped value of `_scrollTop`.
       * @type number
       */get _clampedScrollTop(){return Math.max(0,this._scrollTop)},detached:function(){this._tearDownEffects()},/**
       * Creates an effect object from an effect's name that can be used to run
       * effects programmatically.
       *
       * @method createEffect
       * @param {string} effectName The effect's name registered via `Polymer.AppLayout.registerEffect`.
       * @param {Object=} effectConfig The effect config object. (Optional)
       * @return {Object} An effect object with the following functions:
       *
       *  * `effect.setUp()`, Sets up the requirements for the effect.
       *       This function is called automatically before the `effect` function
       * returns.
       *  * `effect.run(progress, y)`, Runs the effect given a `progress`.
       *  * `effect.tearDown()`, Cleans up any DOM nodes or element references
       * used by the effect.
       *
       * Example:
       * ```js
       * var parallax = element.createEffect('parallax-background');
       * // runs the effect
       * parallax.run(0.5, 0);
       * ```
       */createEffect:function(effectName,effectConfig){var effectDef=Polymer.AppLayout._scrollEffects[effectName];if(!effectDef){throw new ReferenceError(this._getUndefinedMsg(effectName))}var prop=this._boundEffect(effectDef,effectConfig||{});prop.setUp();return prop},/**
       * Called when `effects` or `effectsConfig` changes.
       */_effectsChanged:function(effects,effectsConfig,isAttached){this._tearDownEffects();if(!effects||!isAttached){return}effects.split(" ").forEach(function(effectName){var effectDef;if(""!==effectName){if(effectDef=Polymer.AppLayout._scrollEffects[effectName]){this._effects.push(this._boundEffect(effectDef,effectsConfig[effectName]))}else{console.warn(this._getUndefinedMsg(effectName))}}},this);this._setUpEffect()},/**
       * Forces layout
       */_layoutIfDirty:function(){return this.offsetWidth},/**
       * Returns an effect object bound to the current context.
       *
       * @param {Object} effectDef
       * @param {Object=} effectsConfig The effect config object if the effect accepts config values. (Optional)
       */_boundEffect:function(effectDef,effectsConfig){effectsConfig=effectsConfig||{};var startsAt=parseFloat(effectsConfig.startsAt||0),endsAt=parseFloat(effectsConfig.endsAt||1),deltaS=endsAt-startsAt,noop=function(){},runFn=0===startsAt&&1===endsAt?effectDef.run:function(progress,y){effectDef.run.call(this,Math.max(0,(progress-startsAt)/deltaS),y)};return{setUp:effectDef.setUp?effectDef.setUp.bind(this,effectsConfig):noop,run:effectDef.run?runFn.bind(this):noop,tearDown:effectDef.tearDown?effectDef.tearDown.bind(this):noop}},/**
       * Sets up the effects.
       */_setUpEffect:function(){if(this.isAttached&&this._effects){this._effectsRunFn=[];this._effects.forEach(function(effectDef){// install the effect only if no error was reported
if(!1!==effectDef.setUp()){this._effectsRunFn.push(effectDef.run)}},this)}},/**
       * Tears down the effects.
       */_tearDownEffects:function(){if(this._effects){this._effects.forEach(function(effectDef){effectDef.tearDown()})}this._effectsRunFn=[];this._effects=[]},/**
       * Runs the effects.
       *
       * @param {number} p The progress
       * @param {number} y The top position of the current element relative to the viewport.
       */_runEffects:function(p,y){if(this._effectsRunFn){this._effectsRunFn.forEach(function(run){run(p,y)})}},/**
       * Overrides the `_scrollHandler`.
       */_scrollHandler:function(){if(!this.disabled){var scrollTop=this._clampedScrollTop;this._updateScrollState(scrollTop);if(0<this.threshold){this._setThresholdTriggered(scrollTop>=this.threshold)}}},/**
       * Override this method to return a reference to a node in the local DOM.
       * The node is consumed by a scroll effect.
       *
       * @param {string} id The id for the node.
       */_getDOMRef:function(id){console.warn("_getDOMRef","`"+id+"` is undefined")},_getUndefinedMsg:function(effectName){return"Scroll effect `"+effectName+"` is undefined. "+"Did you forget to import app-layout/app-scroll-effects/effects/"+effectName+".html ?"}}];</script><dom-module id="app-header" assetpath="bower_components/app-layout/app-header/"><template><style>:host{position:relative;display:block;transition-timing-function:linear;transition-property:-webkit-transform;transition-property:transform;}:host::before{position:absolute;right:0px;bottom:-5px;left:0px;width:100%;height:5px;content:"";transition:opacity 0.4s;pointer-events:none;opacity:0;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);will-change:opacity;@apply --app-header-shadow;}:host([shadow])::before{opacity:1;}#background{@apply --layout-fit;overflow:hidden;}#backgroundFrontLayer,
      #backgroundRearLayer{@apply --layout-fit;height:100%;pointer-events:none;background-size:cover;}#backgroundFrontLayer{@apply --app-header-background-front-layer;}#backgroundRearLayer{opacity:0;@apply --app-header-background-rear-layer;}#contentContainer{position:relative;width:100%;height:100%;}:host([disabled]),
      :host([disabled])::after,
      :host([disabled]) #backgroundFrontLayer,
      :host([disabled]) #backgroundRearLayer,
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]),
      :host([silent-scroll])::after,
      :host([silent-scroll]) #backgroundFrontLayer,
      :host([silent-scroll]) #backgroundRearLayer{transition:none !important;}:host([disabled]) ::slotted(app-toolbar:first-of-type),
      :host([disabled]) ::slotted([sticky]),
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]) ::slotted(app-toolbar:first-of-type),
      :host([silent-scroll]) ::slotted([sticky]){transition:none !important;}</style><div id="contentContainer"><slot id="slot"></slot></div></template><script>Polymer({is:"app-header",behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{/**
         * If true, the header will automatically collapse when scrolling down.
         * That is, the `sticky` element remains visible when the header is fully
         *condensed whereas the rest of the elements will collapse below `sticky`
         *element.
         *
         * By default, the `sticky` element is the first toolbar in the light DOM:
         *
         *```html
         * <app-header condenses>
         *   <app-toolbar>This toolbar remains on top</app-toolbar>
         *   <app-toolbar></app-toolbar>
         *   <app-toolbar></app-toolbar>
         * </app-header>
         * ```
         *
         * Additionally, you can specify which toolbar or element remains visible in
         *condensed mode by adding the `sticky` attribute to that element. For
         *example: if we want the last toolbar to remain visible, we can add the
         *`sticky` attribute to it.
         *
         *```html
         * <app-header condenses>
         *   <app-toolbar></app-toolbar>
         *   <app-toolbar></app-toolbar>
         *   <app-toolbar sticky>This toolbar remains on top</app-toolbar>
         * </app-header>
         * ```
         *
         * Note the `sticky` element must be a direct child of `app-header`.
         */condenses:{type:Boolean,value:/* eat */!1},/**
         * Mantains the header fixed at the top so it never moves away.
         */fixed:{type:Boolean,value:!1},/**
         * Slides back the header when scrolling back up.
         */reveals:{type:Boolean,value:!1},/**
         * Displays a shadow below the header.
         */shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:["_configChanged(isAttached, condenses, fixed)"],/**
       * A cached offsetHeight of the current element.
       *
       * @type {number}
       */_height:0,/**
       * The distance in pixels the header will be translated to when scrolling.
       *
       * @type {number}
       */_dHeight:0,/**
       * The offsetTop of `_stickyEl`
       *
       * @type {number}
       */_stickyElTop:0,/**
       * A reference to the element that remains visible when the header condenses.
       *
       * @type {HTMLElement}
       */_stickyElRef:null,/**
       * The header's top value used for the `transformY`
       *
       * @type {number}
       */_top:0,/**
       * The current scroll progress.
       *
       * @type {number}
       */_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,/**
       * The distance the header is allowed to move away.
       *
       * @type {number}
       */get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},/**
       * Returns a reference to the sticky element.
       *
       * @return {HTMLElement}?
       */get _stickyEl(){if(this._stickyElRef){return this._stickyElRef}// Get the element with the sticky attribute on it or the first element in
// the light DOM.
for(var nodes=Polymer.dom(this.$.slot).getDistributedNodes(),i=0,node;node=/** @type {!HTMLElement} */nodes[i];i++){if(node.nodeType===Node.ELEMENT_NODE){if(node.hasAttribute("sticky")){this._stickyElRef=node;break}else if(!this._stickyElRef){this._stickyElRef=node}}}return this._stickyElRef},_configChanged:function(){this.resetLayout();this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0===this.offsetWidth&&0===this.offsetHeight){return}var scrollTop=this._clampedScrollTop,firstSetup=0===this._height||0===scrollTop,currentDisabled=this.disabled;this._height=this.offsetHeight;this._stickyElRef=null;this.disabled=!0;// prepare for measurement
if(!firstSetup){this._updateScrollState(0,!0)}if(this._mayMove()){this._dHeight=this._stickyEl?this._height-this._stickyEl.offsetHeight:0}else{this._dHeight=0}this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0;this._setUpEffect();if(firstSetup){this._updateScrollState(scrollTop,!0)}else{this._updateScrollState(this._lastScrollTop,!0);this._layoutIfDirty()}// restore no transition
this.disabled=currentDisabled},/**
       * Updates the scroll state.
       *
       * @param {number} scrollTop
       * @param {boolean=} forceUpdate (default: false)
       */_updateScrollState:function(scrollTop,forceUpdate){if(0===this._height){return}var progress=0,top=0,lastTop=this._top,lastScrollTop=this._lastScrollTop,maxHeaderTop=this._maxHeaderTop,dScrollTop=scrollTop-this._lastScrollTop,absDScrollTop=Math.abs(dScrollTop),isScrollingDown=scrollTop>this._lastScrollTop,now=performance.now();if(this._mayMove()){top=this._clamp(this.reveals?lastTop+dScrollTop:scrollTop,0,maxHeaderTop)}if(scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?Math.max(this._dHeight,top):top;this.style.transitionDuration="0ms"}if(this.reveals&&!this.disabled&&100>absDScrollTop){// set the initial scroll position
if(300<now-this._initTimestamp||this._wasScrollingDown!==isScrollingDown){this._initScrollTop=scrollTop;this._initTimestamp=now}if(scrollTop>=maxHeaderTop){// check if the header is allowed to snap
if(30<Math.abs(this._initScrollTop-scrollTop)||10<absDScrollTop){if(isScrollingDown&&scrollTop>=maxHeaderTop){top=maxHeaderTop}else if(!isScrollingDown&&scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?this._dHeight:0}var scrollVelocity=dScrollTop/(now-this._lastTimestamp);this.style.transitionDuration=this._clamp((top-lastTop)/scrollVelocity,0,300)+"ms"}else{top=this._top}}}if(0===this._dHeight){progress=0<scrollTop?1:0}else{progress=top/this._dHeight}if(!forceUpdate){this._lastScrollTop=scrollTop;this._top=top;this._wasScrollingDown=isScrollingDown;this._lastTimestamp=now}if(forceUpdate||progress!==this._progress||lastTop!==top||0===scrollTop){this._progress=progress;this._runEffects(progress,top);this._transformHeader(top)}},/**
       * Returns true if the current header is allowed to move as the user scrolls.
       *
       * @return {boolean}
       */_mayMove:function(){return this.condenses||!this.fixed},/**
       * Returns true if the current header will condense based on the size of the
       * header and the `consenses` property.
       *
       * @return {boolean}
       */willCondense:function(){return 0<this._dHeight&&this.condenses},/**
       * Returns true if the current element is on the screen.
       * That is, visible in the current viewport.
       *
       * @method isOnScreen
       * @return {boolean}
       */isOnScreen:function(){return 0!==this._height&&this._top<this._height},/**
       * Returns true if there's content below the current element.
       *
       * @method isContentBelow
       * @return {boolean}
       */isContentBelow:function(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},/**
       * Transforms the header.
       *
       * @param {number} y
       */_transformHeader:function(y){this.translate3d(0,-y+"px",0);if(this._stickyEl){this.translate3d(0,this.condenses&&y>=this._stickyElTop?Math.min(y,this._dHeight)-this._stickyElTop+"px":0,0,this._stickyEl)}},_clamp:function(v,min,max){return Math.min(max,Math.max(min,v))},_ensureBgContainers:function(){if(!this._bgContainer){this._bgContainer=document.createElement("div");this._bgContainer.id="background";this._bgRear=document.createElement("div");this._bgRear.id="backgroundRearLayer";this._bgContainer.appendChild(this._bgRear);this._bgFront=document.createElement("div");this._bgFront.id="backgroundFrontLayer";this._bgContainer.appendChild(this._bgFront);Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer)}},_getDOMRef:function(id){switch(id){case"backgroundFrontLayer":this._ensureBgContainers();return this._bgFront;case"backgroundRearLayer":this._ensureBgContainers();return this._bgRear;case"background":this._ensureBgContainers();return this._bgContainer;case"mainTitle":return Polymer.dom(this).querySelector("[main-title]");case"condensedTitle":return Polymer.dom(this).querySelector("[condensed-title]");}return null},/**
       * Returns an object containing the progress value of the scroll effects
       * and the top position of the header.
       *
       * @method getScrollState
       * @return {Object}
       */getScrollState:function(){return{progress:this._progress,top:this._top}}});</script></dom-module><dom-module id="app-header-layout" assetpath="bower_components/app-layout/app-header-layout/"><template><style>:host{display:block;position:relative;z-index:0;}#wrapper ::slotted([slot=header]){@apply --layout-fixed-top;z-index:1;}#wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]){height:100%;}:host([has-scrolling-region]) #wrapper ::slotted([slot=header]){position:absolute;}:host([has-scrolling-region]) #wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]) #wrapper #contentContainer{@apply --layout-fit;overflow-y:auto;-webkit-overflow-scrolling:touch;}:host([has-scrolling-region]) #wrapper.initializing #contentContainer{position:relative;}:host([fullbleed]){@apply --layout-vertical;@apply --layout-fit;}:host([fullbleed]) #wrapper,
      :host([fullbleed]) #wrapper #contentContainer{@apply --layout-vertical;@apply --layout-flex;}#contentContainer{position:relative;z-index:0;}@media print{:host([has-scrolling-region]) #wrapper #contentContainer{overflow-y:visible;}}</style><div id="wrapper" class="initializing"><slot id="headerSlot" name="header"></slot><div id="contentContainer"><slot></slot></div></div></template><script>Polymer({is:"app-header-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{/**
         * If true, the current element will have its own scrolling region.
         * Otherwise, it will use the document scroll to control the header.
         */hasScrollingRegion:{type:Boolean,value:/* eat */!1,reflectToAttribute:!0}},observers:["resetLayout(isAttached, hasScrollingRegion)"],/**
       * A reference to the app-header element.
       *
       * @property header
       */get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},_updateLayoutStates:function(){var header=this.header;if(!this.isAttached||!header){return}// Remove the initializing class, which staticly positions the header and
// the content until the height of the header can be read.
this.$.wrapper.classList.remove("initializing");// Update scroll target.
header.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;// Get header height here so that style reads are batched together before
// style writes (i.e. getBoundingClientRect() below).
var headerHeight=header.offsetHeight;// Update the header position.
if(!this.hasScrollingRegion){requestAnimationFrame(function(){var rect=this.getBoundingClientRect(),rightOffset=document.documentElement.clientWidth-rect.right;header.style.left=rect.left+"px";header.style.right=rightOffset+"px"}.bind(this))}else{header.style.left="";header.style.right=""}// Update the content container position.
var containerStyle=this.$.contentContainer.style;if(header.fixed&&!header.condenses&&this.hasScrollingRegion){// If the header size does not change and we're using a scrolling region,
// exclude the header area from the scrolling region so that the header
// doesn't overlap the scrollbar.
containerStyle.marginTop=headerHeight+"px";containerStyle.paddingTop=""}else{containerStyle.paddingTop=headerHeight+"px";containerStyle.marginTop=""}}});</script></dom-module><script>/**
   * While scrolling down, fade in the rear background layer and fade out the
   * front background layer (opacity interpolated based on scroll position).
   */Polymer.AppLayout.registerEffect("blend-background",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(){var fx={backgroundFrontLayer:this._getDOMRef("backgroundFrontLayer"),backgroundRearLayer:this._getDOMRef("backgroundRearLayer")};fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.opacity=0;this._fxBlendBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxBlendBackground;fx.backgroundFrontLayer.style.opacity=1-p;fx.backgroundRearLayer.style.opacity=p},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxBlendBackground}});</script><script>/**
   * Upon scrolling past a threshold, fade in the rear background layer and fade
   * out the front background layer (opacity CSS transitioned over time).
   *
   *
   */Polymer.AppLayout.registerEffect("fade-background",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(config){var fx={},duration=config.duration||"0.5s";fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.webkitTransform="translateZ(0)";fx.backgroundFrontLayer.style.transitionProperty="opacity";fx.backgroundFrontLayer.style.transitionDuration=duration;fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.webkitTransform="translateZ(0)";fx.backgroundRearLayer.style.transitionProperty="opacity";fx.backgroundRearLayer.style.transitionDuration=duration;this._fxFadeBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxFadeBackground;if(1<=p){fx.backgroundFrontLayer.style.opacity=0;fx.backgroundRearLayer.style.opacity=1}else{fx.backgroundFrontLayer.style.opacity=1;fx.backgroundRearLayer.style.opacity=0}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxFadeBackground}});</script><script>/**
   * Toggles the shadow property in app-header when content is scrolled to create
   * a sense of depth between the element and the content underneath.
   */Polymer.AppLayout.registerEffect("waterfall",{/**
     *  @this Polymer.AppLayout.ElementWithBackground
     */run:function run(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});</script><script>(function(){function interpolate(progress,points,fn,ctx){fn.apply(ctx,points.map(function(point){return point[0]+(point[1]-point[0])*progress}))}/**
   * Transform the font size of a designated title element between two values
   * based on the scroll position.
   */Polymer.AppLayout.registerEffect("resize-title",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle");if(!condensedTitle){console.warn("Scroll effect `resize-title`: undefined `condensed-title`");return(/* eat */!1)}if(!title){console.warn("Scroll effect `resize-title`: undefined `main-title`");return!1}condensedTitle.style.willChange="opacity";condensedTitle.style.webkitTransform="translateZ(0)";condensedTitle.style.transform="translateZ(0)";condensedTitle.style.webkitTransformOrigin="left top";condensedTitle.style.transformOrigin="left top";title.style.willChange="opacity";title.style.webkitTransformOrigin="left top";title.style.transformOrigin="left top";title.style.webkitTransform="translateZ(0)";title.style.transform="translateZ(0)";var titleClientRect=title.getBoundingClientRect(),condensedTitleClientRect=condensedTitle.getBoundingClientRect(),fx={};fx.scale=parseInt(window.getComputedStyle(condensedTitle)["font-size"],10)/parseInt(window.getComputedStyle(title)["font-size"],10);fx.titleDX=titleClientRect.left-condensedTitleClientRect.left;fx.titleDY=titleClientRect.top-condensedTitleClientRect.top;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeTitle=fx},/** @this PolymerElement */run:function run(p,y){var fx=this._fxResizeTitle;if(!this.condenses){y=0}if(1<=p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}interpolate(Math.min(1,p),[[1,fx.scale],[0,-fx.titleDX],[y,y-fx.titleDY]],function(scale,translateX,translateY){this.transform("translate("+translateX+"px, "+translateY+"px) "+"scale3d("+scale+", "+scale+", 1)",fx.title)},this)},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxResizeTitle}})})();</script><script>/**
   * Vertically translate the background based on a factor of the scroll position.
   */Polymer.AppLayout.registerEffect("parallax-background",{/**
     * @param {{scalar: string}} config
     * @this Polymer.AppLayout.ElementWithBackground
     */setUp:function setUp(config){var fx={},scalar=parseFloat(config.scalar);fx.background=this._getDOMRef("background");fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.deltaBg=fx.backgroundFrontLayer.offsetHeight-fx.background.offsetHeight;if(0===fx.deltaBg){if(isNaN(scalar)){scalar=.8}fx.deltaBg=(this._dHeight||0)*scalar}else{if(isNaN(scalar)){scalar=1}fx.deltaBg=fx.deltaBg*scalar}this._fxParallaxBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxParallaxBackground;this.transform("translate3d(0px, "+fx.deltaBg*Math.min(1,p)+"px, 0px)",fx.backgroundFrontLayer);if(fx.backgroundRearLayer){this.transform("translate3d(0px, "+fx.deltaBg*Math.min(1,p)+"px, 0px)",fx.backgroundRearLayer)}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxParallaxBackground}});</script><script>/**
   * Shorthand for the waterfall, resize-title, blend-background, and
   * parallax-background effects.
   */Polymer.AppLayout.registerEffect("material",{/**
     * @this Polymer.AppLayout.ElementWithBackground
     */setUp:function setUp(){this.effects="waterfall resize-title blend-background parallax-background";return(/* eat */!1)}});</script><script>/**
   * Upon scrolling past a threshold, CSS transition the font size of a designated
   * title element between two values.
   */Polymer.AppLayout.registerEffect("resize-snapped-title",{/**
     * @this Polymer.AppLayout.ElementWithBackground
     */setUp:function setUp(config){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle"),duration=config.duration||"0.2s",fx={};if(!condensedTitle){console.warn("Scroll effect `resize-snapped-title`: undefined `condensed-title`");return(/* eat */!1)}if(!title){console.warn("Scroll effect `resize-snapped-title`: undefined `main-title`");return!1}title.style.transitionProperty="opacity";title.style.transitionDuration=duration;condensedTitle.style.transitionProperty="opacity";condensedTitle.style.transitionDuration=duration;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeSnappedTitle=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxResizeSnappedTitle;if(0<p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){var fx=this._fxResizeSnappedTitle;fx.title.style.transition="";fx.condensedTitle.style.transition="";delete this._fxResizeSnappedTitle}});</script><dom-module id="app-toolbar" assetpath="bower_components/app-layout/app-toolbar/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;position:relative;height:64px;padding:0 16px;pointer-events:none;font-size:var(--app-toolbar-font-size, 20px);}:host ::slotted(*){pointer-events:auto;}:host ::slotted(paper-icon-button){font-size:0;}:host ::slotted([main-title]),
      :host ::slotted([condensed-title]){pointer-events:none;@apply --layout-flex;}:host ::slotted([bottom-item]){position:absolute;right:0;bottom:0;left:0;}:host ::slotted([top-item]){position:absolute;top:0;right:0;left:0;}:host ::slotted([spacer]){margin-left:64px;}</style><slot></slot></template><script>Polymer({is:"app-toolbar"});</script></dom-module><script>(function(){'use strict';var workingURL,urlDoc,urlBase,anchor;/**
   * @param {string} path
   * @param {string=} base
   * @return {!URL|!HTMLAnchorElement}
   */function resolveURL(path,base){if(workingURL===void 0){workingURL=/* eat */!1;try{var u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href;workingURL=workingURL&&"http://www.google.com/?foo%20bar"===new URL("http://www.google.com/?foo bar").href}catch(e){}}if(workingURL){return new URL(path,base)}if(!urlDoc){urlDoc=document.implementation.createHTMLDocument("url");urlBase=urlDoc.createElement("base");urlDoc.head.appendChild(urlBase);anchor=/** @type {HTMLAnchorElement}*/urlDoc.createElement("a")}urlBase.href=base;anchor.href=path.replace(/ /g,"%20");return anchor}Polymer({is:"iron-location",properties:{/**
       * The pathname component of the URL.
       */path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},/**
       * The query string portion of the URL.
       */query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},/**
       * The hash component of the URL.
       */hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},/**
       * If the user was on a URL for less than `dwellTime` milliseconds, it
       * won't be added to the browser's history, but instead will be replaced
       * by the next entry.
       *
       * This is to prevent large numbers of entries from clogging up the user's
       * browser history. Disable by setting to a negative number.
       */dwellTime:{type:Number,value:2e3},/**
       * A regexp that defines the set of URLs that should be considered part
       * of this web app.
       *
       * Clicking on a link that matches this regex won't result in a full page
       * navigation, but will instead just update the URL state in place.
       *
       * This regexp is given everything after the origin in an absolute
       * URL. So to match just URLs that start with /search/ do:
       *     url-space-regex="^/search/"
       *
       * @type {string|RegExp}
       */urlSpaceRegex:{type:String,value:""},/**
       * A flag that specifies whether the spaces in query that would normally be
       * encoded as %20 should be encoded as +.
       *
       * Given an example text "hello world", it is encoded in query as
       * - "hello%20world" without the parameter
       * - "hello+world" with the parameter
       */encodeSpaceAsPlusInQuery:{type:Boolean,value:!1},/**
       * urlSpaceRegex, but coerced into a regexp.
       *
       * @type {RegExp}
       */_urlSpaceRegExp:{computed:"_makeRegExp(urlSpaceRegex)"},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["_updateUrl(path, query, hash)"],created:function(){this.__location=window.location},attached:function(){this.listen(window,"hashchange","_hashChanged");this.listen(window,"location-changed","_urlChanged");this.listen(window,"popstate","_urlChanged");this.listen(/** @type {!HTMLBodyElement} */document.body,"click","_globalOnClick");// Give a 200ms grace period to make initial redirects without any
// additions to the user's history.
this._lastChangedAt=window.performance.now()-(this.dwellTime-200);this._initialized=!0;this._urlChanged()},detached:function(){this.unlisten(window,"hashchange","_hashChanged");this.unlisten(window,"location-changed","_urlChanged");this.unlisten(window,"popstate","_urlChanged");this.unlisten(/** @type {!HTMLBodyElement} */document.body,"click","_globalOnClick");this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(this.__location.hash.substring(1))},_urlChanged:function(){// We want to extract all info out of the updated URL before we
// try to write anything back into it.
//
// i.e. without _dontUpdateUrl we'd overwrite the new path with the old
// one when we set this.hash. Likewise for query.
this._dontUpdateUrl=!0;this._hashChanged();this.path=window.decodeURIComponent(this.__location.pathname);this.query=this.__location.search.substring(1);this._dontUpdateUrl=!1;this._updateUrl()},_getUrl:function(){var partiallyEncodedPath=window.encodeURI(this.path).replace(/\#/g,"%23").replace(/\?/g,"%3F"),partiallyEncodedQuery="";if(this.query){partiallyEncodedQuery="?"+this.query.replace(/\#/g,"%23");if(this.encodeSpaceAsPlusInQuery){partiallyEncodedQuery=partiallyEncodedQuery.replace(/\+/g,"%2B").replace(/ /g,"+").replace(/%20/g,"+")}}var partiallyEncodedHash="";if(this.hash){partiallyEncodedHash="#"+window.encodeURI(this.hash)}return partiallyEncodedPath+partiallyEncodedQuery+partiallyEncodedHash},_updateUrl:function(){if(this._dontUpdateUrl||!this._initialized){return}if(this.path===window.decodeURIComponent(this.__location.pathname)&&this.query===this.__location.search.substring(1)&&this.hash===window.decodeURIComponent(this.__location.hash.substring(1))){// Nothing to do, the current URL is a representation of our properties.
return}var newUrl=this._getUrl(),fullNewUrl=resolveURL(newUrl,this.__location.protocol+"//"+this.__location.host).href,now=window.performance.now(),shouldReplace=this._lastChangedAt+this.dwellTime>now;// Need to use a full URL in case the containing page has a base URI.
this._lastChangedAt=now;if(shouldReplace){window.history.replaceState({},"",fullNewUrl)}else{window.history.pushState({},"",fullNewUrl)}this.fire("location-changed",{},{node:window})},/**
     * A necessary evil so that links work as expected. Does its best to
     * bail out early if possible.
     *
     * @param {MouseEvent} event .
     */_globalOnClick:function(event){// If another event handler has stopped this event then there's nothing
// for us to do. This can happen e.g. when there are multiple
// iron-location elements in a page.
if(event.defaultPrevented){return}var href=this._getSameOriginLinkHref(event);if(!href){return}event.preventDefault();// If the navigation is to the current page we shouldn't add a history
// entry or fire a change event.
if(href===this.__location.href){return}window.history.pushState({},"",href);this.fire("location-changed",{},{node:window})},/**
     * Returns the absolute URL of the link (if any) that this click event
     * is clicking on, if we can and should override the resulting full
     * page navigation. Returns null otherwise.
     *
     * @param {MouseEvent} event .
     * @return {string?} .
     */_getSameOriginLinkHref:function(event){// We only care about left-clicks.
if(0!==event.button){return null}// We don't want modified clicks, where the intent is to open the page
// in a new tab.
if(event.metaKey||event.ctrlKey){return null}for(var eventPath=Polymer.dom(event).path,anchor=null,i=0,element;i<eventPath.length;i++){element=eventPath[i];if("A"===element.tagName&&element.href){anchor=element;break}}// If there's no link there's nothing to do.
if(!anchor){return null}// Target blank is a new tab, don't intercept.
if("_blank"===anchor.target){return null}// If the link is for an existing parent frame, don't intercept.
if(("_top"===anchor.target||"_parent"===anchor.target)&&window.top!==window){return null}// If the link is a download, don't intercept.
if(anchor.download){return null}var href=anchor.href,url;// It only makes sense for us to intercept same-origin navigations.
// pushState/replaceState don't work with cross-origin links.
if(null!=document.baseURI){url=resolveURL(href,/** @type {string} */document.baseURI)}else{url=resolveURL(href)}var origin;// IE Polyfill
if(this.__location.origin){origin=this.__location.origin}else{origin=this.__location.protocol+"//"+this.__location.host}var urlOrigin;if(url.origin){urlOrigin=url.origin}else{// IE always adds port number on HTTP and HTTPS on <a>.host but not on
// window.location.host
var urlHost=url.host,urlPort=url.port,urlProtocol=url.protocol,isExtraneousHTTPS="https:"===urlProtocol&&"443"===urlPort,isExtraneousHTTP="http:"===urlProtocol&&"80"===urlPort;if(isExtraneousHTTPS||isExtraneousHTTP){urlHost=url.hostname}urlOrigin=urlProtocol+"//"+urlHost}if(urlOrigin!==origin){return null}var normalizedHref=url.pathname+url.search+url.hash;// pathname should start with '/', but may not if `new URL` is not supported
if("/"!==normalizedHref[0]){normalizedHref="/"+normalizedHref}// If we've been configured not to handle this url... don't handle it!
if(this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(normalizedHref)){return null}// Need to use a full URL in case the containing page has a base URI.
var fullNormalizedHref=resolveURL(normalizedHref,this.__location.href).href;return fullNormalizedHref},_makeRegExp:function(urlSpaceRegex){return RegExp(urlSpaceRegex)}})})();</script><script>'use strict';Polymer({is:"iron-query-params",properties:{/**
       * @type{string|undefined}
       */paramsString:{type:String,notify:!0,observer:"paramsStringChanged"},/**
       * @type{Object|undefined}
       */paramsObject:{type:Object,notify:!0},_dontReact:{type:Boolean,value:/* eat */!1}},hostAttributes:{hidden:!0},observers:["paramsObjectChanged(paramsObject.*)"],paramsStringChanged:function(){this._dontReact=!0;this.paramsObject=this._decodeParams(this.paramsString);this._dontReact=!1},paramsObjectChanged:function(){if(this._dontReact){return}this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,"?").replace(/%2F/g,"/").replace(/'/g,"%27")},_encodeParams:function(params){var encodedParams=[];for(var key in params){var value=params[key];if(""===value){encodedParams.push(encodeURIComponent(key))}else if(value){encodedParams.push(encodeURIComponent(key)+"="+encodeURIComponent(value.toString()))}}return encodedParams.join("&")},_decodeParams:function(paramString){var params={};// Work around a bug in decodeURIComponent where + is not
// converted to spaces:
paramString=(paramString||"").replace(/\+/g,"%20");for(var paramList=paramString.split("&"),i=0,param;i<paramList.length;i++){param=paramList[i].split("=");if(param[0]){params[decodeURIComponent(param[0])]=decodeURIComponent(param[1]||"")}}return params}});</script><script>(function(){'use strict';/**
   * Provides bidirectional mapping between `path` and `queryParams` and a
   * app-route compatible `route` object.
   *
   * For more information, see the docs for `app-route-converter`.
   *
   * @polymerBehavior
   */Polymer.AppRouteConverterBehavior={properties:{/**
       * A model representing the deserialized path through the route tree, as
       * well as the current queryParams.
       *
       * A route object is the kernel of the routing system. It is intended to
       * be fed into consuming elements such as `app-route`.
       *
       * @type {?Object|undefined}
       */route:{type:Object,notify:!0},/**
       * A set of key/value pairs that are universally accessible to branches of
       * the route tree.
       *
       * @type {?Object}
       */queryParams:{type:Object,notify:!0},/**
       * The serialized path through the route tree. This corresponds to the
       * `window.location.pathname` value, and will update to reflect changes
       * to that value.
       */path:{type:String,notify:!0}},observers:["_locationChanged(path, queryParams)","_routeChanged(route.prefix, route.path)","_routeQueryParamsChanged(route.__queryParams)"],created:function(){this.linkPaths("route.__queryParams","queryParams");this.linkPaths("queryParams","route.__queryParams")},/**
     * Handler called when the path or queryParams change.
     */_locationChanged:function(){if(this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams){return}this.route={prefix:"",path:this.path,__queryParams:this.queryParams}},/**
     * Handler called when the route prefix and route path change.
     */_routeChanged:function(){if(!this.route){return}this.path=this.route.prefix+this.route.path},/**
     * Handler called when the route queryParams change.
     *
     * @param  {Object} queryParams A set of key/value pairs that are
     * universally accessible to branches of the route tree.
     */_routeQueryParamsChanged:function(queryParams){if(!this.route){return}this.queryParams=queryParams}}})();</script><dom-module id="app-location" assetpath="bower_components/app-route/"><template><iron-query-params params-string="{{__query}}" params-object="{{queryParams}}"></iron-query-params><iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="[[urlSpaceRegex]]" dwell-time="[[dwellTime]]"></iron-location></template><script>(function(){'use strict';Polymer({is:"app-location",properties:{/**
         * A model representing the deserialized path through the route tree, as
         * well as the current queryParams.
         */route:{type:Object,notify:!0},/**
         * In many scenarios, it is convenient to treat the `hash` as a stand-in
         * alternative to the `path`. For example, if deploying an app to a static
         * web server (e.g., Github Pages) - where one does not have control over
         * server-side routing - it is usually a better experience to use the hash
         * to represent paths through one's app.
         *
         * When this property is set to true, the `hash` will be used in place of

         * the `path` for generating a `route`.
         */useHashAsPath:{type:Boolean,value:/* eat */!1},/**
         * A regexp that defines the set of URLs that should be considered part
         * of this web app.
         *
         * Clicking on a link that matches this regex won't result in a full page
         * navigation, but will instead just update the URL state in place.
         *
         * This regexp is given everything after the origin in an absolute
         * URL. So to match just URLs that start with /search/ do:
         *     url-space-regex="^/search/"
         *
         * @type {string|RegExp}
         */urlSpaceRegex:{type:String,notify:!0},/**
         * A set of key/value pairs that are universally accessible to branches
         * of the route tree.
         */__queryParams:{type:Object},/**
         * The pathname component of the current URL.
         */__path:{type:String},/**
         * The query string portion of the current URL.
         */__query:{type:String},/**
         * The hash portion of the current URL.
         */__hash:{type:String},/**
         * The route path, which will be either the hash or the path, depending
         * on useHashAsPath.
         */path:{type:String,observer:"__onPathChanged"},/**
         * Whether or not the ready function has been called.
         */_isReady:{type:Boolean},/**
         * If the user was on a URL for less than `dwellTime` milliseconds, it
         * won't be added to the browser's history, but instead will be
         * replaced by the next entry.
         *
         * This is to prevent large numbers of entries from clogging up the
         * user's browser history. Disable by setting to a negative number.
         *
         * See `iron-location` for more information.
         */dwellTime:{type:Number}},behaviors:[Polymer.AppRouteConverterBehavior],observers:["__computeRoutePath(useHashAsPath, __hash, __path)"],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){if(!this._isReady){return}if(this.useHashAsPath){this.__hash=this.path}else{this.__path=this.path}}})})();</script></dom-module><script>(function(){'use strict';Polymer({is:"app-route",properties:{/**
       * The URL component managed by this element.
       */route:{type:Object,notify:!0},/**
       * The pattern of slash-separated segments to match `route.path` against.
       *
       * For example the pattern "/foo" will match "/foo" or "/foo/bar"
       * but not "/foobar".
       *
       * Path segments like `/:named` are mapped to properties on the `data`
       * object.
       */pattern:{type:String},/**
       * The parameterized values that are extracted from the route as
       * described by `pattern`.
       */data:{type:Object,value:function(){return{}},notify:!0},/**
       * Auto activate route if path empty
       */autoActivate:{type:Boolean,value:/* eat */!1},_queryParamsUpdating:{type:Boolean,value:!1},/**
       * @type {?Object}
       */queryParams:{type:Object,value:function(){return{}},notify:!0},/**
       * The part of `route.path` NOT consumed by `pattern`.
       */tail:{type:Object,value:function(){return{path:null,prefix:null,__queryParams:null}},notify:!0},/**
       * Whether the current route is active. True if `route.path` matches the
       * `pattern`, false otherwise.
       */active:{type:Boolean,notify:!0,readOnly:!0},/**
       * @type {?string}
       */_matched:{type:String,value:""}},observers:["__tryToMatch(route.path, pattern)","__updatePathOnDataChange(data.*)","__tailPathChanged(tail.path)","__routeQueryParamsChanged(route.__queryParams)","__tailQueryParamsChanged(tail.__queryParams)","__queryParamsChanged(queryParams.*)"],created:function(){this.linkPaths("route.__queryParams","tail.__queryParams");this.linkPaths("tail.__queryParams","route.__queryParams")},/**
     * Deal with the query params object being assigned to wholesale.
     */__routeQueryParamsChanged:function(queryParams){if(queryParams&&this.tail){if(this.tail.__queryParams!==queryParams){this.set("tail.__queryParams",queryParams)}if(!this.active||this._queryParamsUpdating){return}// Copy queryParams and track whether there are any differences compared
// to the existing query params.
var copyOfQueryParams={},anythingChanged=!1;for(var key in queryParams){copyOfQueryParams[key]=queryParams[key];if(anythingChanged||!this.queryParams||queryParams[key]!==this.queryParams[key]){anythingChanged=!0}}// Need to check whether any keys were deleted
for(var key in this.queryParams){if(anythingChanged||!(key in queryParams)){anythingChanged=!0;break}}if(!anythingChanged){return}this._queryParamsUpdating=!0;this.set("queryParams",copyOfQueryParams);this._queryParamsUpdating=!1}},__tailQueryParamsChanged:function(queryParams){if(queryParams&&this.route&&this.route.__queryParams!=queryParams){this.set("route.__queryParams",queryParams)}},__queryParamsChanged:function(changes){if(!this.active||this._queryParamsUpdating){return}this.set("route.__"+changes.path,changes.value)},__resetProperties:function(){this._setActive(!1);this._matched=null},__tryToMatch:function(){if(!this.route){return}var path=this.route.path,pattern=this.pattern;if(this.autoActivate&&""===path){path="/"}if(!pattern){return}if(!path){this.__resetProperties();return}for(var remainingPieces=path.split("/"),patternPieces=pattern.split("/"),matched=[],namedMatches={},i=0,patternPiece;i<patternPieces.length;i++){patternPiece=patternPieces[i];if(!patternPiece&&""!==patternPiece){break}var pathPiece=remainingPieces.shift();// We don't match this path.
if(!pathPiece&&""!==pathPiece){this.__resetProperties();return}matched.push(pathPiece);if(":"==patternPiece.charAt(0)){namedMatches[patternPiece.slice(1)]=pathPiece}else if(patternPiece!==pathPiece){this.__resetProperties();return}}this._matched=matched.join("/");// Properties that must be updated atomically.
var propertyUpdates={};// this.active
if(!this.active){propertyUpdates.active=!0}// this.tail
var tailPrefix=this.route.prefix+this._matched,tailPath=remainingPieces.join("/");if(0<remainingPieces.length){tailPath="/"+tailPath}if(!this.tail||this.tail.prefix!==tailPrefix||this.tail.path!==tailPath){propertyUpdates.tail={prefix:tailPrefix,path:tailPath,__queryParams:this.route.__queryParams}}// this.data
propertyUpdates.data=namedMatches;this._dataInUrl={};for(var key in namedMatches){this._dataInUrl[key]=namedMatches[key]}if(this.setProperties){// atomic update
this.setProperties(propertyUpdates,!0)}else{this.__setMulti(propertyUpdates)}},__tailPathChanged:function(path){if(!this.active){return}var tailPath=path,newPath=this._matched;if(tailPath){if("/"!==tailPath.charAt(0)){tailPath="/"+tailPath}newPath+=tailPath}this.set("route.path",newPath)},__updatePathOnDataChange:function(){if(!this.route||!this.active){return}var newPath=this.__getLink({}),oldPath=this.__getLink(this._dataInUrl);if(newPath===oldPath){return}this.set("route.path",newPath)},__getLink:function(overrideValues){var values={tail:null};for(var key in this.data){values[key]=this.data[key]}for(var key in overrideValues){values[key]=overrideValues[key]}var patternPieces=this.pattern.split("/"),interp=patternPieces.map(function(value){if(":"==value[0]){value=values[value.slice(1)]}return value},this);if(values.tail&&values.tail.path){if(0<interp.length&&"/"===values.tail.path.charAt(0)){interp.push(values.tail.path.slice(1))}else{interp.push(values.tail.path)}}return interp.join("/")},__setMulti:function(setObj){// HACK(rictic): skirting around 1.0's lack of a setMulti by poking at
//     internal data structures. I would not advise that you copy this
//     example.
//
//     In the future this will be a feature of Polymer itself.
//     See: https://github.com/Polymer/polymer/issues/3640
//
//     Hacking around with private methods like this is juggling footguns,
//     and is likely to have unexpected and unsupported rough edges.
//
//     Be ye so warned.
for(var property in setObj){this._propertySetter(property,setObj[property])}// notify in a specific order
if(setObj.data!==void 0){this._pathEffector("data",this.data);this._notifyChange("data")}if(setObj.active!==void 0){this._pathEffector("active",this.active);this._notifyChange("active")}if(setObj.tail!==void 0){this._pathEffector("tail",this.tail);this._notifyChange("tail")}}})})();</script><script>(function(){/**
   * @constructor
   * @param {{
   *   type: (string|null|undefined),
   *   key: (string|null|undefined),
   *   value: *,
   * }=} options
   */Polymer.IronMeta=function(options){Polymer.IronMeta[" "](options);this.type=options&&options.type||"default";this.key=options&&options.key;if(options&&"value"in options){this.value=options.value}};// This function is used to convince Closure not to remove constructor calls
// for instances that are not held anywhere. For example, when
// `new Polymer.IronMeta({...})` is used only for the side effect of adding
// a value.
Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var type=this.type,key=this.key;if(type&&key){return Polymer.IronMeta.types[type]&&Polymer.IronMeta.types[type][key]}},set value(value){var type=this.type,key=this.key;if(type&&key){type=Polymer.IronMeta.types[type]=Polymer.IronMeta.types[type]||{};if(null==value){delete type[key]}else{type[key]=value}}},get list(){var type=this.type;if(type){var items=Polymer.IronMeta.types[this.type];if(!items){return[]}return Object.keys(items).map(function(key){return metaDatas[this.type][key]},this)}},byKey:function(key){this.key=key;return this.value}};var metaDatas=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{/**
       * The type of meta-data.  All meta-data of the same type is stored
       * together.
       * @type {string}
       */type:{type:String,value:"default"},/**
       * The key used to store `value` under the `type` namespace.
       * @type {?string}
       */key:{type:String},/**
       * The meta-data to store or retrieve.
       * @type {*}
       */value:{type:String,notify:!0},/**
       * If true, `value` is set to the iron-meta instance itself.
       */self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(type,key,value){var meta=new Polymer.IronMeta({type:type,key:key});if(value!==void 0&&value!==meta.value){meta.value=value}else if(this.value!==meta.value){this.value=meta.value}return meta},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(self){if(self){this.value=this}},/**
     * Retrieves meta data value by key.
     *
     * @method byKey
     * @param {string} key The key of the meta-data to be returned.
     * @return {*}
     */byKey:function(key){return new Polymer.IronMeta({type:this.type,key:key}).value}})})();</script><dom-module id="iron-icon" assetpath="bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px);@apply --iron-icon;}:host([hidden]){display:none;}</style></template><script>Polymer({is:"iron-icon",properties:{/**
         * The name of the icon to use. The name should be of the form:
         * `iconset_name:icon_name`.
         */icon:{type:String},/**
         * The name of the theme to used, if one is specified by the
         * iconset.
         */theme:{type:String},/**
         * If using iron-icon without an iconset, you can set the src to be
         * the URL of an individual icon image file. Note that this will take
         * precedence over a given icon attribute.
         */src:{type:String},/**
         * @type {!Polymer.IronMeta}
         */_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(icon){var parts=(icon||"").split(":");this._iconName=parts.pop();this._iconsetName=parts.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(src){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},/** @suppress {visibility} */_updateIcon:function(){if(this._usesIconset()){if(this._img&&this._img.parentNode){Polymer.dom(this.root).removeChild(this._img)}if(""===this._iconName){if(this._iconset){this._iconset.removeIcon(this)}}else if(this._iconsetName&&this._meta){this._iconset=/** @type {?Polymer.Iconset} */this._meta.byKey(this._iconsetName);if(this._iconset){this._iconset.applyIcon(this,this._iconName,this.theme);this.unlisten(window,"iron-iconset-added","_updateIcon")}else{this.listen(window,"iron-iconset-added","_updateIcon")}}}else{if(this._iconset){this._iconset.removeIcon(this)}if(!this._img){this._img=document.createElement("img");this._img.style.width="100%";this._img.style.height="100%";this._img.draggable=/* eat */!1}this._img.src=this.src;Polymer.dom(this.root).appendChild(this._img)}}});</script></dom-module><script>(function(){'use strict';/**
   * Chrome uses an older version of DOM Level 3 Keyboard Events
   *
   * Most keys are labeled as text, but some are Unicode codepoints.
   * Values taken from:
   * http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/keyset.html#KeySet-Set
   */var KEY_IDENTIFIER={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},KEY_CODE={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},MODIFIER_KEYS={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},KEY_CHAR=/[a-z0-9*]/,IDENT_CHAR=/U\+/,ARROW_KEY=/^arrow/,SPACE_KEY=/^space(bar)?/,ESC_KEY=/^escape$/;/**
   * Special table for KeyboardEvent.keyCode.
   * KeyboardEvent.keyIdentifier is better, and KeyBoardEvent.key is even better
   * than that.
   *
   * Values from:
   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.keyCode#Value_of_keyCode
   */ /**
   * Transforms the key.
   * @param {string} key The KeyBoardEvent.key
   * @param {Boolean} [noSpecialChars] Limits the transformation to
   * alpha-numeric characters.
   */function transformKey(key,noSpecialChars){var validKey="";if(key){var lKey=key.toLowerCase();if(" "===lKey||SPACE_KEY.test(lKey)){validKey="space"}else if(ESC_KEY.test(lKey)){validKey="esc"}else if(1==lKey.length){if(!noSpecialChars||KEY_CHAR.test(lKey)){validKey=lKey}}else if(ARROW_KEY.test(lKey)){validKey=lKey.replace("arrow","")}else if("multiply"==lKey){// numpad '*' can map to Multiply on IE/Windows
validKey="*"}else{validKey=lKey}}return validKey}function transformKeyIdentifier(keyIdent){var validKey="";if(keyIdent){if(keyIdent in KEY_IDENTIFIER){validKey=KEY_IDENTIFIER[keyIdent]}else if(IDENT_CHAR.test(keyIdent)){keyIdent=parseInt(keyIdent.replace("U+","0x"),16);validKey=String.fromCharCode(keyIdent).toLowerCase()}else{validKey=keyIdent.toLowerCase()}}return validKey}function transformKeyCode(keyCode){var validKey="";if(+keyCode){if(65<=keyCode&&90>=keyCode){// ascii a-z
// lowercase is 32 offset from uppercase
validKey=String.fromCharCode(32+keyCode)}else if(112<=keyCode&&123>=keyCode){// function keys f1-f12
validKey="f"+(keyCode-112+1)}else if(48<=keyCode&&57>=keyCode){// top 0-9 keys
validKey=keyCode-48+""}else if(96<=keyCode&&105>=keyCode){// num pad 0-9
validKey=keyCode-96+""}else{validKey=KEY_CODE[keyCode]}}return validKey}/**
   * Calculates the normalized key for a KeyboardEvent.
   * @param {KeyboardEvent} keyEvent
   * @param {Boolean} [noSpecialChars] Set to true to limit keyEvent.key
   * transformation to alpha-numeric chars. This is useful with key
   * combinations like shift + 2, which on FF for MacOS produces
   * keyEvent.key = @
   * To get 2 returned, set noSpecialChars = true
   * To get @ returned, set noSpecialChars = false
   */function normalizedKeyForEvent(keyEvent,noSpecialChars){// Fall back from .key, to .detail.key for artifical keyboard events,
// and then to deprecated .keyIdentifier and .keyCode.
if(keyEvent.key){return transformKey(keyEvent.key,noSpecialChars)}if(keyEvent.detail&&keyEvent.detail.key){return transformKey(keyEvent.detail.key,noSpecialChars)}return transformKeyIdentifier(keyEvent.keyIdentifier)||transformKeyCode(keyEvent.keyCode)||""}function keyComboMatchesEvent(keyCombo,event){// For combos with modifiers we support only alpha-numeric keys
var keyEvent=normalizedKeyForEvent(event,keyCombo.hasModifiers);return keyEvent===keyCombo.key&&(!keyCombo.hasModifiers||!!event.shiftKey===!!keyCombo.shiftKey&&!!event.ctrlKey===!!keyCombo.ctrlKey&&!!event.altKey===!!keyCombo.altKey&&!!event.metaKey===!!keyCombo.metaKey)}function parseKeyComboString(keyComboString){if(1===keyComboString.length){return{combo:keyComboString,key:keyComboString,event:"keydown"}}return keyComboString.split("+").reduce(function(parsedKeyCombo,keyComboPart){var eventParts=keyComboPart.split(":"),keyName=eventParts[0],event=eventParts[1];if(keyName in MODIFIER_KEYS){parsedKeyCombo[MODIFIER_KEYS[keyName]]=!0;parsedKeyCombo.hasModifiers=!0}else{parsedKeyCombo.key=keyName;parsedKeyCombo.event=event||"keydown"}return parsedKeyCombo},{combo:keyComboString.split(":").shift()})}function parseEventString(eventString){return eventString.trim().split(" ").map(function(keyComboString){return parseKeyComboString(keyComboString)})}/**
   * `Polymer.IronA11yKeysBehavior` provides a normalized interface for processing
   * keyboard commands that pertain to [WAI-ARIA best
   * practices](http://www.w3.org/TR/wai-aria-practices/#kbd_general_binding). The
   * element takes care of browser differences with respect to Keyboard events and
   * uses an expressive syntax to filter key presses.
   *
   * Use the `keyBindings` prototype property to express what combination of keys
   * will trigger the callback. A key binding has the format
   * `"KEY+MODIFIER:EVENT": "callback"` (`"KEY": "callback"` or
   * `"KEY:EVENT": "callback"` are valid as well). Some examples:
   *
   *      keyBindings: {
   *        'space': '_onKeydown', // same as 'space:keydown'
   *        'shift+tab': '_onKeydown',
   *        'enter:keypress': '_onKeypress',
   *        'esc:keyup': '_onKeyup'
   *      }
   *
   * The callback will receive with an event containing the following information
   * in `event.detail`:
   *
   *      _onKeydown: function(event) {
   *        console.log(event.detail.combo); // KEY+MODIFIER, e.g. "shift+tab"
   *        console.log(event.detail.key); // KEY only, e.g. "tab"
   *        console.log(event.detail.event); // EVENT, e.g. "keydown"
   *        console.log(event.detail.keyboardEvent); // the original KeyboardEvent
   *      }
   *
   * Use the `keyEventTarget` attribute to set up event handlers on a specific
   * node.
   *
   * See the [demo source
   * code](https://github.com/PolymerElements/iron-a11y-keys-behavior/blob/master/demo/x-key-aware.html)
   * for an example.
   *
   * @demo demo/index.html
   * @polymerBehavior
   */Polymer.IronA11yKeysBehavior={properties:{/**
       * The EventTarget that will be firing relevant KeyboardEvents. Set it to
       * `null` to disable the listeners.
       * @type {?EventTarget}
       */keyEventTarget:{type:Object,value:function(){return this}},/**
       * If true, this property will cause the implementing element to
       * automatically stop propagation on any handled KeyboardEvents.
       */stopKeyboardEventPropagation:{type:Boolean,value:/* eat */!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},// We use this due to a limitation in IE10 where instances will have
// own properties of everything on the "prototype".
_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],/**
     * To be used to express what combination of keys  will trigger the relative
     * callback. e.g. `keyBindings: { 'esc': '_onEscPressed'}`
     * @type {!Object}
     */keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},/**
     * Can be used to imperatively add a key binding to the implementing
     * element. This is the imperative equivalent of declaring a keybinding
     * in the `keyBindings` prototype property.
     *
     * @param {string} eventString
     * @param {string} handlerName
     */addOwnKeyBinding:function(eventString,handlerName){this._imperativeKeyBindings[eventString]=handlerName;this._prepKeyBindings();this._resetKeyEventListeners()},/**
     * When called, will remove all imperatively-added key bindings.
     */removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},/**
     * Returns true if a keyboard event matches `eventString`.
     *
     * @param {KeyboardEvent} event
     * @param {string} eventString
     * @return {boolean}
     */keyboardEventMatchesKeys:function(event,eventString){for(var keyCombos=parseEventString(eventString),i=0;i<keyCombos.length;++i){if(keyComboMatchesEvent(keyCombos[i],event)){return!0}}return!1},_collectKeyBindings:function(){var keyBindings=this.behaviors.map(function(behavior){return behavior.keyBindings});if(-1===keyBindings.indexOf(this.keyBindings)){keyBindings.push(this.keyBindings)}return keyBindings},_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(keyBindings){for(var eventString in keyBindings){this._addKeyBinding(eventString,keyBindings[eventString])}},this);for(var eventString in this._imperativeKeyBindings){this._addKeyBinding(eventString,this._imperativeKeyBindings[eventString])}// Give precedence to combos with modifiers to be checked first.
for(var eventName in this._keyBindings){this._keyBindings[eventName].sort(function(kb1,kb2){var b1=kb1[0].hasModifiers,b2=kb2[0].hasModifiers;return b1===b2?0:b1?-1:1})}},_addKeyBinding:function(eventString,handlerName){parseEventString(eventString).forEach(function(keyCombo){this._keyBindings[keyCombo.event]=this._keyBindings[keyCombo.event]||[];this._keyBindings[keyCombo.event].push([keyCombo,handlerName])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();if(this.isAttached){this._listenKeyEventListeners()}},_listenKeyEventListeners:function(){if(!this.keyEventTarget){return}Object.keys(this._keyBindings).forEach(function(eventName){var keyBindings=this._keyBindings[eventName],boundKeyHandler=this._onKeyBindingEvent.bind(this,keyBindings);this._boundKeyHandlers.push([this.keyEventTarget,eventName,boundKeyHandler]);this.keyEventTarget.addEventListener(eventName,boundKeyHandler)},this)},_unlistenKeyEventListeners:function(){var keyHandlerTuple,keyEventTarget,eventName,boundKeyHandler;while(this._boundKeyHandlers.length){// My kingdom for block-scope binding and destructuring assignment..
keyHandlerTuple=this._boundKeyHandlers.pop();keyEventTarget=keyHandlerTuple[0];eventName=keyHandlerTuple[1];boundKeyHandler=keyHandlerTuple[2];keyEventTarget.removeEventListener(eventName,boundKeyHandler)}},_onKeyBindingEvent:function(keyBindings,event){if(this.stopKeyboardEventPropagation){event.stopPropagation()}// if event has been already prevented, don't do anything
if(event.defaultPrevented){return}for(var i=0;i<keyBindings.length;i++){var keyCombo=keyBindings[i][0],handlerName=keyBindings[i][1];if(keyComboMatchesEvent(keyCombo,event)){this._triggerKeyHandler(keyCombo,handlerName,event);// exit the loop if eventDefault was prevented
if(event.defaultPrevented){return}}}},_triggerKeyHandler:function(keyCombo,handlerName,keyboardEvent){var detail=Object.create(keyCombo);detail.keyboardEvent=keyboardEvent;var event=new CustomEvent(keyCombo.event,{detail:detail,cancelable:!0});this[handlerName].call(this,event);if(event.defaultPrevented){keyboardEvent.preventDefault()}}}})();</script><script>/**
   * @demo demo/index.html
   * @polymerBehavior
   */Polymer.IronControlState={properties:{/**
       * If true, the element currently has focus.
       */focused:{type:Boolean,value:/* eat */!1,notify:!0,readOnly:!0,reflectToAttribute:!0},/**
       * If true, the user cannot interact with this element.
       */disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},/**
       * Value of the `tabindex` attribute before `disabled` was activated.
       * `null` means the attribute was not present.
       * @type {?string|undefined}
       */_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],/**
     * @return {void}
     */ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(event){// In Polymer 2.0, the library takes care of retargeting events.
if(Polymer.Element){this._setFocused("focus"===event.type);return}// NOTE(cdata):  if we are in ShadowDOM land, `event.target` will
// eventually become `this` due to retargeting; if we are not in
// ShadowDOM land, `event.target` will eventually become `this` due
// to the second conditional which fires a synthetic event (that is also
// handled). In either case, we can disregard `event.path`.
if(event.target===this){this._setFocused("focus"===event.type)}else if(this.__handleEventRetargeting){var target=/** @type {Node} */Polymer.dom(event).localTarget;if(!this.isLightDescendant(target)){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}}},_disabledChanged:function(disabled,old){this.setAttribute("aria-disabled",disabled?"true":"false");this.style.pointerEvents=disabled?"none":"";if(disabled){// Read the `tabindex` attribute instead of the `tabIndex` property.
// The property returns `-1` if there is no `tabindex` attribute.
// This distinction is important when restoring the value because
// leaving `-1` hides shadow root children from the tab order.
this._oldTabIndex=this.getAttribute("tabindex");this._setFocused(!1);this.tabIndex=-1;this.blur()}else if(this._oldTabIndex!==void 0){if(null===this._oldTabIndex){this.removeAttribute("tabindex")}else{this.setAttribute("tabindex",this._oldTabIndex)}}},_changedControlState:function(){// _controlStateChanged is abstract, follow-on behaviors may implement it
if(this._controlStateChanged){this._controlStateChanged()}}};</script><script>/**
   * @demo demo/index.html
   * @polymerBehavior Polymer.IronButtonState
   */Polymer.IronButtonStateImpl={properties:{/**
       * If true, the user is currently holding down the button.
       */pressed:{type:Boolean,readOnly:!0,value:/* eat */!1,reflectToAttribute:!0,observer:"_pressedChanged"},/**
       * If true, the button toggles the active state with each tap or press
       * of the spacebar.
       */toggles:{type:Boolean,value:!1,reflectToAttribute:!0},/**
       * If true, the button is a toggle and is currently in the active state.
       */active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},/**
       * True if the element is currently being pressed by a "pointer," which
       * is loosely defined as mouse or touch input (but specifically excluding
       * keyboard input).
       */pointerDown:{type:Boolean,readOnly:!0,value:!1},/**
       * True if the input device that caused the element to receive focus
       * was a keyboard.
       */receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},/**
       * The aria attribute to be set if the button is a toggle and in the
       * active state.
       */ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],/**
     * @type {!Object}
     */keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){if(this.toggles){// a tap is needed to toggle the active state
this._userActivate(!this.active)}else{this.active=!1}},_focusChanged:function(focused){this._detectKeyboardFocus(focused);if(!focused){this._setPressed(!1)}},_detectKeyboardFocus:function(focused){this._setReceivedFocusFromKeyboard(!this.pointerDown&&focused)},// to emulate native checkbox, (de-)activations from a user interaction fire
// 'change' events
_userActivate:function(active){if(this.active!==active){this.active=active;this.fire("change")}},_downHandler:function(event){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},/**
     * @param {!KeyboardEvent} event .
     */_spaceKeyDownHandler:function(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;// Ignore the event if this is coming from a focused light child, since that
// element will deal with it.
if(this.isLightDescendant(/** @type {Node} */target))return;keyboardEvent.preventDefault();keyboardEvent.stopImmediatePropagation();this._setPressed(!0)},/**
     * @param {!KeyboardEvent} event .
     */_spaceKeyUpHandler:function(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;// Ignore the event if this is coming from a focused light child, since that
// element will deal with it.
if(this.isLightDescendant(/** @type {Node} */target))return;if(this.pressed){this._asyncClick()}this._setPressed(!1)},// trigger click asynchronously, the asynchrony is useful to allow one
// event handler to unwind before triggering another event
_asyncClick:function(){this.async(function(){this.click()},1)},// any of these changes are considered a change to button state
_pressedChanged:function(pressed){this._changedButtonState()},_ariaActiveAttributeChanged:function(value,oldValue){if(oldValue&&oldValue!=value&&this.hasAttribute(oldValue)){this.removeAttribute(oldValue)}},_activeChanged:function(active,ariaActiveAttribute){if(this.toggles){this.setAttribute(this.ariaActiveAttribute,active?"true":"false")}else{this.removeAttribute(this.ariaActiveAttribute)}this._changedButtonState()},_controlStateChanged:function(){if(this.disabled){this._setPressed(!1)}else{this._changedButtonState()}},// provide hook for follow-on behaviors to react to button-state
_changedButtonState:function(){if(this._buttonStateChanged){this._buttonStateChanged();// abstract
}}};/** @polymerBehavior */Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];</script><dom-module id="paper-ripple" assetpath="bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none;}:host([animating]){-webkit-transform:translate(0, 0);transform:translate3d(0, 0, 0);}#background,
      #waves,
      .wave-container,
      .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#background,
      .wave{opacity:0;}#waves,
      .wave{overflow:hidden;}.wave-container,
      .wave{border-radius:50%;}:host(.circle) #background,
      :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>(function(){'use strict';var Utility={distance:function(x1,y1,x2,y2){var xDelta=x1-x2,yDelta=y1-y2;return Math.sqrt(xDelta*xDelta+yDelta*yDelta)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};/**
   * @param {HTMLElement} element
   * @constructor
   */function ElementMetrics(element){this.element=element;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}ElementMetrics.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(x,y){var topLeft=Utility.distance(x,y,0,0),topRight=Utility.distance(x,y,this.width,0),bottomLeft=Utility.distance(x,y,0,this.height),bottomRight=Utility.distance(x,y,this.width,this.height);return Math.max(topLeft,topRight,bottomLeft,bottomRight)}};/**
   * @param {HTMLElement} element
   * @constructor
   */function Ripple(element){this.element=element;this.color=window.getComputedStyle(element).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}Ripple.MAX_RADIUS=300;Ripple.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var elapsed;if(!this.mouseDownStart){return 0}elapsed=Utility.now()-this.mouseDownStart;if(this.mouseUpStart){elapsed-=this.mouseUpElapsed}return elapsed},get mouseUpElapsed(){return this.mouseUpStart?Utility.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var width2=this.containerMetrics.width*this.containerMetrics.width,height2=this.containerMetrics.height*this.containerMetrics.height,waveRadius=1.1*Math.min(Math.sqrt(width2+height2),Ripple.MAX_RADIUS)+5,duration=1.1-.2*(waveRadius/Ripple.MAX_RADIUS),timeNow=this.mouseInteractionSeconds/duration,size=waveRadius*(1-Math.pow(80,-timeNow));return Math.abs(size)},get opacity(){if(!this.mouseUpStart){return this.initialOpacity}return Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity)},get outerOpacity(){// Linear increase in background opacity, capped at the opacity
// of the wavefront (waveOpacity).
var outerOpacity=.3*this.mouseUpElapsedSeconds,waveOpacity=this.opacity;return Math.max(0,Math.min(outerOpacity,waveOpacity))},get isOpacityFullyDecayed(){return .01>this.opacity&&this.radius>=Math.min(this.maxRadius,Ripple.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,Ripple.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,2*(this.radius/this.containerMetrics.size)/Math.sqrt(2))},get xNow(){if(this.xEnd){return this.xStart+this.translationFraction*(this.xEnd-this.xStart)}return this.xStart},get yNow(){if(this.yEnd){return this.yStart+this.translationFraction*(this.yEnd-this.yStart)}return this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0;this.mouseDownStart=0;this.mouseUpStart=0;this.xStart=0;this.yStart=0;this.xEnd=0;this.yEnd=0;this.slideDistance=0;this.containerMetrics=new ElementMetrics(this.element)},draw:function(){var scale,dx,dy;this.wave.style.opacity=this.opacity;scale=this.radius/(this.containerMetrics.size/2);dx=this.xNow-this.containerMetrics.width/2;dy=this.yNow-this.containerMetrics.height/2;// 2d transform for safari because of border-radius and overflow:hidden
// clipping bug. https://bugs.webkit.org/show_bug.cgi?id=98538
this.waveContainer.style.webkitTransform="translate("+dx+"px, "+dy+"px)";this.waveContainer.style.transform="translate3d("+dx+"px, "+dy+"px, 0)";this.wave.style.webkitTransform="scale("+scale+","+scale+")";this.wave.style.transform="scale3d("+scale+","+scale+",1)"},/** @param {Event=} event */downAction:function(event){var xCenter=this.containerMetrics.width/2,yCenter=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=Utility.now();if(this.center){this.xStart=xCenter;this.yStart=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}else{this.xStart=event?event.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2;this.yStart=event?event.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2}if(this.recenters){this.xEnd=xCenter;this.yEnd=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},/** @param {Event=} event */upAction:function(event){if(!this.isMouseDown){return}this.mouseUpStart=Utility.now()},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{/**
       * The initial opacity set on the wave.
       *
       * @attribute initialOpacity
       * @type number
       * @default 0.25
       */initialOpacity:{type:Number,value:.25},/**
       * How fast (opacity per second) the wave fades out.
       *
       * @attribute opacityDecayVelocity
       * @type number
       * @default 0.8
       */opacityDecayVelocity:{type:Number,value:.8},/**
       * If true, ripples will exhibit a gravitational pull towards
       * the center of their container as they fade away.
       *
       * @attribute recenters
       * @type boolean
       * @default false
       */recenters:{type:Boolean,value:/* eat */!1},/**
       * If true, ripples will center inside its container
       *
       * @attribute recenters
       * @type boolean
       * @default false
       */center:{type:Boolean,value:!1},/**
       * A list of the visual ripples.
       *
       * @attribute ripples
       * @type Array
       * @default []
       */ripples:{type:Array,value:function(){return[]}},/**
       * True when there are visible ripples animating within the
       * element.
       */animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},/**
       * If true, the ripple will remain in the "down" state until `holdDown`
       * is set to false again.
       */holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},/**
       * If true, the ripple will not generate a ripple effect
       * via pointer interaction.
       * Calling ripple's imperative api like `simulatedRipple` will
       * still generate the ripple effect.
       */noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},/**
     * @type {!Object}
     */keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){// Set up a11yKeysBehavior to listen to key events on the target,
// so that space and enter activate the ripple even if the target doesn't
// handle key events. The key handlers deal with `noink` themselves.
if(11==this.parentNode.nodeType){// DOCUMENT_FRAGMENT_NODE
this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host}else{this.keyEventTarget=this.parentNode}var keyEventTarget=/** @type {!EventTarget} */this.keyEventTarget;this.listen(keyEventTarget,"up","uiUpAction");this.listen(keyEventTarget,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=null},get shouldKeepAnimating(){for(var index=0;index<this.ripples.length;++index){if(!this.ripples[index].isAnimationComplete){return!0}}return!1},simulatedRipple:function(){this.downAction(null);// Please see polymer/polymer#1305
this.async(function(){this.upAction()},1)},/**
     * Provokes a ripple down effect via a UI event,
     * respecting the `noink` property.
     * @param {Event=} event
     */uiDownAction:function(event){if(!this.noink){this.downAction(event)}},/**
     * Provokes a ripple down effect via a UI event,
     * *not* respecting the `noink` property.
     * @param {Event=} event
     */downAction:function(event){if(this.holdDown&&0<this.ripples.length){return}var ripple=this.addRipple();ripple.downAction(event);if(!this._animating){this._animating=!0;this.animate()}},/**
     * Provokes a ripple up effect via a UI event,
     * respecting the `noink` property.
     * @param {Event=} event
     */uiUpAction:function(event){if(!this.noink){this.upAction(event)}},/**
     * Provokes a ripple up effect via a UI event,
     * *not* respecting the `noink` property.
     * @param {Event=} event
     */upAction:function(event){if(this.holdDown){return}this.ripples.forEach(function(ripple){ripple.upAction(event)});this._animating=!0;this.animate()},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var ripple=new Ripple(this);Polymer.dom(this.$.waves).appendChild(ripple.waveContainer);this.$.background.style.backgroundColor=ripple.color;this.ripples.push(ripple);this._setAnimating(!0);return ripple},removeRipple:function(ripple){var rippleIndex=this.ripples.indexOf(ripple);if(0>rippleIndex){return}this.ripples.splice(rippleIndex,1);ripple.remove();if(!this.ripples.length){this._setAnimating(!1)}},/**
     * This conflicts with Element#antimate().
     * https://developer.mozilla.org/en-US/docs/Web/API/Element/animate
     * @suppress {checkTypes}
     */animate:function(){if(!this._animating){return}var index,ripple;for(index=0;index<this.ripples.length;++index){ripple=this.ripples[index];ripple.draw();this.$.background.style.opacity=ripple.outerOpacity;if(ripple.isOpacityFullyDecayed&&!ripple.isRestingAtMaxRadius){this.removeRipple(ripple)}}if(!this.shouldKeepAnimating&&0===this.ripples.length){this.onAnimationComplete()}else{window.requestAnimationFrame(this._boundAnimate)}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},// note: holdDown does not respect noink since it can be a focus based
// effect.
_holdDownChanged:function(newVal,oldVal){if(oldVal===void 0){return}if(newVal){this.downAction()}else{this.upAction()}}/**
    Fired when the animation finishes.
    This is useful if you want to wait until
    the ripple animation finishes to perform some action.

    @event transitionend
    @param {{node: Object}} detail Contains the animated node.
    */})})();</script><script>/**
   * `Polymer.PaperRippleBehavior` dynamically implements a ripple
   * when the element has focus via pointer or keyboard.
   *
   * NOTE: This behavior is intended to be used in conjunction with and after
   * `Polymer.IronButtonState` and `Polymer.IronControlState`.
   *
   * @polymerBehavior Polymer.PaperRippleBehavior
   */Polymer.PaperRippleBehavior={properties:{/**
       * If true, the element will not produce a ripple effect when interacted
       * with via the pointer.
       */noink:{type:Boolean,observer:"_noinkChanged"},/**
       * @type {Element|undefined}
       */_rippleContainer:{type:Object}},/**
     * Ensures a `<paper-ripple>` element is available when the element is
     * focused.
     */_buttonStateChanged:function(){if(this.focused){this.ensureRipple()}},/**
     * In addition to the functionality provided in `IronButtonState`, ensures
     * a ripple effect is created when the element is in a `pressed` state.
     */_downHandler:function(event){Polymer.IronButtonStateImpl._downHandler.call(this,event);if(this.pressed){this.ensureRipple(event)}},/**
     * Ensures this element contains a ripple effect. For startup efficiency
     * the ripple effect is dynamically on demand when needed.
     * @param {!Event=} optTriggeringEvent (optional) event that triggered the
     * ripple.
     */ensureRipple:function(optTriggeringEvent){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var rippleContainer=this._rippleContainer||this.root;if(rippleContainer){Polymer.dom(rippleContainer).appendChild(this._ripple)}if(optTriggeringEvent){// Check if the event happened inside of the ripple container
// Fall back to host instead of the root because distributed text
// nodes are not valid event targets
var domContainer=Polymer.dom(this._rippleContainer||this),target=Polymer.dom(optTriggeringEvent).rootTarget;if(domContainer.deepContains(/** @type {Node} */target)){this._ripple.uiDownAction(optTriggeringEvent)}}}},/**
     * Returns the `<paper-ripple>` element used by this element to create
     * ripple effects. The element's ripple is created on demand, when
     * necessary, and calling this method will force the
     * ripple to be created.
     */getRipple:function(){this.ensureRipple();return this._ripple},/**
     * Returns true if this element currently contains a ripple effect.
     * @return {boolean}
     */hasRipple:function(){return!!this._ripple},/**
     * Create the element's ripple effect via creating a `<paper-ripple>`.
     * Override this method to customize the ripple element.
     * @return {!PaperRippleElement} Returns a `<paper-ripple>` element.
     */_createRipple:function(){var element=/** @type {!PaperRippleElement} */document.createElement("paper-ripple");return element},_noinkChanged:function(noink){if(this.hasRipple()){this._ripple.noink=noink}}};</script><script>/**
   * `Polymer.PaperInkyFocusBehavior` implements a ripple when the element has
   * keyboard focus.
   *
   * @polymerBehavior Polymer.PaperInkyFocusBehavior
   */Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){this._ripple.holdDown=receivedFocusFromKeyboard}},_createRipple:function(){var ripple=Polymer.PaperRippleBehavior._createRipple();ripple.id="ink";ripple.setAttribute("center","");ripple.classList.add("circle");return ripple}};/** @polymerBehavior Polymer.PaperInkyFocusBehavior */Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];</script><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0;}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color);}</style></custom-style><dom-module id="paper-icon-button" assetpath="bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;box-sizing:border-box !important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color, var(--primary-text-color));opacity:0.6;}:host([disabled]){color:var(--paper-icon-button-disabled-text, var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host([hidden]){display:none !important;}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%;}</style><iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon></template><script>Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{/**
         * The URL of an image for the icon. If the src property is specified,
         * the icon property should not be.
         */src:{type:String},/**
         * Specifies the icon name or index in the set of icons available in
         * the icon's icon set. If the icon property is specified,
         * the src property should not be.
         */icon:{type:String},/**
         * Specifies the alternate text for the button, for accessibility.
         */alt:{type:String,observer:"_altChanged"}},_altChanged:function(newValue,oldValue){var label=this.getAttribute("aria-label");// Don't stomp over a user-set aria-label.
if(!label||oldValue==label){this.setAttribute("aria-label",newValue)}}});</script></dom-module><script>/**
   * The `iron-iconset-svg` element allows users to define their own icon sets
   * that contain svg icons. The svg icon elements should be children of the
   * `iron-iconset-svg` element. Multiple icons should be given distinct id's.
   *
   * Using svg elements to create icons has a few advantages over traditional
   * bitmap graphics like jpg or png. Icons that use svg are vector based so
   * they are resolution independent and should look good on any device. They
   * are stylable via css. Icons can be themed, colorized, and even animated.
   *
   * Example:
   *
   *     <iron-iconset-svg name="my-svg-icons" size="24">
   *       <svg>
   *         <defs>
   *           <g id="shape">
   *             <rect x="12" y="0" width="12" height="24" />
   *             <circle cx="12" cy="12" r="12" />
   *           </g>
   *         </defs>
   *       </svg>
   *     </iron-iconset-svg>
   *
   * This will automatically register the icon set "my-svg-icons" to the iconset
   * database.  To use these icons from within another element, make a
   * `iron-iconset` element and call the `byId` method
   * to retrieve a given iconset. To apply a particular icon inside an
   * element use the `applyIcon` method. For example:
   *
   *     iconset.applyIcon(iconNode, 'car');
   *
   * @element iron-iconset-svg
   * @demo demo/index.html
   * @implements {Polymer.Iconset}
   */Polymer({is:"iron-iconset-svg",properties:{/**
       * The name of the iconset.
       */name:{type:String,observer:"_nameChanged"},/**
       * The size of an individual icon. Note that icons must be square.
       */size:{type:Number,value:24},/**
       * Set to true to enable mirroring of icons where specified when they are
       * stamped. Icons that should be mirrored should be decorated with a
       * `mirror-in-rtl` attribute.
       *
       * NOTE: For performance reasons, direction will be resolved once per
       * document per iconset, so moving icons in and out of RTL subtrees will
       * not cause their mirrored state to change.
       */rtlMirroring:{type:Boolean,value:/* eat */!1},/**
       * Set to true to measure RTL based on the dir attribute on the body or
       * html elements (measured on document.body or document.documentElement as
       * available).
       */useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},/**
     * Construct an array of all icon names in this iconset.
     *
     * @return {!Array} Array of icon names.
     */getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(n){return this.name+":"+n},this)},/**
     * Applies an icon to the given element.
     *
     * An svg icon is prepended to the element's shadowRoot if it exists,
     * otherwise to the element itself.
     *
     * If RTL mirroring is enabled, and the icon is marked to be mirrored in
     * RTL, the element will be tested (once and only once ever for each
     * iconset) to determine the direction of the subtree the element is in.
     * This direction will apply to all future icon applications, although only
     * icons marked to be mirrored will be affected.
     *
     * @method applyIcon
     * @param {Element} element Element to which the icon is applied.
     * @param {string} iconName Name of the icon to apply.
     * @return {?Element} The svg element which renders the icon.
     */applyIcon:function(element,iconName){// Remove old svg element
this.removeIcon(element);// install new svg element
var svg=this._cloneIcon(iconName,this.rtlMirroring&&this._targetIsRTL(element));if(svg){// insert svg element into shadow root, if it exists
var pde=Polymer.dom(element.root||element);pde.insertBefore(svg,pde.childNodes[0]);return element._svgIcon=svg}return null},/**
     * Remove an icon from the given element by undoing the changes effected
     * by `applyIcon`.
     *
     * @param {Element} element The element from which the icon is removed.
     */removeIcon:function(element){// Remove old svg element
if(element._svgIcon){Polymer.dom(element.root||element).removeChild(element._svgIcon);element._svgIcon=null}},/**
     * Measures and memoizes the direction of the element. Note that this
     * measurement is only done once and the result is memoized for future
     * invocations.
     */_targetIsRTL:function(target){if(null==this.__targetIsRTL){if(this.useGlobalRtlAttribute){var globalElement=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===globalElement.getAttribute("dir")}else{if(target&&target.nodeType!==Node.ELEMENT_NODE){target=target.host}this.__targetIsRTL=target&&"rtl"===window.getComputedStyle(target).direction}}return this.__targetIsRTL},/**
     *
     * When name is changed, register iconset metadata
     *
     */_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},/**
     * Create a map of child SVG elements by id.
     *
     * @return {!Object} Map of id's to SVG elements.
     */_createIconMap:function(){// Objects chained to Object.prototype (`{}`) have members. Specifically,
// on FF there is a `watch` method that confuses the icon map, so we
// need to use a null-based object here.
var icons=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(icon){icons[icon.id]=icon});return icons},/**
     * Produce installable clone of the SVG element matching `id` in this
     * iconset, or `undefined` if there is no matching element.
     *
     * @return {Element} Returns an installable clone of the SVG element
     * matching `id`.
     */_cloneIcon:function(id,mirrorAllowed){// create the icon map on-demand, since the iconset itself has no discrete
// signal to know when it's children are fully parsed
this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[id],this.size,mirrorAllowed)},/**
     * @param {Element} sourceSvg
     * @param {number} size
     * @param {Boolean} mirrorAllowed
     * @return {Element}
     */_prepareSvgClone:function(sourceSvg,size,mirrorAllowed){if(sourceSvg){var content=sourceSvg.cloneNode(!0),svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),viewBox=content.getAttribute("viewBox")||"0 0 "+size+" "+size,cssText="pointer-events: none; display: block; width: 100%; height: 100%;";if(mirrorAllowed&&content.hasAttribute("mirror-in-rtl")){cssText+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"}svg.setAttribute("viewBox",viewBox);svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.setAttribute("focusable","false");// TODO(dfreedm): `pointer-events: none` works around
// https://crbug.com/370136
// TODO(sjmiles): inline style may not be ideal, but avoids requiring a
// shadow-root
svg.style.cssText=cssText;svg.appendChild(content).removeAttribute("id");return svg}return null}});</script><iron-iconset-svg size="24" name="arc"><svg><defs><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="arc-icon"><path style="fill:#2196F3" d="M2.3,1h19.3C22.4,1,23,1.6,23,2.3v19.4c0,0.7-0.6,1.3-1.3,1.3H2.3C1.6,23,1,22.4,1,21.7 V2.3C1,1.6,1.6,1,2.3,1z"></path><path style="opacity:0.42;fill:#FFFFFF" d="M15.8,7.1v5.1h-1.9l3.7,4.7l3.7-4.7h-1.9V7.1H15.8L15.8,7.1z"></path><path style="fill:#FFFFFF" d="M10.7,19.3v-7.6h2.8L8.1,4.8l-5.5,6.9h2.8v7.6H10.7z"></path></g><g id="arc-icon-arrows"><polygon style="fill:#2196F3;" points="13.3,11.7 8.3,5.2 3.2,11.7 5.7,11.7 5.7,11.7 5.8,11.7 5.8,18.8 10.7,18.8 10.7,11.7 "></polygon><polygon style="opacity:0.42;fill:#2196F3;" points="19,12.5 19,7.7 15.7,7.7 15.7,12.5 13.9,12.5 17.4,16.8 20.8,12.5 "></polygon></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="clear-all"><path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g><g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g><g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g><g id="insert-comment"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="desktop-windows"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="drive-color" transform="matrix(1.597046e-4,0,0,1.6517796e-4,1.3671875,2.9482084)"><polygon points="133156,76894 110963,115341 22194,115341 44385,76894 " style="fill:#3777e3"></polygon><polygon points="88772,0 44385,0 88772,76894 133156,76894 " style="fill:#ffcf63"></polygon><polygon points="66578,38447 44385,0 0,76894 22194,115341 " style="fill:#11a861"></polygon></g><g id="drive" transform="matrix(1.597046e-4,0,0,1.6517796e-4,1.3671875,2.9482084)"><polygon points="22194,115341 44385,76894 133156,76894 110963,115341"></polygon><polygon points="88772,76894 133156,76894 88772,0 44385,0"></polygon><polygon points="0,76894 22194,115341 66578,38447 44385,0"></polygon></g><g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="export-variant"><path d="M12,1L8,5H11V14H13V5H16M18,23H6C4.89,23 4,22.1 4,21V9A2,2 0 0,1 6,7H9V9H6V21H18V9H15V7H18A2,2 0 0,1 20,9V21A2,2 0 0,1 18,23Z"></path></g><g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"></path></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g><g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g><g id="insert-chart"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="insert-drive-file"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"></path></g><g id="keyboard-arrow-down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></g><g id="keyboard-arrow-up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></g><g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g><g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g><g id="markdown" transform="matrix(0.04690339,0,0,0.04690339,0,5.225434)"><path d="m 123.38173,73.504 -50.39773,0 0,167.496 52.516,0 0,-93 50,60 47.62725,-60 0,93 49.87275,0 0,-167.496 -49.87276,0 L 175.5,135.5 Z M 39.998409,0 474.00159,0 C 496.08284,0 514,17.906303 514,39.994846 l 0,235.010304 C 514,297.09032 496.0921,315 474.00159,315 L 39.998409,315 C 17.917157,315 0,297.0937 0,275.00515 L 0,39.994846 C 0,17.909682 17.907898,0 39.998409,0 Z M 360,74.5 l -0.49739,0 -1e-5,86 -48.0026,0 74,80.5 74.00256,-80.99442 -49.97984,0 0,-85.50558 z m 0,0"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="mode-edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="notifications-active"><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"></path></g><g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="raml-r"><path d="M14.44,1.48H3L4.16,3.3H14.37a4.59,4.59,0,0,1,3.31,1.41A4.8,4.8,0,0,1,19,8.07,4.45,4.45,0,0,1,17.7,11.3a5.72,5.72,0,0,1-3.28,1.54H13.17l-3.45,0,1,1.72h1.51l.08.13h0l4.45,7.51,0,0,0,0a1,1,0,0,0,1.7-.71.54.54,0,0,0-.15-.41,1.21,1.21,0,0,1-.14-.2l-3.68-6.26a6.47,6.47,0,0,0,4.51-1.92A6.61,6.61,0,0,0,14.44,1.48Z"></path></g><g id="rate-review"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"></path></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g><g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="pin-drawer"><path d="M 15.462891 4.0332031 L 15.462891 20.007812 L 18.392578 20.007812 L 18.392578 4.0332031 L 15.462891 4.0332031 z M 6.9921875 6.0195312 L 5.5820312 7.4296875 L 10.162109 12.019531 L 5.5820312 16.609375 L 6.9921875 18.019531 L 12.992188 12.019531 L 6.9921875 6.0195312 z M 16.017578 11.873047 L 17.865234 11.873047 L 17.865234 19.509766 L 16.017578 19.509766 L 16.017578 11.873047 z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="sentiment-very-dissatisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.18-12.24l-1.06 1.06-1.06-1.06L13 8.82l1.06 1.06L13 10.94 14.06 12l1.06-1.06L16.18 12l1.06-1.06-1.06-1.06 1.06-1.06zM7.82 12l1.06-1.06L9.94 12 11 10.94 9.94 9.88 11 8.82 9.94 7.76 8.88 8.82 7.82 7.76 6.76 8.82l1.06 1.06-1.06 1.06zM12 14c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="sentiment-neutral"><path d="M9 14h6v1.5H9z"></path><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="save-alt"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"></path><path fill="none" d="M0 0h24v24H0z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g><g id="shield" transform="translate(0,-1028.3622)"><circle r="11.962877" cy="1040.3993" cx="11.962877" style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#1c8adb;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.40000001;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"></circle><path d="m 5.7226134,1035.2177 -5.71610049,5.7162 c 0.25024909,5.9429 3.35576479,9.2981 8.15641339,11.1171 2.1658257,-2.1563 4.3267587,-4.3171 6.4790417,-6.5004 z" style="fill:url(&quot;bower_components/arc-icons/arc-icons.html#linearGradient5637&quot;);fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" inkscape:connector-curvature="0"></path><path d="m 11.962898,1033.391 c -2.0501345,1.0013 -4.3555189,1.8135 -6.240256,1.8267 1.1575901,7.1589 1.8218083,9.9255 6.240256,12.1899 4.418427,-2.2644 5.082673,-5.031 6.240258,-12.1899 -1.884728,-0.013 -4.190132,-0.8254 -6.240258,-1.8267 z" style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" inkscape:connector-curvature="0"></path><path d="m 11.962878,1033.391 0,7.0084 5.261505,0 c 0.352779,-1.4257 0.64548,-3.121 0.978701,-5.1818 -1.884728,-0.013 -4.19008,-0.8254 -6.240206,-1.8266 z m 0,7.0084 -5.2615633,0 c 0.8727443,3.5268 2.1150231,5.3956 5.2615633,7.0082 l 0,-7.0082 z" style="fill:#000000;fill-opacity:0.13473056;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" inkscape:connector-curvature="0"></path></g><g id="short-text"><path d="M4 9h16v2H4zm0 4h10v2H4z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="wrap-text"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g></defs></svg></iron-iconset-svg><dom-module id="iron-collapse" assetpath="bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration, 300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration, 300ms);overflow:visible;}:host(.iron-collapse-closed){display:none;}:host(:not(.iron-collapse-opened)){overflow:hidden;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{/**
       * If true, the orientation is horizontal; otherwise is vertical.
       *
       * @attribute horizontal
       */horizontal:{type:Boolean,value:/* eat */!1,observer:"_horizontalChanged"},/**
       * Set opened to true to show the collapse element and to false to hide it.
       *
       * @attribute opened
       */opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},/**
       * When true, the element is transitioning its opened state. When false,
       * the element has finished opening/closing.
       *
       * @attribute transitioning
       */transitioning:{type:Boolean,notify:!0,readOnly:!0},/**
       * Set noAnimation to true to disable animations.
       *
       * @attribute noAnimation
       */noAnimation:{type:Boolean},/**
       * Stores the desired size of the collapse body.
       * @private
       */_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},/**
     * `maxWidth` or `maxHeight`.
     * @private
     */get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},/**
     * `max-width` or `max-height`.
     * @private
     */get _dimensionMaxCss(){return this.horizontal?"max-width":"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},/**
     * Toggle the opened state.
     *
     * @method toggle
     */toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},/**
     * Updates the size of the element.
     * @param {string} size The new value for `maxWidth`/`maxHeight` as css property value, usually `auto` or `0px`.
     * @param {boolean=} animated if `true` updates the size with an animation, otherwise without.
     */updateSize:function(size,animated){// Consider 'auto' as '', to take full size.
size="auto"===size?"":size;var willAnimate=animated&&!this.noAnimation&&this.isAttached&&this._desiredSize!==size;this._desiredSize=size;this._updateTransition(!1);// If we can animate, must do some prep work.
if(willAnimate){// Animation will start at the current size.
var startSize=this._calcSize();// For `auto` we must calculate what is the final size for the animation.
// After the transition is done, _transitionEnd will set the size back to
// `auto`.
if(""===size){this.style[this._dimensionMax]="";size=this._calcSize()}// Go to startSize without animation.
this.style[this._dimensionMax]=startSize;// Force layout to ensure transition will go. Set scrollTop to itself
// so that compilers won't remove it.
this.scrollTop=this.scrollTop;// Enable animation.
this._updateTransition(!0);// If final size is the same as startSize it will not animate.
willAnimate=size!==startSize}// Set the final size.
this.style[this._dimensionMax]=size;// If it won't animate, call transitionEnd to set correct classes.
if(!willAnimate){this._transitionEnd()}},/**
     * enableTransition() is deprecated, but left over so it doesn't break
     * existing code. Please use `noAnimation` property instead.
     *
     * @method enableTransition
     * @deprecated since version 1.0.4
     */enableTransition:function(enabled){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!enabled},_updateTransition:function(enabled){this.style.transitionDuration=enabled&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var otherDimension="maxWidth"===this._dimensionMax?"maxHeight":"maxWidth";this.style[otherDimension]="";this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);// Focus the current collapse.
if(this.opened){this.focus()}},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();this._setTransitioning(!1)},_onTransitionEnd:function(event){if(Polymer.dom(event).rootTarget===this){this._transitionEnd()}},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});</script><script>(function(global){'use strict';if(!global.ApiElements){/**
   * @namespace ApiElements
   */global.ApiElements={}}if(!global.ApiElements.Amf){global.ApiElements.Amf={}}const ns={raml:{}};// RAML namespace
ns.raml.name="http://a.ml/";ns.raml.vocabularies={};ns.raml.vocabularies.name=ns.raml.name+"vocabularies/";ns.raml.vocabularies.document=ns.raml.vocabularies.name+"document#";ns.raml.vocabularies.http=ns.raml.vocabularies.name+"http#";ns.raml.vocabularies.security=ns.raml.vocabularies.name+"security#";ns.raml.vocabularies.shapes=ns.raml.vocabularies.name+"shapes#";ns.raml.vocabularies.data=ns.raml.vocabularies.name+"data#";ns.raml.vocabularies.docSourceMaps=ns.raml.vocabularies.name+"document-source-maps#";// W3 namespace
ns.w3={};ns.w3.name="http://www.w3.org/";ns.w3.hydra={};ns.w3.hydra.name=ns.w3.name+"ns/hydra/";ns.w3.hydra.core=ns.w3.hydra.name+"core#";ns.w3.xmlSchema=ns.w3.name+"2001/XMLSchema#";// w3 types
ns.w3.shacl={};ns.w3.shacl.name=ns.w3.name+"ns/shacl#";ns.w3.shacl.in=ns.w3.shacl.name+"in";ns.w3.shacl.defaultValueStr=ns.w3.shacl.name+"defaultValueStr";ns.w3.shacl.pattern=ns.w3.shacl.name+"pattern";ns.w3.shacl.minInclusive=ns.w3.shacl.name+"minInclusive";ns.w3.shacl.maxInclusive=ns.w3.shacl.name+"maxInclusive";ns.w3.shacl.multipleOf=ns.w3.shacl.name+"multipleOf";ns.w3.shacl.minLength=ns.w3.shacl.name+"minLength";ns.w3.shacl.maxLength=ns.w3.shacl.name+"maxLength";ns.w3.shacl.fileType=ns.w3.shacl.name+"fileType";ns.w3.shacl.shape=ns.w3.shacl.name+"Shape";// Hydra shortcuts
ns.w3.hydra.supportedOperation=ns.w3.hydra.core+"supportedOperation";// Schema org namespace
ns.schema={};ns.schema.name="http://schema.org/";ns.schema.schemaName=ns.schema.name+"name";ns.schema.desc=ns.schema.name+"description";ns.schema.doc=ns.schema.name+"documentation";ns.schema.webApi=ns.schema.name+"WebAPI";ns.schema.creativeWork=ns.schema.name+"CreativeWork";ns.schema.displayName=ns.schema.name+"displayName";ns.schema.title=ns.schema.name+"title";Object.freeze(ns.raml);Object.freeze(ns.raml.vocabularies);Object.freeze(ns.w3);Object.freeze(ns.w3.hydra);Object.freeze(ns.w3.shacl);Object.freeze(ns.schema);Object.freeze(ns);global.ApiElements.Amf.ns=ns;/**
 * Common functions used by AMF components to compute AMF values.
 *
 * ## Updating API's base URI
 *
 * (Only applies when using `_computeEndpointUri()` function)
 *
 * By default the component render the documentation as it is defined
 * in the AMF model. Sometimes, however, you may need to replace the base URI
 * of the API with something else. It is useful when the API does not
 * have base URI property defined (therefore this component render relative
 * paths instead of URIs) or when you want to manage different environments.
 *
 * To update base URI value either update `baseUri` property or use
 * `iron-meta` with key `ApiBaseUri`. First method is easier but the second
 * gives much more flexibility since it use a
 * [monostate pattern](http://wiki.c2.com/?MonostatePattern)
 * to manage base URI property.
 *
 * When the component constructs the funal URI for the endpoint it does the following:
 * - if `baseUri` is set it uses this value as a base uri for the endpoint
 * - else if `iron-meta` with key `ApiBaseUri` exists and contains a value
 * it uses it uses this value as a base uri for the endpoint
 * - else if `amfModel` is set then it computes base uri value from main
 * model document
 * Then it concatenates computed base URI with `endpoint`'s path property.
 *
 * @polymer
 * @mixinFunction
 * @memberof ApiElements
 */ApiElements.AmfHelperMixin=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class AHmixin extends base{static get properties(){return{/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:{type:Object},/**
         * A namespace for AMF model
         */ns:{type:Object,value:function(){return ns},readOnly:!0}}}/**
     * Returns compact model key for given value.
     * @param {String} property AMF orioginal property
     * @return {String} Compact model property name or the same value if
     * value not found in the context.
     */_getAmfKey(property){if(!property){return}let amf=this.amfModel;if(!amf||!property){return property}if(amf instanceof Array){amf=amf[0]}const ctx=amf["@context"];if(!ctx||!property){return property}property=property+"";const hashIndex=property.indexOf("#"),hashProperty=property.substr(0,hashIndex+1);for(let k in ctx){if(ctx.hasOwnProperty(k)){if(ctx[k]===property){return k}else if(-1===hashIndex&&0===property.indexOf(ctx[k])){const result=property.replace(ctx[k],k+":");return result}else if(ctx[k]===hashProperty){const result=k+":"+property.substr(hashIndex+1);return result}}}return property}/**
     * Ensures that the model is AMF object.
     *
     * @param {Object|Array} amf AMF json/ld model
     * @return {Object|undefined} API spec
     */_ensureAmfModel(amf){if(!amf){return}if(amf instanceof Array){amf=amf[0]}if(this._hasType(amf,ns.raml.vocabularies.document+"Document")){return amf}}/**
     * Ensures that the value is an array.
     * It returns undefined when there's no value.
     * It returns the same array if the value is already an array.
     * It returns new array of the item is not an array.
     *
     * @param {Array|any} value An item to test
     * @return {Array|undefined}
     */_ensureArray(value){if(!value){return}if(value instanceof Array){return value}return[value]}/**
     * Gets a signle scalar value from a model.
     * @param {Object} model Amf model to extract the value from.
     * @param {String} key Model key to search for the value
     * @return {any} Value for key
     */_getValue(model,key){key=this._getAmfKey(key);let data=model&&model[key];if(!data){// This includes "undefined", "false", "null" and "0"
return data}if(data instanceof Array){data=data[0]}if(!data){return}const type=typeof data;if(-1!==["string","number","boolean","undefined"].indexOf(type)){return data}return data["@value"]}/**
     * Gets values from a model as an array of `@value` properties.
     * @param {Object} model Amf model to extract the value from.
     * @param {String} key Model key to search for the value
     * @return {Array<any>} Value for key
     */_getValueArray(model,key){key=this._getAmfKey(key);let data=model&&this._ensureArray(model[key]);if(!data||!(data instanceof Array)){return}return data.map(item=>item["@value"]||item)}/**
     * Checks if a model has a type.
     * @param {Object} model Model to test
     * @param {String} type Type name
     * @return {Boolean} True if model has a type.
     */_hasType(model,type){const types=this._ensureArray(model&&model["@type"]);if(!types||!types.length){return(/* eat */!1)}const key=this._getAmfKey(type);for(let i=0;i<types.length;i++){if(types[i]===key){return!0}}return!1}/**
     * Checks if a shape has a property.
     * @param {?Object} shape The shape to test
     * @param {?String} key Property name to test
     * @return {Boolean}
     */_hasProperty(shape,key){key=this._getAmfKey(key);return!!(shape&&key&&key in shape)}/**
     * Computes array value of a property in a model (shape).
     *
     * @param {Object} shape AMF shape object
     * @param {String} key Property name
     * @return {Array<any>|undefined}
     */_computePropertyArray(shape,key){if(!shape){return}key=this._getAmfKey(key);let data=this._ensureArray(shape&&shape[key]);if(!data||!(data instanceof Array)){return}return data}/**
     * Computes a value of a property in a model (shape).
     * It takes first value of a property, if exists.
     *
     * @param {Object} shape AMF shape object
     * @param {String} key Property name
     * @return {any|undefined}
     */_computePropertyObject(shape,key){key=this._getAmfKey(key);const data=this._computePropertyArray(shape,key);return data&&data[0]}/**
     * Tests if a passed argumet exists.
     *
     * @param {String|Object|Number} value A value to test
     * @return {Boolean}
     */_computeHasStringValue(value){return!!value||0===value}/**
     * Computes if passed argument is an array and has a value.
     * It does not check for type or value of the array items.
     * @param {Array} value Value to test
     * @return {Boolean}
     */_computeHasArrayValue(value){return!!(value instanceof Array&&value.length)}/**
     * Computes description for a shape.
     * @param {Object} shape AMF shape
     * @return {String} Description value.
     */_computeDescription(shape){return this._getValue(shape,ns.schema.desc)}_computeHeaders(shape){return this._computePropertyArray(shape,ns.raml.vocabularies.http+"header")}_computeQueryParameters(shape){return this._computePropertyArray(shape,ns.raml.vocabularies.http+"parameter")}_computeResponses(shape){return this._computePropertyArray(shape,ns.w3.hydra.core+"response")}/**
     * Computes value for `serverVariables` property.
     *
     * @param {Object} server AMF API model for Server.
     * @return {Array<Object>|undefined} Variables if defined.
     */_computeServerVariables(server){return this._computePropertyArray(server,ns.raml.vocabularies.http+"variable")}/**
     * Computes value for `endpointVariables` property.
     *
     * @param {Object} endpoint Endpoint model
     * @return {Array<Object>|undefined} Parameters if defined.
     */_computeEndpointVariables(endpoint){return this._computeQueryParameters(endpoint)}/**
     * Computes value for the `payload` property
     *
     * @param {Object} expects Current value of `expects` property.
     * @return {Array<Object>|undefined} Payload model if defined.
     */_computePayload(expects){return this._computePropertyArray(expects,ns.raml.vocabularies.http+"payload")}/**
     * Computes value for `returns` property
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {Array<Object>|undefined}
     */_computeReturns(method){return this._computePropertyArray(method,ns.w3.hydra.core+"returns")}/**
     * Computes value for `security` property
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {Array<Object>|undefined}
     */_computeSecurity(method){return this._computePropertyArray(method,ns.raml.vocabularies.security+"security")}/**
     * Computes value for `hasCustomProperties` property.
     *
     * @param {Object} shape AMF `supportedOperation` model
     * @return {Boolean}
     */_computeHasCustomProperties(shape){return this._hasProperty(shape,ns.raml.vocabularies.document+"customDomainProperties")}/**
     * Computes API version from the AMF model.
     *
     * @param {Object|Array<Object>} amfModel
     * @return {String|undefined}
     */_computeApiVersion(amfModel){const api=this._computeWebApi(amfModel);if(!api){return}return this._getValue(api,ns.schema.name+"version")}/**
     * Computes model's `encodes` property.
     *
     * @param {?Object} model AMF data model
     * @return {Array<Object>} List of encodes
     */_computeEncodes(model){if(!model){return}if(model instanceof Array){model=model[0]}const key=this._getAmfKey(ns.raml.vocabularies.document+"encodes"),data=model[key];if(data){return data instanceof Array?data[0]:data}}/**
     * Computes list of declarations in the AMF api model.
     *
     * @param {Array|Object} model AMF json/ld model for an API
     * @return {Array<Object>} List of declarations
     */_computeDeclares(model){if(!model){return}if(model instanceof Array){model=model[0]}if(!model){return}const key=this._getAmfKey(ns.raml.vocabularies.document+"declares"),data=this._ensureArray(model[key]);return data instanceof Array?data:void 0}/**
     * Computes list of references in the AMF api model.
     *
     * @param {Array|Object} model AMF json/ld model for an API
     * @return {Array<Object>} List of declarations
     */_computeReferences(model){if(!model){return}if(model instanceof Array){model=model[0]}if(!model){return}const key=this._getAmfKey(ns.raml.vocabularies.document+"references"),data=this._ensureArray(model[key]);return data instanceof Array?data:void 0}/**
     * Computes AMF's `http://schema.org/WebAPI` model
     *
     * @param {Array|Object} model AMF json/ld model for an API
     * @return {Object} Web API declaration.
     */_computeWebApi(model){const enc=this._computeEncodes(model);if(!enc){return}if(this._hasType(enc,ns.schema.webApi)){return enc}}/**
     * Computes value for `server` property that is later used with other computations.
     *
     * @param {Array|Object} model AMF model for an API
     * @return {Object} The server model
     */_computeServer(model){const api=this._computeWebApi(model);if(!api){return}const key=this._getAmfKey(ns.raml.vocabularies.http+"server"),srv=this._ensureArray(api[key]);return srv?srv[0]:void 0}/**
     * Computes endpoint's URI based on `amfModel` and `endpoint` models.
     *
     * @param {Object} server Server model of AMF API.
     * @param {Object} endpoint Endpoint model
     * @param {?String} baseUri Current value of `baseUri` property
     * @param {?String} version API current version
     * @return {String} Endpoint's URI
     */_computeEndpointUri(server,endpoint,baseUri,version){let base=this._getBaseUri(baseUri,server)||"";if(base&&"/"===base[base.length-1]){base=base.substr(0,base.length-1)}base=this._ensureUrlScheme(base);const path=this._getValue(endpoint,ns.raml.vocabularies.http+"path");let result=base+(path||"");if(version&&result){result=result.replace("{version}",version)}return result}/**
     * Computes base URI value from either `baseUri`, `iron-meta` with
     * `ApiBaseUri` key or `amfModel` value (in this order).
     *
     * @param {String} baseUri Value of `baseUri` property
     * @param {Object} server AMF API model for Server.
     * @param {?Array<String>} protocols List of supported protocols
     * @return {String} Base uri value. Can be empty string.
     */_getBaseUri(baseUri,server,protocols){if(baseUri){return baseUri}if(Polymer.IronMeta){let value=new Polymer.IronMeta({key:"ApiBaseUri"}).value;if(value){return value}}return this._getAmfBaseUri(server,protocols)||""}/**
     * Computes base URI from AMF model.
     *
     * @param {Object} server AMF API model for Server.
     * @param {?Array<String>} protocols Listy of supporte dprotocols. If not
     * provided and required to compute the url it uses `amfModel` to compute
     * protocols
     * @return {String|undefined} Base uri value if exists.
     */_getAmfBaseUri(server,protocols){let value=this._getValue(server,ns.raml.vocabularies.http+"url");value=this._ensureUrlScheme(value,protocols);return value}/**
     * A function that makes sure that the URL has a scheme definition.
     * If no supported protocols information is available it assumes `http`.
     *
     * @param {String} value A url value
     * @param {?Array<String>} protocols List of supported by the API protocols
     * An array of string like: `['HTTP', 'HTTPS']`. It lowercase the value.
     * If not set it tries to read supported protocols value from `amfModel`
     * property.
     * @return {String} Url with scheme.
     */_ensureUrlScheme(value,protocols){if(value&&"string"===typeof value){if(0!==value.indexOf("http")){if(!protocols||!protocols.length){protocols=this._computeProtocols(this.amfModel)}if(protocols&&protocols.length){value=protocols[0].toLowerCase()+"://"+value}else{value="http://"+value}}}return value}/**
     * Computes supported protocols by the API.
     *
     * @param {Object|Array} model AMF data model
     * @return {Array<String>|undefined}
     */_computeProtocols(model){const api=this._computeWebApi(model);if(!api){return}return this._getValueArray(api,ns.raml.vocabularies.http+"scheme")}/**
     * Computes value for the `expects` property.
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {Object}
     */_computeExpects(method){if(this._hasType(method,ns.w3.hydra.core+"Operation")){const key=this._getAmfKey(ns.w3.hydra.core+"expects"),expects=this._ensureArray(method[key]);if(expects){return expects instanceof Array?expects[0]:expects}}}/**
     * Tries to find an example value (whether it's default value or from an
     * example) to put it into snippet's values.
     *
     * @param {Object} item A http://raml.org/vocabularies/http#Parameter property
     * @return {String|undefined}
     */_computePropertyValue(item){const skey=this._getAmfKey(ns.raml.vocabularies.http+"schema");let schema=item&&item[skey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(schema,ns.w3.shacl.name+"defaultValue");if(!value){const examplesKey=this._getAmfKey(ns.raml.vocabularies.document+"examples");let example=schema[examplesKey];if(example){if(example instanceof Array){example=example[0]}value=this._getValue(example,ns.w3.shacl.name+"raw")}}return value}/**
     * Computes list of endpoints from a WebApi model.
     * @param {Object} webApi
     * @return {Array} Always returns an array of endpoints.
     */_computeEndpoints(webApi){if(!webApi){return[]}const key=this._getAmfKey(ns.raml.vocabularies.http+"endpoint");return this._ensureArray(webApi[key])}/**
     * Computes model for an endpoint documentation.
     *
     * @param {Object} webApi Current value of `webApi` property
     * @param {String} id Selected shape ID
     * @return {Object} An endponit definition
     */_computeEndpointModel(webApi,id){const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}return endpoints.find(item=>item["@id"]===id)}/**
     * Computes model for an endpoint documentation using it's path.
     *
     * @param {Object} webApi Current value of `webApi` property
     * @param {String} path Endpoint path
     * @return {Object|undefined} An endponit definition
     */_computeEndpointByPath(webApi,path){if(!path||!webApi){return}const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){const ePath=this._getValue(endpoints[i],this.ns.raml.vocabularies.http+"path");if(ePath===path){return endpoints[i]}}}/**
     * Computes method for the method documentation.
     *
     * @param {Object} webApi Current value of `webApi` property
     * @param {String} selected Selected shape
     * @return {Object} A method definition
     */_computeMethodModel(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}return methods.find(item=>item["@id"]===selected)}/**
     * Computes list of operations in an endpoint
     * @param {Object} webApi The WebApi AMF model
     * @param {String} id Endpoint ID
     * @return {Array<Object>} List of SupportedOperation objects
     */_computeOperations(webApi,id){const endpoint=this._computeEndpointModel(webApi,id);if(!endpoint){return[]}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);return this._ensureArray(endpoint[opKey])}/**
     * Computes an endpoint for a method.
     * @param {Object} webApi The WebApi AMF model
     * @param {String} methodId Method id
     * @return {Object|undefined} An endpoint model of undefined.
     */_computeMethodEndpoint(webApi,methodId){if(!webApi||!methodId){return}const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);for(let i=0,len=endpoints.length;i<len;i++){const endpoint=endpoints[i];let methods=endpoint[opKey];if(!methods){continue}if(!(methods instanceof Array)){methods=[methods]}for(let j=0,jLen=methods.length;j<jLen;j++){if(methods[j]["@id"]===methodId){return endpoint}}}}/**
     * Computes a list of methods for an endpoint that contains a method with
     * given id.
     *
     * @param {Object} webApi WebApi model
     * @param {String} methodId Method id.
     * @return {Array<Object>|undefined} A list of sibling methods or undefined.
     */__computeMethodsListForMethod(webApi,methodId){const endpoint=this._computeMethodEndpoint(webApi,methodId);if(!endpoint){return}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);return this._ensureArray(endpoint[opKey])}/**
     * Computes a type documentation model.
     *
     * @param {Array} declares Current value of `declares` property
     * @param {?Array} references Current value of `references` property
     * @param {String} selected Selected shape
     * @return {Object} A type definition
     */_computeType(declares,references,selected){if(!declares||!selected){return}let type=declares.find(item=>item["@id"]===selected);if(!type&&references&&references.length){for(let i=0,len=references.length;i<len;i++){if(!this._hasType(references[i],ns.raml.vocabularies.document+"Module")){continue}type=this._computeReferenceType(references[i],selected);if(type){break}}}return type}/**
     * Computes a type model from a reference (library for example).
     * @param {Object|Array} reference AMF model for a reference to extract the data from
     * @param {String} selected Node ID to look for
     * @return {Object|undefined} Type definition or undefined if not found.
     */_computeReferenceType(reference,selected){const declare=this._computeDeclares(reference);if(!declare){return}let result=declare.find(item=>{if(item instanceof Array){item=item[0]}return item["@id"]===selected});if(result instanceof Array){result=result[0]}return this._resolve(result)}/**
     * Computes model for selected security definition.
     *
     * @param {Array} declares Current value of `declares` property
     * @param {String} selected Selected shape
     * @return {Object} A security definition
     */_computeSecurityModel(declares,selected){if(!declares||!selected){return}return declares.find(item=>item["@id"]===selected)}/**
     * Computes a documentation model.
     *
     * @param {Object} webApi Current value of `webApi` property
     * @param {String} selected Selected shape
     * @return {Object} A method definition
     */_computeDocument(webApi,selected){if(!webApi||!selected){return}const key=this._getAmfKey(ns.schema.doc),docs=this._ensureArray(webApi[key]);return docs&&docs.find(item=>item["@id"]===selected)}/**
     * Resolves a reference to an external fragment.
     *
     * @param {Object} shape A shape to resolve
     * @return {Object} Resolved shape.
     */_resolve(shape){const amf=this.amfModel;if("object"!==typeof shape||shape instanceof Array||!amf||shape.__apicResolved){return shape}let refKey=this._getAmfKey(ns.raml.vocabularies.document+"link-target"),refValue=this._ensureArray(shape[refKey]),refData;if(refValue){const refKey=refValue[0]["@id"];if(refKey===shape["@id"]){// recursive shape.
shape.__apicResolved=!0;return shape}refData=this._getLinkTarget(amf,refKey)}else{refKey=this._getAmfKey(ns.raml.vocabularies.document+"reference-id");refValue=this._ensureArray(shape[refKey]);if(refValue){const refKey=refValue[0]["@id"];if(refKey===shape["@id"]){// recursive shape.
shape.__apicResolved=!0;return shape}refData=this._getReferenceId(amf,refKey)}}if(!refData){this._resolveRecursive(shape);shape.__apicResolved=!0;return shape}const copy=Object.assign({},refData);delete copy["@id"];const types=copy["@type"];if(types){if(shape["@type"]){shape["@type"]=shape["@type"].concat(types)}else{shape["@type"]=types}delete copy["@type"]}Object.assign(shape,copy);shape.__apicResolved=!0;this._resolveRecursive(shape);return shape}_getLinkTarget(amf,id){if(!amf||!id){return}const declares=this._computeDeclares(amf);if(!declares){return}let target;for(let i=0;i<declares.length;i++){const _ref=declares[i];if(_ref&&_ref["@id"]===id){target=_ref;break}}if(!target){return}// Declaration may contain references
target=this._resolve(target);return target}_getReferenceId(amf,id){if(!amf||!id){return}const refs=this._computeReferences(amf);if(!refs){return}for(let i=0;i<refs.length;i++){const _ref=refs[i],enc=this._computeEncodes(_ref);if(enc){if(enc["@id"]===id){return enc}}}}_resolveRecursive(shape){Object.keys(shape).forEach(key=>{const currentShape=shape[key];if(currentShape instanceof Array){for(let i=0,len=currentShape.length;i<len;i++){currentShape[i]=this._resolve(currentShape[i])}}else if("object"===typeof currentShape){shape[key]=this._resolve(currentShape)}})}/**
     * Gets string value for an example data model.
     *
     * @param {Object} item Example item model
     * @param {Boolean} isJson If set it checks if the `raw` value is valid JSON.
     * If it isn't then it parses structured value.
     * @return {String}
     */_getExampleValue(item,isJson){item=this._resolve(item);let data=this._getValue(item,ns.w3.shacl.name+"raw");// This suppose to be a JSON data so lets test it.
if(!data||isJson&&!("{"===data[0]||"["===data[0])){const key=this._getAmfKey(ns.raml.vocabularies.document+"structuredValue"),structured=this._ensureArray(item[key]);if(structured){data=this._computeExampleFromStructuredValue(structured[0]);data=JSON.stringify(data,null,2)}}return data}/**
     * Computes an example from example structured value.
     *
     * @param {Object} model `structuredValue` item model.
     * @return {Object|Array} Javascript object or array with structured value.
     */_computeExampleFromStructuredValue(model){if(this._hasType(model,ns.raml.vocabularies.data+"Scalar")){return this._computeStructuredExampleValue(this._getValue(model,ns.raml.vocabularies.data+"value"))}const isObject=this._hasType(model,ns.raml.vocabularies.data+"Object"),result=isObject?{}:[],modelKeys=["@id","@type"];Object.keys(model).forEach(key=>{if(-1!==modelKeys.indexOf(key)){return}const value=this._computeStructuredExampleValue(model[key][0]);if(isObject){const name=key.substr(key.indexOf("#")+1);result[name]=value}else{result.push(value)}});return result}/**
     * Computes value with propert data type for a structured example.
     * @param {Object} model Structured example item model.
     * @return {String|Boolean|Number} Value for the example.
     */_computeStructuredExampleValue(model){if(!model){return}if("string"===typeof model){return model}if(this._hasType(model,ns.raml.vocabularies.data+"Scalar")){const key=this._getAmfKey(ns.raml.vocabularies.data+"value"),mValue=this._ensureArray(model[key])[0],type=mValue["@type"],value=mValue["@value"];switch(type){case ns.w3.xmlSchema+"boolean":return"true"===value?!0:!1;case ns.w3.xmlSchema+"integer":case ns.w3.xmlSchema+"long":case ns.w3.xmlSchema+"double":case ns.w3.xmlSchema+"float":case ns.raml.vocabularies.shapes+"number":return+value;default:return value;}}return this._computeExampleFromStructuredValue(model)}}return AHmixin})})(window);</script><dom-module id="http-method-label-common-styles" assetpath="bower_components/http-method-label/"><template><style>:host{--method-label-default-background-color:rgba(128, 128, 128, 0.12);--method-label-default-color:rgb(128, 128, 128);--method-label-common-style:{display:inline-block;margin-right:8px;margin-bottom:8px;padding:var(--http-method-label-padding, 2px 6px);background-color:var(--http-method-label-background-color, var(--method-label-default-background-color));color:var(--http-method-label-color, var(--method-label-default-color));text-transform:uppercase;border-radius:var(--http-method-label-border-radius, 3px);font-weight:var(--http-method-label-font-weigth, 400);font:inherit;font-size:inherit;@apply --http-method-label;};--method-label-get:{background-color:var(--http-method-label-get-background-color, rgba(0, 128, 0, 0.12));color:var(--http-method-label-get-color, rgb(0, 128, 0));@apply --http-method-label-get;};--method-label-post:{background-color:var(--http-method-label-post-background-color, rgba(33, 150, 243, 0.12));color:var(--http-method-label-post-color, rgb(33, 150, 243));@apply --http-method-label-post;};--method-label-put:{background-color:var(--http-method-label-put-background-color, rgba(255, 165, 0, 0.12));color:var(--http-method-label-put-color, rgb(255, 165, 0));@apply --http-method-label-put;};--method-label-delete:{background-color:var(--http-method-label-delete-background-color, rgba(244, 67, 54, 0.12));color:var(--http-method-label-delete-color, rgb(244, 67, 54));@apply --http-method-label-delete;};--method-label-patch:{background-color:var(--http-method-label-patch-background-color, rgba(156, 39, 176, 0.12));color:var(--http-method-label-patch-color, rgb(156, 39, 176));@apply --http-method-label-patch;};--method-label-options:{background-color:var(--http-method-label-options-background-color, var(--method-label-default-background-color));color:var(--http-method-label-options-color, var(--method-label-default-color));@apply --http-method-label-options;};--method-label-head:{background-color:var(--http-method-label-head-background-color, var(--method-label-default-background-color));color:var(--http-method-label-head-color, var(--method-label-default-color));@apply --http-method-label-head;};--method-label-trace:{background-color:var(--http-method-label-trace-background-color, var(--method-label-default-background-color));color:var(--http-method-label-trace-color, var(--method-label-default-color));@apply --http-method-label-trace;};--method-label-connect:{background-color:var(--http-method-label-connect-background-color, var(--method-label-default-background-color));color:var(--http-method-label-connect-color, var(--method-label-default-color));@apply --http-method-label-connect;};}.method-label{@apply --method-label-common-style;}.method-label[data-method="get"],
    .method-label[data-method="GET"]{@apply --method-label-get;}.method-label[data-method="post"],
    .method-label[data-method="POST"]{@apply --method-label-post;}.method-label[data-method="put"],
    .method-label[data-method="PUT"]{@apply --method-label-put;}.method-label[data-method="delete"],
    .method-label[data-method="DELETE"]{@apply --method-label-delete;}.method-label[data-method="patch"],
    .method-label[data-method="PATCH"]{@apply --method-label-patch;}.method-label[data-method="options"],
    .method-label[data-method="OPTIONS"]{@apply --method-label-options;}.method-label[data-method="head"],
    .method-label[data-method="HEAD"]{@apply --method-label-head;}.method-label[data-method="trace"],
    .method-label[data-method="TRACE"]{@apply --method-label-trace;}.method-label[data-method="connect"],
    .method-label[data-method="CONNECT"]{@apply --method-label-connect;}</style></template></dom-module><dom-module id="api-navigation" assetpath="bower_components/api-navigation/"><template><style include="http-method-label-common-styles"></style><style>:host{display:block;background-color:inherit;color:inherit;overflow:auto;position:relative;@apply --arc-font-body1;@apply --api-navigation;}h3,
    .list-item.summary{@apply --arc-font-common-base;font-size:var(--api-navigation-list-section-font-size, 16px);font-weight:500;line-height:24px;color:var(--api-navigation-header-color, rgba(0, 0, 0, 0.84));@apply --layout-flex;padding:0;margin:0;}.list-item.summary{padding:12px 16px;@apply --api-navigation-summary-label;}.list-item.endpoint{font-weight:500;font-size:var(--api-navigation-endpoint-font-size, 15px);user-select:none;font-weight:normal;@apply --layout-horizontal;}.list-item.endpoint:first-of-type{margin-top:0px;}.path-details{@apply --layout-flex;}.path-name,
    .endpoint-name{overflow:hidden;text-overflow:ellipsis;}.path-name{font-size:var(--api-navigation-path-label-font-size, 13px);color:var(--api-navigation-path-label-color, #616161);}*[hidden]{display:none !important;}.children{background-color:inherit;}.section-title{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;padding:var(--api-navigation-section-title-padding, 4px 16px);background-color:var(--api-navigation-section-title-background-color, inherit);user-select:none;min-height:40px;}.list-item{display:block;position:relative;min-height:var(--api-navigation-list-item-min-height, 40px);padding:var(--api-navigation-list-item-padding, 4px 16px);border:none;outline:none;background-color:inherit;width:100%;text-align:left;box-sizing:border-box;cursor:pointer;word-break:break-all;color:var(--api-navigation-list-item-color, rgba(0, 0, 0, 0.84));@apply --layout-horizontal;@apply --layout-center;@apply --api-navigation-list-item;}.list-item.iron-selected{font-weight:var(--api-navigation-list-item-selected-weight, bold);background-color:var(--api-navigation-list-item-selected-background-color, var(--accent-color));color:var(--api-navigation-list-item-selected-color, #fff);@apply --api-navigation-list-item-selected;}.list-item.passive-selected{font-weight:var(--api-navigation-list-item-selected-weight, bold);@apply --api-navigation-list-item-selected-passive;}.list-item[disabled]{color:var(--api-navigation-list-item-disabled-color, var(--disabled-text-color));@apply --api-navigation-list-item-disabled;}.list-item:focus{position:relative;outline:0;@apply --api-navigation-list-item-focused;}.list-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --api-navigation-list-item-focused-before;}.list-item:hover:not(.iron-selected){@apply --api-navigation-list-item-hovered;}.toggle-button,
    .endpoint-toggle-button{transform:rotateZ(0deg);transition:color 0.25s ease-in-out, transform 0.3s ease-in-out;}.toggle-button{color:var(--api-navigation-toggle-icon-color, rgba(0, 0, 0, 0.74));@apply --api-navigation-toggle-icon;}.endpoint-toggle-button{color:var(--api-navigation-endpoint-toggle-icon-color, var(--api-navigation-toggle-icon-color, rgba(0, 0, 0, 0.74)));transform:rotateZ(0deg);transition:color 0.25s ease-in-out, transform 0.3s ease-in-out;@apply --api-navigation-toggle-icon;@apply --api-navigation-endpoint-toggle-icon;}.toggle-button:hover{color:var(--api-navigation-toggle-icon-hover-color, var(--secondary-button-color, rgba(0, 0, 0, 0.88)));}.endpoint-toggle-button:hover{color:var(--api-navigation-endpoint-toggle-icon-hover-color, var(--api-navigation-toggle-icon-hover-color, var(--secondary-button-color, rgba(0, 0, 0, 0.88))));}[data-opened] .toggle-button,
    [endpoint-opened] .endpoint-toggle-button{transform:rotateZ(-180deg);}.method-label{margin-bottom:0;white-space:nowrap;}.list-item.iron-selected .method-label[data-method]{color:var(--method-display-selected-color, #fff);}.operation{padding-left:var(--api-navigation-operation-item-padding-left, 24px);font-size:var(--api-navigation-operation-font-size, 14px);}.operation-collapse{@apply --api-navigation-operation-collapse;}[endpoint-opened]{background-color:var(--api-navigation-operation-endpoint-opened-background-color, inherit);}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[_renderSummary]]"><section class="summary"><div class="list-item summary" role="option" tabindex="0" data-api-id="summary" data-shape="summary" on-click="_itemClickHandler">[[summaryLabel]]</div></section></template><template is="dom-if" if="[[hasEndpoints]]"><section class="endpoints" data-opened$="[[endpointsOpened]]"><div class="section-title" data-section="endpoints" on-click="_toggleSection" title="Toggle endpoints list"><h3>Endpoints</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[endpointsOpened]]"><div class="children"><template is="dom-repeat" items="[[endpoints]]"><div class="list-item endpoint" hidden$="[[item.hidden]]" data-endpoint-id$="[[item.id]]" data-endpoint-path$="[[item.path]]" on-click="_toggleEndpoint" title="Toggle endpoint documentation" style$="[[_computeEndpointPadding(item.indent, indentSize)]]"><div class="path-details"><div class="endpoint-name">[[item.label]]</div><template is="dom-if" if="[[_computeRenderParth(allowPaths, item.renderPath)]]"><div class="path-name">[[item.path]]</div></template></div><paper-icon-button class="endpoint-toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse class="operation-collapse" hidden$="[[item.hidden]]" data-api-id$="[[item.id]]"><div class="list-item operation" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="endpoint" on-click="_itemClickHandler" on-keyup="_spaceUpHandler" on-keydown="_spaceDownHandler" style$="[[_computeMethodPadding(item.indent, indentSize)]]">Overview</div><template is="dom-repeat" items="[[item.methods]]" data-query="" as="methodItem" on-rendered-item-count-changed="_methodsCountChanged" filter="_methodFilter" observe="method label"><div class="list-item operation" role="option" tabindex="0" data-api-id$="[[methodItem.id]]" data-parent-id$="[[item.id]]" data-shape="method" on-click="_itemClickHandler" on-keyup="_spaceUpHandler" on-keydown="_spaceDownHandler" style$="[[_computeMethodPadding(item.indent, indentSize)]]"><span class="method-label" data-method$="[[methodItem.method]]">[[methodItem.method]]</span> [[methodItem.label]]</div></template></iron-collapse></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasDocs]]"><section class="documentation" data-opened$="[[docsOpened]]"><div class="section-title" data-section="docs" on-click="_toggleSection" title="Toggle documentation list"><h3>Documentation</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]" on-click="_itemClickHandler"></paper-icon-button></div><iron-collapse opened="[[docsOpened]]"><div class="children"><template is="dom-repeat" items="[[docs]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="documentation" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasTypes]]"><section class="types" data-opened$="[[typesOpened]]"><div class="section-title" data-section="types" on-click="_toggleSection" title="Toggle types list"><h3>Types</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[typesOpened]]"><div class="children"><template is="dom-repeat" items="[[types]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="type" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasSecurity]]"><section class="security" data-opened$="[[securityOpened]]"><div class="section-title" data-section="security" on-click="_toggleSection" title="Toggle security list"><h3>Security</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[securityOpened]]"><div class="children"><template is="dom-repeat" items="[[security]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="security" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template></template><script>/* eslint-disable max-len */ /**
     * `api-navigation`
     * A navigation for an API spec using AMF model.
     *
     * This element is to replace deprecated `raml-path-selector`.
     * It is lightweight and much less complex in comparision.
     *
     * The element works with [AMF](https://github.com/mulesoft/amf)
     * json/ld model. When the model is set it computes list of documentation
     * nodes, types, endpoints, mathods and security schemas.
     * As a result user can select any of the items in the UI and the application
     * is informed about user choice via custom event.
     *
     * The selection is a selected API shape `@id`. The application is responsible
     * for computing the model selected by the user.
     *
     * AMF model can be passed directly by setting `amfModel` property or by
     * setting `aware` property and by use `raml-aware` element. It allows
     * to communicate AMF data without having access to the element due to
     * shadow DOM restrictions.
     *
     * ```html
     * <raml-aware scope="api-console"></raml-aware>
     * <api-navigation aware="api-console"></api-navigation>
     * ```
     *
     * Once the `raml-aware` element receives some that they are instantly
     * transfered to `api-navigation`.
     *
     * Note, this element does not contain polyfills for Array platform features.
     * Use `arc-polyfills` to add support for IE and Safari 9.
     *
     * ## Passive navigation
     *
     * Passive navigation means that a navigation event occured but it wasn't
     * invoked by intentional user interaction. For example
     * `api-endpoint-documentation` component renders list of documentations for
     * HTTP methods. While scrolling through the list navigation context
     * changes (user reads documentation of a method) but the navigation never
     * was caused by user intentional interaction.
     * This event, annotated with `passive: true` property in the detail object
     * prohibits other element from taking a navigation action but some
     * may reflect the change in the UI.
     *
     * ## Styling
     *
     * Custom property | Description | Default
     * ----------------|-------------|----------
     * `--api-navigation` | Mixin applied to this element | `{}`
     * `--arc-font-common-base` | Mixin applied to section headers. Theme mixin | `{}`
     * `--arc-font-font1` | Mixin applied to the element. Theme mixin | `{}`
     * `--api-navigation-header-color` | Color of section title | `rgba(0, 0, 0, 0.84)`
     * `--api-navigation-section-title-background-color` | Background color of the section title | `inherit`
     * `--api-navigation-list-item-min-height` | Minimum heigtht of menu items. Note that each item has top and bottom padding set to 4px which cobines to default 48px. | `40px`
     * `--api-navigation-list-item-color` | Color of the menu items | `rgba(0, 0, 0, 0.84)`
     * `--api-navigation-list-item` | Mixin applied to the menu items | `{}`
     * `--api-navigation-list-item-selected-weight` | Font weight of selected menu item | `bold`
     * `--api-navigation-list-item-selected-background-color` | Background color of selected menu item | `--accent-color`
     * `--api-navigation-list-item-selected-color` | Color of selected menu item | `#fff`
     * `--api-navigation-list-item-selected` | Mixin applied to the selected item | `{}`
     * `--api-navigation-list-item-disabled-color` | Color of disabled menu item. Currently not in use. | `--disabled-text-color`
     * `--api-navigation-list-item-disabled` | Mixin applied to disabled menu item. Currently not in use. | `{}`
     * `--api-navigation-list-item-focused` |  Mixin applied to focused menu item. | `{}`
     * `--api-navigation-list-item-focused-before` | Mixin applied to the `:before` pseudo-element of focused item | `{}`
     * `--api-navigation-list-item-hovered` | Mixin applied to menu item when hovering and not focused. Note, you should not rely of hover states | `{}`
     * `--api-navigation-toggle-icon-color` | Color of the toggle button next to section title | `rgba(0, 0, 0, 0.74)`
     * `--api-navigation-toggle-icon-hover-color` | Color of the toggle button next to section title when hovering. | `--secondary-button-color` or `rgba(0, 0, 0, 0.88)`
     * `--api-navigation-endpoint-toggle-icon-color` | Colot of endpoint toggle button | `--api-navigation-toggle-icon-color` or `rgba(0, 0, 0, 0.74)`
     * `--api-navigation-endpoint-toggle-icon` | Mixin applied to endpoint toggle icon | `{}`
     * `--method-display-get-color` | Font color of the GET method label box | `rgb(0, 128, 0)`
     * `--method-display-post-color` | Font color of the POST method label box | `rgb(33, 150, 243)`
     * `--method-display-put-color` | Font color of the PUT method label box | `rgb(255, 165, 0)`
     * `--method-display-delete-color` | Font color of the DELETE method label box | `rgb(244, 67, 54)`
     * `--method-display-patch-color` | Font color of the PATCH method label box | `rgb(156, 39, 176)`
     * `--api-navigation-operation-item-padding-left` | Padding left of operation (method) label under endpoint | `20px`
     * `--api-navigation-operation-collapse` | Mixin applied to operation list collapsable element | ``
     * `--api-navigation-list-section-font-size` | Font size of toggable section label | `16px`
     * `--api-navigation-endpoint-font-size` | Font size applied to endpoint label | `15px`
     * `--api-navigation-operation-font-size` | Font size of operation (HTTP method) label | `14px`
     * `--api-navigation-summary-label` | Mixin applied top the summary label | `{}`
     * `--api-navigation-list-item-padding` | Padding of list a item | `4px 16px`
     * `--api-navigation-toggle-icon` | Mixin applied to toggle icon | `{}`
     * `--api-navigation-list-item-selected-passive` | Mixin applied to an item selected via "passive" navigation event" | `{}`
     * `--api-navigation-method-label-color` | Color of the HTTP method label | `#000`
     * `--api-navigation-method-label-background-color` | Background color of the HTTP method label | `transparent`
     * `--api-navigation-method-label-border-radius` | Border radius of HTTP method label | `3px`
     * `--method-display-font-weigth` | Font weight of HTTP label | `400`
     * `--method-label-VERB-background-color` | Background color of HTTP method label. Possible verbs are: `get`, `post`, `put`, `delete`, `patch` | `vary`
     * `--method-label-VERB-color` | Color of HTTP method label. Possible verbs are: `get`, `post`, `put`, `delete`, `patch` | `vary`
     * `--api-navigation-operation-endpoint-opened-background-color` | Background color of opened methods list | `inherit`
     * `--api-navigation-path-label-font-size` | Path label font size | `13px`
     * `--api-navigation-path-label-color` | Path label font color | `#616161`
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     * @memberof ApiElements
     * @appliesMixin ApiElements.AmfHelperMixin
     */class ApiNavigation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-navigation"}static get properties(){return{/**
           * `raml-aware` scope property to use.
           */aware:String,/**
           * A model `@id` of selected documentation part.
           * Special case is for `summary` view. It's not part of an API
           * but most applications has some kins of summary view for the
           * API.
           */selected:{type:String,notify:!0,observer:"_selectedChangd"},/**
           * Type of the selected item.
           * One of `documentation`, `type`, `security`, `endpoint`, `method`
           * or `summary`.
           *
           * This property is set after `selected` property.
           */selectedType:{type:String,notify:!0},/**
           * If set it renders `API summary` menu option.
           * It will allow to set `selected` and `selectedType` to `summary`
           * when this option is set.
           */summary:Boolean,/**
           * A label for the `summary` section.
           */summaryLabel:{type:String,value:"Summary"},/**
           * Computed list of documentatoin items in the API.
           *
           * @type {Array<Object>}
           */docs:{type:Array,readOnly:!0},/**
           * Computed value, true when `docs` property is set with values
           *
           * @type {Object}
           */hasDocs:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(docs)"},/**
           * Determines and changes state of documentation panel.
           */docsOpened:Boolean,/**
           * Computed list of "type" items in the API.
           *
           * @type {Array<Object>}
           */types:{type:Array,readOnly:!0},/**
           * Computed value, true when `types` property is set with values
           *
           * @type {Object}
           */hasTypes:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(types)"},/**
           * Determines and changes state of types panel.
           */typesOpened:Boolean,/**
           * Computed list of Security schemes items in the API.
           *
           * @type {Array<Object>}
           */security:{type:Array,readOnly:!0},/**
           * Computed value, true when `security` property is set with values
           *
           * @type {Object}
           */hasSecurity:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(security)"},/**
           * Determines and changes state of security panel.
           */securityOpened:Boolean,/**
           * Computed list of endpoint items in the API.
           *
           * @type {Array<Object>}
           */endpoints:{type:Array,readOnly:!0},/**
           * Computed value, true when `endpoints` property is set with values
           *
           * @type {Object}
           */hasEndpoints:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(endpoints)"},/**
           * Determines and changes state of endpoints panel.
           */endpointsOpened:Boolean,/**
           * If true, the element will not produce a ripple effect when interacted with via the pointer.
           */noink:Boolean,/**
           * Filters list elements by this value when set.
           * Clear the value to reset the search.
           *
           * This is not currently exposed in element's UI due
           * to complexity of search and performance.
           */query:{type:String,observer:"_queryChanged"},/**
           * Size of endpoint indentation for nested resources.
           * In pixels.
           */indentSize:{type:Number,value:8},/**
           * Flag set when passed AMF model is a RAML fragment.
           */_isFragment:{type:Boolean,value:/* eat */!1},/**
           * Computed value. True when summary should be rendered.
           * Summary should be rendered only when `summary` is set and
           * current model is not a RAML fragment.
           */_renderSummary:{type:Boolean,computed:"_computeRenderSummary(summary, _isFragment)"},/**
           * When set it renders full path below endpoint name if the endpoint has
           * a name (different than the path).
           * This is not always recommended to use this option as some complex APIs
           * may render this component difficult to understand.
           */allowPaths:Boolean}}static get observers(){return["_amfChanged(amfModel)","_selectionChnaged(selected, selectedType)"]}constructor(){super();this._navigationChangeHandler=this._navigationChangeHandler.bind(this)}/**
       * Ensures aria role atribute is in place.
       * Attaches element's listeners.
       */connectedCallback(){super.connectedCallback();if(!this.getAttribute("role")){this.setAttribute("role","navigation")}window.addEventListener("api-navigation-selection-changed",this._navigationChangeHandler)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("api-navigation-selection-changed",this._navigationChangeHandler)}/**
       * Called by the Polymer change observer when `amfModel` property change.
       * @param {Array|Object} model AMF model
       */_amfChanged(model){if(!model){return}if(model instanceof Array){model=model[0]}let data={},isFragment=!0;const moduleKey=this._getAmfKey(this.ns.raml.vocabularies.document+"Module");if(this._hasType(model,this.ns.raml.vocabularies.document+"Document")){isFragment=!1;model=this._ensureAmfModel(model);data=this._collectData(model)}else if(this._hasType(model,this.ns.raml.vocabularies.document+"SecuritySchemeFragment")){data=this._collectSecurityData(model);this.securityOpened=!0}else if(this._hasType(model,this.ns.raml.vocabularies.document+"UserDocumentation")){data=this._collectDocumentationData(model);this.docsOpened=!0}else if(this._hasType(model,this.ns.raml.vocabularies.document+"DataType")){data=this._collectTypeData(model);this.typesOpened=!0}else if(moduleKey===model["@type"][0]){data=this._collectData(model)}if(this._isFragment!==isFragment){this._isFragment=isFragment}this._setDocs(data.documentation);this._setTypes(data.types);this._setSecurity(data.securitySchemes);this._setEndpoints(data.endpoints);Polymer.RenderStatus.afterNextRender(this,()=>{this._selectedChangd(this.selected)})}/**
       * Collects the information about the API and creates data model
       * for the navigation element
       *
       * @param {Object} model
       * @return {Object} Data model for the API navigation:
       * - documentation `Array` - List of documentation data models:
       *  - id `String` - Node `@id`
       *  - label `String` - Node label
       * - types `Array` - List of types data models:
       *  - id `String` - Node `@id`
       *  - label `String` - Node label
       * - securitySchemes `Array` - List of security schemes data models:
       *  - id `String` - Node `@id`
       *  - label `String` - Node label
       * - endpoints `Array` - List of endpoints data models:
       *  - id `String` - Node `@id`
       *  - label `String` - Node label
       *  - methods `Array` - List of methonds data models in an endpoint:
       *    - id `String` - Node `@id`
       *    - label `String` - Node label
       */_collectData(model){const result={documentation:[],types:[],securitySchemes:[],endpoints:[]};if(!model){return result}result._typeIds=[];result._basePaths=[];this._traverseDeclarations(model,result);this._traverseReferences(model,result);this._traverseEncodes(model,result);delete result._typeIds;delete result._basePaths;return result}/**
       * Collects the data from the security fragment
       * @param {Object} model Security fragment model
       * @return {Object}
       */_collectSecurityData(model){const result={securitySchemes:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendSecurityItem(encodes,result);return result}/**
       * Collects the data from the documentation fragment
       * @param {Object} model Documentation fragment model
       * @return {Object}
       */_collectDocumentationData(model){const result={documentation:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendDocumentationItem(encodes,result);return result}/**
       * Collects the data from the type fragment
       * @param {Object} model Type fragment model
       * @return {Object}
       */_collectTypeData(model){const result={types:[],_typeIds:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendTypeItem(encodes,result);delete result._typeIds;return result}/**
       * Traverses the `http://raml.org/vocabularies/document#declares`
       * node to find types and security schemes.
       *
       * @param {Object} model
       * @param {Object} target Target object where to put data.
       */_traverseDeclarations(model,target){const declares=this._computeDeclares(model);if(!declares){return}declares.forEach(item=>this._appendModelItem(item,target))}/**
       * Traverses the `http://raml.org/vocabularies/document#references`
       *
       * @param {Array|Object} model AMF model
       * @param {Object} target Target object where to put data.
       */_traverseReferences(model,target){const refs=this._computeReferences(model);if(!refs){return}refs.forEach(item=>{if(!this._hasType(item,this.ns.raml.vocabularies.document+"Module")){return}this._traverseDeclarations(item,target)})}/**
       * Traverses the `http://raml.org/vocabularies/document#encodes`
       * node to find documentation and endpoints.
       *
       * @param {Object} model
       * @param {Object} target Target object where to put data.
       */_traverseEncodes(model,target){const data=this._computeWebApi(model);if(!data){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoint=this._ensureArray(data[ekey]);if(endpoint){endpoint.forEach(item=>this._appendModelItem(item,target))}const dkey=this._getAmfKey(this.ns.schema.doc),documentation=this._ensureArray(data[dkey]);if(documentation){documentation.forEach(item=>this._appendModelItem(item,target))}}/**
       * Appends declaration of navigation data model to the target if
       * it matches documentation or security types.
       *
       * @param {Object} item
       * @param {Object} target
       */_appendModelItem(item,target){if(this._hasType(item,this.ns.w3.shacl.shape)){this._appendTypeItem(item,target)}else if(this._hasType(item,this.ns.raml.vocabularies.security+"SecurityScheme")){this._appendSecurityItem(item,target)}else if(this._hasType(item,this.ns.schema.creativeWork)){this._appendDocumentationItem(item,target)}else if(this._hasType(item,this.ns.raml.vocabularies.http+"EndPoint")){this._appendEndpointItem(item,target)}}/**
       * Appends "type" item to the results.
       *
       * @param {Object} item Type item declaration
       * @param {Object} target
       */_appendTypeItem(item,target){const w3name=this._getValue(item,this.ns.w3.shacl.name+"name");if(w3name&&0===w3name.indexOf("amf_inline_type")){// https://www.mulesoft.org/jira/browse/APIMF-972
return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name&&w3name){name=w3name}else if(!name){return}const id=item["@id"];if(!id){return}const rfIdKey=this._getAmfKey(this.ns.raml.vocabularies.document+"reference-id"),compareId=item["@id"].toLowerCase(),refNode=this._ensureArray(item[rfIdKey]),refId=refNode?refNode[0]["@id"].toLowerCase():void 0,idIndex=target._typeIds.indexOf(compareId),refIndex=refId?target._typeIds.indexOf(refId):-1;if(-1===idIndex&&-1===refIndex){target._typeIds[target._typeIds.length]=id;if(refId){target._typeIds[target._typeIds.length]=refId}target.types.push({label:name,id:id})}}/**
       * Appends "security" item to the results.
       *
       * @param {Object} item Type item declaration
       * @param {Object} target
       */_appendSecurityItem(item,target){let name=this._getValue(item,this.ns.schema.displayName);if(!name){name=this._getValue(item,this.ns.raml.vocabularies.security+"name")}if(!name){name=this._getValue(item,this.ns.raml.vocabularies.security+"type")}const id=item["@id"];target.securitySchemes.push({label:name,id:id})}/**
       * Appends "documentation" item to the results.
       *
       * @param {Object} item Type item declaration
       * @param {Object} target
       */_appendDocumentationItem(item,target){const name=this._getValue(item,this.ns.schema.title),id=item["@id"];target.documentation.push({label:name,id:id})}/**
       * Appends "endpoint" item to the results.
       * This also iterates over methods to extract method data.
       *
       * @param {Object} item Type item declaration
       * @param {Object} target
       */_appendEndpointItem(item,target){const result={};let name=this._getValue(item,this.ns.schema.schemaName);const path=this._getValue(item,this.ns.raml.vocabularies.http+"path");result.path=path;let tmpPath=path;if("/"===tmpPath[0]){tmpPath=tmpPath.substr(1)}const parts=tmpPath.split("/");let indent=0;target._basePaths[target._basePaths.length]=path;if(1<parts.length){let lowerParts=parts.slice(0,parts.length-1);if(lowerParts.length){for(let i=lowerParts.length-1;0<=i;i--){const currentPath="/"+lowerParts.slice(0,i+1).join("/");if(-1!==target._basePaths.indexOf(currentPath)){indent++}}}}if(!name){result.renderPath=!1;if(0<indent){try{name=this._computePathName(path,parts,indent,target._basePaths)}catch(_){name=path}}else{name=path}}else{result.renderPath=!0}const id=item["@id"],key=this._getAmfKey(this.ns.w3.hydra.supportedOperation),operations=this._ensureArray(item[key])||[],methods=operations.map(op=>this._createOperationModel(op));result.label=name;result.id=id;result.indent=indent;result.methods=methods;target.endpoints.push(result)}/**
       * Computes label for an endpoint when name is missing and the endpoint
       * is indented, hence name should be truncated.
       * @param {String} currentPath Endpoint's path
       * @param {Array<String>} parts Path parts
       * @param {Number} indent Endpoint indentation
       * @param {Array<String>} basePaths List of base paths already used.
       * @return {String} Name of the path to render.
       */_computePathName(currentPath,parts,indent,basePaths){let path="";for(let i=0,len=parts.length;i<len;i++){path+="/"+parts[i];if(-1!==basePaths.indexOf(path)){indent--}if(0===indent){break}}return currentPath.replace(path,"")}/**
       * Creates the view model for an opration.
       *
       * @param {Object} item Operation AMF model
       * @return {Object} Method view model
       */_createOperationModel(item){let name=this._getValue(item,this.ns.schema.schemaName);const methodKey=this.ns.w3.hydra.core+"method",id=item["@id"],method=this._getValue(item,methodKey);return{label:name,id:id,method:method}}/**
       * Click handler for section name item.
       * Toggles the view.
       *
       * @param {ClickEvent} e
       */_toggleSection(e){const path=e.composedPath();let node;while(!0){node=path.shift();if(!node){return}if(node.dataset&&node.dataset.section){break}}const section=node.dataset.section,openedKey=section+"Opened";this[openedKey]=!this[openedKey]}/**
       * Selectes new item in the menu.
       *
       * @param {Node} node
       */_selectItem(node){const id=node.dataset.apiId,shape=node.dataset.shape;this.selectedType=void 0;// cancels event fireing
this.selected=id;this.selectedType=shape;// now fire event
}/**
       * Toggles selection state of a node that has `data-api-id` set to
       * `id`.
       *
       * @param {String} id Selected node id.
       * @return {String} Type of selected node.
       */_addSelection(id){if(!this.shadowRoot){return}let node=this.shadowRoot.querySelector(`[data-api-id="${id}"]`);if(!node){return}if("IRON-COLLAPSE"===node.nodeName){node=this.shadowRoot.querySelector(`.operation[data-api-id="${id}"]`)}if(!node){return}node.classList.add("iron-selected");let collapse;switch(node.dataset.shape){case"method":case"endpoint":collapse=node.parentElement;break;case"type":case"documentation":case"security":collapse=node.parentElement.parentElement;break;}if(collapse&&!collapse.opened){collapse.opened=!0;collapse.setAttribute("endpoint-opened",!0)}return node.dataset.shape}/**
       * Removes any current selection that may exist.
       */_clearSelection(){if(!this.shadowRoot){return}const nodes=this.shadowRoot.querySelectorAll(".iron-selected");for(let i=0,len=nodes.length;i<len;i++){nodes[i].classList.remove("iron-selected")}}/**
       * Toggles endpoint operations list.
       *
       * @param {String} id ID of the endpoint.
       */toggleOperations(id){let selector=`.operation-collapse[data-api-id="${id}"]`;const collapse=this.shadowRoot.querySelector(selector);if(!collapse){return}collapse.opened=!collapse.opened;selector=`.list-item.endpoint[data-endpoint-id="${id}"]`;const label=this.shadowRoot.querySelector(selector);if(!label){console.warn("Expected label for ",id);return}if(collapse.opened){label.setAttribute("endpoint-opened",!0);collapse.setAttribute("endpoint-opened",!0)}else{label.removeAttribute("endpoint-opened");collapse.removeAttribute("endpoint-opened")}}/**
       * Updates the state of selected element when `selected` changes.
       *
       * @param {String} current New selection
       */_selectedChangd(current){this._clearSelection();this._cleanPassiveSelection();if(current){this._addSelection(current)}}/**
       * Label check agains `query` function called by `dom-repeat` element.
       * This method uses `__effectiveQuery` property set by `_flushQuery()`
       * method.
       *
       * @param {Object} item Model item with `lable` property.
       * @return {Boolean}
       */_labelFilter(item){if(!this.__effectiveQuery){return!0}return-1!==item.label.indexOf(this.__effectiveQuery)}/**
       * Label and method check agains `query` function called by `dom-repeat`
       * element. This method uses `__effectiveQuery` property set by
       * `_flushQuery()` method.
       *
       * @param {Object} item Model item with `lable` property.
       * @return {Boolean}
       */_methodFilter(item){if(!this.__effectiveQuery){return!0}return-1!==(item.label||"").toLowerCase().indexOf(this.__effectiveQuery)||-1!==item.method.indexOf(this.__effectiveQuery)}/**
       * When `query` property change it runs the filter function
       * in a debouncer set for ~50 ms.
       */_queryChanged(){if(this.__queryDebouncer){return}this.__queryDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this._flushQuery();this.__queryDebouncer=!1})}/**
       * Calles `render()` function on each data repeater that have filterable
       * items.
       * It set's `__effectiveQuery` property on the element that is beyond
       * Polymer's data binding system so it skips 2 function calls each time
       * it is read. In a repeater filter function that can be a lot.
       *
       * Also the `__effectiveQuery` is transformed to perform text search.
       */_flushQuery(){let q=this.query;if(q){q=q.toLowerCase()}this.__effectiveQuery=q;const repeaters=this.shadowRoot.querySelectorAll("dom-repeat[data-query]");for(let i=0,len=repeaters.length;i<len;i++){repeaters[i].render()}}/**
       * Hides the parent model when number of children is 0 or shows it
       * otherwise.
       *
       * @param {CustomEvent} e
       */_methodsCountChanged(e){const state=e.model.get("item.hidden");if(0===e.detail.value&&this.__effectiveQuery){if(!state){e.model.set("item.hidden",!0)}}else{if(state){e.model.set("item.hidden",!1)}}}/**
       * Dispatches `api-navigation-selection-changed` event on selection change.
       *
       * @param {String} selected Selected id
       * @param {String} selectedType Type of AMF shape
       */_selectionChnaged(selected,selectedType){if(!selectedType||this.__cancelNavigationEvent){return}let endpointId;if("method"===selectedType&&selected){const node=this.shadowRoot.querySelector(`.operation[data-api-id="${selected}"]`);if(node){endpointId=node.dataset.parentId}if(!endpointId){console.warn(`Expecting endpointId to be set on the event.`)}}const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:selected,type:selectedType,endpointId}});this.dispatchEvent(e)}/**
       * Navigation item click handler.
       * It used to be common function for all clicks inside the element
       * but in tests not all events were handled.
       *
       * @param {ClickEvent} e
       */_itemClickHandler(e){let target;if(e.currentTarget){target=e.currentTarget}else{if(e.target.classList.contains("method-label")){target=e.target.parentNode}else{target=e.target}}this._selectItem(target)}/**
       * Handler for `api-navigation-selection-changed`. Updates the selection
       * if dispatched from other element.
       * @param {CustomEvent} e
       */_navigationChangeHandler(e){if(e.composedPath()[0]===this){return}this._cleanPassiveSelection();if(!0===e.detail.passive){this._handlePassiveNavigation(e.detail);return}if(this.selected!==e.detail.selected){this.__cancelNavigationEvent=!0;this.selected=e.detail.selected;this.selectedType=e.detail.type;this.__cancelNavigationEvent=!1}}_handlePassiveNavigation(detail){switch(detail.type){case"method":this._selectMethodPassive(detail.selected);break;}}_cleanPassiveSelection(){// Very simpole optimization to not query local DOM if we are sure
// that there's no selection.
if(!this.__hasPassiveSelection){return}const nodes=this.shadowRoot.querySelectorAll(".passive-selected");for(let i=0,len=nodes.length;i<len;i++){nodes[i].classList.remove("passive-selected")}this.__hasPassiveSelection=!1}_selectMethodPassive(id){const selector=`[data-api-id="${id}"]`,node=this.shadowRoot.querySelector(selector);if(!node){return}node.classList.add("passive-selected");this.__hasPassiveSelection=!0;if(!node.parentElement.opened){node.parentElement.opened=!0}}/**
       * Endpoint label click handler.
       * Toggles endpoint's methods list.
       *
       * @param {ClickEvent} e
       */_toggleEndpoint(e){const path=e.composedPath();while(!0){const node=path.shift();if(!node){return}if(1!==node.nodeType){continue}if(!node.dataset.endpointId){continue}this.toggleOperations(node.dataset.endpointId);break}}/**
       * Computes `style` attribute value for endpoint item.
       * It sets padding-left property to indent resources.
       * See https://github.com/mulesoft/api-console/issues/571.
       *
       * @param {Number} factor Computed indent factor for the resource
       * @param {Number} size The size of indentation in pixels.
       * @return {String} Style attribute value for the item.
       */_computeEndpointPadding(factor,size){const padding=this._computeEndpointPaddingLeft();if(1>factor){return`padding-left: ${padding}px`}const result=factor*size+padding;return`padding-left: ${result}px`}_computeMethodPadding(factor,size){const padding=this._computeOperationPaddingLeft();if(1>factor){return`padding-left: ${padding}px`}const result=factor*size+padding;return`padding-left: ${result}px`}/**
       * Computes operation list item left padding from CSS veriables.
       * @return {Number}
       */_computeOperationPaddingLeft(){let paddingLeft;const prop="--api-navigation-operation-item-padding-left",defaultPadding=24;if(window.ShadyCSS){paddingLeft=window.ShadyCSS.getComputedStyleValue(this,prop)}else{paddingLeft=getComputedStyle(this).getPropertyValue(prop)}if(!paddingLeft){return defaultPadding}paddingLeft=paddingLeft.replace("px","").trim();if(isNaN(paddingLeft)){return defaultPadding}return+paddingLeft}/**
       * Computes endpoint list item left padding from CSS veriables.
       * @return {Number}
       */_computeEndpointPaddingLeft(){let padding;const prop="--api-navigation-list-item-padding",defaultPadding=16;if(window.ShadyCSS){padding=window.ShadyCSS.getComputedStyleValue(this,prop)}else{padding=getComputedStyle(this).getPropertyValue(prop)}if(!padding){return defaultPadding}const parts=padding.split(" ");let paddingLeftValue;switch(parts.length){case 1:paddingLeftValue=parts[0];break;case 2:paddingLeftValue=parts[1];break;case 3:paddingLeftValue=parts[2];break;case 4:paddingLeftValue=parts[2];break;}if(!paddingLeftValue){return defaultPadding}paddingLeftValue=paddingLeftValue.replace("px","").trim();if(isNaN(paddingLeftValue)){return defaultPadding}return+paddingLeftValue}/**
       * Cancels space key down event when selecting a method with keyboard.
       * Without it the page would scroll down.
       * @param {KeyboardEvent} e
       */_spaceDownHandler(e){if(!("Space"===e.code||32===e.keyCode)){return}e.preventDefault();e.stopImmediatePropagation()}/**
       * Selectes an item when space up event is detected.
       * @param {KeyboardEvent} e
       */_spaceUpHandler(e){if(!("Space"===e.code||32===e.keyCode)){return}e.target.click()}/**
       * Computes value for `_renderSummary` property
       * @param {Boolean} summary Current value of `summary` property
       * @param {Boolean} isFragment Current value of `_isFragment` property
       * @return {Boolean}
       */_computeRenderSummary(summary,isFragment){return!!(summary&&!isFragment)}/**
       * Computes condition value to render path label.
       * @param {Boolean} allowPaths Component configuration property.
       * @param {Boolean} renderPath Endpoint property
       * @return {Boolean} True if both arguments are trully.
       */_computeRenderParth(allowPaths,renderPath){return!!(allowPaths&&renderPath)}/**
       * Dispatched when navigation occurrs.
       * It ensures that `type` property is always set when selection changes
       * (selection type changes later than the selection but within the same
       * microtask).
       *
       * @event api-navigation-selection-changed
       * @param {String} selected `@id` of selected AMF shape
       * @param {?String} endpointId Available only if `type` is `method`.
       * It is parent endpoint ID.
       * @param {String} type The type of selected shape. It can be one of
       * `documentation`, `type`, `security`, `endpoint`, `method` or `summary`.
       * Summary is a special case not included in AMF model but means that the
       * user requested API summary view (start screen).
       * @param {Boolean} passive If true then the event wasn't caused by user
       * intentional interaction and regular navigation action should not occurr.
       */}window.customElements.define(ApiNavigation.is,ApiNavigation);</script></dom-module><dom-module id="api-annotation-document" assetpath="bower_components/api-annotation-document/"><template><style>:host{display:block;color:var(--api-annotation-document-color, #616161);@apply --api-annotation-document;}:host([hidden]){display:none;}.custom-prtoperty{margin:12px 0;}.custom-prtoperty > span{display:block;}.name{font-weight:500;}.scalar-value{display:block;}</style><section class="custom-list" role="list"><template is="dom-repeat" items="[[customList]]"><div role="listitem" class="custom-prtoperty"><span class="name">[[_computeName(item)]]</span><template is="dom-if" if="[[_hasValue(item)]]" data-has-value=""><span class="value"><template is="dom-if" if="[[_isScalar(item)]]"><span class="scalar-value">[[_scalarValue(item)]]</span></template><template is="dom-if" if="[[!_isScalar(item)]]"><template is="dom-repeat" items="[[_complexValue(item)]]"><span class="scalar-value">[[item.label]]: [[item.value]]</span></template></template></span></template></div></template></section></template><script>/**
   * `api-annotation-document`
   *
   * An element to render annotations (also known as custom properties)
   * from AMF model.
   *
   * Anotations are part of RAML language and API console supports it.
   * The element looks for annotations in model and renders them.
   *
   * It hides itself from the view if there's no annotations.
   *
   * ## Styling
   *
   * `<api-annotation-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-annotation-document` | Mixin applied to this elment | `{}`
   * `--api-annotation-document-color` | Color of the custom property (annotation) documentation | `#616161`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiAnnotationDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-annotation-document"}static get properties(){return{/**
         * A property shape definition of AMF.
         * The element looks for `http://raml.org/vocabularies/document#customDomainProperties`
         * key in the property and renders custom properties view if any
         * property is defined.
         */shape:{type:Object,observer:"_shapeChanged"},/**
         * Computed value, true if any custom property has been found.
         */hasCustomProperties:{type:Boolean,notify:!0,readOnly:!0,value:/* eat */!1,observer:"_hasCustomChanged"},/**
         * List of custom properties in the shape.
         *
         * @type {Array<Object>}
         */customList:{type:Array,readOnly:!0}}}/**
     * Called when the shape property change.
     * Sets `hasCustomProperties` and `customList` properties.
     *
     * Note that for performance reasons, if the element determine that there's
     * no custom properties wit will not clear `customList`.
     * It will be updated only if tha vlue actually change.
     *
     * @param {Object} shape AMF shape or range property.
     */_shapeChanged(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"customDomainProperties"),custom=this._ensureArray(shape&&shape[key]),has=!!(custom&&custom.length);this._setHasCustomProperties(has);if(!has){return}const keys=custom.map(item=>item["@id"]),properties=keys.map(key=>shape[key]);this._setCustomList(properties)}/**
     * Hiddes/shows the element depending on the state
     *
     * @param {Boolean} has True if has ay property
     */_hasCustomChanged(has){this.setAttribute("aria-hidden",!has);if(has){if(this.hasAttribute("hidden")){this.removeAttribute("hidden")}}else{if(!this.hasAttribute("hidden")){this.setAttribute("hidden",!0)}}}_computeName(item){return this._getValue(item,this.ns.raml.vocabularies.document+"name")}/**
     * Tests if custom propery can have value.
     *
     * @param {Object} item AMF custom property definition
     * @return {Boolean}
     */_hasValue(item){if(!this._isScalar(item)){return!0}const key=this._getAmfKey(this.ns.raml.vocabularies.data+"value");let value=item&&item[key];if(!value){return!1}if(value instanceof Array){value=value[0]}return!this._hasType(value,this.ns.w3.xmlSchema+"nil")}/**
     * Tests if value is a scalar value
     *
     * @param {Object} item AMF custom property definition
     * @return {Boolean}
     */_isScalar(item){return this._hasType(item,this.ns.raml.vocabularies.data+"Scalar")}/**
     * Computes scalar value for the item.
     *
     * @param {Object} item AMF custom property definition
     * @return {String}
     */_scalarValue(item){if(item instanceof Array){item=item[0]}return this._getValue(item,this.ns.raml.vocabularies.data+"value")}/**
     * Computes complex (object) value for the custom property
     *
     * @param {Object} item AMF custom property definition
     * @return {Object}
     */_complexValue(item){if(!item){return}const data=[],dataKey=this._getAmfKey(this.ns.raml.vocabularies.data),len=dataKey.length;Object.keys(item).forEach(key=>{if(-1===key.indexOf(dataKey)){return}let label=key.substr(len);if(":"===label[0]){// compact model does that
label=label.substr(1)}data.push({value:this._scalarValue(item[key]),label})});return data}}window.customElements.define(ApiAnnotationDocument.is,ApiAnnotationDocument);</script></dom-module><script>/** @polymerBehavior Polymer.PaperButtonBehavior */Polymer.PaperButtonBehaviorImpl={properties:{/**
       * The z-depth of this element, from 0-5. Setting to 0 will remove the
       * shadow, and each increasing number greater than 0 will be "deeper"
       * than the last.
       *
       * @attribute elevation
       * @type number
       * @default 1
       */elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;if(this.disabled){e=0}else if(this.active||this.pressed){e=4}else if(this.receivedFocusFromKeyboard){e=3}this._setElevation(e)},_computeKeyboardClass:function(receivedFocusFromKeyboard){this.toggleClass("keyboard-focus",receivedFocusFromKeyboard)},/**
     * In addition to `IronButtonState` behavior, when space key goes down,
     * create a ripple down effect.
     *
     * @param {!KeyboardEvent} event .
     */_spaceKeyDownHandler:function(event){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,event);// Ensure that there is at most one ripple when the space key is held down.
if(this.hasRipple()&&1>this.getRipple().ripples.length){this._ripple.uiDownAction()}},/**
     * In addition to `IronButtonState` behavior, when space key goes up,
     * create a ripple up effect.
     *
     * @param {!KeyboardEvent} event .
     */_spaceKeyUpHandler:function(event){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,event);if(this.hasRipple()){this._ripple.uiUpAction()}}};/** @polymerBehavior */Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);};--shadow-none:{box-shadow:none;};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);};}</style></custom-style><dom-module id="paper-material-styles" assetpath="bower_components/paper-styles/element-styles/"><template><style>:host, html{--paper-material:{display:block;position:relative;};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material), .paper-material{@apply --paper-material;}:host(.paper-material[elevation="1"]), .paper-material[elevation="1"]{@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]), .paper-material[elevation="2"]{@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]), .paper-material[elevation="3"]{@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]), .paper-material[elevation="4"]{@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]), .paper-material[elevation="5"]{@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button" assetpath="bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:none;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{/**
         * If true, the button should be styled with a shadow.
         */raised:{type:Boolean,reflectToAttribute:!0,value:/* eat */!1,observer:"_calculateElevation"}},_calculateElevation:function(){if(!this.raised){this._setElevation(0)}else{Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this)}}/**
      Fired when the animation finishes.
      This is useful if you want to wait until
      the ripple animation finishes to perform some action.

      @event transitionend
      Event param: {{node: Object}} detail Contains the animated node.
      */});</script></dom-module><dom-module id="markdown-styles" assetpath="bower_components/markdown-styles/"><template><style>[slot="markdown-html"]{@apply --arc-font-body1;}[slot="markdown-html"] h1,
    [slot="markdown-html"] h2,
    [slot="markdown-html"] h3,
    [slot="markdown-html"] h4,
    [slot="markdown-html"] h5,
    [slot="markdown-html"] h6{@apply --arc-font-title;}[slot="markdown-html"] h1 tt,
    [slot="markdown-html"] h1 code,
    [slot="markdown-html"] h2 tt,
    [slot="markdown-html"] h2 code,
    [slot="markdown-html"] h3 tt,
    [slot="markdown-html"] h3 code,
    [slot="markdown-html"] h4 tt,
    [slot="markdown-html"] h4 code,
    [slot="markdown-html"] h5 tt,
    [slot="markdown-html"] h5 code,
    [slot="markdown-html"] h6 tt,
    [slot="markdown-html"] h6 code{font-size:inherit;}[slot="markdown-html"] h1{@apply --arc-font-display1;border-bottom:1px solid var(--markdown-styles-title-border-bottom-color, #eee);padding-top:1rem;padding-bottom:0.5rem;}[slot="markdown-html"] h2{@apply --arc-font-title;border-bottom:1px solid var(--markdown-styles-title-border-bottom-color, #eee);}[slot="markdown-html"] h3{@apply --arc-font-subhead;font-size:1.5em;line-height:1.43;}[slot="markdown-html"] h4{@apply --arc-font-subhead;font-size:1.25em;}[slot="markdown-html"] h5{@apply --arc-font-subhead;font-size:1em;}[slot="markdown-html"] h6{@apply --arc-font-subhead;font-size:1em;color:#777;}[slot="markdown-html"] p,
    [slot="markdown-html"] blockquote,
    [slot="markdown-html"] ul,
    [slot="markdown-html"] ol,
    [slot="markdown-html"] dl,
    [slot="markdown-html"] table,
    [slot="markdown-html"] pre{@apply --arc-font-body1;margin-top:0;margin-bottom:16px;}[slot="markdown-html"] > *:last-child{margin-bottom:0;}[slot="markdown-html"] hr{height:4px;padding:0;margin:16px 0;background-color:var(--markdown-styles-hr-color, #e7e7e7);border:0 none;}[slot="markdown-html"] ul,
    [slot="markdown-html"] ol{padding-left:2em;}[slot="markdown-html"] ul.no-list,
    [slot="markdown-html"] ol.no-list{padding:0;list-style-type:none;}[slot="markdown-html"] ul ul,
    [slot="markdown-html"] ul ol,
    [slot="markdown-html"] ol ol,
    [slot="markdown-html"] ol ul{margin-top:0;margin-bottom:0;}[slot="markdown-html"] li>p{margin-top:16px;}[slot="markdown-html"] dl{padding:0;}[slot="markdown-html"] dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold;}[slot="markdown-html"] dl dd{padding:0 16px;margin-bottom:16px;}[slot="markdown-html"] blockquote{padding:0 15px;color:var(--markdown-styles-blockquote-color, #777);border-left:4px solid var(--markdown-styles-blockquote-border-left-color, #ddd);}[slot="markdown-html"] blockquote>:first-child{margin-top:0;}[slot="markdown-html"] blockquote>:last-child{margin-bottom:0;}[slot="markdown-html"] table{@apply --arc-font-body1;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;border-collapse:collapse;}[slot="markdown-html"] table th{font-weight:bold;}[slot="markdown-html"] table th,
    [slot="markdown-html"] table td{padding:6px 13px;border:1px solid var(--markdown-styles-table-header-border-color, #ddd);}[slot="markdown-html"] table tr{background-color:#fff;border-top:1px solid #ccc;}[slot="markdown-html"] table tr:nth-child(2n){background-color:var(--markdown-styles-table-row-background-color, #f8f8f8);}[slot="markdown-html"] img{max-width:100%;box-sizing:content-box;background-color:var(--markdown-styles-image-background-color, #fff);}[slot="markdown-html"] img[align=right]{padding-left:20px;}[slot="markdown-html"] img[align=left]{padding-right:20px;}[slot="markdown-html"] code,
    [slot="markdown-html"] tt{@apply --arc-font-common-code;padding:0;padding-top:0.2em;padding-bottom:0.2em;margin:0;background-color:var(--markdown-styles-code-background-color, rgba(0, 0, 0, 0.04));border-radius:2px;}[slot="markdown-html"] pre{word-wrap:normal;}[slot="markdown-html"] code,
    [slot="markdown-html"] pre{@apply --arc-font-common-code;color:var(--code-color, black);background-color:var(--code-background-color);text-shadow:var(--markdown-styles-code-text-shadow, 0 1px white);text-align:left;word-break:break-all;white-space:pre-wrap;word-spacing:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;@apply --arc-code-styles;}[slot="markdown-html"] pre::-moz-selection,
    [slot="markdown-html"] pre ::-moz-selection,
    [slot="markdown-html"] code::-moz-selection,
    [slot="markdown-html"] code ::-moz-selection{text-shadow:none;background:var(--markdown-styles-code-selection-background-color, #b3d4fc);}[slot="markdown-html"] pre::selection,
    [slot="markdown-html"] pre ::selection,
    [slot="markdown-html"] code::selection,
    [slot="markdown-html"] code ::selection{text-shadow:none;background:var(--markdown-styles-code-selection-background-color, #b3d4fc);}@media print{[slot="markdown-html"] code,
      [slot="markdown-html"] pre{text-shadow:none;}}[slot="markdown-html"] pre{padding:1em;margin:.5em 0;overflow:auto;}[slot="markdown-html"] :not(pre) > code,
    [slot="markdown-html"] pre,
    pre[slot="markdown-html"]{background:var(--code-background-color, #f5f2f0);}[slot="markdown-html"] :not(pre) > code{padding:.1em;border-radius:.3em;white-space:normal;}[slot="markdown-html"] .token.comment,
    [slot="markdown-html"] .token.prolog,
    [slot="markdown-html"] .token.doctype,
    [slot="markdown-html"] .token.cdata{color:var(--markdown-styles-code-cdata-color, slategray);}[slot="markdown-html"] .token.punctuation{color:var(--code-punctuation-value-color, #999);}[slot="markdown-html"] .namespace{opacity:.7;}[slot="markdown-html"] .token.property,
    [slot="markdown-html"] .token.tag,
    [slot="markdown-html"] .token.boolean,
    [slot="markdown-html"] .token.number,
    [slot="markdown-html"] .token.constant,
    [slot="markdown-html"] .token.symbol,
    [slot="markdown-html"] .token.deleted{color:var(--code-type-number-value-color, #905);}[slot="markdown-html"] .token.selector,
    [slot="markdown-html"] .token.attr-name,
    [slot="markdown-html"] .token.string,
    [slot="markdown-html"] .token.char,
    [slot="markdown-html"] .token.builtin,
    [slot="markdown-html"] .token.inserted{color:var(--code-type-text-value-color, #690);}[slot="markdown-html"] .token.operator,
    [slot="markdown-html"] .token.entity,
    [slot="markdown-html"] .token.url,
    [slot="markdown-html"] .language-css .token.string,
    [slot="markdown-html"] .style .token.string{color:var(--code-punctuation-value-color, #a67f59);background:hsla(0, 0%, 100%, .5);}[slot="markdown-html"] .token.atrule,
    [slot="markdown-html"] .token.attr-value,
    [slot="markdown-html"] .token.keyword{color:var(--markdown-styles-code-keyword-color, #07a);}[slot="markdown-html"] .token.function{color:var(--markdown-styles-code-function-color, #DD4A68);}[slot="markdown-html"] .token.regex,
    [slot="markdown-html"] .token.important,
    [slot="markdown-html"] .token.variable{color:var(--markdown-styles-variable-color, #e90);}[slot="markdown-html"] .token.important,
    [slot="markdown-html"] .token.bold{font-weight:bold;}[slot="markdown-html"] .token.italic{font-style:italic;}[slot="markdown-html"] .token.entity{cursor:help;}</style></template></dom-module><script>/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */;(function(root){'use strict';/**
 * Block-Level Grammar
 */var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/,_label:/(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/};block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=edit(block.item,"gm").replace(/bull/g,block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b";block.html=edit(block.html).replace("comment",/\x3c!--[\s\S]*?--\x3e/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,block._tag).getRegex();block.paragraph=edit(block.paragraph).replace("hr",block.hr).replace("heading",block.heading).replace("lheading",block.lheading).replace("tag","<"+block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();/**
 * Normal Block Grammar
 */block.normal=merge({},block);/**
 * GFM Block Grammar
 */block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});block.gfm.paragraph=edit(block.paragraph).replace("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|").getRegex();/**
 * GFM + Tables Block Grammar
 */block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});/**
 * Block Lexer
 */function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}/**
 * Expose Block Rules
 */Lexer.rules=block;/**
 * Static Lex Method
 */Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};/**
 * Preprocessing
 */Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,!0)};/**
 * Lexing
 */Lexer.prototype.token=function(src,top){src=src.replace(/^ +$/gm,"");var next,loose,cap,bull,b,item,space,i,tag,l,isordered;while(src){// newline
if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(1<cap[0].length){this.tokens.push({type:"space"})}}// code
if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}// fences (gfm)
if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});continue}// heading
if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}// table no leading pipe (gfm)
if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}// hr
if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}// blockquote
if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");// Pass `top` to keep the current
// "toplevel" state. This is exactly
// how markdown.pl works.
this.token(cap,top);this.tokens.push({type:"blockquote_end"});continue}// list
if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];isordered=1<bull.length;this.tokens.push({type:"list_start",ordered:isordered,start:isordered?+bull:""});// Get each top-level item.
cap=cap[0].match(this.rules.item);next=/* eat */!1;l=cap.length;i=0;for(;i<l;i++){item=cap[i];// Remove the list item's bullet
// so it is seen as the next token.
space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");// Outdent whatever the
// list item contains. Hacky.
if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}// Determine whether the next list item belongs here.
// Backpedal if it does not belong in this list.
if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(1<bull.length&&1<b.length)){src=cap.slice(i+1).join("\n")+src;i=l-1}}// Determine whether item is loose or not.
// Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
// for discount behavior.
loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next="\n"===item.charAt(item.length-1);if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});// Recurse.
this.token(item,!1);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}// html
if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});continue}// def
if(top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);if(cap[3])cap[3]=cap[3].substring(1,cap[3].length-1);tag=cap[1].toLowerCase();if(!this.tokens.links[tag]){this.tokens.links[tag]={href:cap[2],title:cap[3]}}continue}// table (gfm)
if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}// lheading
if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});continue}// top-level paragraph
if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});continue}// text
if(cap=this.rules.text.exec(src)){// Top-level should never reach here.
src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};/**
 * Inline-Level Grammar
 */var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noop,tag:/^\x3c!--[\s\S]*?--\x3e|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_scheme:/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_email:/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/};inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=edit(inline.link).replace("inside",inline._inside).replace("href",inline._href).getRegex();inline.reflink=edit(inline.reflink).replace("inside",inline._inside).getRegex();/**
 * Normal Inline Grammar
 */inline.normal=merge({},inline);/**
 * Pedantic Inline Grammar
 */inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});/**
 * GFM Inline Grammar
 */inline.gfm=merge({},inline.normal,{escape:edit(inline.escape).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",inline._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:edit(inline.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()});/**
 * GFM + Line Breaks Inline Grammar
 */inline.breaks=merge({},inline.gfm,{br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("{2,}","*").getRegex()});/**
 * Inline Lexer & Compiler
 */function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}/**
 * Expose Inline Rules
 */InlineLexer.rules=inline;/**
 * Static Lexing/Compiling Method
 */InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};/**
 * Lexing/Compiling
 */InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){// escape
if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}// autolink
if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if("@"===cap[2]){text=escape(this.mangle(cap[1]));href="mailto:"+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}// url (gfm)
if(!this.inLink&&(cap=this.rules.url.exec(src))){cap[0]=this.rules._backpedal.exec(cap[0])[0];src=src.substring(cap[0].length);if("@"===cap[2]){text=escape(cap[0]);href="mailto:"+text}else{text=escape(cap[0]);if("www."===cap[1]){href="http://"+text}else{href=text}}out+=this.renderer.link(href,null,text);continue}// tag
if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=!0}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=!1}src=src.substring(cap[0].length);out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];continue}// link
if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=!0;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=!1;continue}// reflink, nolink
if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=!0;out+=this.outputLink(cap,link);this.inLink=!1;continue}// strong
if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}// em
if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}// code
if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2].trim(),!0));continue}// br
if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}// del (gfm)
if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}// text
if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.text(escape(this.smartypants(cap[0])));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};/**
 * Compile Link
 */InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};/**
 * Smartypants Transformations
 */InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text// em-dashes
.replace(/---/g,"\u2014")// en-dashes
.replace(/--/g,"\u2013")// opening singles
.replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018")// closing singles & apostrophes
.replace(/'/g,"\u2019")// opening doubles
.replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C")// closing doubles
.replace(/"/g,"\u201D")// ellipses
.replace(/\.{3}/g,"\u2026")};/**
 * Mangle Links
 */InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(.5<Math.random()){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};/**
 * Renderer
 */function Renderer(options){this.options=options||{}}Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(null!=out&&out!==code){escaped=!0;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"}return"<pre><code class=\""+this.options.langPrefix+escape(lang,!0)+"\">"+(escaped?code:escape(code,!0))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+" id=\""+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+"\">"+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered,start){var type=ordered?"ol":"ul",startatt=ordered&&1!==start?" start=\""+start+"\"":"";return"<"+type+startatt+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td",tag=flags.align?"<"+type+" style=\"text-align:"+flags.align+"\">":"<"+type+">";return tag+content+"</"+type+">\n"};// span level renderer
Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return text}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:")){return text}}if(this.options.baseUrl&&!originIndependentUrl.test(href)){href=resolveUrl(this.options.baseUrl,href)}var out="<a href=\""+href+"\"";if(title){out+=" title=\""+title+"\""}out+=">"+text+"</a>";return out};Renderer.prototype.image=function(href,title,text){if(this.options.baseUrl&&!originIndependentUrl.test(href)){href=resolveUrl(this.options.baseUrl,href)}var out="<img src=\""+href+"\" alt=\""+text+"\"";if(title){out+=" title=\""+title+"\""}out+=this.options.xhtml?"/>":">";return out};Renderer.prototype.text=function(text){return text};/**
 * TextRenderer
 * returns only the textual part of the token
 */function TextRenderer(){}// no need for block level renderers
TextRenderer.prototype.strong=TextRenderer.prototype.em=TextRenderer.prototype.codespan=TextRenderer.prototype.del=TextRenderer.prototype.text=function(text){return text};TextRenderer.prototype.link=TextRenderer.prototype.image=function(href,title,text){return""+text};TextRenderer.prototype.br=function(){return""};/**
 * Parsing & Compiling
 */function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}/**
 * Static Parse Method
 */Parser.parse=function(src,options){var parser=new Parser(options);return parser.parse(src)};/**
 * Parse Loop
 */Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options);// use an InlineLexer with a TextRenderer to extract pure text
this.inlineText=new InlineLexer(src.links,merge({},this.options,{renderer:new TextRenderer}));this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};/**
 * Next Token
 */Parser.prototype.next=function(){return this.token=this.tokens.pop()};/**
 * Preview Next Token
 */Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};/**
 * Parse Text Tokens
 */Parser.prototype.parseText=function(){var body=this.token.text;while("text"===this.peek().type){body+="\n"+this.next().text}return this.inline.output(body)};/**
 * Parse Current Token
 */Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape(this.inlineText.output(this.token.text)))}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,j;// header
cell="";for(i=0;i<this.token.header.length;i++){cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{body="";while("blockquote_end"!==this.next().type){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{body="";var ordered=this.token.ordered,start=this.token.start;while("list_end"!==this.next().type){body+=this.tok()}return this.renderer.list(body,ordered,start)}case"list_item_start":{body="";while("list_item_end"!==this.next().type){body+="text"===this.token.type?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{body="";while("list_item_end"!==this.next().type){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};/**
 * Helpers
 */function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){// explicitly match decimal, hex, and named HTML entities
return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(_,n){n=n.toLowerCase();if("colon"===n)return":";if("#"===n.charAt(0)){return"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function edit(regex,opt){regex=regex.source;opt=opt||"";return{replace:function(name,val){val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return this},getRegex:function(){return new RegExp(regex,opt)}}}function resolveUrl(base,href){if(!baseUrls[" "+base]){// we can ignore everything in base after the last slash of its path component,
// but we might need to add _that_
// https://tools.ietf.org/html/rfc3986#section-3
if(/^[^:]+:\/*[^/]*$/.test(base)){baseUrls[" "+base]=base+"/"}else{baseUrls[" "+base]=base.replace(/[^/]*$/,"")}}base=baseUrls[" "+base];if("//"===href.slice(0,2)){return base.replace(/:[\s\S]*/,":")+href}else if("/"===href.charAt(0)){return base.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+href}else{return base+href}}var baseUrls={},originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}/**
 * Marked
 */function marked(src,opt,callback){// throw error in case of non string input
if("undefined"===typeof src||null===src){throw new Error("marked(): input parameter is undefined or null")}if("string"!==typeof src){throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected")}if(callback||"function"===typeof opt){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||3>highlight.length){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if("code"!==token.type){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(null==code||code===token.text){return--pending||done()}token.text=code;token.escaped=!0;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/markedjs/marked.";if((opt||marked.defaults).silent){return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>"}throw e}}/**
 * Options
 */marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1,baseUrl:null};/**
 * Expose
 */marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.TextRenderer=TextRenderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if("undefined"!==typeof module&&"object"===typeof exports){module.exports=marked}else if("function"===typeof define&&define.amd){define(function(){return marked})}else{root.marked=marked}})(this||("undefined"!==typeof window?window:global));</script><script>if(!window.marked){// For webpack support for the Polymer 3 version created by the Polymer Modulizer
// More info: https://github.com/PolymerElements/marked-element/issues/81
window.marked=require("../../marked/lib/marked.js")}</script><dom-module id="marked-element" assetpath="bower_components/marked-element/"><template><style>:host{display:block;}</style><slot name="markdown-html"><div id="content"></div></slot></template></dom-module><script>'use strict';Polymer({is:"marked-element",properties:{/**
       * The markdown source that should be rendered by this element.
       */markdown:{type:String,value:null},/**
       * Enable GFM line breaks (regular newlines instead of two spaces for breaks)
       */breaks:{type:Boolean,value:/* eat */!1},/**
       * Conform to obscure parts of markdown.pl as much as possible. Don't fix any of the original markdown bugs or poor behavior.
       */pedantic:{type:Boolean,value:!1},/**
       * Function used to customize a renderer based on the [API specified in the Marked
       * library](https://github.com/chjj/marked#overriding-renderer-methods).
       * It takes one argument: a marked renderer object, which is mutated by the function.
       */renderer:{type:Function,value:null},/**
       * Sanitize the output. Ignore any HTML that has been input.
       */sanitize:{type:Boolean,value:!1},/**
       * Function used to customize a sanitize behavior.
       * It takes one argument: element String without text Contents.
       *
       * e.g. `<div>` `<a href="/">` `</p>'.
       * Note: To enable this function, must set `sanitize` to true.
       * WARNING: If you are using this option to untrusted text, you must to prevent XSS Attacks.
       */sanitizer:{type:Function,value:null},/**
       * If true, disables the default sanitization of any markdown received by
       * a request and allows fetched unsanitized markdown
       *
       * e.g. fetching markdown via `src` that has HTML.
       * Note: this value overrides `sanitize` if a request is made.
       */disableRemoteSanitization:{type:Boolean,value:!1},/**
       * Use "smart" typographic punctuation for things like quotes and dashes.
       */smartypants:{type:Boolean,value:!1},/**
       * Callback function invoked by Marked after HTML has been rendered.
       * It must take two arguments: err and text and must return the resulting text.
       */callback:{type:Function,value:null},/**
       * A reference to the XMLHttpRequest instance used to generate the
       * network request.
       *
       * @type {XMLHttpRequest}
       */xhr:{type:Object,notify:!0,readOnly:!0}},observers:["render(markdown, breaks, pedantic, renderer, sanitize, sanitizer, smartypants, callback)"],ready:function(){if(this.markdown){return}// Use the Markdown from the first `<script>` descendant whose MIME type starts with
// "text/markdown". Script elements beyond the first are ignored.
this._markdownElement=Polymer.dom(this).querySelector("[type=\"text/markdown\"]");if(!this._markdownElement){return}if(this._markdownElement.src){this._request(this._markdownElement.src)}if(""!==this._markdownElement.textContent.trim()){this.markdown=this._unindent(this._markdownElement.textContent)}var observer=new MutationObserver(this._onScriptAttributeChanged.bind(this));observer.observe(this._markdownElement,{attributes:!0})},/**
     * Renders `markdown` to HTML when the element is attached.
     *
     * This serves a dual purpose:
     *
     *  * Prevents unnecessary work (no need to render when not visible).
     *
     *  * `attached` fires top-down, so we can give ancestors a chance to
     *    register listeners for the `syntax-highlight` event _before_ we render
     *    any markdown.
     *
     */attached:function(){this._attached=!0;this._outputElement=this.outputElement;this.render()},detached:function(){this._attached=!1},/**
     * Unindents the markdown source that will be rendered.
     *
     * @param {string} text
     * @return {string}
     */unindent:function(text){return this._unindent(text)},get outputElement(){var child=Polymer.dom(this).queryDistributedElements("[slot=\"markdown-html\"]")[0];return child||this.$.content},/**
     * The `marked-render-complete` event is fired once Markdown to HTML
     * conversion has finished, and the DOM has been populated via the resulting
     * HTML.
     *
     * @event marked-render-complete
     */ /**
     * Renders `markdown` into this element's DOM.
     *
     * This is automatically called whenever the `markdown` property is changed.
     *
     * The only case where you should be calling this is if you are providing
     * markdown via `<script type="text/markdown">` after this element has been
     * constructed (or updating that markdown).
     */render:function(){if(!this._attached){return};if(!this.markdown){Polymer.dom(this._outputElement).innerHTML="";return}var renderer=new marked.Renderer;if(this.renderer){this.renderer(renderer)}var opts={renderer:renderer,highlight:this._highlight.bind(this),breaks:this.breaks,sanitize:this.sanitize,sanitizer:this.sanitizer,pedantic:this.pedantic,smartypants:this.smartypants};Polymer.dom(this._outputElement).innerHTML=marked(this.markdown,opts,this.callback);this.fire("marked-render-complete",{},{composed:!0})},/**
     * Fired when the content is being processed and before it is rendered.
     * Provides an opportunity to highlight code blocks based on the programming language used. This
     * is also known as syntax highlighting. One example would be to use a prebuilt syntax
     * highlighting library, e.g with [highlightjs](https://highlightjs.org/).
     *
     * @param {string} code
     * @param {string} lang
     * @return {string}
     * @event syntax-highlight
     */_highlight:function(code,lang){var event=this.fire("syntax-highlight",{code:code,lang:lang},{composed:!0});return event.detail.code||code},/**
     * @param {string} text
     * @return {string}
     */_unindent:function(text){if(!text)return text;var lines=text.replace(/\t/g,"  ").split("\n"),indent=lines.reduce(function(prev,line){if(/^\s*$/.test(line))return prev;// Completely ignore blank lines.
var lineIndent=line.match(/^(\s*)/)[0].length;if(null===prev)return lineIndent;return lineIndent<prev?lineIndent:prev},null);return lines.map(function(l){return l.substr(indent)}).join("\n")},/**
     * Fired when the XHR finishes loading
     *
     * @param {string} url
     * @event marked-loadend
     */_request:function(url){this._setXhr(new XMLHttpRequest);var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("error",this._handleError.bind(this));xhr.addEventListener("loadend",function(e){var status=this.xhr.status||0;// Note: if we are using the file:// protocol, the status code will be 0
// for all outcomes (successful or otherwise).
if(0===status||200<=status&&300>status){this.sanitize=!this.disableRemoteSanitization;this.markdown=e.target.response}else{this._handleError(e)}this.fire("marked-loadend",e)}.bind(this));xhr.open("GET",url);xhr.setRequestHeader("Accept","text/markdown");xhr.send()},/**
     * Fired when an error is received while fetching remote markdown content.
     *
     * @param {!Event} e
     * @event marked-request-error
     */_handleError:function(e){var evt=this.fire("marked-request-error",e,{cancelable:!0});if(!evt.defaultPrevented){this.markdown="Failed loading markdown source"}},/**
     * @param {!Array<!MutationRecord>} mutation
     */_onScriptAttributeChanged:function(mutation){if("src"!==mutation[0].attributeName){return}this._request(this._markdownElement.src)}});</script><script data-manual="">/* **********************************************
     Begin prism-core.js
********************************************** */var _self="undefined"!==typeof window?window// if in browser
:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self// if in worker
:{}// if in node js
,Prism=function(_self){// Private helper vars
var lang=/\blang(?:uage)?-([\w-]+)\b/i,uniqueId=0,_={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias)}else if(Array.isArray(tokens)){return tokens.map(_.util.encode)}else{return tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(obj){if(!obj.__id){Object.defineProperty(obj,"__id",{value:++uniqueId})}return obj.__id},// Deep clone a language definition (e.g. to extend it)
clone:function deepClone(o,visited){var clone,id,type=_.util.type(o);visited=visited||{};switch(type){case"Object":id=_.util.objId(o);if(visited[id]){return visited[id]}clone={};visited[id]=clone;for(var key in o){if(o.hasOwnProperty(key)){clone[key]=deepClone(o[key],visited)}}return clone;case"Array":id=_.util.objId(o);if(visited[id]){return visited[id]}clone=[];visited[id]=clone;o.forEach(function(v,i){clone[i]=deepClone(v,visited)});return clone;default:return o;}}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key]}return lang},/**
		 * Insert a token before another token in a language literal
		 * As this needs to recreate the object (we cannot actually insert before keys in object literals),
		 * we cannot just provide an object, we need an object and a key.
		 * @param inside The key (or language id) of the parent
		 * @param before The key to insert before.
		 * @param insert Object with the key/value pairs to insert
		 * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.
		 */insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside],ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken]}}}// Do not insert token which also occur in insert. See #1525
if(!insert.hasOwnProperty(token)){ret[token]=grammar[token]}}}var old=root[inside];root[inside]=ret;// Update references in other language definitions
_.languages.DFS(_.languages,function(key,value){if(value===old&&key!=inside){this[key]=ret}});return ret},// Traverse a language definition with Depth First Search
DFS:function DFS(o,callback,type,visited){visited=visited||{};var objId=_.util.objId;for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);var property=o[i],propertyType=_.util.type(property);if("Object"===propertyType&&!visited[objId(property)]){visited[objId(property)]=!0;DFS(property,callback,null,visited)}else if("Array"===propertyType&&!visited[objId(property)]){visited[objId(property)]=!0;DFS(property,callback,i,visited)}}}}},plugins:{},highlightAll:function(async,callback){_.highlightAllUnder(document,async,callback)},highlightAllUnder:function(container,async,callback){var env={callback:callback,selector:"code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code"};_.hooks.run("before-highlightall",env);for(var elements=env.elements||container.querySelectorAll(env.selector),i=0,element;element=elements[i++];){_.highlightElement(element,!0===async,env.callback)}},highlightElement:function(element,async,callback){// Find language
var language,grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(parent.className.match(lang)||[,""])[1].toLowerCase();grammar=_.languages[language]}// Set language on the element, if not present
element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language;if(element.parentNode){// Set language on the parent, for styling
parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language}}var code=element.textContent,env={element:element,language:language,grammar:grammar,code:code},insertHighlightedCode=function(highlightedCode){env.highlightedCode=highlightedCode;_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;_.hooks.run("after-highlight",env);_.hooks.run("complete",env);callback&&callback.call(env.element)};_.hooks.run("before-sanity-check",env);if(!env.code){_.hooks.run("complete",env);return}_.hooks.run("before-highlight",env);if(!env.grammar){insertHighlightedCode(_.util.encode(env.code));return}if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){insertHighlightedCode(evt.data)};worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:!0}))}else{insertHighlightedCode(_.highlight(env.code,env.grammar,env.language))}},highlight:function(text,grammar,language){var env={code:text,grammar:grammar,language:language};_.hooks.run("before-tokenize",env);env.tokens=_.tokenize(env.code,env.grammar);_.hooks.run("after-tokenize",env);return Token.stringify(_.util.encode(env.tokens),env.language)},matchGrammar:function(text,strarr,grammar,index,startPos,oneshot,target){for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue}if(token==target){return}var patterns=grammar[token];patterns="Array"===_.util.type(patterns)?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,greedy=!!pattern.greedy,lookbehindLength=0,alias=pattern.alias;if(greedy&&!pattern.pattern.global){// Without the global flag, lastIndex won't work
var flags=pattern.pattern.toString().match(/[imuy]*$/)[0];pattern.pattern=RegExp(pattern.pattern.source,flags+"g")}pattern=pattern.pattern||pattern;// Don’t cache length as it changes during the loop
for(var i=index,pos=startPos,str;i<strarr.length;pos+=strarr[i].length,++i){str=strarr[i];if(strarr.length>text.length){// Something went terribly wrong, ABORT, ABORT!
return}if(str instanceof Token){continue}if(greedy&&i!=strarr.length-1){pattern.lastIndex=pos;var match=pattern.exec(text);if(!match){break}for(var from=match.index+(lookbehind?match[1].length:0),to=match.index+match[0].length,k=i,p=pos,len=strarr.length;k<len&&(p<to||!strarr[k].type&&!strarr[k-1].greedy);++k){p+=strarr[k].length;// Move the index i to the element in strarr that is closest to from
if(from>=p){++i;pos=p}}// If strarr[i] is a Token, then the match starts inside another Token, which is invalid
if(strarr[i]instanceof Token){continue}// Number of tokens to delete and replace with the new match
delNum=k-i;str=text.slice(pos,p);match.index-=pos}else{pattern.lastIndex=0;var match=pattern.exec(str),delNum=1}if(!match){if(oneshot){break}continue}if(lookbehind){lookbehindLength=match[1]?match[1].length:0}var from=match.index+lookbehindLength,match=match[0].slice(lookbehindLength),to=from+match.length,before=str.slice(0,from),after=str.slice(to),args=[i,delNum];if(before){++i;pos+=before.length;args.push(before)}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias,match,greedy);args.push(wrapped);if(after){args.push(after)}Array.prototype.splice.apply(strarr,args);if(1!=delNum)_.matchGrammar(text,strarr,grammar,i,pos,!0,token);if(oneshot)break}}}},tokenize:function(text,grammar){var strarr=[text],rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token]}delete grammar.rest}_.matchGrammar(text,strarr,grammar,0,0,/* eat */!1);return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return}for(var i=0,callback;callback=callbacks[i++];){callback(env)}}},Token:Token};_self.Prism=_;function Token(type,content,alias,matchedStr,greedy){this.type=type;this.content=content;this.alias=alias;// Copy of the full string this token was created from
this.length=0|(matchedStr||"").length;this.greedy=!!greedy}Token.stringify=function(o,language,parent){if("string"==typeof o){return o}if(Array.isArray(o)){return o.map(function(element){return Token.stringify(element,language,o)}).join("")}var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if(o.alias){var aliases=Array.isArray(o.alias)?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes=Object.keys(env.attributes).map(function(name){return name+"=\""+(env.attributes[name]||"").replace(/"/g,"&quot;")+"\""}).join(" ");return"<"+env.tag+" class=\""+env.classes.join(" ")+"\""+(attributes?" "+attributes:"")+">"+env.content+"</"+env.tag+">"};if(!_self.document){if(!_self.addEventListener){// in Node.js
return _}if(!_.disableWorkerMessageHandler){// In worker
_self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang));if(immediateClose){_self.close()}},!1)}return _}//Get current script and highlight
var script=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();if(script){_.filename=script.src;if(!_.manual&&!script.hasAttribute("data-manual")){if("loading"!==document.readyState){if(window.requestAnimationFrame){window.requestAnimationFrame(_.highlightAll)}else{window.setTimeout(_.highlightAll,16)}}else{document.addEventListener("DOMContentLoaded",_.highlightAll)}}}return _}(_self);/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 * MIT license http://www.opensource.org/licenses/mit-license.php/
 * @author Lea Verou http://lea.verou.me
 */if("undefined"!==typeof module&&module.exports){module.exports=Prism}// hack for components to work correctly in node.js
if("undefined"!==typeof global){global.Prism=Prism}/* **********************************************
     Begin prism-markup.js
********************************************** */Prism.languages.markup={comment:/\x3c!--[\s\S]*?--\x3e/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;// Plugin to make entity title show the real entity, idea by Roman Komarov
Prism.hooks.add("wrap",function(env){if("entity"===env.type){env.attributes.title=env.content.replace(/&amp;/,"&")}});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{/**
	 * Adds an inlined language to markup.
	 *
	 * An example of an inlined language is CSS with `<style>` tags.
	 *
	 * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as
	 * case insensitive.
	 * @param {string} lang The language key.
	 * @example
	 * addInlined('style', 'css');
	 */value:function addInlined(tagName,lang){var includedCdataInside={};includedCdataInside["language-"+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[lang]};includedCdataInside.cdata=/^<!\[CDATA\[|\]\]>$/i;var inside={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside["language-"+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,tagName),"i"),lookbehind:!0,greedy:!0,inside:inside};Prism.languages.insertBefore("markup","cdata",def)}});Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;/* **********************************************
     Begin prism-css.js
********************************************** */(function(Prism){var string=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/ // See rest below
}},url:RegExp("url\\((?:"+string.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+string.source+")*?(?=\\s*\\{)"),string:{pattern:string,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/};Prism.languages.css.atrule.inside.rest=Prism.languages.css;var markup=Prism.languages.markup;if(markup){markup.tag.addInlined("style","css");Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},markup.tag)}})(Prism);/* **********************************************
     Begin prism-clike.js
********************************************** */Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};/* **********************************************
     Begin prism-javascript.js
********************************************** */Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)
function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},// This must be declared before keyword because we use "function" inside the look-forward
"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}});if(Prism.languages.markup){Prism.languages.markup.tag.addInlined("script","javascript")}Prism.languages.js=Prism.languages.javascript;/* **********************************************
     Begin prism-file-highlight.js
********************************************** */(function(){if("undefined"===typeof self||!self.Prism||!self.document||!document.querySelector){return}/**
	 * @param {Element} [container=document]
	 */self.Prism.fileHighlight=function(container){container=container||document;var Extensions={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(container.querySelectorAll("pre[data-src]")).forEach(function(pre){// ignore if already loaded
if(pre.hasAttribute("data-src-loaded")){return}// load current
var src=pre.getAttribute("data-src"),language,parent=pre,lang=/\blang(?:uage)?-([\w-]+)\b/i;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(pre.className.match(lang)||[,""])[1]}if(!language){var extension=(src.match(/\.(\w+)$/)||[,""])[1];language=Extensions[extension]||extension}var code=document.createElement("code");code.className="language-"+language;pre.textContent="";code.textContent="Loading\u2026";pre.appendChild(code);var xhr=new XMLHttpRequest;xhr.open("GET",src,!0);xhr.onreadystatechange=function(){if(4==xhr.readyState){if(400>xhr.status&&xhr.responseText){code.textContent=xhr.responseText;Prism.highlightElement(code);// mark as loaded
pre.setAttribute("data-src-loaded","")}else if(400<=xhr.status){code.textContent="\u2716 Error "+xhr.status+" while fetching file: "+xhr.statusText}else{code.textContent="\u2716 Error: File does not exist or is empty"}}};xhr.send(null)});if(Prism.plugins.toolbar){Prism.plugins.toolbar.registerButton("download-file",function(env){var pre=env.element.parentNode;if(!pre||!/pre/i.test(pre.nodeName)||!pre.hasAttribute("data-src")||!pre.hasAttribute("data-download-link")){return}var src=pre.getAttribute("data-src"),a=document.createElement("a");a.textContent=pre.getAttribute("data-download-link-label")||"Download";a.setAttribute("download","");a.href=src;return a})}};document.addEventListener("DOMContentLoaded",function(){// execute inside handler, for dropping Event as argument
self.Prism.fileHighlight()})})();</script><style>code[class*="language-"],
pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc;}pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc;}@media print{code[class*="language-"],
	pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
.token.prolog,
.token.doctype,
.token.cdata{color:slategray;}.token.punctuation{color:#999;}.namespace{opacity:.7;}.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted{color:#905;}.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted{color:#690;}.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string{color:#9a6e3a;background:hsla(0, 0%, 100%, .5);}.token.atrule,
.token.attr-value,
.token.keyword{color:#07a;}.token.function,
.token.class-name{color:#DD4A68;}.token.regex,
.token.important,
.token.variable{color:#e90;}.token.important,
.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style><script>(function(){'use strict';var HIGHLIGHT_EVENT="syntax-highlight";Polymer({is:"prism-highlighter",properties:{/**
       * Adds languages outside of the core Prism languages.
       *
       * Prism includes a few languages in the core library:
       *   - JavaScript
       *   - Markup
       *   - CSS
       *   - C-Like
       * Use this property to extend the core set with other Prism
       * components and custom languages.
       *
       * Example:
       *   ```
       *   <!-- with languages = {'custom': myCustomPrismLang}; -->
       *   <!-- or languages = Prism.languages; -->
       *   <prism-highlighter languages="[[languages]]"></prism-highlighter>
       *   ```
       *
       * @attribute languages
       * @type {!Object}
       */languages:{type:Object,value:function(){return{}}}},ready:function(){this._handler=this._highlight.bind(this)},attached:function(){(this.parentNode.host||this.parentElement).addEventListener(HIGHLIGHT_EVENT,this._handler)},detached:function(){(this.parentNode.host||this.parentElement).removeEventListener(HIGHLIGHT_EVENT,this._handler)},/**
     * Handle the highlighting event, if we can.
     *
     * @param {!CustomEvent} event
     */_highlight:function(event){if(!event.detail||!event.detail.code){Polymer.Base._warn("Malformed",HIGHLIGHT_EVENT,"event:",event.detail);return}event.stopPropagation();var detail=event.detail;detail.code=Prism.highlight(detail.code,this._detectLang(detail.code,detail.lang))},/**
     * Picks a Prism formatter based on the `lang` hint and `code`.
     *
     * @param {string} code The source being highlighted.
     * @param {string=} lang A language hint (e.g. ````LANG`).
     * @return {!Prism.Lang}
     */_detectLang:function(code,lang){if(!lang){// Stupid simple detection if we have no lang, courtesy of:
// https://github.com/robdodson/mark-down/blob/ac2eaa/mark-down.html#L93-101
return code.match(/^\s*</)?Prism.languages.markup:Prism.languages.javascript}if(this.languages[lang]){return this.languages[lang]}else if(Prism.languages[lang]){return Prism.languages[lang]}switch(lang.substr(0,2)){case"js":case"es":return Prism.languages.javascript;case"c":return Prism.languages.clike;default:// The assumption is that you're mostly documenting HTML when in HTML.
return Prism.languages.markup;}}})})();</script><script>/**
 * `api-example-generator`
 *
 * Examples generator from AMF model.
 *
 * ## Data model
 *
 * The result of calling `generatePayloadsExamples()`, `generatePayloadExamples()`,
 * or `computeExamples()` is an array of view models.
 *
 * ### ExampleModel
 *
 * - **hasRaw** `Boolean` - if true then `raw` property has a value
 * - **hasTitle** `Boolean` - if true then `title` property has a value
 * - **hasUnion** `Boolean` - if true then `values` property has a value
 * - **value** `String`, Optional - Example to render
 * - **title** - `String`, Optional - Example name, only when `hasTitle` is set
 * - **raw** `String`, Optional - Raw value of RAML example. This value is a
 * YAML or JSON schema value. This is only set when raw value is available in
 * the model and it is not JSON/XML.
 * - **values** `Array<ExampleModel>`, Optional - Only when `hasUnion` is set.
 *
 * ## Usage
 *
 * To generate examples for a list payloads
 *
 * ```javascript
 * const supportedOperation = {...}; // definition of AMF supported operation
 * const payloads = getPayloads(supportedOperation); // Extract array of payloads from e.g. Expects
 * const mediaTypes = generator.listMedia(payloads);
 * const examples = generator.generatePayloadsExamples(payloads, mediaTypes[0]);
 * console.log(examples);
 * ```
 *
 * To generate examples from a payload
 *
 * ```javascript
 * const examples = generator.generatePayloadExamples(payloads[0], 'application/json');
 * console.log(examples);
 * ```
 *
 * To generate examples from any object to any mime
 *
 * ```javascript
 * const shape = getTypeDeclaration(); // gets type definition
 * const examples = generator.computeExamples(shape, 'application/json');
 * console.log(examples);
 * ```
 *
 * ## Processing options
 *
 * - `rawOnly` - list "raw" examples only.
 * - `noAuto` - Don't generate an example from object properties if the example is
 * not defined in API file.
 * - `typeName` - Processed type name, used for XML types to use right XML element wrapper name.
 *
 * @customElement
 * @polymer
 * @demo demo/index.html
 * @memberof ApiElements
 * @appliesMixin ApiElements.AmfHelperMixin
 */class ApiExampleGenerator extends ApiElements.AmfHelperMixin(Polymer.Element){/**
   * @type {String}
   */static get is(){return"api-example-generator"}/**
   * Lists media types names for payloads.
   * The `payloads` is an array of AMF Payload shape. It can be single Payload
   * shape as a convenient method for compact model.
   *
   * @param {Array<Object>|Object} payloads List of payloads AMF's Request shape.
   * @return {Array<String>|undefined} Returns a list of mime types or undefined
   * if not found.
   */listMedia(payloads){if(!payloads){return}if(!(payloads instanceof Array)){if(!this._hasType(payloads,this.ns.raml.vocabularies.http+"Payload")){return}return[this._getValue(payloads,this.ns.raml.vocabularies.http+"mediaType")]}const result=[];for(let i=0;i<payloads.length;i++){const payload=payloads[i],mime=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");result[result.length]=mime}return result}/**
   * Generates a list of examples from an AMF Payloads array for a given media type.
   * The shape can be an Example in which case it will return the example value.
   * If the shape is other shape than Example shape then it looks for examples array and
   * use it to generate values. Otherwise it tries to generate an example from
   * object properties (if object).
   *
   * @param {Array<Object>|Object} payloads List of payloads to process.
   * @param {String} media A media to for which to generate the examles.
   * @param {Object} opts Generation options:
   * - noAuto `Boolean` - When set it only returns examples defined in API spec file.
   * When not set it generates examples from properties when the example is not
   * defined.
   * - type `String` - Type name of an union type. If not set it uses first type
   * - typeName `String` - When generating XML example name of the type to use as main node.
   * @return {String|undefined} Example value.
   */generatePayloadsExamples(payloads,media,opts){if(!opts){opts={}}if(!payloads||!media&&!opts.rawOnly){return}if(!(payloads instanceof Array)){payloads=[payloads]}let result;for(let i=0,len=payloads.length;i<len;i++){const payload=payloads[i],payloadMedia=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(media&&payloadMedia!==media){continue}result=this.generatePayloadExamples(payload,media,opts);break}return result}/**
   * Generates a list of examples for a single AMF Payload shape.
   * @param {Object} payload AMF Payload shape.
   * @param {String} mime A mime type to use.
   * @param {Object} opts Generation options. See `generatePayloadsExamples()`.
   * @return {Array<Object>|undefined} List of examples.
   */generatePayloadExamples(payload,mime,opts){if(!this._hasType(payload,this.ns.raml.vocabularies.http+"Payload")){return}this._resolve(payload);const sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=payload[sKey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}opts.typeId=payload["@id"];return this.computeExamples(schema,mime,opts)}/**
   * Computes examples from an AMF shape.
   * It returns examples defined in API spec file. If examples are not defined
   * and `opts.noAuto` flag is not set then it generates an example value from
   * object properties (if an object represents scalar, object, union, or an array).
   *
   * @param {Object} schema Any AMF schema.
   * @param {String} mime Examples media type. Currently `application/json` and
   * `application/xml` are supported.
   * @param {Object} opts Generation options. See `generatePayloadsExamples()`.
   * Besides that, `opts.typeId` is required to compute examples for a payload.
   * The `typeId` is a value of `@id` of the Payload shape.
   * @return {Array<Object>|undefined}
   */computeExamples(schema,mime,opts){if(!opts){opts={}}if(!schema||!mime&&!opts.rawOnly){return}this._resolve(schema);const eKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples"),examples=this._ensureArray(schema[eKey]);if(examples){return this._computeFromExamples(examples,mime,opts)}const jsonSchema=this._readJsonSchema(schema);if(jsonSchema){return this._exampleFromJsonSchema(schema,jsonSchema)}if(opts.rawOnly){return}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"ArrayShape")){const value=this._computeExampleArraySchape(schema,mime,opts);if(value){return value}}if(this._hasType(schema,this.ns.raml.vocabularies.document+"Example")){const value=this._generateFromExample(schema,mime,opts);if(value){return[value]}}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"UnionShape")){return this._computeUnionExamples(schema,mime,opts)}if(opts.noAuto){return}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"ScalarShape")){const result=this._computeJsonScalarValue(schema);return[{hasRaw:/* eat */!1,hasTitle:!1,hasUnion:!1,value:result}]}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(schema[pKey]);if(properties&&properties.length){const typeName=this._getValue(schema,this.ns.w3.shacl.name+"name"),value=this._exampleFromProperties(properties,mime,typeName);if(value){return[value]}}}/**
   * Reads a raw value of JSON schema if available.
   * @param {Object} schema Schema shape of a type.
   * @return {String|undefined} JSON schema if exists.
   */_readJsonSchema(schema){const sourceKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources"),trackedKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"parsed-json-schema"),valueKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"value");let sm=schema[sourceKey];if(!sm){return}if(sm instanceof Array){sm=sm[0]}let tracked=sm[trackedKey];if(!tracked){return}if(tracked instanceof Array){tracked=tracked[0]}return this._getValue(tracked,valueKey)}/**
  * Computes examples value from a list of examples.
   * @param {Array<Object>} examples List of AMF Example schapes.
   * @param {String} mime Examples media type. Currently `application/json` and
   * `application/xml` are supported.
   * @param {Object} opts Generation options. See `generatePayloadsExamples()`.
   * Besides that, `opts.typeId` is required to compute examples for a payload.
   * The `typeId` is a value of `@id` of the Payload shape.
   * @return {Array<Object>|undefined}
   */_computeFromExamples(examples,mime,opts){examples=this._processExamples(examples);examples=this._listTypeExamples(examples,opts.typeId);if(!examples){return}const result=[];for(let i=0;i<examples.length;i++){const shape=examples[i],value=this._generateFromExample(shape,mime,opts);if(value){result[result.length]=value}}return result}/**
   * In AMF 4 the examples model changes from being an array of examples
   * to an object that contains an array of examples.
   * This function extracts the array of examples back to the `examples` variable,
   * respecting that the compact model can be an object instead of array.
   * If the argument is an array with more than one item it means it's pre-4.0.0
   * model.
   * @param {Array|Object} examples Examples model.
   * @return {Array|undefined} List of examples to process.
   */_processExamples(examples){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");if(!(examples instanceof Array)){if(this._hasType(examples,this.ns.raml.vocabularies.document+"NamedExamples")){return this._ensureArray(examples[key])}return}if(1===examples.length&&this._hasType(examples[0],this.ns.raml.vocabularies.document+"NamedExamples")){return this._ensureArray(examples[0][key])}return examples}/**
   * Uses Example shape's source maps to determine which examples should be rendered.
   * @param {Array<Object>} examples List of AMF Example schapes.
   * @param {String} typeId Payload ID
   * @return {Array<Object>|undefined}
   */_listTypeExamples(examples,typeId){if(!typeId){return examples}const result=[],sourceKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources"),trackedKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"tracked-element"),valueKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"value"),longId=-1===typeId.indexOf("amf")?"amf://id"+typeId:typeId;for(let i=0,len=examples.length,example;i<len;i++){example=examples[i];if(example instanceof Array){example=example[0]}let sm=example[sourceKey];if(!sm){result[result.length]=example;continue}if(sm instanceof Array){sm=sm[0]}let tracked=sm[trackedKey];if(!tracked){result[result.length]=example;continue}if(tracked instanceof Array){tracked=tracked[0]}const value=this._getValue(tracked,valueKey);if(!value){continue}const ids=value.split(",");if(-1!==ids.indexOf(longId)||-1!==ids.indexOf(typeId)){result[result.length]=example}}return result.length?result:void 0}/**
   * Generate an example from an example shape.
   *
   * @param {Object} example Resolved example.
   * @param {String} mime Example content type.
   * @param {?Object} opts Processing options.
   * @return {String|undefined}
   */_generateFromExample(example,mime,opts){let raw=this._getValue(example,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(example,this.ns.w3.shacl.name+"raw")}let title=this._getValue(example,this.ns.schema.schemaName);if(title&&0===title.indexOf("example_")){title=void 0}const hasRaw=!!raw,result={};result.hasTitle=!!title;result.hasUnion=!1;if(result.hasTitle){result.title=title}if(opts.rawOnly){result.hasRaw=!1;result.value=raw;return result}const isJson=-1!==mime.indexOf("json"),isXml=!isJson&&-1!==mime.indexOf("xml");if(hasRaw){if(isJson){try{const res=JSON.parse(raw),type=typeof res;if("string"===type||"number"===type||"boolean"===type){throw new Error("")}result.hasRaw=!1;result.value=raw;return result}catch(_){}}if(isXml){if("<"===raw.trim()[0]){result.hasRaw=!1;result.value=raw;return result}}result.hasRaw=!0;result.raw=raw}const sKey=this._getAmfKey(this.ns.raml.vocabularies.document+"structuredValue");let structure=example[sKey];if(!structure){if(result.raw){result.value=result.raw}else{result.value=""}return result}if(structure instanceof Array){structure=structure[0]}if(isJson){let data=this._jsonFromStructure(structure);if(data){if("object"===typeof data){data=JSON.stringify(data,null,2)}result.value=data;return result}}else if(isXml){const data=this._xmlFromStructure(structure,opts);result.value=data;return result}else{if(result.raw){result.value=result.raw}else{result.value=""}return result}}_computeExampleArraySchape(schema,mime,opts){const iKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(schema[iKey]);if(!items){return}const isJson=-1!==mime.indexOf("json");// We need only first type here as arras can have different types
for(let i=0,len=items.length;i<len;i++){const item=items[i],result=this.computeExamples(item,mime,opts);if(result){if(isJson){result.forEach(item=>{if("["!==item.value[0]){item.value="["+item.value+"]"}})}return result}}}_computeUnionExamples(schema,mime,opts){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf");let anyOf=this._ensureArray(schema[key]);if(!anyOf){return}const result={hasTitle:!1,hasRaw:!1,hasUnion:!0,values:[]};for(let i=0,len=anyOf.length,unionSchape;i<len;i++){unionSchape=anyOf[i];if(unionSchape instanceof Array){unionSchape=unionSchape[0]}this._resolve(unionSchape);let data=this.computeExamples(unionSchape,mime,opts);if(!data){continue}data=data[0];let name=this._getValue(unionSchape,this.ns.w3.shacl.name+"name");if(!name){name="Union #"+(i+1)}data.hasTitle=!0;data.title=name;result.values[result.values.length]=data}return result.values.length?[result]:void 0}/**
   * Computes value from defined `datatype` property.
   * @param {Object} shape A shape with `datatype` property.
   * @return {String|undefined} Value of the data type.
   */_computeScalarType(shape){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dt=shape[dtKey];if(!dt){return}if(dt instanceof Array){dt=dt[0]}let id=dt["@id"]?dt["@id"]:dt;const w3index=id.indexOf(this.ns.w3.xmlSchema);if(-1!==w3index){id=id.substr(this.ns.w3.xmlSchema.length)}const shapeindex=id.indexOf(this.ns.raml.vocabularies.shapes);if(-1!==shapeindex){id=id.substr(this.ns.raml.vocabularies.shapes.length)}const index=id.indexOf(":");if(-1!==index){id=id.substr(index)}return id[0].toUpperCase()+id.substr(1)}/**
   * Creates a JSON example representation from AMF example's structure
   * definition.
   * @param {Object} structure
   * @return {any}
   */_jsonFromStructure(structure){if(!structure){return}const prefix=this.ns.raml.vocabularies.data;if(this._hasType(structure,prefix+"Scalar")){const key=this._getAmfKey(prefix+"value");return this._getTypedValue(structure[key])}let obj,isArray=!1;if(this._hasType(structure,prefix+"Object")){obj={}}else if(this._hasType(structure,prefix+"Array")){obj=[];isArray=!0}else{return}if(isArray&&this._hasProperty(structure,this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member")){const key=this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member"),items=structure[key];for(let i=0,len=items.length;i<len;i++){const item=items[i];this._jsonFromStructureValue(item,obj,isArray)}}else{const resolvedPrefix=this._getAmfKey(prefix);Object.keys(structure).forEach(key=>{if(0!==key.indexOf(resolvedPrefix)){return}let v=structure[key];this._jsonFromStructureValue(v,obj,isArray,key,resolvedPrefix)})}return obj}_jsonFromStructureValue(value,obj,isArray,key,resolvedPrefix){if(value instanceof Array){value=value[0]}const tmp=this._jsonFromStructure(value);if(tmp===void 0){// it can be false or null
return}if(isArray){obj[obj.length]=tmp}else{key=key.replace(resolvedPrefix,"");if(":"===key[0]){key=key.substr(1)}obj[key]=tmp}}_xmlFromStructure(structure,opts){const typeName=opts&&opts.typeName||"model",doc=document.implementation.createDocument("",typeName,null),main=doc.documentElement,keys=Object.keys(structure),exclude=["@id","@type","__apicResolved",this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources")];for(let i=0,len=keys.length,key;i<len;i++){key=keys[i];if(-1!==exclude.indexOf(key)){continue}let item=structure[key];if(item instanceof Array){item=item[0]}const name=this._dataNameFromKey(key);this._xmlProcessDataProperty(doc,main,item,name)}const s=new XMLSerializer;let value=s.serializeToString(doc);value="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+value;return this.formatXml(value)}formatXml(xml){const PADDING=" ".repeat(2),reg=/(>)(<)(\/*)/g;let pad=0;xml=xml.replace(reg,"$1\r\n$2$3");return xml.split("\r\n").map(node=>{let indent=0;if(node.match(/.+<\/\w[^>]*>$/)){indent=0}else if(node.match(/^<\/\w/)&&0<pad){pad-=1}else if(node.match(/^<\w[^>]*[^\/]>.*$/)){indent=1}else{indent=0}pad+=indent;return PADDING.repeat(pad-indent)+node}).join("\r\n")}_getTypedValue(shape){if(!shape){return}if(shape instanceof Array){shape=shape[0]}let value=shape["@value"];if(!value){return value}let dt=shape["@type"];if(!dt){return value||""}if(dt instanceof Array){dt=dt[0]}return this._typeToValue(value,dt)}/**
   * Creates a example structure for the JSON schema.
   * Old but still in use.
   * @param {Object} schema AMF schema schape
   * @param {String} jsonSchema Raw JSON schema value
   * @return {Array<Object>} Generated example model.
   */_exampleFromJsonSchema(schema,jsonSchema){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(schema[pKey]);let example;if(properties&&properties.length){const typeName=this._getValue(schema,this.ns.w3.shacl.name+"name");example=this._exampleFromProperties(properties,"application/json",typeName)}if(example){example.hasRaw=!0;example.raw=jsonSchema}else{example={hasRaw:!1,hasTitle:!1,hasUnion:!1,value:jsonSchema}}return[example]}/**
   * Creates an example from RAML type properties.
   * @param {Array} properties
   * @param {String} mime Media type
   * @param {?String} typeName Name of the RAML type.
   * @param {?Boolean} isArray if true the result should be an array
   * @return {String|undefined}
   */_exampleFromProperties(properties,mime,typeName,isArray){let result;if(-1!==mime.indexOf("json")){const value=this._jsonExampleFromProperties(properties);if(value){result=JSON.stringify(value,null,2);if(isArray&&"["!==result[0]){result="["+result+"]"}}}else if(-1!==mime.indexOf("xml")){result=this._xmlExampleFromProperties(properties,typeName);if(result){result="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+result;result=this.formatXml(result)}}if(result){return{hasRaw:!1,hasTitle:!1,hasUnion:!1,value:result}}}/**
   * Generates a JSON example from RAML's type properties.
   * @param {Array} properties List of type properties
   * @return {String|undefined}
   */_jsonExampleFromProperties(properties){const result={};for(let i=0,len=properties.length;i<len;i++){const property=properties[i],name=this._getValue(property,this.ns.w3.shacl.name+"name");if(!name){continue}const rKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");let range=property[rKey];if(!range){continue}if(range instanceof Array){range=range[0]}let value=this._computeJsonProperyValue(range);if(value===void 0){value=""}result[name]=value}return result}/**
   * Computes JSON value from a range shape.
   * @param {Object} range AMF's range model.
   * @param {?String} typeName Optional, type name to use in Union type. By default first NodeShape.
   * @return {any}
   */_computeJsonProperyValue(range,typeName){if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ScalarShape")){return this._computeJsonScalarValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")){return this._computeJsonUnionValue(range,typeName)}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return this._computeJsonObjectValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")){return this._computeJsonArrayValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"NilShape")){return null}}_computeJsonScalarValue(range){let value=this._getTypeScalarValue(range);if(!value){return"";// Don't change this. User's don't like data types included into the body
// editor.
// this._computeScalarType(range);
}const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dt=range[dtKey];if(!dt){return value||""}if(dt instanceof Array){dt=dt[0]}return this._typeToValue(value,dt["@id"])}/**
   * Casts the value to given data type represented in AMF notation.
   * @param {String} value Value encoded in AMF
   * @param {String} type AMF data type
   * @return {String|Number|Boolean} Casted value.
   */_typeToValue(value,type){let prefix=this._getAmfKey(this.ns.w3.xmlSchema);if(prefix!==this.ns.w3.xmlSchema){prefix+=":"}let ramlPrefix=this._getAmfKey(this.ns.raml.vocabularies.shapes);if(ramlPrefix!==this.ns.raml.vocabularies.shapes){ramlPrefix+=":"}switch(type){case prefix+"boolean":case ramlPrefix+"boolean":case this.ns.w3.xmlSchema+"boolean":case this.ns.raml.vocabularies.shapes+"boolean":if(value!==void 0){return"true"===value?!0:!1}return value;case prefix+"integer":case ramlPrefix+"integer":case this.ns.w3.xmlSchema+"integer":case this.ns.raml.vocabularies.shapes+"integer":case prefix+"number":case this.ns.w3.xmlSchema+"number":case ramlPrefix+"number":case this.ns.raml.vocabularies.shapes+"number":case prefix+"long":case this.ns.w3.xmlSchema+"long":case ramlPrefix+"long":case this.ns.raml.vocabularies.shapes+"long":case prefix+"double":case this.ns.w3.xmlSchema+"double":case ramlPrefix+"double":case this.ns.raml.vocabularies.shapes+"double":case prefix+"float":case this.ns.w3.xmlSchema+"float":case ramlPrefix+"float":case this.ns.raml.vocabularies.shapes+"float":if(value){if(isNaN(value)){return 0}return+value}return 0;default:return value||"";}}/**
   * Computes JSON example from UnionShape
   * @param {Object} range Type definition
   * @param {?String} typeName Optional, type name to use. By default first NodeShape.
   * @return {Object|undefined}
   */_computeJsonUnionValue(range,typeName){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");for(let i=0,len=list.length,item;i<len;i++){item=list[i];if(item instanceof Array){item=item[0]}this._resolve(item);if(typeName){const name=this._getValue(item,this.ns.w3.shacl.name+"name");if(typeName!==name){continue}}if(this._hasType(item,this.ns.w3.shacl.name+"NodeShape")){item=this._resolve(item);const data=this._ensureArray(item[pKey]);if(data){return this._jsonExampleFromProperties(data)}}}}_computeJsonObjectValue(range){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(range[pKey]);if(properties&&properties.length){return this._jsonExampleFromProperties(properties)}}_computeJsonArrayValue(range){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(range[key]);if(!items){return}const result=[];for(let i=0,len=items.length,item;i<len;i++){item=items[i];if(item instanceof Array){item=item[0]}this._resolve(item);const value=this._computeJsonProperyValue(item);if(value!==void 0){result[result.length]=value}}return result}_extractExampleRawValue(example){if(example instanceof Array){example=example[0]}if(this._hasType(example,this.ns.raml.vocabularies.document+"NamedExamples")){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");example=example[key];if(example instanceof Array){example=example[0]}}return this._getValue(example,this.ns.w3.shacl.name+"raw")}/**
   * Gets a value from a Range shape for a scalar value.
   * @param {Object} range AMF's range model.
   * @return {any}
   */_getTypeScalarValue(range){const dvKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValue");let dv=range[dvKey];if(dv){if(dv instanceof Array){dv=dv[0]}return this._getValue(dv,this.ns.raml.vocabularies.data+"value")}const rKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let ex=range[rKey];if(ex){return this._extractExampleRawValue(ex)}}/**
   * Computes example from RAML type for XML media type.
   * @param {Array<Object>} properties
   * @param {?String} typeName RAML type name
   * @return {String}
   */_xmlExampleFromProperties(properties,typeName){const doc=document.implementation.createDocument("",typeName,null),main=doc.documentElement;for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,main,properties[i])}const s=new XMLSerializer;return s.serializeToString(doc)}/**
   * Processes an XML property
   * @param {Document} doc Main document
   * @param {Element} node Current node
   * @param {Object} property AMF property
   */_xmlProcessProperty(doc,node,property){if(!property){return}if(this._hasType(property,this.ns.w3.shacl.name+"NodeShape")){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(property[pKey]);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,node,properties[i])}return}const rKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");let range=property[rKey];if(!range){return}if(range instanceof Array){range=range[0]}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}const shape=list[0];if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){this._xmlProcessUnionScalarProperty(doc,node,property,shape)}else{this._xmlProcessProperty(doc,node,shape)}return}const sKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"xmlSerialization");let serialization=range[sKey],isWrapped=!1;if(serialization){if(serialization instanceof Array){serialization=serialization[0]}const isAtribute=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlAttribute");if(isAtribute){this._appendXmlAttribute(node,property,range,serialization);return}isWrapped=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlWrapped")}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){this._appendXmlElements(doc,node,property,range);return}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")){this._appendXmlArray(doc,node,property,range,isWrapped);return}this._appendXmlElement(doc,node,property,range)}/**
   * Reads property data type.
   * @param {Object} shape
   * @return {String} Data type
   */_readDataType(shape){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dataType=shape[dtKey];if(!dataType){return}if(dataType instanceof Array){dataType=dataType[0]}dataType=dataType["@id"];return this._dataNameFromKey(dataType)}/**
   * Appends an attribute to the node from AMF property
   * @param {Element} node Current node
   * @param {Object} property AMF property
   * @param {Object} range AMF range
   * @param {Object} serialization Serialization info
   */_appendXmlAttribute(node,property,range,serialization){let name=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlName");if(!name){name=this._getValue(range,this.ns.w3.shacl.name+"name")}if(!name){return}if(-1!==name.indexOf("?")){name=name.replace("?","")}let value=this._readDataType(range);if(!value){value=""}node.setAttribute(name,value)}/**
   * Appends an element to the node tree from a type
   * @param {Document} doc Main document
   * @param {Element} node Current node
   * @param {Object} property AMF property
   * @param {Object} range AMF range
   * @return {Element} Newly created element
   */_appendXmlElement(doc,node,property,range){const name=this._getValue(range,this.ns.w3.shacl.name+"name");if(!name){return}let nodeValue=this._getValue(range,this.ns.w3.shacl.name+"defaultValueStr");if(!nodeValue){const eKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let example=range[eKey];if(example){nodeValue=this._extractExampleRawValue(example)}}if(!nodeValue){nodeValue=" ";// Do not add default type name as users do not like this.
// Mocking service would mark is as an error.
// this._readDataType(range);
}const element=doc.createElement(name);if(nodeValue){const vn=doc.createTextNode(nodeValue);element.appendChild(vn)}node.appendChild(element);return element}_appendXmlElements(doc,node,property,range){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(range[pKey]),element=this._appendXmlElement(doc,node,property,range);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,element,properties[i])}}_appendXmlArray(doc,node,property,range,isWrapped){if(isWrapped){const element=this._appendXmlElement(doc,node,property,range);node.appendChild(element);node=element}const pKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),properties=this._ensureArray(range[pKey]);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){const prop=properties[i];if(isWrapped){const name=this._getValue(prop,this.ns.w3.shacl.name+"name");if(!name){continue}const element=doc.createElement(name);node.appendChild(element);node=element}this._xmlProcessProperty(doc,node,properties[i])}}_xmlProcessUnionScalarProperty(doc,node,property,shape){const name=this._getValue(property,this.ns.w3.shacl.name+"name")||"unknown",type=this._readDataType(shape),element=doc.createElement(name);element.appendChild(doc.createTextNode(type))}/**
   * Processes XML property from a data shape.
   * @param {Document} doc Main document
   * @param {Element} node Current node
   * @param {Object} property AMF property
   * @param {String} name Current property name
   */_xmlProcessDataProperty(doc,node,property,name){if(!property||!name){return}const element=doc.createElement(name);if(this._hasType(property,this.ns.raml.vocabularies.data+"Scalar")){let value=this._computeStructuredExampleValue(property);if(value){const vn=doc.createTextNode(value);element.appendChild(vn)}}else if(this._hasType(property,this.ns.raml.vocabularies.data+"Array")){this._processDataArrayProperties(doc,element,property,name)}else if(this._hasType(property,this.ns.raml.vocabularies.data+"Object")){this._processDataObjectProperties(doc,element,property,name)}else if(property["@value"]){const vn=doc.createTextNode(property["@value"]);node.appendChild(vn);// Skips adding new element
return}node.appendChild(element)}_processDataArrayProperties(doc,node,property,name){let childName;if("es"===name.substr(-2)){childName=name.substr(0,name.length-2)}else if("s"===name.substr(-1)){childName=name.substr(0,name.length-1)}else{childName=name}const key=this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member"),items=this._ensureArray(property[key]);for(let i=0,len=items.length,item;i<len;i++){item=items[i];if(item instanceof Array){item=item[0]}this._xmlProcessDataProperty(doc,node,item,childName)}}_processDataObjectProperties(doc,node,property){const prefix=this.ns.raml.vocabularies.data,resolvedPrefix=this._getAmfKey(prefix);Object.keys(property).forEach(key=>{if(0!==key.indexOf(resolvedPrefix)){return}let item=property[key];if(item instanceof Array){item=item[0]}const name=this._dataNameFromKey(key);this._xmlProcessDataProperty(doc,node,item,name)})}_dataNameFromKey(key){let index=key.indexOf("#");if(-1!==index){key=key.substr(index+1)}else{index=key.indexOf(":");if(-1!==index){key=key.substr(index+1)}}return key}}window.customElements.define(ApiExampleGenerator.is,ApiExampleGenerator);</script><dom-module id="clipboard-copy" assetpath="bower_components/clipboard-copy/"><template><style>:host{display:none;}:host([copying]){display:inline;width:0;height:0;border:none;overflow:hidden;}</style><div id="content">[[content]]</div></template><script>/**
   * An element that copies a text to clipboard.
   *
   * ### Example
   *
   * ```html
   * <clipboard-copy content="test"></clipboard-copy>
   * <script>
   * const elm = document.querySelectior('clipboard-copy');
   * if(elm.copy()) {
   *  console.info('Content has been copied to the clipboard');
   * } else {
   *  console.error('Content copy error. This browser is ancient!');
   * }
   * < /script>
   * ```
   *
   *
   * @customElement
   * @memberof LogicElements
   * @demo demo/index.html
   */class ClipboardCopy extends Polymer.Element{static get is(){return"clipboard-copy"}static get properties(){return{/**
         * A content to be copied to the clipboard.
         * It must be set before calling the `copy` function.
         */content:String}}/**
     * Execute content copy.
     *
     * @return {Boolean} True if the content has been copied to the clipboard
     * and false if there was an error.
     */copy(){if(this._beforeCopy()){return this._notifyCopied()}this.setAttribute("copying",!0);var range=document.createRange();range.selectNode(this.$.content);window.getSelection().addRange(range);var result=/* eat */!1;try{result=document.execCommand("copy");this._notifyCopied()}catch(err){// Copy command is not available
console.error(err);const ev=new CustomEvent("content-copy-error",{bubbles:!1});this.dispatchEvent(ev)}window.getSelection().removeAllRanges();this.removeAttribute("copying");return result}/**
     * Sends the `content-copy` event.
     * If the event is canceled then the logic from this element won't be
     * executed. Useful if current platform doesn't support `execCommand('copy')`
     * and has other way to manage clipboard.
     *
     * @return {Boolean} True if handler executed copy function.
     */_beforeCopy(){const ev=new CustomEvent("content-copy",{detail:{value:this.content},bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(ev);return ev.defaultPrevented}/**
     * Sends the `content-copied` event that is not bubbling.
     */_notifyCopied(){const ev=new CustomEvent("content-copied",{bubbles:!1});this.dispatchEvent(ev);return!0}/**
     * Fired when the content has been copied to the clipboard.
     *
     * Note: You can use return value of the `copy()` function. If the return
     * value is `true` then content has been copied to clipboard.
     *
     * @event content-copied
     */ /**
     * Fired when there was an error copying content to clipboard.
     *
     * Note: You can use return value of the `copy()` function. If the return
     * value is `flase` then content has not been copied to clipboard.
     *
     * @event content-copy-error
     */ /**
     * Fired when executing copy function.
     * This cancelable event is dispatched before running the actual logic
     * of this element to support platforms that doesn't allow to manage
     * clipboard with `execCommand('copy')`.
     *
     * When the event is canceled then the logic is not executed.
     *
     * @event content-copy
     * @param {String} value A content t be copied to clipboard.
     */}window.customElements.define(ClipboardCopy.is,ClipboardCopy);</script></dom-module><script>/**
 * Common methods for `json-table` views
 * @polymer
 * @mixinFunction
 */const JsonTableMixin=superClass=>class extends superClass{static get properties(){return{// In pagination, page index
page:{type:Number,value:0},/**
       * Number of items in pagination per page.
       * Allowed values are 10, 15, 20, 25, 50 and 100.
       */itemsPerPage:{type:Number,value:20},// If true then the pagination will be enabled for the arrays.
paginate:{type:Boolean,value:/* eat */!1}}}/**
   * Returns true if given argument is an array
   *
   * @param {any} arr Candidate to test for object
   */isArray(arr){return arr instanceof Array}/**
   * Returns true if given argument is an object.
   *
   * @param {any} obj Candidate to test for object
   */isObject(obj){return"[object Object]"===Object.prototype.toString.call(obj)}/**
   * Check if given object is one of the primitives.
   *
   * @param {any} obj An object to test
   * @return True if the object is one of:
   * - string
   * - number
   * - boolean
   * - undefined
   * - null
   */isPrimitive(obj){if(null===obj){return!0}const primitives=["string","number","boolean","undefined"],type=typeof obj;return-1!==primitives.indexOf(type)}/**
   * Creates a data model for single proerty.
   *
   * @param {String} key A property name in the JSON structure
   * @param {any} value Value associated with the property.
   * @return {Object<String, any>} Internal data model for a property. Model contains following
   * keys:
   *
   * - key - a property name
   * - value - property value - without applying data model. Thois will be done in child elements
   * - isObject - set if the value is type of Object
   * - isEnum - set if the value is type of array and contains primitives only
   * - isArray - set if the value is type of Array and contains complex objects
   * - isPrimitive - set if the value is type a primitive
   */getPropertyModel(key,value){const result=this.getItemModel(value);result.key=key;return result}/**
   * Creates a model for a value.
   *
   * @param {any} value Array item or property value to create a model from.
   * @return {Object<String, any>} Internal data model for a property value or array item. Model
   * contains following keys:
   *
   * - value - property value - without applying data model. Thois will be done in child elements
   * - isObject - set if the value is type of Object
   * - isEnum - set if the value is type of array and contains primitives only
   * - isArray - set if the value is type of Array and contains complex objects
   * - isPrimitive - set if the value is type a primitive
   */getItemModel(value){const result={value:value};if(this.isObject(value)){result.isObject=!0}else if(this.isArray(value)){if(this.isEnum(value)){result.isEnum=!0}else{result.isArray=!0}}else{result.isPrimitive=!0}return result}/**
   * Checks if given array is enum (contains primitives only).
   *
   * @param {Array} arr An array to test.
   * @return {Boolean} True if the array contains primitive values only. False otherwise.
   */isEnum(arr){if(!arr||!arr.length){return!1}for(let i=0,len=arr.length;i<len;i++){if(!this.isPrimitive(arr[i])){return!1}}return!0}// Computes if the passed record's object is a type of array or enum.
_isEnumOrArray(record){if(!record||!record.base){return!1}const item=record.base;return item.isArray||item.isEnum}// Computes the size of item's value.
_computeArraySize(record){if(!record||!record.base){return 0}const item=record.base;if(item.isArray||item.isEnum){return item.value.length||0}return 0}};</script><script>/**
  Polymer.IronFormElementBehavior enables a custom element to be included
  in an `iron-form`.

  Events `iron-form-element-register` and `iron-form-element-unregister` are not
  fired on Polymer 2.0.

  @demo demo/index.html
  @polymerBehavior
  */Polymer.IronFormElementBehavior={properties:{/**
       * Fired when the element is added to an `iron-form`.
       *
       * @event iron-form-element-register
       */ /**
       * Fired when the element is removed from an `iron-form`.
       *
       * @event iron-form-element-unregister
       */ /**
       * The name of this element.
       */name:{type:String},/**
       * The value for this element.
       * @type {*}
       */value:{notify:!0,type:String},/**
       * Set to true to mark the input as required. If used in a form, a
       * custom element that uses this behavior should also use
       * Polymer.IronValidatableBehavior and define a custom validation method.
       * Otherwise, a `required` element will always be considered valid.
       * It's also strongly recommended to provide a visual style for the element
       * when its value is invalid.
       */required:{type:Boolean,value:/* eat */!1},/**
       * The form that the element is registered to.
       */_parentForm:{type:Object}},attached:function(){if(!Polymer.Element){// Note: the iron-form that this element belongs to will set this
// element's _parentForm property when handling this event.
this.fire("iron-form-element-register")}},detached:function(){if(!Polymer.Element&&this._parentForm){this._parentForm.fire("iron-form-element-unregister",{target:this})}}};</script><script>/**
   * Singleton IronMeta instance.
   */Polymer.IronValidatableBehaviorMeta=null;/**
   * `Use Polymer.IronValidatableBehavior` to implement an element that validates user input.
   * Use the related `Polymer.IronValidatorBehavior` to add custom validation logic to an iron-input.
   *
   * By default, an `<iron-form>` element validates its fields when the user presses the submit button.
   * To validate a form imperatively, call the form's `validate()` method, which in turn will
   * call `validate()` on all its children. By using `Polymer.IronValidatableBehavior`, your
   * custom element will get a public `validate()`, which
   * will return the validity of the element, and a corresponding `invalid` attribute,
   * which can be used for styling.
   *
   * To implement the custom validation logic of your element, you must override
   * the protected `_getValidity()` method of this behaviour, rather than `validate()`.
   * See [this](https://github.com/PolymerElements/iron-form/blob/master/demo/simple-element.html)
   * for an example.
   *
   * ### Accessibility
   *
   * Changing the `invalid` property, either manually or by calling `validate()` will update the
   * `aria-invalid` attribute.
   *
   * @demo demo/index.html
   * @polymerBehavior
   */Polymer.IronValidatableBehavior={properties:{/**
       * Name of the validator to use.
       */validator:{type:String},/**
       * True if the last call to `validate` is invalid.
       */invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:/* eat */!1,observer:"_invalidChanged"}},registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){if(this.invalid){this.setAttribute("aria-invalid","true")}else{this.removeAttribute("aria-invalid")}},/* Recompute this every time it's needed, because we don't know if the
     * underlying IronValidatableBehaviorMeta has changed. */get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},/**
     * @return {boolean} True if the validator `validator` exists.
     */hasValidator:function(){return null!=this._validator},/**
     * Returns true if the `value` is valid, and updates `invalid`. If you want
     * your element to have custom validation logic, do not override this method;
     * override `_getValidity(value)` instead.

     * @param {Object} value Deprecated: The value to be validated. By default,
     * it is passed to the validator's `validate()` function, if a validator is set.
     * If this argument is not specified, then the element's `value` property
     * is used, if it exists.
     * @return {boolean} True if `value` is valid.
     */validate:function(value){// If this is an element that also has a value property, and there was
// no explicit value argument passed, use the element's property instead.
if(value===void 0&&this.value!==void 0)this.invalid=!this._getValidity(this.value);else this.invalid=!this._getValidity(value);return!this.invalid},/**
     * Returns true if `value` is valid.  By default, it is passed
     * to the validator's `validate()` function, if a validator is set. You
     * should override this method if you want to implement custom validity
     * logic for your element.
     *
     * @param {Object} value The value to be validated.
     * @return {boolean} True if `value` is valid.
     */_getValidity:function(value){if(this.hasValidator()){return this._validator.validate(value)}return!0}};</script><dom-module id="iron-a11y-announcer" assetpath="bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){'use strict';Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{/**
           * The value of mode is used to set the `aria-live` attribute
           * for the element that will be announced. Valid values are: `off`,
           * `polite` and `assertive`.
           */mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=this}document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},/**
         * Cause a text string to be announced by screen readers.
         *
         * @param {string} text The text that should be announced.
         */announce:function(text){this._text="";this.async(function(){this._text=text},100)},_onIronAnnounce:function(event){if(event.detail&&event.detail.text){this.announce(event.detail.text)}}});Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")}document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><dom-module id="iron-input" assetpath="bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:"iron-input",behaviors:[Polymer.IronValidatableBehavior],/**
       * Fired whenever `validate()` is called.
       *
       * @event iron-input-validate
       */properties:{/**
         * Use this property instead of `value` for two-way data binding, or to
         * set a default value for the input. **Do not** use the distributed
         * input's `value` property to set a default value.
         */bindValue:{type:String,value:""},/**
         * Computed property that echoes `bindValue` (mostly used for Polymer 1.0
         * backcompatibility, if you were one-way binding to the Polymer 1.0
         * `input is="iron-input"` value attribute).
         */value:{type:String,computed:"_computeValue(bindValue)"},/**
         * Regex-like list of characters allowed as input; all characters not in the
         * list will be rejected. The recommended format should be a list of allowed
         * characters, for example, `[a-zA-Z0-9.+-!;:]`.
         *
         * This pattern represents the allowed characters for the field; as the user
         * inputs text, each individual character will be checked against the
         * pattern (rather than checking the entire value as a whole). If a
         * character is not a match, it will be rejected.
         *
         * Pasted input will have each character checked individually; if any
         * character doesn't match `allowedPattern`, the entire pasted string will
         * be rejected.
         *
         * Note: if you were using `iron-input` in 1.0, you were also required to
         * set `prevent-invalid-input`. This is no longer needed as of Polymer 2.0,
         * and will be set automatically for you if an `allowedPattern` is provided.
         *
         */allowedPattern:{type:String},/**
         * Set to true to auto-validate the input value as you type.
         */autoValidate:{type:Boolean,value:/* eat */!1},/**
         * The native input element.
         */_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){Polymer.IronA11yAnnouncer.requestAvailability();this._previousValidInput="";this._patternAlreadyChecked=!1},attached:function(){// If the input is added at a later time, update the internal reference.
this._observer=Polymer.dom(this).observeNodes(function(info){this._initSlottedInput()}.bind(this))},detached:function(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null}},/**
       * Returns the distributed input element.
       */get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0];if(this.inputElement&&this.inputElement.value){this.bindValue=this.inputElement.value}this.fire("iron-input-ready")},get _patternRegExp(){var pattern;if(this.allowedPattern){pattern=new RegExp(this.allowedPattern)}else{switch(this.inputElement.type){case"number":pattern=/[0-9.,e-]/;break;}}return pattern},/**
       * @suppress {checkTypes}
       */_bindValueChanged:function(bindValue,inputElement){// The observer could have run before attached() when we have actually
// initialized this property.
if(!inputElement){return}if(bindValue===void 0){inputElement.value=null}else if(bindValue!==inputElement.value){this.inputElement.value=bindValue}if(this.autoValidate){this.validate()}// manually notify because we don't want to notify until after setting value
this.fire("bind-value-changed",{value:bindValue})},_onInput:function(){// Need to validate each of the characters pasted if they haven't
// been validated inside `_onKeypress` already.
if(this.allowedPattern&&!this._patternAlreadyChecked){var valid=this._checkPatternValidity();if(!valid){this._announceInvalidCharacter("Invalid string of characters not entered.");this.inputElement.value=this._previousValidInput}}this.bindValue=this._previousValidInput=this.inputElement.value;this._patternAlreadyChecked=!1},_isPrintable:function(event){// What a control/printable character is varies wildly based on the browser.
// - most control characters (arrows, backspace) do not send a `keypress`
// event
//   in Chrome, but the *do* on Firefox
// - in Firefox, when they do send a `keypress` event, control chars have
//   a charCode = 0, keyCode = xx (for ex. 40 for down arrow)
// - printable characters always send a keypress event.
// - in Firefox, printable chars always have a keyCode = 0. In Chrome, the
// keyCode
//   always matches the charCode.
// None of this makes any sense.
// For these keys, ASCII code == browser keycode.
var anyNonPrintable=8==event.keyCode||// backspace
9==event.keyCode||// tab
13==event.keyCode||// enter
27==event.keyCode,mozNonPrintable=19==event.keyCode||// pause
20==event.keyCode||// caps lock
45==event.keyCode||// insert
46==event.keyCode||// delete
144==event.keyCode||// num lock
145==event.keyCode||// scroll lock
32<event.keyCode&&41>event.keyCode||// page up/down, end, home, arrows
111<event.keyCode&&124>event.keyCode;// escape
// For these keys, make sure it's a browser keycode and not an ASCII code.
// fn keys
return!anyNonPrintable&&!(0==event.charCode&&mozNonPrintable)},_onKeypress:function(event){if(!this.allowedPattern&&"number"!==this.inputElement.type){return}var regexp=this._patternRegExp;if(!regexp){return}// Handle special keys and backspace
if(event.metaKey||event.ctrlKey||event.altKey){return}// Check the pattern either here or in `_onInput`, but not in both.
this._patternAlreadyChecked=!0;var thisChar=String.fromCharCode(event.charCode);if(this._isPrintable(event)&&!regexp.test(thisChar)){event.preventDefault();this._announceInvalidCharacter("Invalid character "+thisChar+" not entered.")}},_checkPatternValidity:function(){var regexp=this._patternRegExp;if(!regexp){return!0}for(var i=0;i<this.inputElement.value.length;i++){if(!regexp.test(this.inputElement.value[i])){return!1}}return!0},/**
       * Returns true if `value` is valid. The validator provided in `validator`
       * will be used first, then any constraints.
       * @return {boolean} True if the value is valid.
       */validate:function(){if(!this.inputElement){this.invalid=!1;return!0}// Use the nested input's native validity.
var valid=this.inputElement.checkValidity();// Only do extra checking if the browser thought this was valid.
if(valid){// Empty, required input is invalid
if(this.required&&""===this.bindValue){valid=!1}else if(this.hasValidator()){valid=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)}}this.invalid=!valid;this.fire("iron-input-validate");return valid},_announceInvalidCharacter:function(message){this.fire("iron-announce",{text:message})},_computeValue:function(bindValue){return bindValue}});</script></dom-module><script>// Generate unique, monotonically increasing IDs for labels (needed by
// aria-labelledby) and add-ons.
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;/**
   * Use `Polymer.PaperInputBehavior` to implement inputs with
   * `<paper-input-container>`. This behavior is implemented by `<paper-input>`.
   * It exposes a number of properties from
   * `<paper-input-container>` and `<input is="iron-input">` and they should be
   * bound in your template.
   *
   * The input element can be accessed by the `inputElement` property if you need
   * to access properties or methods that are not exposed.
   * @polymerBehavior Polymer.PaperInputBehavior
   */Polymer.PaperInputBehaviorImpl={properties:{/**
       * Fired when the input changes due to user interaction.
       *
       * @event change
       */ /**
       * The label for this input. If you're using PaperInputBehavior to
       * implement your own paper-input-like element, bind this to
       * `<label>`'s content and `hidden` property, e.g.
       * `<label hidden$="[[!label]]">[[label]]</label>` in your `template`
       */label:{type:String},/**
       * The value for this input. If you're using PaperInputBehavior to
       * implement your own paper-input-like element, bind this to
       * the `<iron-input>`'s `bindValue`
       * property, or the value property of your input that is `notify:true`.
       * @type {*}
       */value:{notify:!0,type:String},/**
       * Set to true to disable this input. If you're using PaperInputBehavior to
       * implement your own paper-input-like element, bind this to
       * both the `<paper-input-container>`'s and the input's `disabled` property.
       */disabled:{type:Boolean,value:/* eat */!1},/**
       * Returns true if the value is invalid. If you're using PaperInputBehavior
       * to implement your own paper-input-like element, bind this to both the
       * `<paper-input-container>`'s and the input's `invalid` property.
       *
       * If `autoValidate` is true, the `invalid` attribute is managed
       * automatically, which can clobber attempts to manage it manually.
       */invalid:{type:Boolean,value:!1,notify:!0},/**
       * Set this to specify the pattern allowed by `preventInvalidInput`. If
       * you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `allowedPattern`
       * property.
       */allowedPattern:{type:String},/**
       * The type of the input. The supported types are the
       * [native input's
       * types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_<input>_types).
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the (Polymer 1) `<input is="iron-input">`'s or
       * (Polymer 2)
       * `<iron-input>`'s `type` property.
       */type:{type:String},/**
       * The datalist of the input (if any). This should match the id of an
       * existing `<datalist>`. If you're using PaperInputBehavior to implement
       * your own paper-input-like element, bind this to the `<input
       * is="iron-input">`'s `list` property.
       */list:{type:String},/**
       * A pattern to validate the `input` with. If you're using
       * PaperInputBehavior to implement your own paper-input-like element, bind
       * this to the `<input is="iron-input">`'s `pattern` property.
       */pattern:{type:String},/**
       * Set to true to mark the input as required. If you're using
       * PaperInputBehavior to implement your own paper-input-like element, bind
       * this to the `<input is="iron-input">`'s `required` property.
       */required:{type:Boolean,value:!1},/**
       * The error message to display when the input is invalid. If you're using
       * PaperInputBehavior to implement your own paper-input-like element,
       * bind this to the `<paper-input-error>`'s content, if using.
       */errorMessage:{type:String},/**
       * Set to true to show a character counter.
       */charCounter:{type:Boolean,value:!1},/**
       * Set to true to disable the floating label. If you're using
       * PaperInputBehavior to implement your own paper-input-like element, bind
       * this to the `<paper-input-container>`'s `noLabelFloat` property.
       */noLabelFloat:{type:Boolean,value:!1},/**
       * Set to true to always float the label. If you're using PaperInputBehavior
       * to implement your own paper-input-like element, bind this to the
       * `<paper-input-container>`'s `alwaysFloatLabel` property.
       */alwaysFloatLabel:{type:Boolean,value:!1},/**
       * Set to true to auto-validate the input value. If you're using
       * PaperInputBehavior to implement your own paper-input-like element, bind
       * this to the `<paper-input-container>`'s `autoValidate` property.
       */autoValidate:{type:Boolean,value:!1},/**
       * Name of the validator to use. If you're using PaperInputBehavior to
       * implement your own paper-input-like element, bind this to
       * the `<input is="iron-input">`'s `validator` property.
       */validator:{type:String},// HTMLInputElement attributes for binding if needed
/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `autocomplete`
       * property.
       */autocomplete:{type:String,value:"off"},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `autofocus`
       * property.
       */autofocus:{type:Boolean,observer:"_autofocusChanged"},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `inputmode`
       * property.
       */inputmode:{type:String},/**
       * The minimum length of the input value.
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `minlength`
       * property.
       */minlength:{type:Number},/**
       * The maximum length of the input value.
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `maxlength`
       * property.
       */maxlength:{type:Number},/**
       * The minimum (numeric or date-time) input value.
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `min` property.
       */min:{type:String},/**
       * The maximum (numeric or date-time) input value.
       * Can be a String (e.g. `"2000-01-01"`) or a Number (e.g. `2`).
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `max` property.
       */max:{type:String},/**
       * Limits the numeric or date-time increments.
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `step` property.
       */step:{type:String},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `name` property.
       */name:{type:String},/**
       * A placeholder string in addition to the label. If this is set, the label
       * will always float.
       */placeholder:{type:String,// need to set a default so _computeAlwaysFloatLabel is run
value:""},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `readonly`
       * property.
       */readonly:{type:Boolean,value:!1},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `size` property.
       */size:{type:Number},// Nonstandard attributes for binding if needed
/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `autocapitalize`
       * property.
       */autocapitalize:{type:String,value:"none"},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `autocorrect`
       * property.
       */autocorrect:{type:String,value:"off"},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `autosave`
       * property, used with type=search.
       */autosave:{type:String},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `results` property,
       * used with type=search.
       */results:{type:Number},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the `<input is="iron-input">`'s `accept` property,
       * used with type=file.
       */accept:{type:String},/**
       * If you're using PaperInputBehavior to implement your own paper-input-like
       * element, bind this to the`<input is="iron-input">`'s `multiple` property,
       * used with type=file.
       */multiple:{type:Boolean},/** @private */_ariaDescribedBy:{type:String,value:""},/** @private */_ariaLabelledBy:{type:String,value:""},/** @private */_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},/**
     * @type {!Object}
     */keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},/** @private */hostAttributes:{tabindex:0},/**
     * Returns a reference to the input element.
     * @return {!HTMLElement}
     */get inputElement(){// Chrome generates audit errors if an <input type="password"> has a
// duplicate ID, which is almost always true in Shady DOM. Generate
// a unique ID instead.
if(!this.$){this.$={}}if(!this.$.input){this._generateInputId();this.$.input=this.$$("#"+this._inputId)}return this.$.input},/**
     * Returns a reference to the focusable element.
     * @return {!HTMLElement}
     */get _focusableElement(){return this.inputElement},created:function(){// These types have some default placeholder text; overlapping
// the label on top of it looks terrible. Auto-float the label in this case.
this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy();// In the 2.0 version of the element, this is handled in `onIronInputReady`,
// i.e. after the native input has finished distributing. In the 1.0
// version, the input is in the shadow tree, so it's already available.
if(!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)){this.alwaysFloatLabel=!0}},_appendStringWithSpace:function(str,more){if(str){str=str+" "+more}else{str=more}return str},_onAddonAttached:function(event){var target=Polymer.dom(event).rootTarget;if(target.id){this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,target.id)}else{var id="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;target.id=id;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,id)}},/**
     * Validates the input element and sets an error style if needed.
     *
     * @return {boolean}
     */validate:function(){return this.inputElement.validate()},/**
     * Forward focus to inputElement. Overriden from IronControlState.
     */_focusBlurHandler:function(event){Polymer.IronControlState._focusBlurHandler.call(this,event);// Forward the focus to the nested input.
if(this.focused&&!this._shiftTabPressed&&this._focusableElement){this._focusableElement.focus()}},/**
     * Handler that is called when a shift+tab keypress is detected by the menu.
     *
     * @param {CustomEvent} event A key combination event.
     */_onShiftTabDown:function(event){var oldTabIndex=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);this._shiftTabPressed=!1},1)},/**
     * If `autoValidate` is true, then validates the element.
     */_handleAutoValidate:function(){if(this.autoValidate)this.validate()},/**
     * Restores the cursor to its original position after updating the value.
     * @param {string} newValue The value that should be saved.
     */updateValueAndPreserveCaret:function(newValue){// Not all elements might have selection, and even if they have the
// right properties, accessing them might throw an exception (like for
// <input type=number>)
try{var start=this.inputElement.selectionStart;this.value=newValue;// The cursor automatically jumps to the end after re-setting the value,
// so restore it to its original position.
this.inputElement.selectionStart=start;this.inputElement.selectionEnd=start}catch(e){// Just set the value and give up on the caret.
this.value=newValue}},_computeAlwaysFloatLabel:function(alwaysFloatLabel,placeholder){return placeholder||alwaysFloatLabel},_updateAriaLabelledBy:function(){var label=Polymer.dom(this.root).querySelector("label");if(!label){this._ariaLabelledBy="";return}var labelledBy;if(label.id){labelledBy=label.id}else{labelledBy="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++;label.id=labelledBy}this._ariaLabelledBy=labelledBy},_generateInputId:function(){if(!this._inputId||""===this._inputId){this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++}},_onChange:function(event){// In the Shadow DOM, the `change` event is not leaked into the
// ancestor tree, so we must do this manually.
// See
// https://w3c.github.io/webcomponents/spec/shadow/#events-that-are-not-leaked-into-ancestor-trees.
if(this.shadowRoot){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}},_autofocusChanged:function(){// Firefox doesn't respect the autofocus attribute if it's applied after
// the page is loaded (Chrome/WebKit do respect it), preventing an
// autofocus attribute specified in markup from taking effect when the
// element is upgraded. As a workaround, if the autofocus property is set,
// and the focus hasn't already been moved elsewhere, we take focus.
if(this.autofocus&&this._focusableElement){// In IE 11, the default document.activeElement can be the page's
// outermost html element, but there are also cases (under the
// polyfill?) in which the activeElement is not a real HTMLElement, but
// just a plain object. We identify the latter case as having no valid
// activeElement.
var activeElement=document.activeElement,isActiveElementValid=activeElement instanceof HTMLElement,isSomeElementActive=isActiveElementValid&&activeElement!==document.body&&activeElement!==document.documentElement;/* IE 11 */if(!isSomeElementActive){// No specific element has taken the focus yet, so we can take it.
this._focusableElement.focus()}}}};/** @polymerBehavior */Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];</script><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><script>/**
   * Use `Polymer.PaperInputAddonBehavior` to implement an add-on for
   * `<paper-input-container>`. A add-on appears below the input, and may display
   * information based on the input value and validity such as a character counter
   * or an error message.
   * @polymerBehavior
   */Polymer.PaperInputAddonBehavior={attached:function(){this.fire("addon-attached")},/**
     * The function called by `<paper-input-container>` when the input value or
     * validity changes.
     * @param {{
     *   invalid: boolean,
     *   inputElement: (Element|undefined),
     *   value: (string|undefined)
     * }} state -
     *     inputElement: The input element.
     *     value: The input value.
     *     invalid: True if the input value is invalid.
     */update:function(state){}};</script><dom-module id="paper-input-char-counter" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none !important;}:host(:dir(rtl)){float:left;}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},/**
     * This overrides the update function in PaperInputAddonBehavior.
     * @param {{
     *   inputElement: (Element|undefined),
     *   value: (string|undefined),
     *   invalid: boolean
     * }} state -
     *     inputElement: The input element.
     *     value: The input value.
     *     invalid: True if the input value is invalid.
     */update:function(state){if(!state.inputElement){return}state.value=state.value||"";var counter=state.value.toString().length.toString();if(state.inputElement.hasAttribute("maxlength")){counter+="/"+state.inputElement.getAttribute("maxlength")}this._charCounterStr=counter}});</script><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};}</style></custom-style><dom-module id="paper-input-container" assetpath="bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}[hidden]{display:none !important;}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative;}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color, var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color, var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;}.input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color, var(--secondary-text-color));-webkit-transition:-webkit-transform 0.25s, width 0.25s;transition:transform 0.25s, width 0.25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label){-webkit-transform:translateY(-75%) scale(0.75);transform:translateY(-75%) scale(0.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;}.input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--error-color));}.input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label){visibility:hidden;}.input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color, var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color, var(--error-color));}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color, var(--primary-color));}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:"paper-input-container",properties:{/**
       * Set to true to disable the floating label. The label disappears when the
       * input value is not null.
       */noLabelFloat:{type:Boolean,value:/* eat */!1},/**
       * Set to true to always float the floating label.
       */alwaysFloatLabel:{type:Boolean,value:!1},/**
       * The attribute to listen for value changes on.
       */attrForValue:{type:String,value:"bind-value"},/**
       * Set to true to auto-validate the input value when it changes.
       */autoValidate:{type:Boolean,value:!1},/**
       * True if the input is invalid. This property is set automatically when the
       * input value changes if auto-validating, or when the `iron-input-validate`
       * event is heard from a child.
       */invalid:{observer:"_invalidChanged",type:Boolean,value:!1},/**
       * True if the input has focus.
       */focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array// do not set a default value here intentionally - it will be initialized
// lazily when a distributed child is attached, which may occur before
// configuration for this element in polyfill.
},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){// Paper-input treats a value of undefined differently at startup than
// the rest of the time (specifically: it does not validate it at startup,
// but it does after that. We need to track whether the first time we
// encounter the value is basically this first time, so that we can validate
// it correctly the rest of the time. See
// https://github.com/PolymerElements/paper-input/issues/605
this.__isFirstValueUpdate=!0;if(!this._addons){this._addons=[]}this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){if(this.attrForValue){this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged)}else{this.addEventListener("input",this._onInput)}// Only validate when attached if the input already has a value.
if(this._inputElementValue&&""!=this._inputElementValue){this._handleValueAndAutoValidate(this._inputElement)}else{this._handleValue(this._inputElement)}},/** @private */_onAddonAttached:function(event){if(!this._addons){this._addons=[]}var target=event.target;if(-1===this._addons.indexOf(target)){this._addons.push(target);if(this.isAttached){this._handleValue(this._inputElement)}}},/** @private */_onFocus:function(){this._setFocused(!0)},/** @private */_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},/** @private */_onInput:function(event){this._handleValueAndAutoValidate(event.target)},/** @private */_onValueChanged:function(event){var input=event.target;// Paper-input treats a value of undefined differently at startup than
// the rest of the time (specifically: it does not validate it at startup,
// but it does after that. If this is in fact the bootup case, ignore
// validation, just this once.
if(this.__isFirstValueUpdate){this.__isFirstValueUpdate=!1;if(input.value===void 0||""===input.value){return}}this._handleValueAndAutoValidate(event.target)},/** @private */_handleValue:function(inputElement){var value=this._inputElementValue;// type="number" hack needed because this.value is empty until it's valid
if(value||0===value||"number"===inputElement.type&&!inputElement.checkValidity()){this._inputHasContent=!0}else{this._inputHasContent=!1}this.updateAddons({inputElement:inputElement,value:value,invalid:this.invalid})},/** @private */_handleValueAndAutoValidate:function(inputElement){if(this.autoValidate&&inputElement){var valid;if(inputElement.validate){valid=inputElement.validate(this._inputElementValue)}else{valid=inputElement.checkValidity()}this.invalid=!valid}// Call this last to notify the add-ons.
this._handleValue(inputElement)},/** @private */_onIronInputValidate:function(event){this.invalid=this._inputElement.invalid},/** @private */_invalidChanged:function(){if(this._addons){this.updateAddons({invalid:this.invalid})}},/**
     * Call this to update the state of add-ons.
     * @param {Object} state Add-on state.
     */updateAddons:function(state){for(var addon,index=0;addon=this._addons[index];index++){addon.update(state)}},/** @private */_computeInputContentClass:function(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent){var cls="input-content";if(!noLabelFloat){var label=this.querySelector("label");if(alwaysFloatLabel||_inputHasContent){cls+=" label-is-floating";// If the label is floating, ignore any offsets that may have been
// applied from a prefix element.
this.$.labelAndInputContainer.style.position="static";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" label-is-highlighted"}}else{// When the label is not floating, it should overlap the input element.
if(label){this.$.labelAndInputContainer.style.position="relative"}if(invalid){cls+=" is-invalid"}}}else{if(_inputHasContent){cls+=" label-is-hidden"}if(invalid){cls+=" is-invalid"}}if(focused){cls+=" focused"}return cls},/** @private */_computeUnderlineClass:function(focused,invalid){var cls="underline";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls},/** @private */_computeAddOnContentClass:function(focused,invalid){var cls="add-on-content";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls}});</script><dom-module id="paper-input-error" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color, var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0;}:host([invalid]){visibility:visible;}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{/**
       * True if the error is showing.
       */invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},/**
     * This overrides the update function in PaperInputAddonBehavior.
     * @param {{
     *   inputElement: (Element|undefined),
     *   value: (string|undefined),
     *   invalid: boolean
     * }} state -
     *     inputElement: The input element.
     *     value: The input value.
     *     invalid: True if the input value is invalid.
     */update:function(state){this._setInvalid(state.invalid)}});</script><dom-module id="paper-input" assetpath="bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{min-width:0;}iron-input > input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit;}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label> <span id="template-placeholder"></span><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:"paper-input",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{value:{// Required for the correct TypeScript type-generation
type:String}},beforeRegister:function(){// We need to tell which kind of of template to stamp based on
// what kind of `iron-input` we got, but because of polyfills and
// custom elements differences between v0 and v1, the safest bet is
// to check a particular method we know the iron-input#2.x can have.
// If it doesn't have it, then it's an iron-input#1.x.
var ironInput=document.createElement("iron-input"),version="function"==typeof ironInput._initSlottedInput?"v1":"v0",template=Polymer.DomModule.import("paper-input","template"),inputTemplate=Polymer.DomModule.import("paper-input","template#"+version),inputPlaceholder=template.content.querySelector("#template-placeholder");if(inputPlaceholder){inputPlaceholder.parentNode.replaceChild(inputTemplate.content,inputPlaceholder)}// else it's already been processed, probably in superclass
},/**
     * Returns a reference to the focusable element. Overridden from
     * PaperInputBehavior to correctly focus the native input.
     *
     * @return {!HTMLElement}
     */get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},// Note: This event is only available in the 1.0 version of this element.
// In 2.0, the functionality of `_onIronInputReady` is done in
// PaperInputBehavior::attached.
listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){// Even though this is only used in the next line, save this for
// backwards compatibility, since the native input had this ID until 2.0.5.
if(!this.$.nativeInput){this.$.nativeInput=this.$$("input")}if(this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)){this.alwaysFloatLabel=!0}// Only validate when attached if the input already has a value.
if(!!this.inputElement.bindValue){this.$.container._handleValueAndAutoValidate(this.inputElement)}}});</script><script>/**
  `Polymer.IronFitBehavior` fits an element in another element using `max-height`
  and `max-width`, and optionally centers it in the window or another element.

  The element will only be sized and/or positioned if it has not already been
  sized and/or positioned by CSS.

  CSS properties               | Action
  -----------------------------|-------------------------------------------
  `position` set               | Element is not centered horizontally or
  vertically `top` or `bottom` set        | Element is not vertically centered
  `left` or `right` set        | Element is not horizontally centered
  `max-height` set             | Element respects `max-height`
  `max-width` set              | Element respects `max-width`

  `Polymer.IronFitBehavior` can position an element into another element using
  `verticalAlign` and `horizontalAlign`. This will override the element's css
  position.

        <div class="container">
          <iron-fit-impl vertical-align="top" horizontal-align="auto">
            Positioned into the container
          </iron-fit-impl>
        </div>

  Use `noOverlap` to position the element around another element without
  overlapping it.

        <div class="container">
          <iron-fit-impl no-overlap vertical-align="auto" horizontal-align="auto">
            Positioned around the container
          </iron-fit-impl>
        </div>

  Use `horizontalOffset, verticalOffset` to offset the element from its
  `positionTarget`; `Polymer.IronFitBehavior` will collapse these in order to keep
  the element within `fitInto` boundaries, while preserving the element's CSS
  margin values.

        <div class="container">
          <iron-fit-impl vertical-align="top" vertical-offset="20">
            With vertical offset
          </iron-fit-impl>
        </div>


  @demo demo/index.html
  @polymerBehavior
  */Polymer.IronFitBehavior={properties:{/**
       * The element that will receive a `max-height`/`width`. By default it is
       * the same as `this`, but it can be set to a child element. This is useful,
       * for example, for implementing a scrolling region inside the element.
       * @type {!Element}
       */sizingTarget:{type:Object,value:function(){return this}},/**
       * The element to fit `this` into.
       */fitInto:{type:Object,value:window},/**
       * Will position the element around the positionTarget without overlapping
       * it.
       */noOverlap:{type:Boolean},/**
       * The element that should be used to position the element. If not set, it
       * will default to the parent node.
       * @type {!Element}
       */positionTarget:{type:Element},/**
       * The orientation against which to align the element horizontally
       * relative to the `positionTarget`. Possible values are "left", "right",
       * "center", "auto".
       */horizontalAlign:{type:String},/**
       * The orientation against which to align the element vertically
       * relative to the `positionTarget`. Possible values are "top", "bottom",
       * "middle", "auto".
       */verticalAlign:{type:String},/**
       * If true, it will use `horizontalAlign` and `verticalAlign` values as
       * preferred alignment and if there's not enough space, it will pick the
       * values which minimize the cropping.
       */dynamicAlign:{type:Boolean},/**
       * A pixel value that will be added to the position calculated for the
       * given `horizontalAlign`, in the direction of alignment. You can think
       * of it as increasing or decreasing the distance to the side of the
       * screen given by `horizontalAlign`.
       *
       * If `horizontalAlign` is "left" or "center", this offset will increase or
       * decrease the distance to the left side of the screen: a negative offset
       * will move the dropdown to the left; a positive one, to the right.
       *
       * Conversely if `horizontalAlign` is "right", this offset will increase
       * or decrease the distance to the right side of the screen: a negative
       * offset will move the dropdown to the right; a positive one, to the left.
       */horizontalOffset:{type:Number,value:0,notify:!0},/**
       * A pixel value that will be added to the position calculated for the
       * given `verticalAlign`, in the direction of alignment. You can think
       * of it as increasing or decreasing the distance to the side of the
       * screen given by `verticalAlign`.
       *
       * If `verticalAlign` is "top" or "middle", this offset will increase or
       * decrease the distance to the top side of the screen: a negative offset
       * will move the dropdown upwards; a positive one, downwards.
       *
       * Conversely if `verticalAlign` is "bottom", this offset will increase
       * or decrease the distance to the bottom side of the screen: a negative
       * offset will move the dropdown downwards; a positive one, upwards.
       */verticalOffset:{type:Number,value:0,notify:!0},/**
       * Set to true to auto-fit on attach.
       */autoFitOnAttach:{type:Boolean,value:/* eat */!1},/** @type {?Object} */_fitInfo:{type:Object}},get _fitWidth(){var fitWidth;if(this.fitInto===window){fitWidth=this.fitInto.innerWidth}else{fitWidth=this.fitInto.getBoundingClientRect().width}return fitWidth},get _fitHeight(){var fitHeight;if(this.fitInto===window){fitHeight=this.fitInto.innerHeight}else{fitHeight=this.fitInto.getBoundingClientRect().height}return fitHeight},get _fitLeft(){var fitLeft;if(this.fitInto===window){fitLeft=0}else{fitLeft=this.fitInto.getBoundingClientRect().left}return fitLeft},get _fitTop(){var fitTop;if(this.fitInto===window){fitTop=0}else{fitTop=this.fitInto.getBoundingClientRect().top}return fitTop},/**
     * The element that should be used to position the element,
     * if no position target is configured.
     */get _defaultPositionTarget(){var parent=Polymer.dom(this).parentNode;if(parent&&parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE){parent=parent.host}return parent},/**
     * The horizontal align value, accounting for the RTL/LTR text direction.
     */get _localeHorizontalAlign(){if(this._isRTL){// In RTL, "left" becomes "right".
if("right"===this.horizontalAlign){return"left"}if("left"===this.horizontalAlign){return"right"}}return this.horizontalAlign},/**
     * True if the element should be positioned instead of centered.
     * @private
     */get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){// Memoize this to avoid expensive calculations & relayouts.
// Make sure we do it only once
if("undefined"===typeof this._isRTL){this._isRTL="rtl"==window.getComputedStyle(this).direction}this.positionTarget=this.positionTarget||this._defaultPositionTarget;if(this.autoFitOnAttach){if("none"===window.getComputedStyle(this).display){setTimeout(function(){this.fit()}.bind(this))}else{// NOTE: shadydom applies distribution asynchronously
// for performance reasons webcomponents/shadydom#120
// Flush to get correct layout info.
window.ShadyDOM&&ShadyDOM.flush();this.fit()}}},detached:function(){if(this.__deferredFit){clearTimeout(this.__deferredFit);this.__deferredFit=null}},/**
     * Positions and fits the element into the `fitInto` element.
     */fit:function(){this.position();this.constrain();this.center()},/**
     * Memoize information needed to position and size the target element.
     * @suppress {deprecated}
     */_discoverInfo:function(){if(this._fitInfo){return}var target=window.getComputedStyle(this),sizer=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==target.top?"top":"auto"!==target.bottom?"bottom":null,horizontally:"auto"!==target.left?"left":"auto"!==target.right?"right":null},sizedBy:{height:"none"!==sizer.maxHeight,width:"none"!==sizer.maxWidth,minWidth:parseInt(sizer.minWidth,10)||0,minHeight:parseInt(sizer.minHeight,10)||0},margin:{top:parseInt(target.marginTop,10)||0,right:parseInt(target.marginRight,10)||0,bottom:parseInt(target.marginBottom,10)||0,left:parseInt(target.marginLeft,10)||0}}},/**
     * Resets the target element's position and size constraints, and clear
     * the memoized data.
     */resetFit:function(){var info=this._fitInfo||{};for(var property in info.sizerInlineStyle){this.sizingTarget.style[property]=info.sizerInlineStyle[property]}for(var property in info.inlineStyle){this.style[property]=info.inlineStyle[property]}this._fitInfo=null},/**
     * Equivalent to calling `resetFit()` and `fit()`. Useful to call this after
     * the element or the `fitInto` element has been resized, or if any of the
     * positioning properties (e.g. `horizontalAlign, verticalAlign`) is updated.
     * It preserves the scroll position of the sizingTarget.
     */refit:function(){var scrollLeft=this.sizingTarget.scrollLeft,scrollTop=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=scrollLeft;this.sizingTarget.scrollTop=scrollTop},/**
     * Positions the element according to `horizontalAlign, verticalAlign`.
     */position:function(){if(!this.__shouldPosition){// needs to be centered, and it is done after constrain.
return}this._discoverInfo();this.style.position="fixed";// Need border-box for margin/padding.
this.sizingTarget.style.boxSizing="border-box";// Set to 0, 0 in order to discover any offset caused by parent stacking
// contexts.
this.style.left="0px";this.style.top="0px";var rect=this.getBoundingClientRect(),positionRect=this.__getNormalizedRect(this.positionTarget),fitRect=this.__getNormalizedRect(this.fitInto),margin=this._fitInfo.margin,size={width:rect.width+margin.left+margin.right,height:rect.height+margin.top+margin.bottom},position=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,size,rect,positionRect,fitRect),left=position.left+margin.left,top=position.top+margin.top,right=Math.min(fitRect.right-margin.right,left+rect.width),bottom=Math.min(fitRect.bottom-margin.bottom,top+rect.height);// Keep left/top within fitInto respecting the margin.
left=Math.max(fitRect.left+margin.left,Math.min(left,right-this._fitInfo.sizedBy.minWidth));top=Math.max(fitRect.top+margin.top,Math.min(top,bottom-this._fitInfo.sizedBy.minHeight));// Use right/bottom to set maxWidth/maxHeight, and respect
// minWidth/minHeight.
this.sizingTarget.style.maxWidth=Math.max(right-left,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(bottom-top,this._fitInfo.sizedBy.minHeight)+"px";// Remove the offset caused by any stacking context.
this.style.left=left-rect.left+"px";this.style.top=top-rect.top+"px"},/**
     * Constrains the size of the element to `fitInto` by setting `max-height`
     * and/or `max-width`.
     */constrain:function(){if(this.__shouldPosition){return}this._discoverInfo();var info=this._fitInfo;// position at (0px, 0px) if not already positioned, so we can measure the
// natural size.
if(!info.positionedBy.vertically){this.style.position="fixed";this.style.top="0px"}if(!info.positionedBy.horizontally){this.style.position="fixed";this.style.left="0px"}// need border-box for margin/padding
this.sizingTarget.style.boxSizing="border-box";// constrain the width and height if not already set
var rect=this.getBoundingClientRect();if(!info.sizedBy.height){this.__sizeDimension(rect,info.positionedBy.vertically,"top","bottom","Height")}if(!info.sizedBy.width){this.__sizeDimension(rect,info.positionedBy.horizontally,"left","right","Width")}},/**
     * @protected
     * @deprecated
     */_sizeDimension:function(rect,positionedBy,start,end,extent){this.__sizeDimension(rect,positionedBy,start,end,extent)},/**
     * @private
     */__sizeDimension:function(rect,positionedBy,start,end,extent){var info=this._fitInfo,fitRect=this.__getNormalizedRect(this.fitInto),max="Width"===extent?fitRect.width:fitRect.height,flip=positionedBy===end,offset=flip?max-rect[end]:rect[start],margin=info.margin[flip?start:end],offsetExtent="offset"+extent,sizingOffset=this[offsetExtent]-this.sizingTarget[offsetExtent];this.sizingTarget.style["max"+extent]=max-margin-offset-sizingOffset+"px"},/**
     * Centers horizontally and vertically if not already positioned. This also
     * sets `position:fixed`.
     */center:function(){if(this.__shouldPosition){return}this._discoverInfo();var positionedBy=this._fitInfo.positionedBy;if(positionedBy.vertically&&positionedBy.horizontally){// Already positioned.
return}// Need position:fixed to center
this.style.position="fixed";// Take into account the offset caused by parents that create stacking
// contexts (e.g. with transform: translate3d). Translate to 0,0 and
// measure the bounding rect.
if(!positionedBy.vertically){this.style.top="0px"}if(!positionedBy.horizontally){this.style.left="0px"}// It will take in consideration margins and transforms
var rect=this.getBoundingClientRect(),fitRect=this.__getNormalizedRect(this.fitInto);if(!positionedBy.vertically){var top=fitRect.top-rect.top+(fitRect.height-rect.height)/2;this.style.top=top+"px"}if(!positionedBy.horizontally){var left=fitRect.left-rect.left+(fitRect.width-rect.width)/2;this.style.left=left+"px"}},__getNormalizedRect:function(target){if(target===document.documentElement||target===window){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}}return target.getBoundingClientRect()},__getOffscreenArea:function(position,size,fitRect){var verticalCrop=Math.min(0,position.top)+Math.min(0,fitRect.bottom-(position.top+size.height)),horizontalCrop=Math.min(0,position.left)+Math.min(0,fitRect.right-(position.left+size.width));return Math.abs(verticalCrop)*size.width+Math.abs(horizontalCrop)*size.height},__getPosition:function(hAlign,vAlign,size,sizeNoMargins,positionRect,fitRect){// All the possible configurations.
// Ordered as top-left, top-right, bottom-left, bottom-right.
var positions=[{verticalAlign:"top",horizontalAlign:"left",top:positionRect.top+this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:positionRect.top+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset}];if(this.noOverlap){// Duplicate.
for(var i=0,l=positions.length,copy;i<l;i++){copy={};for(var key in positions[i]){copy[key]=positions[i][key]}positions.push(copy)}// Horizontal overlap only.
positions[0].top=positions[1].top+=positionRect.height;positions[2].top=positions[3].top-=positionRect.height;// Vertical overlap only.
positions[4].left=positions[6].left+=positionRect.width;positions[5].left=positions[7].left-=positionRect.width}// Consider auto as null for coding convenience.
vAlign="auto"===vAlign?null:vAlign;hAlign="auto"===hAlign?null:hAlign;if(!hAlign||"center"===hAlign){positions.push({verticalAlign:"top",horizontalAlign:"center",top:positionRect.top+this.verticalOffset+(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset});positions.push({verticalAlign:"bottom",horizontalAlign:"center",top:positionRect.bottom-size.height-this.verticalOffset-(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}if(!vAlign||"middle"===vAlign){positions.push({verticalAlign:"middle",horizontalAlign:"left",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left+this.horizontalOffset+(this.noOverlap?positionRect.width:0)});positions.push({verticalAlign:"middle",horizontalAlign:"right",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset-(this.noOverlap?positionRect.width:0)})}if("middle"===vAlign&&"center"===hAlign){positions.push({verticalAlign:"middle",horizontalAlign:"center",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}for(var position,i=0;i<positions.length;i++){var candidate=positions[i],vAlignOk=candidate.verticalAlign===vAlign,hAlignOk=candidate.horizontalAlign===hAlign;// If both vAlign and hAlign are defined, return exact match.
// For dynamicAlign and noOverlap we'll have more than one candidate, so
// we'll have to check the offscreenArea to make the best choice.
if(!this.dynamicAlign&&!this.noOverlap&&vAlignOk&&hAlignOk){position=candidate;break}// Align is ok if alignment preferences are respected. If no preferences,
// it is considered ok.
var alignOk=(!vAlign||vAlignOk)&&(!hAlign||hAlignOk);// Filter out elements that don't match the alignment (if defined).
// With dynamicAlign, we need to consider all the positions to find the
// one that minimizes the cropped area.
if(!this.dynamicAlign&&!alignOk){continue}candidate.offscreenArea=this.__getOffscreenArea(candidate,size,fitRect);// If not cropped and respects the align requirements, keep it.
// This allows to prefer positions overlapping horizontally over the
// ones overlapping vertically.
if(0===candidate.offscreenArea&&alignOk){position=candidate;break}position=position||candidate;var diff=candidate.offscreenArea-position.offscreenArea;// Check which crops less. If it crops equally, check if at least one
// align setting is ok.
if(0>diff||0===diff&&(vAlignOk||hAlignOk)){position=candidate}}return position}};</script><dom-module id="iron-overlay-backdrop" assetpath="bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-overlay-backdrop",properties:{/**
       * Returns true if the backdrop is opened.
       */opened:{reflectToAttribute:!0,type:Boolean,value:/* eat */!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){// Used to cancel previous requestAnimationFrame calls when opened changes.
this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},/**
     * Appends the backdrop to document body if needed.
     */prepare:function(){if(this.opened&&!this.parentNode){Polymer.dom(document.body).appendChild(this)}},/**
     * Shows the backdrop.
     */open:function(){this.opened=!0},/**
     * Hides the backdrop.
     */close:function(){this.opened=!1},/**
     * Removes the backdrop from document body if needed.
     */complete:function(){if(!this.opened&&this.parentNode===document.body){Polymer.dom(this.parentNode).removeChild(this)}},_onTransitionend:function(event){if(event&&event.target===this){this.complete()}},/**
     * @param {boolean} opened
     * @private
     */_openedChanged:function(opened){if(opened){// Auto-attach.
this.prepare()}else{// Animation might be disabled via the mixin or opacity custom property.
// If it is disabled in other ways, it's up to the user to call complete.
var cs=window.getComputedStyle(this);if("0s"===cs.transitionDuration||0==cs.opacity){this.complete()}}if(!this.isAttached){return}// Always cancel previous requestAnimationFrame.
if(this.__openedRaf){window.cancelAnimationFrame(this.__openedRaf);this.__openedRaf=null}// Force relayout to ensure proper transitions.
this.scrollTop=this.scrollTop;this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this))}});</script><script>/**
   * @struct
   * @constructor
   * @private
   */Polymer.IronOverlayManagerClass=function(){/**
     * Used to keep track of the opened overlays.
     * @private {!Array<!Element>}
     */this._overlays=[];/**
     * iframes have a default z-index of 100,
     * so this default should be at least that.
     * @private {number}
     */this._minimumZ=101;/**
     * Memoized backdrop element.
     * @private {Element|null}
     */this._backdropElement=null;// Enable document-wide tap recognizer.
// NOTE: Use useCapture=true to avoid accidentally prevention of the closing
// of an overlay via event.stopPropagation(). The only way to prevent
// closing of an overlay should be through its APIs.
// NOTE: enable tap on <html> to workaround Polymer/polymer#4459
// Pass no-op function because MSEdge 15 doesn't handle null as 2nd argument
// https://github.com/Microsoft/ChakraCore/issues/3863
Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,/**
     * The shared backdrop element.
     * @return {!Element} backdropElement
     */get backdropElement(){if(!this._backdropElement){this._backdropElement=document.createElement("iron-overlay-backdrop")}return this._backdropElement},/**
     * The deepest active element.
     * @return {!Element} activeElement the active element
     */get deepActiveElement(){var active=document.activeElement;// document.activeElement can be null
// https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement
// In IE 11, it can also be an object when operating in iframes.
// In these cases, default it to document.body.
if(!active||/* eat */!1===active instanceof Element){active=document.body}while(active.root&&Polymer.dom(active.root).activeElement){active=Polymer.dom(active.root).activeElement}return active},/**
     * Brings the overlay at the specified index to the front.
     * @param {number} i
     * @private
     */_bringOverlayAtIndexToFront:function(i){var overlay=this._overlays[i];if(!overlay){return}var lastI=this._overlays.length-1,currentOverlay=this._overlays[lastI];// Ensure always-on-top overlay stays on top.
if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){lastI--}// If already the top element, return.
if(i>=lastI){return}// Update z-index to be on top.
var minimumZ=Math.max(this.currentOverlayZ(),this._minimumZ);if(this._getZ(overlay)<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}// Shift other overlays behind the new on top.
while(i<lastI){this._overlays[i]=this._overlays[i+1];i++}this._overlays[lastI]=overlay},/**
     * Adds the overlay and updates its z-index if it's opened, or removes it if
     * it's closed. Also updates the backdrop z-index.
     * @param {!Element} overlay
     */addOrRemoveOverlay:function(overlay){if(overlay.opened){this.addOverlay(overlay)}else{this.removeOverlay(overlay)}},/**
     * Tracks overlays for z-index and focus management.
     * Ensures the last added overlay with always-on-top remains on top.
     * @param {!Element} overlay
     */addOverlay:function(overlay){var i=this._overlays.indexOf(overlay);if(0<=i){this._bringOverlayAtIndexToFront(i);this.trackBackdrop();return}var insertionIndex=this._overlays.length,currentOverlay=this._overlays[insertionIndex-1],minimumZ=Math.max(this._getZ(currentOverlay),this._minimumZ),newZ=this._getZ(overlay);// Ensure always-on-top overlay stays on top.
if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){// This bumps the z-index of +2.
this._applyOverlayZ(currentOverlay,minimumZ);insertionIndex--;// Update minimumZ to match previous overlay's z-index.
var previousOverlay=this._overlays[insertionIndex-1];minimumZ=Math.max(this._getZ(previousOverlay),this._minimumZ)}// Update z-index and insert overlay.
if(newZ<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}this._overlays.splice(insertionIndex,0,overlay);this.trackBackdrop()},/**
     * @param {!Element} overlay
     */removeOverlay:function(overlay){var i=this._overlays.indexOf(overlay);if(-1===i){return}this._overlays.splice(i,1);this.trackBackdrop()},/**
     * Returns the current overlay.
     * @return {!Element|undefined}
     */currentOverlay:function(){var i=this._overlays.length-1;return this._overlays[i]},/**
     * Returns the current overlay z-index.
     * @return {number}
     */currentOverlayZ:function(){return this._getZ(this.currentOverlay())},/**
     * Ensures that the minimum z-index of new overlays is at least `minimumZ`.
     * This does not effect the z-index of any existing overlays.
     * @param {number} minimumZ
     */ensureMinimumZ:function(minimumZ){this._minimumZ=Math.max(this._minimumZ,minimumZ)},focusOverlay:function(){var current=/** @type {?} */this.currentOverlay();if(current){current._applyFocus()}},/**
     * Updates the backdrop z-index.
     */trackBackdrop:function(){var overlay=this._overlayWithBackdrop();// Avoid creating the backdrop if there is no overlay with backdrop.
if(!overlay&&!this._backdropElement){return}this.backdropElement.style.zIndex=this._getZ(overlay)-1;this.backdropElement.opened=!!overlay;// Property observers are not fired until element is attached
// in Polymer 2.x, so we ensure element is attached if needed.
// https://github.com/Polymer/polymer/issues/4526
this.backdropElement.prepare()},/**
     * @return {!Array<!Element>}
     */getBackdrops:function(){for(var backdrops=[],i=0;i<this._overlays.length;i++){if(this._overlays[i].withBackdrop){backdrops.push(this._overlays[i])}}return backdrops},/**
     * Returns the z-index for the backdrop.
     * @return {number}
     */backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},/**
     * Returns the top opened overlay that has a backdrop.
     * @return {!Element|undefined}
     * @private
     */_overlayWithBackdrop:function(){for(var i=this._overlays.length-1;0<=i;i--){if(this._overlays[i].withBackdrop){return this._overlays[i]}}},/**
     * Calculates the minimum z-index for the overlay.
     * @param {Element=} overlay
     * @private
     */_getZ:function(overlay){var z=this._minimumZ;if(overlay){var z1=+(overlay.style.zIndex||window.getComputedStyle(overlay).zIndex);// Check if is a number
// Number.isNaN not supported in IE 10+
if(z1===z1){z=z1}}return z},/**
     * @param {!Element} element
     * @param {number|string} z
     * @private
     */_setZ:function(element,z){element.style.zIndex=z},/**
     * @param {!Element} overlay
     * @param {number} aboveZ
     * @private
     */_applyOverlayZ:function(overlay,aboveZ){this._setZ(overlay,aboveZ+2)},/**
     * Returns the deepest overlay in the path.
     * @param {!Array<!Element>=} path
     * @return {!Element|undefined}
     * @suppress {missingProperties}
     * @private
     */_overlayInPath:function(path){path=path||[];for(var i=0;i<path.length;i++){if(path[i]._manager===this){return path[i]}}},/**
     * Ensures the click event is delegated to the right overlay.
     * @param {!Event} event
     * @private
     */_onCaptureClick:function(event){var i=this._overlays.length-1;if(-1===i)return;var path=/** @type {!Array<!EventTarget>} */Polymer.dom(event).path,overlay;// Check if clicked outside of overlay.
while((overlay=/** @type {?} */this._overlays[i])&&this._overlayInPath(path)!==overlay){overlay._onCaptureClick(event);if(overlay.allowClickThrough){i--}else{break}}},/**
     * Ensures the focus event is delegated to the right overlay.
     * @param {!Event} event
     * @private
     */_onCaptureFocus:function(event){var overlay=/** @type {?} */this.currentOverlay();if(overlay){overlay._onCaptureFocus(event)}},/**
     * Ensures TAB and ESC keyboard events are delegated to the right overlay.
     * @param {!Event} event
     * @private
     */_onCaptureKeyDown:function(event){var overlay=/** @type {?} */this.currentOverlay();if(overlay){if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"esc")){overlay._onCaptureEsc(event)}else if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"tab")){overlay._onCaptureTab(event)}}},/**
     * Returns if the overlay1 should be behind overlay2.
     * @param {!Element} overlay1
     * @param {!Element} overlay2
     * @return {boolean}
     * @suppress {missingProperties}
     * @private
     */_shouldBeBehindOverlay:function(overlay1,overlay2){return!overlay1.alwaysOnTop&&overlay2.alwaysOnTop}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){'use strict';/**
   * Used to calculate the scroll direction during touch events.
   * @type {!Object}
   */var lastTouchPosition={pageX:0,pageY:0},lastRootTarget=null,lastScrollableNodes=[],scrollEvents=[// Modern `wheel` event for mouse wheel scrolling:
"wheel",// Older, non-standard `mousewheel` event for some FF:
"mousewheel",// IE:
"DOMMouseScroll",// Touch enabled devices
"touchstart","touchmove"];/**
   * Used to avoid computing event.path and filter scrollable nodes (better perf).
   * @type {?EventTarget}
   */ /**
   * The IronScrollManager is intended to provide a central source
   * of authority and control over which elements in a document are currently
   * allowed to scroll.
   *
   * @namespace
   * @memberof Polymer
   */Polymer.IronScrollManager={/**
     * The current element that defines the DOM boundaries of the
     * scroll lock. This is always the most recently locking element.
     *
     * @return {!Node|undefined}
     */get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},/**
     * Returns true if the provided element is "scroll locked", which is to
     * say that it cannot be scrolled via pointer or keyboard interactions.
     *
     * @memberof Polymer.IronScrollManager
     * @param {!HTMLElement} element An HTML element instance which may or may
     * not be scroll locked.
     */elementIsScrollLocked:function(element){var currentLockingElement=this.currentLockingElement;if(currentLockingElement===void 0)return(/* eat */!1);var scrollLocked;if(this._hasCachedLockedElement(element)){return!0}if(this._hasCachedUnlockedElement(element)){return!1}scrollLocked=!!currentLockingElement&&currentLockingElement!==element&&!this._composedTreeContains(currentLockingElement,element);if(scrollLocked){this._lockedElementCache.push(element)}else{this._unlockedElementCache.push(element)}return scrollLocked},/**
     * Push an element onto the current scroll lock stack. The most recently
     * pushed element and its children will be considered scrollable. All
     * other elements will not be scrollable.
     *
     * Scroll locking is implemented as a stack so that cases such as
     * dropdowns within dropdowns are handled well.
     *
     * @memberof Polymer.IronScrollManager
     * @param {!HTMLElement} element The element that should lock scroll.
     */pushScrollLock:function(element){// Prevent pushing the same element twice
if(0<=this._lockingElements.indexOf(element)){return}if(0===this._lockingElements.length){this._lockScrollInteractions()}this._lockingElements.push(element);this._lockedElementCache=[];this._unlockedElementCache=[]},/**
     * Remove an element from the scroll lock stack. The element being
     * removed does not need to be the most recently pushed element. However,
     * the scroll lock constraints only change when the most recently pushed
     * element is removed.
     *
     * @memberof Polymer.IronScrollManager
     * @param {!HTMLElement} element The element to remove from the scroll
     * lock stack.
     */removeScrollLock:function(element){var index=this._lockingElements.indexOf(element);if(-1===index){return}this._lockingElements.splice(index,1);this._lockedElementCache=[];this._unlockedElementCache=[];if(0===this._lockingElements.length){this._unlockScrollInteractions()}},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(element){return-1<this._lockedElementCache.indexOf(element)},_hasCachedUnlockedElement:function(element){return-1<this._unlockedElementCache.indexOf(element)},_composedTreeContains:function(element,child){// NOTE(cdata): This method iterates over content elements and their
// corresponding distributed nodes to implement a contains-like method
// that pierces through the composed tree of the ShadowDOM. Results of
// this operation are cached (elsewhere) on a per-scroll-lock basis, to
// guard against potentially expensive lookups happening repeatedly as
// a user scrolls / touchmoves.
var contentElements,distributedNodes,contentIndex,nodeIndex;if(element.contains(child)){return!0}contentElements=Polymer.dom(element).querySelectorAll("content,slot");for(contentIndex=0;contentIndex<contentElements.length;++contentIndex){distributedNodes=Polymer.dom(contentElements[contentIndex]).getDistributedNodes();for(nodeIndex=0;nodeIndex<distributedNodes.length;++nodeIndex){// Polymer 2.x returns slot.assignedNodes which can contain text nodes.
if(distributedNodes[nodeIndex].nodeType!==Node.ELEMENT_NODE)continue;if(this._composedTreeContains(distributedNodes[nodeIndex],child)){return!0}}}return!1},_scrollInteractionHandler:function(event){// Avoid canceling an event with cancelable=false, e.g. scrolling is in
// progress and cannot be interrupted.
if(event.cancelable&&this._shouldPreventScrolling(event)){event.preventDefault()}// If event has targetTouches (touch event), update last touch position.
if(event.targetTouches){var touch=event.targetTouches[0];lastTouchPosition.pageX=touch.pageX;lastTouchPosition.pageY=touch.pageY}},/**
     * @private
     */_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var i=0,l=scrollEvents.length;i<l;i++){// NOTE: browsers that don't support objects as third arg will
// interpret it as boolean, hence useCapture = true in this case.
document.addEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_unlockScrollInteractions:function(){for(var i=0,l=scrollEvents.length;i<l;i++){// NOTE: browsers that don't support objects as third arg will
// interpret it as boolean, hence useCapture = true in this case.
document.removeEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},/**
     * Returns true if the event causes scroll outside the current locking
     * element, e.g. pointer/keyboard interactions, or scroll "leaking"
     * outside the locking element when it is already at its scroll boundaries.
     * @param {!Event} event
     * @return {boolean}
     * @private
     */_shouldPreventScrolling:function(event){// Update if root target changed. For touch events, ensure we don't
// update during touchmove.
var target=Polymer.dom(event).rootTarget;if("touchmove"!==event.type&&lastRootTarget!==target){lastRootTarget=target;lastScrollableNodes=this._getScrollableNodes(Polymer.dom(event).path)}// Prevent event if no scrollable nodes.
if(!lastScrollableNodes.length){return!0}// Don't prevent touchstart event inside the locking element when it has
// scrollable nodes.
if("touchstart"===event.type){return!1}// Get deltaX/Y.
var info=this._getScrollInfo(event);// Prevent if there is no child that can scroll.
return!this._getScrollingNode(lastScrollableNodes,info.deltaX,info.deltaY)},/**
     * Returns an array of scrollable nodes up to the current locking element,
     * which is included too if scrollable.
     * @param {!Array<!Node>} nodes
     * @return {!Array<!Node>} scrollables
     * @private
     */_getScrollableNodes:function(nodes){// Loop from root target to locking element (included).
for(var scrollables=[],lockingIndex=nodes.indexOf(this.currentLockingElement),i=0;i<=lockingIndex;i++){// Skip non-Element nodes.
if(nodes[i].nodeType!==Node.ELEMENT_NODE){continue}var node=/** @type {!Element} */nodes[i],style=node.style;// Check inline style before checking computed style.
if("scroll"!==style.overflow&&"auto"!==style.overflow){style=window.getComputedStyle(node)}if("scroll"===style.overflow||"auto"===style.overflow){scrollables.push(node)}}return scrollables},/**
     * Returns the node that is scrolling. If there is no scrolling,
     * returns undefined.
     * @param {!Array<!Node>} nodes
     * @param {number} deltaX Scroll delta on the x-axis
     * @param {number} deltaY Scroll delta on the y-axis
     * @return {!Node|undefined}
     * @private
     */_getScrollingNode:function(nodes,deltaX,deltaY){// No scroll.
if(!deltaX&&!deltaY){return}// Check only one axis according to where there is more scroll.
// Prefer vertical to horizontal.
for(var verticalScroll=Math.abs(deltaY)>=Math.abs(deltaX),i=0;i<nodes.length;i++){var node=nodes[i],canScroll=!1;if(verticalScroll){// delta < 0 is scroll up, delta > 0 is scroll down.
canScroll=0>deltaY?0<node.scrollTop:node.scrollTop<node.scrollHeight-node.clientHeight}else{// delta < 0 is scroll left, delta > 0 is scroll right.
canScroll=0>deltaX?0<node.scrollLeft:node.scrollLeft<node.scrollWidth-node.clientWidth}if(canScroll){return node}}},/**
     * Returns scroll `deltaX` and `deltaY`.
     * @param {!Event} event The scroll event
     * @return {{deltaX: number, deltaY: number}} Object containing the
     * x-axis scroll delta (positive: scroll right, negative: scroll left,
     * 0: no scroll), and the y-axis scroll delta (positive: scroll down,
     * negative: scroll up, 0: no scroll).
     * @private
     */_getScrollInfo:function(event){var info={deltaX:event.deltaX,deltaY:event.deltaY};// Already available.
if("deltaX"in event){}// do nothing, values are already good.
// Safari has scroll info in `wheelDeltaX/Y`.
else if("wheelDeltaX"in event&&"wheelDeltaY"in event){info.deltaX=-event.wheelDeltaX;info.deltaY=-event.wheelDeltaY}// IE10 has only vertical scroll info in `wheelDelta`.
else if("wheelDelta"in event){info.deltaX=0;info.deltaY=-event.wheelDelta}// Firefox has scroll info in `detail` and `axis`.
else if("axis"in event){info.deltaX=1===event.axis?event.detail:0;info.deltaY=2===event.axis?event.detail:0}// On mobile devices, calculate scroll direction.
else if(event.targetTouches){var touch=event.targetTouches[0];// Touch moves from right to left => scrolling goes right.
info.deltaX=lastTouchPosition.pageX-touch.pageX;// Touch moves from down to up => scrolling goes down.
info.deltaY=lastTouchPosition.pageY-touch.pageY}return info}}})();</script><script>(function(){'use strict';var p=Element.prototype,matches=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;Polymer.IronFocusablesHelper={/**
     * Returns a sorted array of tabbable nodes, including the root node.
     * It searches the tabbable nodes in the light and shadow dom of the chidren,
     * sorting the result by tabindex.
     * @param {!Node} node
     * @return {!Array<!HTMLElement>}
     */getTabbableNodes:function(node){var result=[],needsSortByTabIndex=this._collectTabbableNodes(node,result);// If there is at least one element with tabindex > 0, we need to sort
// the final array by tabindex.
if(needsSortByTabIndex){return this._sortByTabIndex(result)}return result},/**
     * Returns if a element is focusable.
     * @param {!HTMLElement} element
     * @return {boolean}
     */isFocusable:function(element){// From http://stackoverflow.com/a/1600194/4228703:
// There isn't a definite list, it's up to the browser. The only
// standard we have is DOM Level 2 HTML
// https://www.w3.org/TR/DOM-Level-2-HTML/html.html, according to which the
// only elements that have a focus() method are HTMLInputElement,
// HTMLSelectElement, HTMLTextAreaElement and HTMLAnchorElement. This
// notably omits HTMLButtonElement and HTMLAreaElement. Referring to these
// tests with tabbables in different browsers
// http://allyjs.io/data-tables/focusable.html
// Elements that cannot be focused if they have [disabled] attribute.
if(matches.call(element,"input, select, textarea, button, object")){return matches.call(element,":not([disabled])")}// Elements that can be focused even if they have [disabled] attribute.
return matches.call(element,"a[href], area[href], iframe, [tabindex], [contentEditable]")},/**
     * Returns if a element is tabbable. To be tabbable, a element must be
     * focusable, visible, and with a tabindex !== -1.
     * @param {!HTMLElement} element
     * @return {boolean}
     */isTabbable:function(element){return this.isFocusable(element)&&matches.call(element,":not([tabindex=\"-1\"])")&&this._isVisible(element)},/**
     * Returns the normalized element tabindex. If not focusable, returns -1.
     * It checks for the attribute "tabindex" instead of the element property
     * `tabIndex` since browsers assign different values to it.
     * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`
     * @param {!HTMLElement} element
     * @return {!number}
     * @private
     */_normalizedTabIndex:function(element){if(this.isFocusable(element)){var tabIndex=element.getAttribute("tabindex")||0;return+tabIndex}return-1},/**
     * Searches for nodes that are tabbable and adds them to the `result` array.
     * Returns if the `result` array needs to be sorted by tabindex.
     * @param {!Node} node The starting point for the search; added to `result`
     * if tabbable.
     * @param {!Array<!HTMLElement>} result
     * @return {boolean}
     * @private
     */_collectTabbableNodes:function(node,result){// If not an element or not visible, no need to explore children.
if(node.nodeType!==Node.ELEMENT_NODE||!this._isVisible(node)){return(/* eat */!1)}var element=/** @type {!HTMLElement} */node,tabIndex=this._normalizedTabIndex(element),needsSort=0<tabIndex;if(0<=tabIndex){result.push(element)}// In ShadowDOM v1, tab order is affected by the order of distrubution.
// E.g. getTabbableNodes(#root) in ShadowDOM v1 should return [#A, #B];
// in ShadowDOM v0 tab order is not affected by the distrubution order,
// in fact getTabbableNodes(#root) returns [#B, #A].
//  <div id="root">
//   <!-- shadow -->
//     <slot name="a">
//     <slot name="b">
//   <!-- /shadow -->
//   <input id="A" slot="a">
//   <input id="B" slot="b" tabindex="1">
//  </div>
// TODO(valdrin) support ShadowDOM v1 when upgrading to Polymer v2.0.
var children;if("content"===element.localName||"slot"===element.localName){children=Polymer.dom(element).getDistributedNodes()}else{// Use shadow root if possible, will check for distributed nodes.
children=Polymer.dom(element.root||element).children}for(var i=0;i<children.length;i++){// Ensure method is always invoked to collect tabbable children.
needsSort=this._collectTabbableNodes(children[i],result)||needsSort}return needsSort},/**
     * Returns false if the element has `visibility: hidden` or `display: none`
     * @param {!HTMLElement} element
     * @return {boolean}
     * @private
     */_isVisible:function(element){// Check inline style first to save a re-flow. If looks good, check also
// computed style.
var style=element.style;if("hidden"!==style.visibility&&"none"!==style.display){style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}return!1},/**
     * Sorts an array of tabbable elements by tabindex. Returns a new array.
     * @param {!Array<!HTMLElement>} tabbables
     * @return {!Array<!HTMLElement>}
     * @private
     */_sortByTabIndex:function(tabbables){// Implement a merge sort as Array.prototype.sort does a non-stable sort
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort
var len=tabbables.length;if(2>len){return tabbables}var pivot=Math.ceil(len/2),left=this._sortByTabIndex(tabbables.slice(0,pivot)),right=this._sortByTabIndex(tabbables.slice(pivot));return this._mergeSortByTabIndex(left,right)},/**
     * Merge sort iterator, merges the two arrays into one, sorted by tab index.
     * @param {!Array<!HTMLElement>} left
     * @param {!Array<!HTMLElement>} right
     * @return {!Array<!HTMLElement>}
     * @private
     */_mergeSortByTabIndex:function(left,right){var result=[];while(0<left.length&&0<right.length){if(this._hasLowerTabOrder(left[0],right[0])){result.push(right.shift())}else{result.push(left.shift())}}return result.concat(left,right)},/**
     * Returns if element `a` has lower tab order compared to element `b`
     * (both elements are assumed to be focusable and tabbable).
     * Elements with tabindex = 0 have lower tab order compared to elements
     * with tabindex > 0.
     * If both have same tabindex, it returns false.
     * @param {!HTMLElement} a
     * @param {!HTMLElement} b
     * @return {boolean}
     * @private
     */_hasLowerTabOrder:function(a,b){// Normalize tabIndexes
// e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`
var ati=Math.max(a.tabIndex,0),bti=Math.max(b.tabIndex,0);return 0===ati||0===bti?bti>ati:ati>bti}}})();</script><script>(function(){'use strict';/** @polymerBehavior */Polymer.IronOverlayBehaviorImpl={properties:{/**
       * True if the overlay is currently displayed.
       */opened:{observer:"_openedChanged",type:Boolean,value:/* eat */!1,notify:!0},/**
       * True if the overlay was canceled when it was last closed.
       */canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},/**
       * Set to true to display a backdrop behind the overlay. It traps the focus
       * within the light DOM of the overlay.
       */withBackdrop:{observer:"_withBackdropChanged",type:Boolean},/**
       * Set to true to disable auto-focusing the overlay or child nodes with
       * the `autofocus` attribute` when the overlay is opened.
       */noAutoFocus:{type:Boolean,value:!1},/**
       * Set to true to disable canceling the overlay with the ESC key.
       */noCancelOnEscKey:{type:Boolean,value:!1},/**
       * Set to true to disable canceling the overlay by clicking outside it.
       */noCancelOnOutsideClick:{type:Boolean,value:!1},/**
       * Contains the reason(s) this overlay was last closed (see
       * `iron-overlay-closed`). `IronOverlayBehavior` provides the `canceled`
       * reason; implementers of the behavior can provide other reasons in
       * addition to `canceled`.
       */closingReason:{// was a getter before, but needs to be a property so other
// behaviors can override this.
type:Object},/**
       * Set to true to enable restoring of focus when overlay is closed.
       */restoreFocusOnClose:{type:Boolean,value:!1},/**
       * Set to true to allow clicks to go through overlays.
       * When the user clicks outside this overlay, the click may
       * close the overlay below.
       */allowClickThrough:{type:Boolean},/**
       * Set to true to keep overlay always on top.
       */alwaysOnTop:{type:Boolean},/**
       * Determines which action to perform when scroll outside an opened overlay
       * happens. Possible values: lock - blocks scrolling from happening, refit -
       * computes the new position on the overlay cancel - causes the overlay to
       * close
       */scrollAction:{type:String},/**
       * Shortcut to access to the overlay manager.
       * @private
       * @type {!Polymer.IronOverlayManagerClass}
       */_manager:{type:Object,value:Polymer.IronOverlayManager},/**
       * The node being focused.
       * @type {?Node}
       */_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],/**
     * The backdrop element.
     * @return {!Element}
     */get backdropElement(){return this._manager.backdropElement},/**
     * Returns the node to give focus to.
     * @return {!Node}
     */get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},/**
     * Array of nodes that can receive focus (overlay included), ordered by
     * `tabindex`. This is used to retrieve which is the first and last focusable
     * nodes in order to wrap the focus for overlays `with-backdrop`.
     *
     * If you know what is your content (specifically the first and last focusable
     * children), you can override this method to return only `[firstFocusable,
     * lastFocusable];`
     * @return {!Array<!Node>}
     * @protected
     */get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},/**
     * @return {void}
     */ready:function(){// Used to skip calls to notifyResize and refit while the overlay is
// animating.
this.__isAnimating=!1;// with-backdrop needs tabindex to be set in order to trap the focus.
// If it is not set, IronOverlayBehavior will set it, and remove it if
// with-backdrop = false.
this.__shouldRemoveTabIndex=!1;// Used for wrapping the focus on TAB / Shift+TAB.
this.__firstFocusableNode=this.__lastFocusableNode=null;// Used by to keep track of the RAF callbacks.
this.__rafs={};// Focused node before overlay gets opened. Can be restored on close.
this.__restoreFocusNode=null;// Scroll info to be restored.
this.__scrollTop=this.__scrollLeft=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);// Root nodes hosting the overlay, used to listen for scroll events on them.
this.__rootNodes=null;this._ensureSetup()},attached:function(){// Call _openedChanged here so that position can be computed correctly.
if(this.opened){this._openedChanged(this.opened)}this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var cb in this.__rafs){if(null!==this.__rafs[cb]){cancelAnimationFrame(this.__rafs[cb])}}this.__rafs={};this._manager.removeOverlay(this);// We got detached while animating, ensure we show/hide the overlay
// and fire iron-overlay-opened/closed event!
if(this.__isAnimating){if(this.opened){this._finishRenderOpened()}else{// Restore the focus if necessary.
this._applyFocus();this._finishRenderClosed()}}},/**
     * Toggle the opened state of the overlay.
     */toggle:function(){this._setCanceled(!1);this.opened=!this.opened},/**
     * Open the overlay.
     */open:function(){this._setCanceled(!1);this.opened=!0},/**
     * Close the overlay.
     */close:function(){this._setCanceled(!1);this.opened=!1},/**
     * Cancels the overlay.
     * @param {Event=} event The original event
     */cancel:function(event){var cancelEvent=this.fire("iron-overlay-canceled",event,{cancelable:!0});if(cancelEvent.defaultPrevented){return}this._setCanceled(!0);this.opened=!1},/**
     * Invalidates the cached tabbable nodes. To be called when any of the
     * focusable content changes (e.g. a button is disabled).
     */invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){if(this._overlaySetup){return}this._overlaySetup=!0;this.style.outline="none";this.style.display="none"},/**
     * Called when `opened` changes.
     * @param {boolean=} opened
     * @protected
     */_openedChanged:function(opened){if(opened){this.removeAttribute("aria-hidden")}else{this.setAttribute("aria-hidden","true")}// Defer any animation-related code on attached
// (_openedChanged gets called again on attached).
if(!this.isAttached){return}this.__isAnimating=!0;// Deraf for non-blocking rendering.
this.__deraf("__openedChanged",this.__openedChanged)},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){// If tabindex is already set, no need to override it.
if(this.withBackdrop&&!this.hasAttribute("tabindex")){this.setAttribute("tabindex","-1");this.__shouldRemoveTabIndex=!0}else if(this.__shouldRemoveTabIndex){this.removeAttribute("tabindex");this.__shouldRemoveTabIndex=!1}if(this.opened&&this.isAttached){this._manager.trackBackdrop()}},/**
     * tasks which must occur before opening; e.g. making the element visible.
     * @protected
     */_prepareRenderOpened:function(){// Store focused node.
this.__restoreFocusNode=this._manager.deepActiveElement;// Needed to calculate the size of the overlay so that transitions on its
// size will have the correct starting points.
this._preparePositioning();this.refit();this._finishPositioning();// Safari will apply the focus to the autofocus element when displayed
// for the first time, so we make sure to return the focus where it was.
if(this.noAutoFocus&&document.activeElement===this._focusNode){this._focusNode.blur();this.__restoreFocusNode.focus()}},/**
     * Tasks which cause the overlay to actually open; typically play an
     * animation.
     * @protected
     */_renderOpened:function(){this._finishRenderOpened()},/**
     * Tasks which cause the overlay to actually close; typically play an
     * animation.
     * @protected
     */_renderClosed:function(){this._finishRenderClosed()},/**
     * Tasks to be performed at the end of open action. Will fire
     * `iron-overlay-opened`.
     * @protected
     */_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},/**
     * Tasks to be performed at the end of close action. Will fire
     * `iron-overlay-closed`.
     * @protected
     */_finishRenderClosed:function(){// Hide the overlay.
this.style.display="none";// Reset z-index only at the end of the animation.
this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){// First, make it invisible & reactivate animations.
this.style.display="none";// Force reflow before re-enabling animations so that they don't start.
// Set scrollTop to itself so that Closure Compiler doesn't remove this.
this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";// Now that animations are enabled, make it visible again
this.style.display="";// Force reflow, so that following animations are properly started.
// Set scrollTop to itself so that Closure Compiler doesn't remove this.
this.scrollTop=this.scrollTop},/**
     * Applies focus according to the opened state.
     * @protected
     */_applyFocus:function(){if(this.opened){if(!this.noAutoFocus){this._focusNode.focus()}}else{// Restore focus.
if(this.restoreFocusOnClose&&this.__restoreFocusNode){// If the activeElement is `<body>` or inside the overlay,
// we are allowed to restore the focus. In all the other
// cases focus might have been moved elsewhere by another
// component or by an user interaction (e.g. click on a
// button outside the overlay).
var activeElement=this._manager.deepActiveElement;if(activeElement===document.body||Polymer.dom(this).deepContains(activeElement)){this.__restoreFocusNode.focus()}}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},/**
     * Cancels (closes) the overlay. Call when click happens outside the overlay.
     * @param {!Event} event
     * @protected
     */_onCaptureClick:function(event){if(!this.noCancelOnOutsideClick){this.cancel(event)}},/**
     * Keeps track of the focused child. If withBackdrop, traps focus within
     * overlay.
     * @param {!Event} event
     * @protected
     */_onCaptureFocus:function(event){if(!this.withBackdrop){return}var path=Polymer.dom(event).path;if(-1===path.indexOf(this)){event.stopPropagation();this._applyFocus()}else{this._focusedChild=path[0]}},/**
     * Handles the ESC key event and cancels (closes) the overlay.
     * @param {!Event} event
     * @protected
     */_onCaptureEsc:function(event){if(!this.noCancelOnEscKey){this.cancel(event)}},/**
     * Handles TAB key events to track focus changes.
     * Will wrap focus for overlays withBackdrop.
     * @param {!Event} event
     * @protected
     */_onCaptureTab:function(event){if(!this.withBackdrop){return}this.__ensureFirstLastFocusables();// TAB wraps from last to first focusable.
// Shift + TAB wraps from first to last focusable.
var shift=event.shiftKey,nodeToCheck=shift?this.__firstFocusableNode:this.__lastFocusableNode,nodeToSet=shift?this.__lastFocusableNode:this.__firstFocusableNode,shouldWrap=!1;if(nodeToCheck===nodeToSet){// If nodeToCheck is the same as nodeToSet, it means we have an overlay
// with 0 or 1 focusables; in either case we still need to trap the
// focus within the overlay.
shouldWrap=!0}else{// In dom=shadow, the manager will receive focus changes on the main
// root but not the ones within other shadow roots, so we can't rely on
// _focusedChild, but we should check the deepest active element.
var focusedNode=this._manager.deepActiveElement;// If the active element is not the nodeToCheck but the overlay itself,
// it means the focus is about to go outside the overlay, hence we
// should prevent that (e.g. user opens the overlay and hit Shift+TAB).
shouldWrap=focusedNode===nodeToCheck||focusedNode===this}if(shouldWrap){// When the overlay contains the last focusable element of the document
// and it's already focused, pressing TAB would move the focus outside
// the document (e.g. to the browser search bar). Similarly, when the
// overlay contains the first focusable element of the document and it's
// already focused, pressing Shift+TAB would move the focus outside the
// document (e.g. to the browser search bar).
// In both cases, we would not receive a focus event, but only a blur.
// In order to achieve focus wrapping, we prevent this TAB event and
// force the focus. This will also prevent the focus to temporarily move
// outside the overlay, which might cause scrolling.
event.preventDefault();this._focusedChild=nodeToSet;this._applyFocus()}},/**
     * Refits if the overlay is opened and not animating.
     * @protected
     */_onIronResize:function(){if(this.opened&&!this.__isAnimating){this.__deraf("refit",this.refit)}},/**
     * Will call notifyResize if overlay is opened.
     * Can be overridden in order to avoid multiple observers on the same node.
     * @protected
     */_onNodesChange:function(){if(this.opened&&!this.__isAnimating){// It might have added focusable nodes, so invalidate cached values.
this.invalidateTabbables();this.notifyResize()}},/**
     * Will set first and last focusable nodes if any of them is not set.
     * @private
     */__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var focusableNodes=this._focusableNodes;this.__firstFocusableNode=focusableNodes[0];this.__lastFocusableNode=focusableNodes[focusableNodes.length-1]}},/**
     * Tasks executed when opened changes: prepare for the opening, move the
     * focus, update the manager, render opened/closed.
     * @private
     */__openedChanged:function(){if(this.opened){// Make overlay visible, then add it to the manager.
this._prepareRenderOpened();this._manager.addOverlay(this);// Move the focus to the child node with [autofocus].
this._applyFocus();this._renderOpened()}else{// Remove overlay, then restore the focus before actually closing.
this._manager.removeOverlay(this);this._applyFocus();this._renderClosed()}},/**
     * Debounces the execution of a callback to the next animation frame.
     * @param {!string} jobname
     * @param {!Function} callback Always bound to `this`
     * @private
     */__deraf:function(jobname,callback){var rafs=this.__rafs;if(null!==rafs[jobname]){cancelAnimationFrame(rafs[jobname])}rafs[jobname]=requestAnimationFrame(function nextAnimationFrame(){rafs[jobname]=null;callback.call(this)}.bind(this))},/**
     * @param {boolean} isAttached
     * @param {boolean} opened
     * @param {string=} scrollAction
     * @private
     */__updateScrollObservers:function(isAttached,opened,scrollAction){if(!isAttached||!opened||!this.__isValidScrollAction(scrollAction)){Polymer.IronScrollManager.removeScrollLock(this);this.__removeScrollListeners()}else{if("lock"===scrollAction){this.__saveScrollPosition();Polymer.IronScrollManager.pushScrollLock(this)}this.__addScrollListeners()}},/**
     * @private
     */__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];// Listen for scroll events in all shadowRoots hosting this overlay only
// when in native ShadowDOM.
if(Polymer.Settings.useShadow){var node=this;while(node){if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&node.host){this.__rootNodes.push(node)}node=node.host||node.assignedSlot||node.parentNode}}this.__rootNodes.push(document)}this.__rootNodes.forEach(function(el){el.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},/**
     * @private
     */__removeScrollListeners:function(){if(this.__rootNodes){this.__rootNodes.forEach(function(el){el.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)}if(!this.isAttached){this.__rootNodes=null}},/**
     * @param {string=} scrollAction
     * @return {boolean}
     * @private
     */__isValidScrollAction:function(scrollAction){return"lock"===scrollAction||"refit"===scrollAction||"cancel"===scrollAction},/**
     * @private
     */__onCaptureScroll:function(event){if(this.__isAnimating){return}// Check if scroll outside the overlay.
if(0<=Polymer.dom(event).path.indexOf(this)){return}switch(this.scrollAction){case"lock":// NOTE: scrolling might happen if a scroll event is not cancellable, or
// if user pressed keys that cause scrolling (they're not prevented in
// order not to break a11y features like navigate with arrow keys).
this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(event);break;}},/**
     * Memoizes the scroll position of the outside scrolling element.
     * @private
     */__saveScrollPosition:function(){if(document.scrollingElement){this.__scrollTop=document.scrollingElement.scrollTop;this.__scrollLeft=document.scrollingElement.scrollLeft}else{// Since we don't know if is the body or html, get max.
this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)}},/**
     * Resets the scroll position of the outside scrolling element.
     * @private
     */__restoreScrollPosition:function(){if(document.scrollingElement){document.scrollingElement.scrollTop=this.__scrollTop;document.scrollingElement.scrollLeft=this.__scrollLeft}else{// Since we don't know if is the body or html, set both.
document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop;document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft}}};/**
  Use `Polymer.IronOverlayBehavior` to implement an element that can be hidden or
  shown, and displays on top of other content. It includes an optional backdrop,
  and can be used to implement a variety of UI controls including dialogs and drop
  downs. Multiple overlays may be displayed at once.

  See the [demo source
  code](https://github.com/PolymerElements/iron-overlay-behavior/blob/master/demo/simple-overlay.html)
  for an example.

  ### Closing and canceling

  An overlay may be hidden by closing or canceling. The difference between close
  and cancel is user intent. Closing generally implies that the user acknowledged
  the content on the overlay. By default, it will cancel whenever the user taps
  outside it or presses the escape key. This behavior is configurable with the
  `no-cancel-on-esc-key` and the `no-cancel-on-outside-click` properties.
  `close()` should be called explicitly by the implementer when the user interacts
  with a control in the overlay element. When the dialog is canceled, the overlay
  fires an 'iron-overlay-canceled' event. Call `preventDefault` on this event to
  prevent the overlay from closing.

  ### Positioning

  By default the element is sized and positioned to fit and centered inside the
  window. You can position and size it manually using CSS. See
  `Polymer.IronFitBehavior`.

  ### Backdrop

  Set the `with-backdrop` attribute to display a backdrop behind the overlay. The
  backdrop is appended to `<body>` and is of type `<iron-overlay-backdrop>`. See
  its doc page for styling options.

  In addition, `with-backdrop` will wrap the focus within the content in the light
  DOM. Override the [`_focusableNodes`
  getter](#Polymer.IronOverlayBehavior:property-_focusableNodes) to achieve a
  different behavior.

  ### Limitations

  The element is styled to appear on top of other content by setting its `z-index`
  property. You must ensure no element has a stacking context with a higher
  `z-index` than its parent stacking context. You should place this element as a
  child of `<body>` whenever possible.

  @demo demo/index.html
  @polymerBehavior
  */Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];/**
   * Fired after the overlay opens.
   * @event iron-overlay-opened
   */ /**
   * Fired when the overlay is canceled, but before it is closed.
   * @event iron-overlay-canceled
   * @param {Event} event The closing of the overlay can be prevented
   * by calling `event.preventDefault()`. The `event.detail` is the original event
   * that originated the canceling (e.g. ESC keyboard event or click event outside
   * the overlay).
   */ /**
   * Fired after the overlay closes.
   * @event iron-overlay-closed
   * @param {Event} event The `event.detail` is the `closingReason` property
   * (contains `canceled`, whether the overlay was canceled).
   */})();</script><script>/**
   * `Polymer.NeonAnimatableBehavior` is implemented by elements containing animations for use with
   * elements implementing `Polymer.NeonAnimationRunnerBehavior`.
   * @polymerBehavior
   */Polymer.NeonAnimatableBehavior={properties:{/**
       * Animation configuration. See README for more info.
       */animationConfig:{type:Object},/**
       * Convenience property for setting an 'entry' animation. Do not set `animationConfig.entry`
       * manually if using this. The animated node is set to `this` if using this property.
       */entryAnimation:{observer:"_entryAnimationChanged",type:String},/**
       * Convenience property for setting an 'exit' animation. Do not set `animationConfig.exit`
       * manually if using this. The animated node is set to `this` if using this property.
       */exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(config1,config2){// shallowly copy properties from config2 to config1
for(var property in config2){config1[property]=config2[property]}},_cloneConfig:function(config){var clone={isClone:!0};this._copyProperties(clone,config);return clone},_getAnimationConfigRecursive:function(type,map,allConfigs){if(!this.animationConfig){return}if(this.animationConfig.value&&"function"===typeof this.animationConfig.value){this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));return}// type is optional
var thisConfig;if(type){thisConfig=this.animationConfig[type]}else{thisConfig=this.animationConfig}if(!Array.isArray(thisConfig)){thisConfig=[thisConfig]}// iterate animations and recurse to process configurations from child nodes
if(thisConfig){for(var config,index=0;config=thisConfig[index];index++){if(config.animatable){config.animatable._getAnimationConfigRecursive(config.type||type,map,allConfigs)}else{if(config.id){var cachedConfig=map[config.id];if(cachedConfig){// merge configurations with the same id, making a clone lazily
if(!cachedConfig.isClone){map[config.id]=this._cloneConfig(cachedConfig);cachedConfig=map[config.id]}this._copyProperties(cachedConfig,config)}else{// put any configs with an id into a map
map[config.id]=config}}else{allConfigs.push(config)}}}}},/**
     * An element implementing `Polymer.NeonAnimationRunnerBehavior` calls this method to configure
     * an animation with an optional type. Elements implementing `Polymer.NeonAnimatableBehavior`
     * should define the property `animationConfig`, which is either a configuration object
     * or a map of animation type to array of configuration objects.
     */getAnimationConfig:function(type){var map={},allConfigs=[];this._getAnimationConfigRecursive(type,map,allConfigs);// append the configurations saved in the map to the array
for(var key in map){allConfigs.push(map[key])}return allConfigs}};</script><script>/**
   * `Polymer.NeonAnimationRunnerBehavior` adds a method to run animations.
   *
   * @polymerBehavior Polymer.NeonAnimationRunnerBehavior
   */Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(configs){var results=[],resultsToPlay=[];if(0<configs.length){for(var config,index=0,neonAnimation;config=configs[index];index++){neonAnimation=document.createElement(config.name);// is this element actually a neon animation?
if(neonAnimation.isNeonAnimation){var result=null;// Closure compiler does not work well with a try / catch here. .configure needs to be
// explicitly defined
if(!neonAnimation.configure){/**
               * @param {Object} config
               * @return {AnimationEffectReadOnly}
               */neonAnimation.configure=function(config){return null}}result=neonAnimation.configure(config);resultsToPlay.push({result:result,config:config})}else{console.warn(this.is+":",config.name,"not found!")}}}for(var i=0;i<resultsToPlay.length;i++){var result=resultsToPlay[i].result,config=resultsToPlay[i].config;// configuration or play could fail if polyfills aren't loaded
try{// Check if we have an Effect rather than an Animation
if("function"!=typeof result.cancel){result=document.timeline.play(result)}}catch(e){result=null;console.warn("Couldnt play","(",config.name,").",e)}if(result){results.push({neonAnimation:neonAnimation,config:config,animation:result})}}return results},_shouldComplete:function(activeEntries){for(var finished=!0,i=0;i<activeEntries.length;i++){if("finished"!=activeEntries[i].animation.playState){finished=/* eat */!1;break}}return finished},_complete:function(activeEntries){for(var i=0;i<activeEntries.length;i++){activeEntries[i].neonAnimation.complete(activeEntries[i].config)}for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.cancel()}},/**
     * Plays an animation with an optional `type`.
     * @param {string=} type
     * @param {!Object=} cookie
     */playAnimation:function(type,cookie){var configs=this.getAnimationConfig(type);if(!configs){return}this._active=this._active||{};if(this._active[type]){this._complete(this._active[type]);delete this._active[type]}var activeEntries=this._configureAnimations(configs);if(0==activeEntries.length){this.fire("neon-animation-finish",cookie,{bubbles:!1});return}this._active[type]=activeEntries;for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.onfinish=function(){if(this._shouldComplete(activeEntries)){this._complete(activeEntries);delete this._active[type];this.fire("neon-animation-finish",cookie,{bubbles:!1})}}.bind(this)}},/**
     * Cancels the currently running animations.
     */cancelAnimation:function(){for(var k in this._active){var entries=this._active[k];for(var j in entries){entries[j].animation.cancel()}}this._active={}}};/** @polymerBehavior Polymer.NeonAnimationRunnerBehavior */Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>(function(){'use strict';/**
   * IronDropdownScrollManager is deprecated, use IronScrollManager instead.
   */Polymer.IronDropdownScrollManager=Polymer.IronScrollManager})();</script><dom-module id="iron-dropdown" assetpath="bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none;}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){'use strict';Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{/**
         * The orientation against which to align the dropdown content
         * horizontally relative to the dropdown trigger.
         * Overridden from `Polymer.IronFitBehavior`.
         */horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},/**
         * The orientation against which to align the dropdown content
         * vertically relative to the dropdown trigger.
         * Overridden from `Polymer.IronFitBehavior`.
         */verticalAlign:{type:String,value:"top",reflectToAttribute:!0},/**
         * An animation config. If provided, this will be used to animate the
         * opening of the dropdown. Pass an Array for multiple animations.
         * See `neon-animation` documentation for more animation configuration
         * details.
         */openAnimationConfig:{type:Object},/**
         * An animation config. If provided, this will be used to animate the
         * closing of the dropdown. Pass an Array for multiple animations.
         * See `neon-animation` documentation for more animation configuration
         * details.
         */closeAnimationConfig:{type:Object},/**
         * If provided, this will be the element that will be focused when
         * the dropdown opens.
         */focusTarget:{type:Object},/**
         * Set to true to disable animations when opening and closing the
         * dropdown.
         */noAnimations:{type:Boolean,value:/* eat */!1},/**
         * By default, the dropdown will constrain scrolling on the page
         * to itself when opened.
         * Set to true in order to prevent scroll from being constrained
         * to the dropdown when it opens.
         * This property is a shortcut to set `scrollAction` to lock or refit.
         * Prefer directly setting the `scrollAction` property.
         */allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],/**
       * The element that is contained by the dropdown, if any.
       */get containedElement(){// Polymer 2.x returns slot.assignedNodes which can contain text nodes.
for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},ready:function(){// Ensure scrollAction is set.
if(!this.scrollAction){this.scrollAction=this.allowOutsideScroll?"refit":"lock"}this._readied=!0},attached:function(){if(!this.sizingTarget||this.sizingTarget===this){this.sizingTarget=this.containedElement||this}},detached:function(){this.cancelAnimation()},/**
       * Called when the value of `opened` changes.
       * Overridden from `IronOverlayBehavior`
       */_openedChanged:function(){if(this.opened&&this.disabled){this.cancel()}else{this.cancelAnimation();this._updateAnimationConfig();Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)}},/**
       * Overridden from `IronOverlayBehavior`.
       */_renderOpened:function(){if(!this.noAnimations&&this.animationConfig.open){this.$.contentWrapper.classList.add("animating");this.playAnimation("open")}else{Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)}},/**
       * Overridden from `IronOverlayBehavior`.
       */_renderClosed:function(){if(!this.noAnimations&&this.animationConfig.close){this.$.contentWrapper.classList.add("animating");this.playAnimation("close")}else{Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)}},/**
       * Called when animation finishes on the dropdown (when opening or
       * closing). Responsible for "completing" the process of opening or
       * closing the dropdown by positioning it or setting its display to
       * none.
       */_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}},/**
       * Constructs the final animation config from different properties used
       * to configure specific parts of the opening and closing animations.
       */_updateAnimationConfig:function(){// Update the animation node to be the containedElement.
for(var animationNode=this.containedElement,animations=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),i=0;i<animations.length;i++){animations[i].node=animationNode}this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},/**
       * Updates the overlay position based on configured horizontal
       * and vertical alignment.
       */_updateOverlayPosition:function(){if(this.isAttached){// This triggers iron-resize, and iron-overlay-behavior will call refit if
// needed.
this.notifyResize()}},/**
       * Sets scrollAction according to the value of allowOutsideScroll.
       * Prefer setting directly scrollAction.
       */_allowOutsideScrollChanged:function(allowOutsideScroll){// Wait until initial values are all set.
if(!this._readied){return}if(!allowOutsideScroll){this.scrollAction="lock"}else if(!this.scrollAction||"lock"===this.scrollAction){this.scrollAction="refit"}},/**
       * Apply focus to focusTarget or containedElement
       */_applyFocus:function(){var focusTarget=this.focusTarget||this.containedElement;if(focusTarget&&this.opened&&!this.noAutoFocus){focusTarget.focus()}else{Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}}})})();</script></dom-module><script>/**
   * Use `Polymer.NeonAnimationBehavior` to implement an animation.
   * @polymerBehavior
   */Polymer.NeonAnimationBehavior={properties:{/**
       * Defines the animation timing.
       */animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},/**
     * Can be used to determine that elements implement this behavior.
     */isNeonAnimation:!0,/**
     * Do any animation configuration here.
     */ // configure: function(config) {
// },
created:function(){if(!document.body.animate){console.warn("No web animations detected. This element will not"+" function without a web animations polyfill.")}},/**
     * Returns the animation timing by mixing in properties from `config` to the defaults defined
     * by the animation.
     */timingFromConfig:function(config){if(config.timing){for(var property in config.timing){this.animationTiming[property]=config.timing[property]}}return this.animationTiming},/**
     * Sets `transform` and `transformOrigin` properties along with the prefixed versions.
     */setPrefixedProperty:function(node,property,value){for(var map={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]},prefixes=map[property],prefix,index=0;prefix=prefixes[index];index++){node.style[prefix]=value}node.style[property]=value},/**
     * Called when the animation finishes.
     */complete:function(config){}};</script><script>Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this._effect=new KeyframeEffect(node,[{height:height/2+"px"},{height:height+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width/2+"px"},{width:width+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width+"px"},{width:width-width/20+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this.setPrefixedProperty(node,"transformOrigin","0 0");this._effect=new KeyframeEffect(node,[{height:height+"px",transform:"translateY(0)"},{height:height/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(config));return this._effect}});</script><dom-module id="paper-menu-button" assetpath="bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){'use strict';var config={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Polymer.PaperMenuButton=Polymer({is:"paper-menu-button",/**
       * Fired when the dropdown opens.
       *
       * @event paper-dropdown-open
       */ /**
       * Fired when the dropdown closes.
       *
       * @event paper-dropdown-close
       */behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{/**
         * True if the content is currently displayed.
         */opened:{type:Boolean,value:/* eat */!1,notify:!0,observer:"_openedChanged"},/**
         * The orientation against which to align the menu dropdown
         * horizontally relative to the dropdown trigger.
         */horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},/**
         * The orientation against which to align the menu dropdown
         * vertically relative to the dropdown trigger.
         */verticalAlign:{type:String,value:"top",reflectToAttribute:!0},/**
         * If true, the `horizontalAlign` and `verticalAlign` properties will
         * be considered preferences instead of strict requirements when
         * positioning the dropdown and may be changed if doing so reduces
         * the area of the dropdown falling outside of `fitInto`.
         */dynamicAlign:{type:Boolean},/**
         * A pixel value that will be added to the position calculated for the
         * given `horizontalAlign`. Use a negative value to offset to the
         * left, or a positive value to offset to the right.
         */horizontalOffset:{type:Number,value:0,notify:!0},/**
         * A pixel value that will be added to the position calculated for the
         * given `verticalAlign`. Use a negative value to offset towards the
         * top, or a positive value to offset towards the bottom.
         */verticalOffset:{type:Number,value:0,notify:!0},/**
         * If true, the dropdown will be positioned so that it doesn't overlap
         * the button.
         */noOverlap:{type:Boolean},/**
         * Set to true to disable animations when opening and closing the
         * dropdown.
         */noAnimations:{type:Boolean,value:!1},/**
         * Set to true to disable automatically closing the dropdown after
         * a selection has been made.
         */ignoreSelect:{type:Boolean,value:!1},/**
         * Set to true to enable automatically closing the dropdown after an
         * item has been activated, even if the selection did not change.
         */closeOnActivate:{type:Boolean,value:!1},/**
         * An animation config. If provided, this will be used to animate the
         * opening of the dropdown.
         */openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:config.ANIMATION_CUBIC_BEZIER}}]}},/**
         * An animation config. If provided, this will be used to animate the
         * closing of the dropdown.
         */closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},/**
         * By default, the dropdown will constrain scrolling on the page
         * to itself when opened.
         * Set to true in order to prevent scroll from being constrained
         * to the dropdown when it opens.
         */allowOutsideScroll:{type:Boolean,value:!1},/**
         * Whether focus should be restored to the button when the menu closes.
         */restoreFocusOnClose:{type:Boolean,value:!0},/**
         * This is the element intended to be bound as the focus target
         * for the `iron-dropdown` contained by `paper-menu-button`.
         */_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},/**
       * The content element that is contained by the menu button, if any.
       */get contentElement(){// Polymer 2.x returns slot.assignedNodes which can contain text nodes.
for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},/**
       * Toggles the drowpdown content between opened and closed.
       */toggle:function(){if(this.opened){this.close()}else{this.open()}},/**
       * Make the dropdown content appear as an overlay positioned relative
       * to the dropdown trigger.
       */open:function(){if(this.disabled){return}this.$.dropdown.open()},/**
       * Hide the dropdown content.
       */close:function(){this.$.dropdown.close()},/**
       * When an `iron-select` event is received, the dropdown should
       * automatically close on the assumption that a value has been chosen.
       *
       * @param {CustomEvent} event A CustomEvent instance with type
       * set to `"iron-select"`.
       */_onIronSelect:function(event){if(!this.ignoreSelect){this.close()}},/**
       * Closes the dropdown when an `iron-activate` event is received if
       * `closeOnActivate` is true.
       *
       * @param {CustomEvent} event A CustomEvent of type 'iron-activate'.
       */_onIronActivate:function(event){if(this.closeOnActivate){this.close()}},/**
       * When the dropdown opens, the `paper-menu-button` fires `paper-open`.
       * When the dropdown closes, the `paper-menu-button` fires `paper-close`.
       *
       * @param {boolean} opened True if the dropdown is opened, otherwise false.
       * @param {boolean} oldOpened The previous value of `opened`.
       */_openedChanged:function(opened,oldOpened){if(opened){// TODO(cdata): Update this when we can measure changes in distributed
// children in an idiomatic way.
// We poke this property in case the element has changed. This will
// cause the focus target for the `iron-dropdown` to be updated as
// necessary:
this._dropdownContent=this.contentElement;this.fire("paper-dropdown-open")}else if(null!=oldOpened){this.fire("paper-dropdown-close")}},/**
       * If the dropdown is open when disabled becomes true, close the
       * dropdown.
       *
       * @param {boolean} disabled True if disabled, otherwise false.
       */_disabledChanged:function(disabled){Polymer.IronControlState._disabledChanged.apply(this,arguments);if(disabled&&this.opened){this.close()}},__onIronOverlayCanceled:function(event){var uiEvent=event.detail,trigger=this.$.trigger,path=Polymer.dom(uiEvent).path;if(-1<path.indexOf(trigger)){event.preventDefault()}}});Object.keys(config).forEach(function(key){Polymer.PaperMenuButton[key]=config[key]})})();</script></dom-module><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){'use strict';Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{/**
           * The derived "label" of the currently selected item. This value
           * is the `label` property on the selected item if set, or else the
           * trimmed text content of the selected item.
           */selectedItemLabel:{type:String,notify:!0,readOnly:!0},/**
           * The last selected item. An item is selected if the dropdown menu has
           * a child with slot `dropdown-content`, and that child triggers an
           * `iron-select` event with the selected `item` in the `detail`.
           *
           * @type {?Object}
           */selectedItem:{type:Object,notify:!0,readOnly:!0},/**
           * The value for this element that will be used when submitting in
           * a form. It reflects the value of `selectedItemLabel`. If set directly,
           * it will not update the `selectedItemLabel` value.
           */value:{type:String,notify:!0},/**
           * The label for the dropdown.
           */label:{type:String},/**
           * The placeholder for the dropdown.
           */placeholder:{type:String},/**
           * The error message to display when invalid.
           */errorMessage:{type:String},/**
           * True if the dropdown is open. Otherwise, false.
           */opened:{type:Boolean,notify:!0,value:/* eat */!1,observer:"_openedChanged"},/**
           * By default, the dropdown will constrain scrolling on the page
           * to itself when opened.
           * Set to true in order to prevent scroll from being constrained
           * to the dropdown when it opens.
           */allowOutsideScroll:{type:Boolean,value:!1},/**
           * Set to true to disable the floating label. Bind this to the
           * `<paper-input-container>`'s `noLabelFloat` property.
           */noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},/**
           * Set to true to always float the label. Bind this to the
           * `<paper-input-container>`'s `alwaysFloatLabel` property.
           */alwaysFloatLabel:{type:Boolean,value:!1},/**
           * Set to true to disable animations when opening and closing the
           * dropdown.
           */noAnimations:{type:Boolean,value:!1},/**
           * The orientation against which to align the menu dropdown
           * horizontally relative to the dropdown trigger.
           */horizontalAlign:{type:String,value:"right"},/**
           * The orientation against which to align the menu dropdown
           * vertically relative to the dropdown trigger.
           */verticalAlign:{type:String,value:"top"},/**
           * Overrides the vertical offset computed in
           * _computeMenuVerticalOffset.
           */verticalOffset:Number,/**
           * If true, the `horizontalAlign` and `verticalAlign` properties will
           * be considered preferences instead of strict requirements when
           * positioning the dropdown and may be changed if doing so reduces
           * the area of the dropdown falling outside of `fitInto`.
           */dynamicAlign:{type:Boolean},/**
           * Whether focus should be restored to the dropdown when the menu closes.
           */restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},/**
         * @type {!Object}
         */keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){// NOTE(cdata): Due to timing, a preselected value in a `IronSelectable`
// child will cause an `iron-select` event to fire while the element is
// still in a `DocumentFragment`. This has the effect of causing
// handlers not to fire. So, we double check this value on attached:
var contentElement=this.contentElement;if(contentElement&&contentElement.selectedItem){this._setSelectedItem(contentElement.selectedItem)}},/**
         * The content element that is contained by the dropdown menu, if any.
         */get contentElement(){// Polymer 2.x returns slot.assignedNodes which can contain text nodes.
for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},/**
         * Show the dropdown content.
         */open:function(){this.$.menuButton.open()},/**
         * Hide the dropdown content.
         */close:function(){this.$.menuButton.close()},/**
         * A handler that is called when `iron-select` is fired.
         *
         * @param {CustomEvent} event An `iron-select` event.
         */_onIronSelect:function(event){this._setSelectedItem(event.detail.item)},/**
         * A handler that is called when `iron-deselect` is fired.
         *
         * @param {CustomEvent} event An `iron-deselect` event.
         */_onIronDeselect:function(event){this._setSelectedItem(null)},/**
         * A handler that is called when the dropdown is tapped.
         *
         * @param {CustomEvent} event A tap event.
         */_onTap:function(event){if(Polymer.Gestures.findOriginalTarget(event)===this){this.open()}},/**
         * Compute the label for the dropdown given a selected item.
         *
         * @param {Element} selectedItem A selected Element item, with an
         * optional `label` property.
         */_selectedItemChanged:function(selectedItem){var value="";if(!selectedItem){value=""}else{value=selectedItem.label||selectedItem.getAttribute("label")||selectedItem.textContent.trim()}this.value=value;this._setSelectedItemLabel(value)},/**
         * Compute the vertical offset of the menu based on the value of
         * `noLabelFloat`.
         *
         * @param {boolean} noLabelFloat True if the label should not float
         * @param {number=} opt_verticalOffset Optional offset from the user
         * above the input, otherwise false.
         */_computeMenuVerticalOffset:function(noLabelFloat,opt_verticalOffset){// Override offset if it's passed from the user.
if(opt_verticalOffset){return opt_verticalOffset}// NOTE(cdata): These numbers are somewhat magical because they are
// derived from the metrics of elements internal to `paper-input`'s
// template. The metrics will change depending on whether or not the
// input has a floating label.
return noLabelFloat?-4:8},/**
         * Returns false if the element is required and does not have a selection,
         * and true otherwise.
         * @param {*=} _value Ignored.
         * @return {boolean} true if `required` is false, or if `required` is true
         * and the element has a valid selection.
         */_getValidity:function(_value){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var openState=this.opened?"true":"false",e=this.contentElement;if(e){e.setAttribute("aria-expanded",openState)}}})})();</script></dom-module><script>/**
   * @param {!Function} selectCallback
   * @constructor
   * @suppress {missingProvide}
   */Polymer.IronSelection=function(selectCallback){this.selection=[];this.selectCallback=selectCallback};Polymer.IronSelection.prototype={/**
     * Retrieves the selected item(s).
     *
     * @method get
     * @returns Returns the selected item(s). If the multi property is true,
     * `get` will return an array, otherwise it will return
     * the selected item or undefined if there is no selection.
     */get:function(){return this.multi?this.selection.slice():this.selection[0]},/**
     * Clears all the selection except the ones indicated.
     *
     * @method clear
     * @param {Array} excludes items to be excluded.
     */clear:function(excludes){this.selection.slice().forEach(function(item){if(!excludes||0>excludes.indexOf(item)){this.setItemSelected(item,/* eat */!1)}},this)},/**
     * Indicates if a given item is selected.
     *
     * @method isSelected
     * @param {*} item The item whose selection state should be checked.
     * @returns Returns true if `item` is selected.
     */isSelected:function(item){return 0<=this.selection.indexOf(item)},/**
     * Sets the selection state for a given item to either selected or deselected.
     *
     * @method setItemSelected
     * @param {*} item The item to select.
     * @param {boolean} isSelected True for selected, false for deselected.
     */setItemSelected:function(item,isSelected){if(null!=item){if(isSelected!==this.isSelected(item)){// proceed to update selection only if requested state differs from current
if(isSelected){this.selection.push(item)}else{var i=this.selection.indexOf(item);if(0<=i){this.selection.splice(i,1)}}if(this.selectCallback){this.selectCallback(item,isSelected)}}}},/**
     * Sets the selection state for a given item. If the `multi` property
     * is true, then the selected state of `item` will be toggled; otherwise
     * the `item` will be selected.
     *
     * @method select
     * @param {*} item The item to select.
     */select:function(item){if(this.multi){this.toggle(item)}else if(this.get()!==item){this.setItemSelected(this.get(),!1);this.setItemSelected(item,!0)}},/**
     * Toggles the selection state for `item`.
     *
     * @method toggle
     * @param {*} item The item to toggle.
     */toggle:function(item){this.setItemSelected(item,!this.isSelected(item))}};</script><script>/**
   * @polymerBehavior Polymer.IronSelectableBehavior
   */Polymer.IronSelectableBehavior={/**
       * Fired when iron-selector is activated (selected or deselected).
       * It is fired before the selected items are changed.
       * Cancel the event to abort selection.
       *
       * @event iron-activate
       */ /**
       * Fired when an item is selected
       *
       * @event iron-select
       */ /**
       * Fired when an item is deselected
       *
       * @event iron-deselect
       */ /**
       * Fired when the list of selectable items changes (e.g., items are
       * added or removed). The detail of the event is a mutation record that
       * describes what changed.
       *
       * @event iron-items-changed
       */properties:{/**
       * If you want to use an attribute value or property of an element for
       * `selected` instead of the index, set this to the name of the attribute
       * or property. Hyphenated values are converted to camel case when used to
       * look up the property of a selectable element. Camel cased values are
       * *not* converted to hyphenated values for attribute lookup. It's
       * recommended that you provide the hyphenated form of the name so that
       * selection works in both cases. (Use `attr-or-property-name` instead of
       * `attrOrPropertyName`.)
       */attrForSelected:{type:String,value:null},/**
       * Gets or sets the selected element. The default is to use the index of the item.
       * @type {string|number}
       */selected:{type:String,notify:!0},/**
       * Returns the currently selected item.
       *
       * @type {?Object}
       */selectedItem:{type:Object,readOnly:!0,notify:!0},/**
       * The event that fires from items when they are selected. Selectable
       * will listen for this event from items and update the selection state.
       * Set to empty string to listen to no events.
       */activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},/**
       * This is a CSS selector string.  If this is set, only items that match the CSS selector
       * are selectable.
       */selectable:String,/**
       * The class to set on elements when selected.
       */selectedClass:{type:String,value:"iron-selected"},/**
       * The attribute to set on elements when selected.
       */selectedAttribute:{type:String,value:null},/**
       * Default fallback if the selection based on selected with `attrForSelected`
       * is not found.
       */fallbackSelection:{type:String,value:null},/**
       * The list of items from which a selection can be made.
       */items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},/**
       * The set of excluded elements where the key is the `localName`
       * of the element that will be ignored from the item list.
       *
       * @default {template: 1}
       */_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer)}this._removeListener(this.activateEvent)},/**
     * Returns the index of the given item.
     *
     * @method indexOf
     * @param {Object} item
     * @returns Returns the index of the item
     */indexOf:function(item){return this.items?this.items.indexOf(item):-1},/**
     * Selects the given value.
     *
     * @method select
     * @param {string|number} value the value to select.
     */select:function(value){this.selected=value},/**
     * Selects the previous item.
     *
     * @method selectPrevious
     */selectPrevious:function(){var length=this.items.length,index=(+this._valueToIndex(this.selected)-1+length)%length;this.selected=this._indexToValue(index)},/**
     * Selects the next item.
     *
     * @method selectNext
     */selectNext:function(){var index=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(index)},/**
     * Selects the item at the given index.
     *
     * @method selectIndex
     */selectIndex:function(index){this.select(this._indexToValue(index))},/**
     * Force a synchronous update of the `items` property.
     *
     * NOTE: Consider listening for the `iron-items-changed` event to respond to
     * updates to the set of selectable items after updates to the DOM list and
     * selection state have been made.
     *
     * WARNING: If you are using this method, you should probably consider an
     * alternate approach. Synchronously querying for items is potentially
     * slow for many use cases. The `items` property will update asynchronously
     * on its own to reflect selectable items in the DOM.
     */forceSynchronousItemUpdate:function(){if(this._observer&&"function"===typeof this._observer.flush){// NOTE(bicknellr): `Polymer.dom.flush` above is no longer sufficient to
// trigger `observeNodes` callbacks. Polymer 2.x returns an object from
// `observeNodes` with a `flush` that synchronously gives the callback
// any pending MutationRecords (retrieved with `takeRecords`). Any case
// where ShadyDOM flushes were expected to synchronously trigger item
// updates will now require calling `forceSynchronousItemUpdate`.
this._observer.flush()}else{this._updateItems()}},// UNUSED, FOR API COMPATIBILITY
get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(eventName){this.listen(this,eventName,"_activateHandler")},_removeListener:function(eventName){this.unlisten(this,eventName,"_activateHandler")},_activateEventChanged:function(eventName,old){this._removeListener(old);this._addListener(eventName)},_updateItems:function(){var nodes=Polymer.dom(this).queryDistributedElements(this.selectable||"*");nodes=Array.prototype.filter.call(nodes,this._bindFilterItem);this._setItems(nodes)},_updateAttrForSelected:function(){if(this.selectedItem){this.selected=this._valueForItem(this.selectedItem)}},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(selected){if(!this.items){return}var item=this._valueToItem(this.selected);if(item){this._selection.select(item)}else{this._selection.clear()}// Check for items, since this array is populated only when attached
// Since Number(0) is falsy, explicitly check for undefined
if(this.fallbackSelection&&this.items.length&&this._selection.get()===void 0){this.selected=this.fallbackSelection}},_filterItem:function(node){return!this._excludedLocalNames[node.localName]},_valueToItem:function(value){return null==value?null:this.items[this._valueToIndex(value)]},_valueToIndex:function(value){if(this.attrForSelected){for(var i=0,item;item=this.items[i];i++){if(this._valueForItem(item)==value){return i}}}else{return+value}},_indexToValue:function(index){if(this.attrForSelected){var item=this.items[index];if(item){return this._valueForItem(item)}}else{return index}},_valueForItem:function(item){if(!item){return null}if(!this.attrForSelected){var i=this.indexOf(item);return-1===i?null:i}var propValue=item[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return propValue!=void 0?propValue:item.getAttribute(this.attrForSelected)},_applySelection:function(item,isSelected){if(this.selectedClass){this.toggleClass(this.selectedClass,isSelected,item)}if(this.selectedAttribute){this.toggleAttribute(this.selectedAttribute,isSelected,item)}this._selectionChange();this.fire("iron-"+(isSelected?"select":"deselect"),{item:item})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},// observe items change under the given node.
_observeItems:function(node){return Polymer.dom(node).observeNodes(function(mutation){this._updateItems();this._updateSelected();// Let other interested parties know about the change so that
// we don't have to recreate mutation observers everywhere.
this.fire("iron-items-changed",mutation,{bubbles:/* eat */!1,cancelable:!1})})},_activateHandler:function(e){var t=e.target,items=this.items;while(t&&t!=this){var i=items.indexOf(t);if(0<=i){var value=this._indexToValue(i);this._itemActivate(value,t);return}t=t.parentNode}},_itemActivate:function(value,item){if(!this.fire("iron-activate",{selected:value,item:item},{cancelable:!0}).defaultPrevented){this.select(value)}}};</script><script>/**
   * @polymerBehavior Polymer.IronMultiSelectableBehavior
   */Polymer.IronMultiSelectableBehaviorImpl={properties:{/**
       * If true, multiple selections are allowed.
       */multi:{type:Boolean,value:/* eat */!1,observer:"multiChanged"},/**
       * Gets or sets the selected elements. This is used instead of `selected` when `multi`
       * is true.
       */selectedValues:{type:Array,notify:!0,value:function(){return[]}},/**
       * Returns an array of currently selected items.
       */selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],/**
     * Selects the given value. If the `multi` property is true, then the selected state of the
     * `value` will be toggled; otherwise the `value` will be selected.
     *
     * @method select
     * @param {string|number} value the value to select.
     */select:function(value){if(this.multi){this._toggleSelected(value)}else{this.selected=value}},multiChanged:function(multi){this._selection.multi=multi;this._updateSelected()},// UNUSED, FOR API COMPATIBILITY
get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){if(!this.multi){Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)}else if(this.selectedItems&&0<this.selectedItems.length){this.selectedValues=this.selectedItems.map(function(selectedItem){return this._indexToValue(this.indexOf(selectedItem))},this).filter(function(unfilteredValue){return null!=unfilteredValue},this)}},_updateSelected:function(){if(this.multi){this._selectMulti(this.selectedValues)}else{this._selectSelected(this.selected)}},_selectMulti:function(values){values=values||[];var selectedItems=(this._valuesToItems(values)||[]).filter(function(item){return null!==item&&item!==void 0});// clear all but the current selected items
this._selection.clear(selectedItems);// select only those not selected yet
for(var i=0;i<selectedItems.length;i++){this._selection.setItemSelected(selectedItems[i],!0)}// Check for items, since this array is populated only when attached
if(this.fallbackSelection&&!this._selection.get().length){var fallback=this._valueToItem(this.fallbackSelection);if(fallback){this.select(this.fallbackSelection)}}},_selectionChange:function(){var s=this._selection.get();if(this.multi){this._setSelectedItems(s);this._setSelectedItem(s.length?s[0]:null)}else{if(null!==s&&s!==void 0){this._setSelectedItems([s]);this._setSelectedItem(s)}else{this._setSelectedItems([]);this._setSelectedItem(null)}}},_toggleSelected:function(value){var i=this.selectedValues.indexOf(value),unselected=0>i;if(unselected){this.push("selectedValues",value)}else{this.splice("selectedValues",i,1)}},_valuesToItems:function(values){return null==values?null:values.map(function(value){return this._valueToItem(value)},this)}};/** @polymerBehavior */Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>/**
   * `Polymer.IronMenuBehavior` implements accessible menu behavior.
   *
   * @demo demo/index.html
   * @polymerBehavior Polymer.IronMenuBehavior
   */Polymer.IronMenuBehaviorImpl={properties:{/**
       * Returns the currently focused item.
       * @type {?Object}
       */focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},/**
       * The attribute to use on menu items to look up the item title. Typing the
       * first letter of an item when the menu is open focuses that item. If
       * unset, `textContent` will be used.
       */attrForItemTitle:{type:String},/**
       * @type {boolean}
       */disabled:{type:Boolean,value:/* eat */!1,observer:"_disabledChanged"}},/**
     * The list of keys has been taken from
     * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState
     * @private
     */_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],/** @private */_SEARCH_RESET_TIMEOUT_MS:1e3,/** @private */_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},/**
     * @type {!Object}
     */keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},/**
     * Selects the given value. If the `multi` property is true, then the selected
     * state of the `value` will be toggled; otherwise the `value` will be
     * selected.
     *
     * @param {string|number} value the value to select.
     */select:function(value){// Cancel automatically focusing a default item if the menu received focus
// through a user action selecting a particular item.
if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}var item=this._valueToItem(value);if(item&&item.hasAttribute("disabled"))return;this._setFocusedItem(item);Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},/**
     * Resets all tabindex attributes to the appropriate value based on the
     * current selection state. The appropriate value is `0` (focusable) for
     * the default selected item, and `-1` (not keyboard focusable) for all
     * other items.
     */_resetTabindices:function(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(item){item.setAttribute("tabindex",item===selectedItem?"0":"-1")},this)},/**
     * Sets appropriate ARIA based on whether or not the menu is meant to be
     * multi-selectable.
     *
     * @param {boolean} multi True if the menu should be multi-selectable.
     */_updateMultiselectable:function(multi){if(multi){this.setAttribute("aria-multiselectable","true")}else{this.removeAttribute("aria-multiselectable")}},/**
     * Given a KeyboardEvent, this method will focus the appropriate item in the
     * menu (if there is a relevant item, and it is possible to focus it).
     *
     * @param {KeyboardEvent} event A KeyboardEvent.
     */_focusWithKeyboardEvent:function(event){// Make sure that the key pressed is not a modifier key.
// getModifierState is not being used, as it is not available in Safari
// earlier than 10.0.2 (https://trac.webkit.org/changeset/206725/webkit)
if(-1!==this._MODIFIER_KEYS.indexOf(event.key))return;this.cancelDebouncer("_clearSearchText");var searchText=this._searchText||"",key=event.key&&1==event.key.length?event.key:String.fromCharCode(event.keyCode);searchText+=key.toLocaleLowerCase();for(var searchLength=searchText.length,i=0,item;item=this.items[i];i++){if(item.hasAttribute("disabled")){continue}var attr=this.attrForItemTitle||"textContent",title=(item[attr]||item.getAttribute(attr)||"").trim();if(title.length<searchLength){continue}if(title.slice(0,searchLength).toLocaleLowerCase()==searchText){this._setFocusedItem(item);break}}this._searchText=searchText;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function(){this._searchText=""},/**
     * Focuses the previous item (relative to the currently focused item) in the
     * menu, disabled items will be skipped.
     * Loop until length + 1 to handle case of single item in menu.
     */_focusPrevious:function(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex-i+length)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);// Focus might not have worked, if the element was hidden or not
// focusable. In that case, try again.
if(Polymer.dom(owner).activeElement==item){return}}}},/**
     * Focuses the next item (relative to the currently focused item) in the
     * menu, disabled items will be skipped.
     * Loop until length + 1 to handle case of single item in menu.
     */_focusNext:function(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex+i)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);// Focus might not have worked, if the element was hidden or not
// focusable. In that case, try again.
if(Polymer.dom(owner).activeElement==item){return}}}},/**
     * Mutates items in the menu based on provided selection details, so that
     * all items correctly reflect selection state.
     *
     * @param {Element} item An item in the menu.
     * @param {boolean} isSelected True if the item should be shown in a
     * selected state, otherwise false.
     */_applySelection:function(item,isSelected){if(isSelected){item.setAttribute("aria-selected","true")}else{item.removeAttribute("aria-selected")}Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},/**
     * Discretely updates tabindex values among menu items as the focused item
     * changes.
     *
     * @param {Element} focusedItem The element that is currently focused.
     * @param {?Element} old The last element that was considered focused, if
     * applicable.
     */_focusedItemChanged:function(focusedItem,old){old&&old.setAttribute("tabindex","-1");if(focusedItem&&!focusedItem.hasAttribute("disabled")&&!this.disabled){focusedItem.setAttribute("tabindex","0");focusedItem.focus()}},/**
     * A handler that responds to mutation changes related to the list of items
     * in the menu.
     *
     * @param {CustomEvent} event An event containing mutation records as its
     * detail.
     */_onIronItemsChanged:function(event){if(event.detail.addedNodes.length){this._resetTabindices()}},/**
     * Handler that is called when a shift+tab keypress is detected by the menu.
     *
     * @param {CustomEvent} event A key combination event.
     */_onShiftTabDown:function(event){var oldTabIndex=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;// NOTE(cdata): polymer/polymer#1305
},1)},/**
     * Handler that is called when the menu receives focus.
     *
     * @param {FocusEvent} event A focus event.
     */_onFocus:function(event){if(Polymer.IronMenuBehaviorImpl._shiftTabPressed){// do not focus the menu itself
return}// Do not focus the selected tab if the deepest target is part of the
// menu element's local DOM and is focusable.
var rootTarget=/** @type {?HTMLElement} */Polymer.dom(event).rootTarget;if(rootTarget!==this&&"undefined"!==typeof rootTarget.tabIndex&&!this.isLightDescendant(rootTarget)){return}// clear the cached focus item
this._defaultFocusAsync=this.async(function(){// focus the selected item when the menu receives focus, or the first item
// if no item is selected
var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);if(selectedItem){this._setFocusedItem(selectedItem)}else if(this.items[0]){// We find the first none-disabled item (if one exists)
this._focusNext()}})},/**
     * Handler that is called when the up key is pressed.
     *
     * @param {CustomEvent} event A key combination event.
     */_onUpKey:function(event){// up and down arrows moves the focus
this._focusPrevious();event.detail.keyboardEvent.preventDefault()},/**
     * Handler that is called when the down key is pressed.
     *
     * @param {CustomEvent} event A key combination event.
     */_onDownKey:function(event){this._focusNext();event.detail.keyboardEvent.preventDefault()},/**
     * Handler that is called when the esc key is pressed.
     *
     * @param {CustomEvent} event A key combination event.
     */_onEscKey:function(event){var focusedItem=this.focusedItem;if(focusedItem){focusedItem.blur()}},/**
     * Handler that is called when a keydown event is detected.
     *
     * @param {KeyboardEvent} event A keyboard event.
     */_onKeydown:function(event){if(!this.keyboardEventMatchesKeys(event,"up down esc")){// all other keys focus the menu item starting with that character
this._focusWithKeyboardEvent(event)}event.stopPropagation()},// override _activateHandler
_activateHandler:function(event){Polymer.IronSelectableBehavior._activateHandler.call(this,event);event.stopPropagation()},/**
     * Updates this element's tab index when it's enabled/disabled.
     * @param {boolean} disabled
     */_disabledChanged:function(disabled){if(disabled){this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0;this.removeAttribute("tabindex");// No tabindex means not tab-able or select-able.
}else if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex",this._previousTabIndex)}}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;/** @polymerBehavior Polymer.IronMenuBehavior */Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><dom-module id="paper-listbox" assetpath="bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],/** @private */hostAttributes:{role:"listbox"}})})();</script></dom-module><script>/** @polymerBehavior Polymer.PaperItemBehavior */Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};/** @polymerBehavior */Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><dom-module id="paper-item-shared-styles" assetpath="bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><dom-module id="json-table-primitive-teaser" assetpath="bower_components/json-table/"><template><style>:host{display:block;margin:4px 0;}:host([opened]) .primitive-wrapper{max-height:none;}.primitive-wrapper{max-height:var(--json-table-primitive-teaser-max-heigth, 160px);overflow:hidden;padding:4px 0;}*[hidden]{display:none !important;}.toggle{font-size:inherit;color:inherit;margin-top:12px;display:inline-block;}</style><div class="primitive-wrapper" id="wrapper"><slot id="slot"></slot></div><a href="#" class="toggle" hidden$="[[!_isOverflow]]" on-tap="toggle">[[_computeToggleLabel(opened)]]</a></template><script>class JsonTablePrimitiveTeaser extends Polymer.Element{static get is(){return"json-table-primitive-teaser"}static get properties(){return{// If true then the whole value will be visible.
opened:{type:Boolean,value:/* eat */!1,reflectToAttribute:!0},// DOM change observer
observer:{readOnly:!0,type:Object},// if true then the content overflows the max height area.
_isOverflow:{type:Boolean,value:!1},// Container's max height when closed.
maxHeight:{type:String,value:"160px",observer:"_maxHeightChanged"}}}constructor(){super();this._contentChanged=this._contentChanged.bind(this)}connectedCallback(){super.connectedCallback();const observer=new Polymer.FlattenedNodesObserver(this.$.slot,this._contentChanged);this._setObserver(observer)}disconnectedCallback(){super.disconnectedCallback();if(this._observer){this._observer.disconnect();this._setObserver(void 0)}}_contentChanged(){const oh=this.$.wrapper.offsetHeight,sh=this.$.wrapper.scrollHeight;// current height
// content height
this._isOverflow=sh>oh}toggle(e){e.preventDefault();this.opened=!this.opened}_computeToggleLabel(opened){return opened?"show less":"show more"}_maxHeightChanged(maxHeight){maxHeight=maxHeight||"160px";this.updateStyles({"--json-table-primitive-teaser-max-heigth":maxHeight})}}window.customElements.define(JsonTablePrimitiveTeaser.is,JsonTablePrimitiveTeaser);</script></dom-module><dom-module id="json-table-array" assetpath="bower_components/json-table/"><template><style>:host{display:block;--table-actions-label-color:rgba(0, 0, 0, 0.74);--table-actions-label-font-size:14px;--paper-dropdown-menu:{width:70px;};--paper-dropdown-menu-input:{text-align:right;};--paper-input-container-underline:{border-bottom-color:transparent;};--paper-input-container-underline-focus:{border-bottom-color:transparent;};}paper-dropdown-menu{--paper-input-container-input:{@apply --arc-font-body1;color:var(--table-actions-label-color);font-size:var(--table-actions-label-font-size);};}table{border-collapse:collapse;}th{white-space:nowrap;text-align:left;padding:8px 16px;@apply --arc-font-body1;font-size:14px;color:var(--json-table-array-header-color, #58595A);border-bottom:3px #e8e9ea solid;}td{min-width:60px;padding:8px 16px;word-break:normal;vertical-align:top;border-bottom:1px #E8E9EA solid;@apply --arc-font-body1;font-size:14px;color:var(--json-table-array-body-color, #121314);}*[hidden]{display:none !important;}.enum-value{display:block;padding:4px 0;margin:4px 0;}.enum-value::after{content:',';color:rgba(0, 0, 0, 0.54);}.enum-value:last-of-type::after{content:'';}.toggle-view{font-size:inherit;color:inherit;margin-top:12px;display:block;white-space:nowrap;}.toggle-view.active{display:inline-block;margin-top:0;}.table-actions{height:56px;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-body1;font-size:var(--table-actions-label-font-size);color:var(--table-actions-label-color);}.page-items-count-selector,
    .page-count{margin-right:32px;@apply --layout-horizontal;@apply --layout-center;}</style><template is="dom-if" if="[[paginate]]"><div class="table-actions"><div class="page-items-count-selector"><span class="page-items-count-label">Items per page</span><paper-dropdown-menu no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{itemsPerPage}}"><paper-item data-value="10">10</paper-item><paper-item data-value="15">15</paper-item><paper-item data-value="20">20</paper-item><paper-item data-value="25">25</paper-item><paper-item data-value="50">50</paper-item><paper-item data-value="100">100</paper-item></paper-listbox></paper-dropdown-menu></div><div class="page-count">[[startItemLabel]]-[[endItemLabel]] of [[maxItemsLabel]]</div><div class="page-paginators"><paper-icon-button icon="arc:chevron-left" on-tap="previousPage" disabled="[[_isDisabedPrevious(page)]]"></paper-icon-button><paper-icon-button icon="arc:chevron-right" on-tap="nextPage" disabled="[[_isDisabedNext(maxItemsLabel, endItemLabel)]]"></paper-icon-button></div></div></template><table><template is="dom-if" if="[[hasColumns]]"><thead><tr><template is="dom-repeat" items="[[columns]]"><th>[[item]]</th></template></tr></thead></template><tbody><template is="dom-repeat" items="[[display]]" as="displayItem" initial-count="10"><tr><template is="dom-repeat" items="[[columns]]" as="column"><td><template is="dom-if" if="[[_isPrimitive(displayItem, column)]]"><json-table-primitive-teaser class="primitive-value">[[_getValue(displayItem, column)]]</json-table-primitive-teaser></template><template is="dom-if" if="[[_isObject(displayItem, column)]]"><json-table-object json="[[_getValue(displayItem, column)]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template><template is="dom-if" if="[[_isEnum(displayItem, column)]]"><template is="dom-repeat" items="[[_getValue(displayItem, column)]]"><span class="enum-value">[[item]]</span></template></template><template is="dom-if" if="[[_isArray(displayItem, column)]]" restamp="true"><span class="object-info"><span class="object-label" array="">Array ([[_computeValueSize(displayItem, column)]])</span> <a href="#" class="toggle-view" data-target="array" on-tap="_toggleItem">show array</a></span><template is="dom-if" if="[[false]]" array=""><json-table-array json="[[_getValue(displayItem, column)]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></template></template></td></template></tr></template></tbody></table><template is="dom-if" if="[[paginate]]"><div class="table-actions"><div class="page-items-count-selector"><span class="page-items-count-label">Items per page</span><paper-dropdown-menu no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{itemsPerPage}}"><paper-item data-value="10">10</paper-item><paper-item data-value="15">15</paper-item><paper-item data-value="20">20</paper-item><paper-item data-value="25">25</paper-item><paper-item data-value="50">50</paper-item><paper-item data-value="100">100</paper-item></paper-listbox></paper-dropdown-menu></div><div class="page-count">[[startItemLabel]]-[[endItemLabel]] of [[maxItemsLabel]]</div><div class="page-paginators"><paper-icon-button icon="arc:chevron-left" on-tap="previousPage" disabled="[[_isDisabedPrevious(page)]]"></paper-icon-button><paper-icon-button icon="arc:chevron-right" on-tap="nextPage" disabled="[[_isDisabedNext(maxItemsLabel, endItemLabel)]]"></paper-icon-button></div></div></template></template><script>/**
   * An element that displays array structure.
   *
   * ### Example
   *
   * ```html
   * <json-table-array json="[...]"></json-table-array>
   * ```
   *
   * ### Styling
   *
   * `<json-table>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--json-table-array` | Mixin applied to the element | `{}`
   *
   * @polymer
   * @customElement
   * @appliesMixin JsonTableMixin
   * @memberof UiElements
   */class JsonTableArray extends JsonTableMixin(Polymer.Element){/* global JsonTableMixin */static get is(){return"json-table-array"}static get properties(){return{// An object to render.
json:{type:Array,observer:"_jsonChanged"},// List of computed column names
columns:{type:Array,readOnly:!0,observer:"_columnsChanged"},// True if columns list is available.
hasColumns:{type:Boolean,value:/* eat */!1,readOnly:!0},// data model created from the `json` attribute.
display:{type:Array,readOnly:!0},// A label for start index in pagination (1-based)
startItemLabel:{type:Number,readOnly:!0},// A label for end index in pagination (1-based)
endItemLabel:{type:Number,readOnly:!0},// A label for end index in pagination (1-based)
maxItemsLabel:{type:Number,readOnly:!0}}}static get observers(){return["_computeDisplay(json, paginate, page, itemsPerPage)"]}/**
     * Creates a data model from the `json` property.
     *
     * TODO: This should be a deep data observer to update only the portion of the model that
     * actually has changed.
     */_jsonChanged(json){if(!json){this._setDisplay(void 0);this._setColumns(void 0);return}const names=this._computeColumns(json);this._setColumns(names)}_computeDisplay(json,paginate,page,itemsPerPage){if(!json){return}const maxInxdex=json.length-1;if(-1===maxInxdex){return}if(maxInxdex<=itemsPerPage&&this.paginate){return this.set("paginate",!1)}const startIndex=paginate?page*itemsPerPage:0;if(maxInxdex<startIndex){return}const endIndex=paginate?Math.min(startIndex+itemsPerPage-1,maxInxdex):maxInxdex,result=[];for(let i=startIndex;i<=endIndex;i++){result.push(this.getItemModel(json[i]))}this._setDisplay(result);this._setStartItemLabel(startIndex+1);this._setEndItemLabel(Math.min(endIndex+1,maxInxdex));this._setMaxItemsLabel(maxInxdex)}/**
     * Computes the list of column names for the table.
     * It will contain all properties keys fond in the array.
     */_computeColumns(json){if(this.isEnum(json)){// no column names
return}const columnNames=[];json.forEach(function(value){if(this.isObject(value)){const names=Object.keys(value);for(let i=0,len=names.length;i<len;i++){if(-1===columnNames.indexOf(names[i])){columnNames.push(names[i])}}}},this);return columnNames.length?columnNames:void 0}// Sets the `hasColumns` property when columns array change
_columnsChanged(columns){if(columns&&columns.length){this._setHasColumns(!0)}else{this._setHasColumns(!1)}}// Checks if passed `item` is a primitive
_isPrimitive(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isPrimitive(obj)}_isObject(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isObject(obj)}_isEnum(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isArray(obj)&&this.isEnum(obj)}_isArray(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isArray(obj)&&!this.isEnum(obj)}_getValue(item,column){if(!item||!item.value||!column){return}if(!(column in item.value)){return}return item.value[column]}_toggleItem(e){e.preventDefault();let cell;var currentElement=e.target,targetAnchor=e.target,templateTarget=currentElement.dataset.target;while(!0){if("TD"===currentElement.nodeName){cell=currentElement;break}currentElement=currentElement.parentElement;if(!currentElement){throw new Error("Couldn't find table cell in the event path.")}}const tpl=cell.querySelector(`dom-if[${templateTarget}]`),label=cell.querySelector(`.object-label[${templateTarget}]`);tpl.if=!tpl.if;if(tpl.if){e.target.textContent="hide "+templateTarget;label.setAttribute("hidden",!0);targetAnchor.classList.add("active")}else{e.target.textContent="show "+templateTarget;label.removeAttribute("hidden");targetAnchor.classList.remove("active")}}/**
     * When pagination is enabled this will increase page number.
     * This will do nothing if pagination isn't enabled or there's no next page of results to
     * display.
     */nextPage(){const maxIndex=this.maxItemsLabel,endIndex=this.endItemLabel;if(maxIndex<=endIndex){return!1}this.page++}/**
     * When pagination is enabled this will decrease page number.
     * This will do nothing if pagination isn't enabled or there's no previous page of results to
     * display.
     */previousPage(){if(!this.paginate||0===this.page){return}this.page--}/**
     * Computes if the previous page button for the pagination should be disabled.
     *
     * @param {Number} page Current page index
     * @return {Boolean} true if there's previous page of the results
     */_isDisabedPrevious(page){return 0===page}_isDisabedNext(maxItemsLabel,endItemLabel){if(maxItemsLabel<=endItemLabel){return!0}return!1}_computeValueSize(item,column){const value=this._getValue(item,column);return value&&value.length||0}}window.customElements.define(JsonTableArray.is,JsonTableArray);</script></dom-module><dom-module id="json-table-object" assetpath="bower_components/json-table/"><template><style>:host{display:block;--json-table-property-name-width:auto;}.item{@apply --layout-horizontal;min-height:24px;padding:8px 0;border-bottom:1px var(--json-table-item-border-bottom-color, rgba(0, 0, 0, 0.12)) solid;}.item.array,
      .item.object{@apply --layout-vertical;}.item:last-of-type{border-bottom:none;}.property-name{color:var(--json-table-list-property-name-color, #000);word-break:break-all;margin-right:12px;padding-right:12px;white-space:normal;word-break:normal;margin:8px 12px 8px 0;}.property-value{@apply --layout-flex;word-wrap:normal;overflow:auto;}.object .property-value,
      .array .property-value{overflow:visible;}.object .property-value{margin-left:var(--json-table-indent-size, 12px);}.object .property-name,
      .array .property-name{font-weight:600;width:auto;min-width:auto;}json-table-object,
      json-table-array{overflow:auto;}:host > .object > .property-name,
      :host > .array > .property-name{color:var(--json-table-list-property-name-color, #000);}.enum-value{display:block;}.enum-value::after{content:',';color:rgba(0, 0, 0, 0.54);}.enum-value:last-of-type::after{content:'';}.object-label,
      .array-label{color:var(--json-table-complex-name-label-color, #58595A);}</style><template is="dom-repeat" items="[[display]]"><div class$="item [[_computeItemClass(item.*)]]"><div class="property-name">[[item.key]]<template is="dom-if" if="[[item.isObject]]"><span class="object-label">(Object)</span></template><template is="dom-if" if="[[_isEnumOrArray(item.*)]]"><span class="array-label">(Array [[_computeArraySize(item.*)]])</span></template></div><div class="property-value"><template is="dom-if" if="[[item.isObject]]"><json-table-object json="[[item.value]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template><template is="dom-if" if="[[item.isEnum]]"><template is="dom-repeat" items="[[item.value]]"><span class="enum-value">[[item]]</span></template></template><template is="dom-if" if="[[item.isArray]]"><div class="array-wrapper"><json-table-array json="[[item.value]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></div></template><template is="dom-if" if="[[item.isPrimitive]]"><json-table-primitive-teaser class="primitive-value">[[item.value]]</json-table-primitive-teaser></template></div></div></template></template><script>/**
   * An element that displays object structure.
   *
   * ### Example
   *
   * ```html
   * <json-table-object json="{...}"></json-table-object>
   * ```
   *
   * ### Styling
   *
   * `<json-table>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--json-table-object` | Mixin applied to the element | `{}`
   *
   * @polymer
   * @customElement
   * @appliesMixin JsonTableMixin
   * @memberof UiElements
   */class JsonTableObject extends JsonTableMixin(Polymer.Element){/* global JsonTableMixin */static get is(){return"json-table-object"}static get properties(){return{// An object to render.
json:{type:Object,observer:"_jsonChanged"},// data model created from the `json` attribute.
display:{type:Array,readOnly:!0}}}/**
     * Creates a data model from the JSON object.
     * The element is only interested in first level properties. Other properties will be rendered
     * by child elements.
     *
     * TODO: This should be a deep data observer to update only the portion of the model that
     * actually has changed.
     */_jsonChanged(json){if(!json){return this._setDisplay(void 0)}const names=Object.keys(json),model=names.map(key=>this.getPropertyModel(key,json[key]));this._setDisplay(model)}_computeItemClass(record){if(!record||!record.base){return}const item=record.base;if(item.isArray/* || item.isEnum*/){return"array"}if(item.isEnum){return"enum"}if(item.isObject){return"object"}}}window.customElements.define(JsonTableObject.is,JsonTableObject);</script></dom-module><dom-module id="json-table" assetpath="bower_components/json-table/"><template><style>:host{display:block;@apply --json-table;}.array-wrapper{@apply --layout-horizontal;overflow-y:hidden;overflow-x:auto;@apply --json-table-main-array-wrapper;}json-table-array{@apply --layout-flex;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}</style><div class="actions-panel"><slot name="content-action"></slot></div><template is="dom-if" if="[[isArray(_renderJson)]]" restamp="true"><div class="array-wrapper"><json-table-array json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></div></template><template is="dom-if" if="[[isObject(_renderJson)]]" restamp="true"><json-table-object json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template></template><script>/**
   * A table view from the JSON structure.
   *
   * The element will render a table and / or list view from the JSON object.
   * If give JSON is am array it will display a table. For objects it will display list view.
   *
   * Complex object are represented as a embedded view of the list / table inside the parent object
   * representation. That may create very complex structure and lead to performance issues when computing
   * data model and building the DOM. Therefore the element will only build the first level of the view.
   * If the object / array contains other objects / arrays it will show only a button to display embeded
   * objects. That should prohibit from freezing the UI while rendering the view.
   *
   * Another optimization is pagination (disabled by default). After setting the `paginate` property
   * array tables will contain a pagination with `itemsPerPage` items rendered at a time. The user can
   * change number of items at any time.
   *
   * ### Example
   * ```html
   * <json-table json="[...]" paginate items-per-page="15"></json-table>
   * ```
   *
   * ## Content actions
   *
   * The element can render an actions pane above the table / list view. Action pane is to
   * display content actions that is relevant in context of the content displayed
   * below the buttons. It should be icon buttons list or just buttons added to this view.
   *
   * Buttons must have `content-action` property set to be included to this view.
   *
   * ```html
   * <json-table json='{"json": "test"}'>
   *  <paper-icon-button slot="content-action" title="Copy content to clipboard" icon="arc:content-copy"></paper-icon-button>
   * </json-table>
   * ```
   *
   * ### Styling
   *
   * `<json-table>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--json-table` | Mixin applied to the element | `{}`
   * `--json-table-main-array-wrapper` | Mixin applied to the top level array's table view. This element has `overflow` property set.  | `{}`
   * `--json-table-item-border-bottom-color` | Color of the bottom border in the array able items or in the object list row | `rgba(0, 0, 0, 0.12)`
   * `--json-table-list-property-name-width` | Width of the property name for the list view for the object display | `120px`
   * `--json-table-array-header-color` | Color of the array table header labels | ``
   * `--json-table-array-body-color` | Color of the array table body values | ``
   *
   * @polymer
   * @customElement
   * @appliesMixin JsonTableMixin
   * @memberof UiElements
   */class JsonTable extends JsonTableMixin(Polymer.Element){/* global JsonTableMixin */static get is(){return"json-table"}static get properties(){return{/**
         * JSON data to display.
         * If provided data is type of string then it will use the `JSON.stringify` function to
         * create a JavaScript object from string.
         */json:{type:Object,observer:"_jsonChanged"},// A copy of the `json` object so it can be altered by the element.
_renderJson:Object,/**
         * Will be set to true if the passed `json` is a string and it's not valid JSON.
         */parserError:{type:Boolean,value:/* eat */!1,readOnly:!0}}}/**
     * Handler for `json` attribute value change.
     *
     * @param {Object|Array} json JSON object to render.
     */_jsonChanged(json){this._setParserError(!1);this.set("_renderJson",void 0);if(!json){this.set("_renderJson",void 0);return}if("string"===typeof json){try{json=JSON.parse(json);// No need for copy.
this._setRenderJson(json);return}catch(e){this._setParserError(!0);return}}if(this.isArray(json)){this._setRenderJson(Array.from(json))}else{this._setRenderJson(Object.assign({},json))}}/**
     * Sets `_renderJson` property after 1 ms.
     *
     * @param {Object|Array} json JSON object to render.
     */_setRenderJson(json){setTimeout(()=>{this.set("_renderJson",json)},1)}}window.customElements.define(JsonTable.is,JsonTable);</script></dom-module><dom-module id="prism-theme-default" assetpath="bower_components/prism-element/"><template><style>code[class*="language-"],
    pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc;}pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
    code[class*="language-"]::selection, code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc;}@media print{code[class*="language-"],
    pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
    pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:slategray;}.token.punctuation{color:#999;}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted{color:#905;}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:#690;}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:#a67f59;background:hsla(0, 0%, 100%, .5);}.token.atrule,
    .token.attr-value,
    .token.keyword{color:#07a;}.token.function{color:#DD4A68;}.token.regex,
    .token.important,
    .token.variable{color:#e90;}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="api-example-render" assetpath="bower_components/api-resource-example-document/"><template><style include="prism-theme-default"></style><style>:host{display:block;padding:4px;background-color:var(--code-background-color, #f5f2f0);@apply --api-example-render;}.code-wrapper{padding:8px;}#output{white-space:pre-wrap;@apply --code-block;}[hidden]{display:none !important;}h6{@apply --arc-font-body1;font-size:15px;margin:0 0 4px 4px;@apply --api-resource-example-document-title;}paper-icon-button[active]{background-color:var(--api-resource-example-document-button-active-background-color, #e0e0e0);border-radius:50%;}.union-toggle{outline:none;background-color:var(--api-type-document-union-button-background-color, transparent);color:var(--api-type-document-union-button-color, #000);}.union-toggle[active]{background-color:var(--api-type-document-union-button-active-background-color, #CDDC39);color:var(--api-type-document-union-button-active-color, #000);}.union-type-selector{margin:12px 0;}</style><template is="dom-if" if="[[isUnion]]" restamp=""><div class="union-type-selector"><span>Any of:</span><template is="dom-repeat" data-union-repeater="" items="[[unions]]"><paper-button class="union-toggle" active="[[_unionTypeActive(selectedUnion, index)]]" on-click="_selectUnion" title$="Select [[item]] type">[[item]]</paper-button></template></div><template is="dom-if" if="[[unionExample]]"><api-example-render example="[[unionExample]]" is-json="[[isJson]]" media-type="[[mediaType]]" table="{{table}}" render-table="[[renderTable]]" no-title="" no-actions="[[noActions]]"></api-example-render></template></template><template is="dom-if" if="[[!isUnion]]"><div class="example"><template is="dom-if" if="[[_computeRenderTitle(example.hasTitle, noTitle)]]"><h6>[[example.title]]</h6></template><template is="dom-if" if="[[!noActions]]"><div class="example-actions"><paper-icon-button icon="arc:content-copy" data-action="copy" on-click="_copyToClipboard" title="Copy example to clipboard"></paper-icon-button><template is="dom-if" if="[[_isJson]]"><paper-icon-button icon="arc:view-column" data-action="table" active="[[table]]" title="Toggle table view" toggles="" on-click="_toggleTable"></paper-icon-button></template><template is="dom-if" if="[[_hasRaw]]"><paper-icon-button icon="arc:code" data-action="code" active="[[sourceOpened]]" title="Toggle example source view" toggles="" on-click="_toggleSourceOpened"></paper-icon-button></template></div></template><template is="dom-if" if="[[renderTable]]"><json-table json="[[example.value]]"></json-table></template><div class="code-wrapper" hidden="[[renderTable]]"><code id="output" class="markdown-html" language-xml=""></code></div></div></template><clipboard-copy content="[[example.value]]"></clipboard-copy></template><script>/**
   * `api-example-render`
   *
   * Renders a JSON values using Prism highlighter or JSON table.
   *
   * ## Data model
   *
   * The model is generated by `api-example-generator`. Use it to generate
   * view model for examples for AMF shape.
   *
   * ### ExampleModel
   *
   * - **hasRaw** `Boolean` - if true then `raw` property has a value
   * - **hasTitle** `Boolean` - if true then `title` property has a value
   * - **hasUnion** `Boolean` - if true then `values` property has a value
   * - **value** `String`, Optional - Example to render
   * - **title** - `String`, Optional - Example name, only when `hasTitle` is set
   * - **raw** `String`, Optional - Raw value of RAML example. This value is a
   * YAML or JSON schema value. This is only set when raw value is available in
   * the model and it is not JSON/XML.
   * - **values** `Array<ExampleModel>`, Optional - Only when `hasUnion` is set.
   *
   * ## Example
   *
   * ```javascript
   * <api-example-render example="{...}" is-json mime-type="application/json"></api-example-render>
   * ```
   *
   * ## Styling
   *
   * `<api-resource-example-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-example-render` | Mixin applied to this elment | `{}`
   * `--code-block` | Mixin applied to the output block | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class ApiExampleRender extends Polymer.Element{static get is(){return"api-example-render"}static get properties(){return{/**
         * Data to render.
         */example:Object,/**
         * Examples media type
         */mediaType:String,/**
         * When true the example is a JSON type example.
         */isJson:Boolean,_isJson:{type:Boolean,value:/* eat */!1,computed:"_computeIsJson(isJson, example.value)"},/**
         * Computed value whether the examples are generated for a union type.
         */isUnion:{type:Boolean,computed:"_computeIsUnion(example)"},/**
         * List of union type names.
         * @type {Array<String>}
         */unions:{type:Array,computed:"_computeUnions(isUnion, example)",observer:"_unionTypesChanged"},/**
         * Index of selected union.
         */selectedUnion:Number,/**
         * Computed value of an example selected from union types.
         */unionExample:{type:Object,computed:"_computeUnionExamples(selectedUnion, example)"},/**
         * Current state of "table" button. When tru the button is highlighted.
         * Note, this won't trigger rendering table/code view as this property is used
         * by `api-resource-example-document` to handle table state change.
         */table:{type:Boolean,value:!1,notify:!0},/**
         * When set it renders JSON table instead of code view.
         */renderTable:Boolean,/**
         * Opens example source view (source from API spec file).
         */sourceOpened:Boolean,/**
         * When set the title won't be rendered event if the example has one.
         */noTitle:Boolean,_hasRaw:{type:Boolean,value:!1,computed:"_computeHasRaw(example.value, example.raw)"},/**
         * When set the actions row (copy, switch view type) is not rendered.
         */noActions:{type:Boolean,value:!1}}}static get observers(){return["_dataChanged(mediaType, example, sourceOpened)"]}/**
     * Computes whether passed value is a valig JSON object, when component is
     * marked to parse JSON data.
     * @param {Boolean} isJson [description]
     * @param {String} value Current example value
     * @return {Boolean}
     */_computeIsJson(isJson,value){if(!isJson){return!1}if(!value){return!1}try{const result=JSON.parse(value);return"object"===typeof result}catch(_){return!1}}_computeHasRaw(value,raw){if(!raw){return!1}return raw+""!==value+""}_dataChanged(mediaType,example){if(this.__changeDebouncer||!example){return}this.__changeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__changeDebouncer=!1;this._renderCode()})}_renderCode(){const example=this.example;if(!example||!example.value&&example.values){return}const output=this.shadowRoot.querySelector("#output");if(!output){Polymer.RenderStatus.afterNextRender(this,()=>this._renderCode());return}if(this.sourceOpened){output.innerHTML=this.highlight(example.raw+"","yaml")}else{const value=example.value+"";if(value){output.innerHTML=this.highlight(value,this.mediaType)}else{output.innerText="(no value in example)"}}}/**
     * Dispatches `syntax-highlight` custom event
     * @param {String} code Code to highlight
     * @param {String} type Mime type of the code
     * @return {String} Highlighted code.
     */highlight(code,type){let lang;if(type){if(-1!==type.indexOf("json")){lang="json"}else if(-1!==type.indexOf("xml")){lang="xml"}}const ev=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code,lang}});this.dispatchEvent(ev);return ev.detail.code}/**
     * Coppies current response text value to clipboard.
     *
     * @param {Event} e
     */_copyToClipboard(e){const button=e.target,copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>this._resetCopyButtonState(button),1e3)}/**
     * Resets button icon.
     * @param {Element} button Button to reset.
     */_resetCopyButtonState(button){button.icon="arc:content-copy"}_computeIsUnion(example){return!!(example&&example.hasUnion)}_computeUnions(isUnion,example){if(!isUnion||!example||!example.values){return}return example.values.map(item=>item.title)}_computeUnionExamples(selectedUnion,example){if(selectedUnion===void 0||0>selectedUnion){return}if(!example||!example.values){return}return example.values[selectedUnion]}_toggleTable(e){const active=e.target.active;this.table=active;if(active&&this.sourceOpened){this.sourceOpened=!active}}_toggleSourceOpened(e){const active=e.target.active;this.sourceOpened=active;if(active&&this.table){this.table=!active}}/**
     * Resets union selection when union types list changes.
     *
     * @param {?Array} types List of current union types.
     */_unionTypesChanged(types){if(!types){return}this.selectedUnion=0}/**
     * Handler for union type button click.
     * Sets `selectedUnion` property.
     *
     * @param {ClickEvent} e
     */_selectUnion(e){const index=e.model.get("index");if(this.selectedUnion===index){e.target.active=!0}else{this.selectedUnion=index}}/**
     * Computes if selectedUnion equals current item index.
     *
     * @param {Number} selectedUnion
     * @param {Number} index
     * @return {Boolean}
     */_unionTypeActive(selectedUnion,index){return selectedUnion===index}_computeRenderTitle(hasTitle,noTitle){return!!(hasTitle&&!noTitle)}}window.customElements.define(ApiExampleRender.is,ApiExampleRender);</script></dom-module><dom-module id="api-resource-example-document" assetpath="bower_components/api-resource-example-document/"><template><style>:host{display:block;@apply --api-resource-example-document;}.example:not(:last-of-type){margin-bottom:24px;}</style><prism-highlighter></prism-highlighter><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator><template is="dom-if" if="[[hasExamples]]"><template is="dom-repeat" items="[[renderedExamples]]"><api-example-render class="example" example="[[item]]" is-json="[[isJson]]" media-type="[[mediaType]]" table="{{table}}" render-table="[[_effectiveTable]]" no-actions="[[noActions]]"></api-example-render></template></template></template><script>/**
   * `api-resource-example-document`
   *
   * Renders list of examples defined in AMF model. It renders values that
   * are structured examples (JSON, RAML type).
   *
   * This element uses `api-example-generator` to generate view model for examples.
   * It can accept AMF's Payload shape, array of Payload shapes, or any other
   * AMF shape. If the shape is compatible (has examples, properties, items, unions etc)
   * then examples list is rendered.
   *
   * The mime type (`media-type`) must be set in order to compute examples.
   *
   * ## Example
   *
   * ```html
   * <api-resource-example-document
   *  payload="[...]"
   *  media-type="application/json"></api-resource-example-document>
   * ```
   *
   * ## Styling
   *
   * `<api-resource-example-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-resource-example-document` | Mixin applied to this elment | `{}`
   * `--api-resource-example-document-title` | Mixin applied to example title | `{}`
   * `--api-resource-example-document-button-active-background-color` | Background color of active "tabble" button | `#e0e0e0`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiResourceExampleDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-resource-example-document"}static get properties(){return{/**
         * AMF model for examples.
         * It can be Payload shape, list of Payload shapes, or any shape.
         */examples:Array,/**
         * Examples media type
         */mediaType:String,/**
         * Type (model) name for which examples are generated for.
         * This is used by RAML to XML examples processor to wrap the example
         * in type name. If missing this wrapping is omnited.
         */typeName:String,/**
         * Rendered payload ID (if any) to associate examples with the paylaod.
         */payloadId:String,/**
         * Computed in a debouncer examples to render.
         */renderedExamples:{type:Array,notify:!0,readOnly:!0},/**
         * Computed value, true if there are examples to render.
         * This value is reflected to attribute so the element can be hidden
         * via CSS until examples are set.
         *
         * ```css
         * api-resource-example-document { display: none; }
         * api-resource-example-document[has-examples] { display: block; }
         * ```
         */hasExamples:{type:Boolean,notify:!0,reflectToAttribute:!0,value:/* eat */!1,computed:"_computeHasArrayValue(renderedExamples)"},/**
         * If true it will display a table view instead of JSON code.
         * `isJson` must be set to use this option.
         */table:{type:Boolean,value:!1,observer:"_tableChanged"},/**
         * Computed value, true if selected media type is application/json
         * or equivalent.
         */isJson:{type:Boolean,value:!1,computed:"_computeIsJson(mediaType)"},/**
         * Configuration passed to example generator.
         * When set the generator only returns examples that are defined in API
         * file, without auto generating examples from object properties.
         */noAuto:Boolean,/**
         * When set the actions row (copy, switch view type) is not rendered.
         */noActions:{type:Boolean,value:!1},/**
         * When set it only renders "raw" examples. To be used when media type context is unknown.
         * This can happen if RAML type document is rendered outside method documentation
         * (not in a request/response body when media type is known).
         *
         * Note, this can return JSON, XML, YAML or any other value
         * depending on original source.
         */rawOnly:Boolean,_effectiveTable:{type:Boolean,computed:"_computeEffectiveTable(table, isJson)"},/**
         * True if current environment has localStorage suppport.
         * Chrome apps do not have localStorage property.
         */hasLocalStorage:{type:Boolean,readOnly:!0,value:function(){/* global chrome */if("undefined"!==typeof chrome&&chrome.i18n){// Chrome apps have `chrome.i18n` property, regular website doesn't.
// This is to avoid annoying warning message in Chrome apps.
return!1}try{localStorage.getItem("test");return!0}catch(_){return!1}}}}}static get observers(){return["_computeExamples(examples, mediaType, rawOnly, typeName, noAuto, payloadId)"]}constructor(){super();this._onStorageChanged=this._onStorageChanged.bind(this);this._onJsonTableStateChanged=this._onJsonTableStateChanged.bind(this);this._ensureJsonTable()}connectedCallback(){super.connectedCallback();window.addEventListener("storage",this._onStorageChanged);window.addEventListener("json-table-state-changed",this._onJsonTableStateChanged)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("storage",this._onStorageChanged);window.removeEventListener("json-table-state-changed",this._onJsonTableStateChanged)}/**
     * When response's content type is JSON the view renders the
     * JSON table element. This function reads current state for the table
     * (if it is turned on) and handles view change if needed.
     */_ensureJsonTable(){if(!this.hasLocalStorage){return}const isTable=this._localStorageValueToBoolean(localStorage.jsonTableEnabled);if(this.table!==isTable){this.table=isTable}}/**
     * Updates "table" state in localstorage and disaptches
     * `json-table-state-changed` event.
     *
     * @param {Boolean} state Current "table" state.
     */_tableChanged(state){if(state===void 0){return}if(!this.hasLocalStorage){this._dispatchTableState(state);return}if(localStorage.jsonTableEnabled!==state+""){window.localStorage.setItem("jsonTableEnabled",state);this._dispatchTableState(state)}}/**
     * Dispatches `json-table-state-changed` custom event.
     * @param {Boolean} enabled
     * @return {CustomEvent}
     */_dispatchTableState(enabled){const e=new CustomEvent("json-table-state-changed",{bubbles:!0,composed:!0,detail:{enabled}});this.dispatchEvent(e);return e}/**
     * Updates the value of the `isJsonTable` property when the corresponding localStorage
     * property change.
     *
     * @param {Event} e Storage event
     */_onStorageChanged(e){if("jsonTableEnabled"!==e.key||!this.hasLocalStorage){return}if(e.newValue===void 0){return}const v=this._localStorageValueToBoolean(e.newValue);if(this.table!==v){this.table=v}}/**
     * Reads the local value (always a string) as a boolean value.
     *
     * @param {String} value The value read from the local storage.
     * @return {Boolean} Boolean value read from the value.
     */_localStorageValueToBoolean(value){if(!value){return!1}if("true"===value){value=!0}else{value=!1}return value}/**
     * Handler to the incomming `json-table-state-changed` event.
     * Sets the `table` property if it is different.
     *
     * @param {CustomEvent} e
     */_onJsonTableStateChanged(e){if(e.composedPath()[0]===this){return}const{enabled}=e.detail;if(enabled!==this.table){this.table=enabled}}/**
     * Runs the debouncer to update examples list.
     */_computeExamples(){if(this._examplesDebouncer){return}this._examplesDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this._examplesDebouncer=!1;this.__computeExamples(this.examples,this.mediaType,this.rawOnly,this.typeName,this.payloadId,this.noAuto)})}__computeExamples(examples,mediaType,rawOnly,typeName,payloadId,noAuto){this._setRenderedExamples(void 0);if(!examples||!mediaType&&!rawOnly){return}const opts={typeName,typeId:payloadId,noAuto,rawOnly};let result;if(examples instanceof Array){if(this._hasType(examples[0],this.ns.raml.vocabularies.http+"Payload")){result=this.$.exampleGenerator.generatePayloadsExamples(examples,mediaType,opts)}else{for(let i=0,len=examples.length;i<len;i++){const item=this.$.exampleGenerator.computeExamples(examples[i],mediaType,opts);if(item){if(result){result=result.concat(item)}else{result=item}}}}}else if(this._hasType(examples,this.ns.raml.vocabularies.http+"Payload")){result=this.$.exampleGenerator.generatePayloadExamples(examples,mediaType,opts)}else{// try anything...
result=this.$.exampleGenerator.computeExamples(examples,mediaType,opts)}if(result&&result.length){this._setRenderedExamples(result)}}/**
     * Computes value for `isJson` property
     * @param {String} type Current media type.
     * @return {Boolean}
     */_computeIsJson(type){return!!(type&&-1!==type.indexOf("json"))}/**
     * Computes value for `_effectiveTable`.
     * @param {Boolean} table Current state of table view for JSON.
     * @param {Boolean} isJson [description]
     * @return {Boolean} True when current media type is JSON and table is enabled.
     */_computeEffectiveTable(table,isJson){return!!(isJson&&table)}}window.customElements.define(ApiResourceExampleDocument.is,ApiResourceExampleDocument);</script></dom-module><script>(function(global){'use strict';if(!global.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */global.ArcBehaviors={}}/**
 * A mixin that contains common function for `property-*-document` elements.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.PropertyDocumentMixin=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class PDmixin extends base{static get properties(){return{/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * A property shape definition of AMF.
         *
         * @type {Object}
         */shape:Object,/**
         * Computes value of shape's http://raml.org/vocabularies/shapes#range
         * @type {Object}
         */range:Object,/**
         * Type's current media type.
         * This is used to select/generate examples according to current body
         * media type. When not set it only renders examples that were defined
         * in API specfile in a form as they were written.
         */mediaType:String,/**
         * When set it removes actions bar from the examples render.
         */noExamplesActions:Boolean,_hasMediaType:{type:Boolean,value:/* eat */!1,computed:"_computeHasMediaType(mediaType)"}}}/**
     * Computes type from a `http://raml.org/vocabularies/shapes#range` object
     *
     * @param {Object} range AMF property range object
     * @return {String} Data type of the property.
     */_computeRangeDataType(range){if(!range){return}const rs=this.ns.raml.vocabularies.shapes;if(this._hasType(range,rs+"ScalarShape")){const sc=this.ns.w3.xmlSchema,key=this._getAmfKey(this.ns.w3.shacl.name+"datatype"),data=this._ensureArray(range[key]),id=data&&data[0]?data[0]["@id"]:"";switch(id){case this._getAmfKey(sc+"string"):case sc+"string":return"String";case this._getAmfKey(sc+"integer"):case sc+"integer":return"Integer";case this._getAmfKey(sc+"long"):case sc+"long":return"Long";case this._getAmfKey(sc+"float"):case sc+"float":return"Float";case this._getAmfKey(sc+"double"):case sc+"double":return"Double";case this._getAmfKey(rs+"number"):case rs+"number":return"Number";case this._getAmfKey(sc+"boolean"):case sc+"boolean":return"Boolean";case this._getAmfKey(sc+"dateTime"):case sc+"dateTime":return"DateTime";case this._getAmfKey(rs+"dateTimeOnly"):case rs+"dateTimeOnly":return"Time";case this._getAmfKey(sc+"time"):case sc+"time":return"Time";case this._getAmfKey(sc+"date"):case sc+"date":return"Date";case this._getAmfKey(sc+"base64Binary"):case sc+"base64Binary":return"Base64 binary";case this._getAmfKey(rs+"password"):case rs+"password":return"Password";}}if(this._hasType(range,rs+"UnionShape")){return"Union"}if(this._hasType(range,rs+"ArrayShape")){return"Array"}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return"Object"}if(this._hasType(range,rs+"FileShape")){return"File"}if(this._hasType(range,rs+"NilShape")){return"Null"}if(this._hasType(range,rs+"AnyShape")){return"Any"}if(this._hasType(range,rs+"MatrixShape")){return"Matrix"}if(this._hasType(range,rs+"TupleShape")){return"Tuple"}if(this._hasType(range,rs+"UnionShape")){return"Union"}if(this._hasType(range,rs+"RecursiveShape")){return"Recursive"}return"Unknown type"}/**
     * Computes value for `range` property.
     * @param {Object} shape Current shape object.
     * @return {Object} Range object
     */_computeRange(shape){if(!shape){return}let data;if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){data=shape}else if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");data=this._ensureArray(shape[key]);data=data&&data.length?data[0]:void 0}else{const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");data=this._ensureArray(shape[key]);data=data&&data.length?data[0]:void 0}return data}/**
     * Computes properties to render Array items documentation.
     *
     * @param {Object} range Range object of current shape.
     * @return {Array<Object>|undefined} List of Array items.
     */_computeArrayProperties(range){if(!range){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");let item=range[key];if(!item){return}if(item instanceof Array){item=item[0]}item=this._resolve(item);if(!item){return}switch(!0){case this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape"):item.isShape=!0;return this._ensureArray(item);case this._hasType(item,this.ns.raml.vocabularies.shapes+"UnionShape"):case this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape"):item.isType=!0;return[item];default:const pkey=this._getAmfKey(this.ns.w3.shacl.name+"property"),items=this._ensureArray(item[pkey]);if(items){items.forEach(item=>item.isShape=!0)}return items;}}/**
     * Computes value for `isUnion` property.
     * Union type is identified as a `http://raml.org/vocabularies/shapes#UnionShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsUnion(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")}/**
     * Computes value for `isObject` property.
     * Object type is identified as a `http://raml.org/vocabularies/shapes#NodeShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsObject(range){return this._hasType(range,this.ns.w3.shacl.name+"NodeShape")}/**
     * Computes value for `isArray` property.
     * Array type is identified as a `http://raml.org/vocabularies/shapes#ArrayShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsArray(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")}/**
     * Computes list of union type labels to render.
     *
     * @param {Boolean} isUnion
     * @param {Object} range
     * @return {Array<Object>}
     */_computeUnionTypes(isUnion,range){if(!isUnion||!range){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}return list.map(item=>{if(item instanceof Array){item=item[0]}item=this._resolve(item);let isScalar=this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape");const isNil=this._hasType(item,this.ns.raml.vocabularies.shapes+"NilShape");if(!isScalar&&isNil){isScalar=!0}let isArray=this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape"),isType=!isScalar&&!isArray,label;if(isArray){label=this._getValue(item,this.ns.w3.shacl.name+"name");if(!label){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");label=this._computeArrayUnionLabel(item[key])}}else if(isNil){label="Null"}else{label=this._getValue(item,this.ns.schema.schemaName);if(!label){label=this._getValue(item,this.ns.w3.shacl.name+"name")}if(!label&&this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape")){label=this._computeRangeDataType(item)}}if(!label){label="Unnamed type"}return{isScalar,isArray,isType,label}})}/**
     * Computes union type label when the union is in Array.
     *
     * @param {Array|Object} items Array's items property or a single property
     * @return {String|undefined} Label for the union type.
     */_computeArrayUnionLabel(items){if(!items){return}if(items instanceof Array){items=items[0]}items=this._resolve(items);if(this._hasType(items,this.ns.raml.vocabularies.shapes+"ScalarShape")){return this._computeRangeDataType(items)}return this._computeDisplayName(items,items)}/**
     * Computes name label for the shape.
     *
     * @param {Object} range Range object of current shape.
     * @param {Object} shape The shape of the property.
     * @return {String} Display name of the property
     */_computeDisplayName(range,shape){if(!shape||!range){return}let name;if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(range,this.ns.schema.schemaName);// if(!name) {
//   name =  this._getValue(shape, this.ns.raml.vocabularies.http + 'paramName');
// }
}else if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return this._getValue(shape,this.ns.w3.shacl.name+"name")}else{return this._getValue(range,this.ns.schema.schemaName);// if (!name) {
//   name = this._getValue(range, this.ns.w3.shacl.name + 'name');
// }
}if(!name){// File and Union types does not have "name" on range object.
name=this._getValue(shape,this.ns.w3.shacl.name+"name")}if(name&&"?"===name[name.length-1]){name=name.substr(0,name.length-1)}return name}_computeHasMediaType(mediaType){return!!mediaType}}return PDmixin})})(window);</script><dom-module id="property-range-document" assetpath="bower_components/api-type-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --property-range-document;}[hidden]{display:none !important;}.property-attribute{@apply --layout-horizontal;@apply --layout-start;margin:0;padding:0;color:var(--api-type-document-type-attribute-color, #616161);}.property-attribute:last-of-type{margin-bottom:12px;}.attribute-label{font-weight:500;margin-right:12px;}.attribute-value{@apply --layout-flex;}.attribute-value ul{margin:0;padding-left:18px;}.examples{border:1px var(--api-type-document-examples-border-color, transparent) solid;background-color:var(--code-background-color);}api-annotation-document{margin-bottom:12px;}.examples-section-title{@apply --arc-font-body2;padding:8px;margin:0;color:var(--api-type-document-examples-title-color);}.example-title{@apply --arc-font-body1;font-size:15px;margin:0;padding:0 8px;}</style><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.defaultValueStr)]]"><div class="property-attribute"><span class="attribute-label">Default value:</span> <span class="attribute-value" title="This value is used as a default value">[[_getValue(range, ns.w3.shacl.defaultValueStr)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.pattern)]]"><div class="property-attribute"><span class="attribute-label">Pattern:</span> <span class="attribute-value" title="Regular expression value for this property">[[_getValue(range, ns.w3.shacl.pattern)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minInclusive)]]"><div class="property-attribute"><span class="attribute-label">Min value:</span> <span class="attribute-value" title="Minimum numeric value possible to set on this property">[[_getValue(range, ns.w3.shacl.minInclusive)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxInclusive)]]"><div class="property-attribute"><span class="attribute-label">Max value:</span> <span class="attribute-value" title="Maximum numeric value possible to set on this property">[[_getValue(range, ns.w3.shacl.maxInclusive)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.multipleOf)]]"><div class="property-attribute"><span class="attribute-label">Multiple of:</span> <span class="attribute-value" title="The numeric value has to be multiplicable by this value">[[_getValue(range, ns.w3.shacl.multipleOf)]]</span></div></template><template is="dom-if" if="[[!isFile]]"><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minLength)]]"><div class="property-attribute"><span class="attribute-label">Minimum characters:</span> <span class="attribute-value" title="Minimum number of characters in the value">[[_getValue(range, ns.w3.shacl.minLength)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxLength)]]"><div class="property-attribute"><span class="attribute-label">Maximum characters:</span> <span class="attribute-value" title="Maximum number of characters in the value">[[_getValue(range, ns.w3.shacl.maxLength)]]</span></div></template></template><template is="dom-if" if="[[isFile]]"><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.fileType)]]"><div class="property-attribute"><span class="attribute-label">File types:</span> <span class="attribute-value" title="File mime types accepted by the endpoint">[[_getValueArray(range, ns.w3.shacl.fileType)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minLength)]]"><div class="property-attribute"><span class="attribute-label">File minimum size:</span> <span class="attribute-value" title="Minimum size of the file accepted by this endpoint">[[_getValue(range, ns.w3.shacl.minLength)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxLength)]]"><div class="property-attribute"><span class="attribute-label">File maximum size:</span> <span class="attribute-value" title="Maximum size of the file accepted by this endpoint">[[_getValue(range, ns.w3.shacl.maxLength)]]</span></div></template></template><template is="dom-if" if="[[isEnum]]"><div class="property-attribute"><span class="attribute-label">Enum values:</span> <span class="attribute-value" title="List of possible values to use with this property"><ul><template is="dom-repeat" items="[[enumValues]]"><li>[[item]]</li></template></ul></span></div></template><api-annotation-document amf-model="[[amfModel]]" shape="[[range]]"></api-annotation-document><section class="examples" hidden$="[[!_hasExamples]]"><h5 class="examples-section-title">[[_computeExamplesLabel(examples)]]</h5><api-resource-example-document amf-model="[[amfModel]]" examples="[[range]]" rendered-examples="{{examples}}" media-type="[[mediaType]]" type-name="[[propertyName]]" has-examples="{{_hasExamples}}" no-auto="" no-actions="[[noExamplesActions]]" raw-only="[[!_hasMediaType]]"></api-resource-example-document></section></template><script>/**
   * `property-range-document`
   *
   * Renders a documentation for a shape property of AMF model.
   *
   * ## Styling
   *
   * `<property-range-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--property-range-document` | Mixin applied to this elment | `{}`
   * `--api-type-document-type-attribute-color` | Color of each attribute that describes a property | `#616161`
   * `--api-type-document-examples-title-color` | Color of examples section title | ``
   * `--api-type-document-examples-border-color` | Example section border color | `transparent`
   * `--code-background-color` | Background color of the examples section | ``
   * `--arc-font-body1` | Mixin applied to an example name label | `{}`
   * `--arc-font-body2` | Mixin applied to the examples section title | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.PropertyDocumentMixin
   * @appliesMixin ApiElements.AmfHelperMixin
   */class PropertyRangeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"property-range-document"}static get properties(){return{/**
         * Name of the property that is being described by this definition.
         */propertyName:String,/**
         * Computed value form the shape. True if the property is ENUM.
         */isEnum:{type:Boolean,computed:"_computeIsEnum(range)"},/**
         * Computed value, true if current property is an union.
         */isUnion:{type:Boolean,computed:"_computeIsUnion(range)",reflectToAttribute:!0},/**
         * Computed value, true if current property is an object.
         */isObject:{type:Boolean,computed:"_computeIsObject(range)",reflectToAttribute:!0},/**
         * Computed value, true if current property is an array.
         */isArray:{type:Boolean,computed:"_computeIsArray(range)",reflectToAttribute:!0},/**
         * Computed value, true if current property is a File.
         */isFile:{type:Boolean,computed:"_computeIsFile(range)",value:/* eat */!1},/**
         * Computed values for list of enums.
         * Enums are list of types names.
         *
         * @type {Array<String>}
         */enumValues:{type:Array,computed:"_computeEnumValues(isEnum, range)"},/**
         * When set it removes actions bar from the examples render.
         */noExamplesActions:Boolean,_hasExamples:{type:Boolean,value:!1}}}static get observers(){return["_rangeChanged(range)"]}_rangeChanged(){this._hasExamples=!1}/**
     * Computes value `isEnum` property.
     * @param {Object} range Current `range` object.
     * @return {Boolean} Curently it always returns `false`
     */_computeIsEnum(range){const key=this._getAmfKey(this.ns.w3.shacl.name+"in");return!!(range&&key in range)}/**
     * Computes value for `isUnion` property.
     * Union type is identified as a `http://raml.org/vocabularies/shapes#UnionShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsUnion(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")}/**
     * Computes value for `isObject` property.
     * Object type is identified as a `http://raml.org/vocabularies/shapes#NodeShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsObject(range){return this._hasType(range,this.ns.w3.shacl.name+"NodeShape")}/**
     * Computes value for `isArray` property.
     * Array type is identified as a `http://raml.org/vocabularies/shapes#ArrayShape`
     * type.
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsArray(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")}/**
     * Computes value for `isFile` property
     *
     * @param {Object} range Range object of current shape.
     * @return {Boolean}
     */_computeIsFile(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"FileShape")}_computeObjectProperties(range){if(!range){return}const pkey=this._getAmfKey(this.ns.w3.shacl.name+"property");return range[pkey]}/**
     * Computes value for `enumValues` property.
     *
     * @param {Boolean} isEnum Current value of `isEnum` property
     * @param {Object} range Range object of current shape.
     * @return {Array<String>|undefined} List of enum types.
     */_computeEnumValues(isEnum,range){if(!isEnum||!range){return}const ikey=this._getAmfKey(this.ns.w3.shacl.name+"in");let model=range[ikey];if(!model){return}model=this._ensureArray(model);if(!model){return}if(model instanceof Array){model=model[0]}const results=[];Object.keys(model).forEach(key=>{const amfKey=this._getAmfKey("http://www.w3.org/2000/01/rdf-schema#");if(0!==key.indexOf(amfKey)){return}let value=model[key];if(value instanceof Array){value=value[0]}let result=this._getValue(value,this.ns.raml.vocabularies.data+"value");if(result){if(result["@value"]){result=result["@value"]}results.push(result)}});return results}/**
     * Computes label for examples section title.
     * @param {Array} examples List of examples
     * @return {String} Correct form for examples
     */_computeExamplesLabel(examples){return examples&&1===examples.length?"Example":"Examples"}}window.customElements.define(PropertyRangeDocument.is,PropertyRangeDocument);</script></dom-module><dom-module id="property-shape-document" assetpath="bower_components/api-type-document/"><template><style include="markdown-styles"></style><style>:host{display:block;border-bottom:1px var(--property-shape-document-border-bottom-color, #CFD8DC) var(--property-shape-document-border-bottom-style, dashed);@apply --property-shape-document;}:host(:last-of-type){border-bottom:none;}[hidden]{display:none !important;}.property-title{@apply --arc-font-subhead;margin:4px 0 4px 0;font-size:15px;font-weight:var(--api-type-document-property-title-font-weight, 500);word-break:break-word;color:var(--api-type-document-property-title-color);@apply --property-shape-document-title;}.property-title[secondary]{font-weight:var(--api-type-document-property-title-secondary-font-weight, 400);color:var(--api-type-document-property-title-secondary-color, #616161);}.parent-label{color:var(--api-type-document-property-parent-color, #757575);}.property-display-name{font-weight:var(--api-type-document-property-name-font-weight, 500);color:var(--api-type-document-property-name-color, var(--api-type-document-property-color, #212121));margin:4px 0 4px 0;font-size:var(--api-type-document-property-name-font-size, 16px);}.doc-wrapper{transition:background-color 0.4s linear;}:host([is-object]) .doc-wrapper.complex,
    :host([is-union]) .doc-wrapper.complex,
    :host([is-array]) .doc-wrapper.complex{padding-left:var(--api-type-document-child-docs-padding-left, 20px);margin-left:var(--api-type-document-child-docs-margin-left, 4px);margin-top:12px;@apply --api-type-document-property-complex-wrapper;}:host([is-object]) .doc-wrapper{border-left:2px var(--property-shape-document-object-color, #FF9800) solid;padding-left:12px;}:host([is-array]) .doc-wrapper{border-left:2px var(--property-shape-document-array-color, #8BC34A) solid;padding-left:12px;}:host([is-union]) .doc-wrapper{border-left:2px var(--property-shape-document-union-color, #FFEB3B) solid;padding-left:12px;}.property-traits{@apply --layout-horizontal;@apply --layout-wrap;}.property-traits > span{display:inline-block;margin-right:8px;padding:var(--api-type-document-trait-padding, 2px 4px);background-color:var(--api-type-document-trait-background-color, #EEEEEE);color:var(--api-type-document-trait-color, #616161);border-radius:var(--api-type-document-trait-border-radius, 3px);font-size:13px;}.property-traits > span.data-type{background-color:var(--api-type-document-type-background-color, #2196F3);color:var(--api-type-document-type-color, white);padding:var(--api-type-document-trait-data-type-padding, 2px 4px);}:host([narrow]) .property-description{margin:20px 0;}.content-wrapper{@apply --layout-horizontal;}.shape-properties{min-width:var(--api-type-document-property-name-width, 120px);}.shape-docs{@apply --layout-flex;word-break:break-word;overflow:hidden;}.shape-docs .doc-wrapper{border-left:none !important;padding-left:0 !important;}:host([narrow]) .content-wrapper{display:block;-ms-flex-direction:initial;-webkit-flex-direction:initial;flex-direction:initial;}:host([narrow]) .shape-docs{-ms-flex:initial;-webkit-flex:initial;flex:initial;-webkit-flex-basis:initial;flex-basis:initial;}:host([narrow]) .shape-properties{min-width:100%;}:host([narrow]) .shape-properties > *{display:inline-block;vertical-align:middle;margin-right:8px;}</style><template is="dom-if" if="[[hasDisplayName]]"><div class="property-display-name">[[displayName]]</div></template><template is="dom-if" if="[[propertyName]]"><h4 class="property-title" secondary$="[[hasDisplayName]]"><span class="parent-label" hidden$="[[!hasParentTypeName]]">[[parentTypeName]].</span> <span class="property-name">[[propertyName]]</span></h4></template><div class="content-wrapper"><div class="shape-properties"><div class="property-traits"><span class="data-type">[[propertyDataType]]</span><template is="dom-if" if="[[isRequired]]"><span class="required-type" title="This property is required by the API">Required</span></template><template is="dom-if" if="[[isEnum]]"><span class="enym-type" title="This property represent enumerable value">Enum</span></template></div></div><div class="shape-docs"><template is="dom-if" if="[[hasPropertyDescription]]"><div class="property-description"><marked-element markdown="[[propertyDescription]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><div class="doc-wrapper"><div class="doc-content"><property-range-document amf-model="[[amfModel]]" shape="[[shape]]" range="[[range]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]" property-name="[[propertyName]]"></property-range-document></div></div></div></div><template is="dom-if" if="[[isComplex]]"><div class="doc-wrapper complex"><div class="doc-content"><template is="dom-if" if="[[isArray]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="item" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isObject]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="[[displayName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isUnion]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="[[displayName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template></div></div></template></template><script>/**
   * `property-shape-document`
   *
   * Renders a documentation for a shape property of AMF model.
   *
   * ## Styling
   *
   * `<property-shape-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--property-shape-document` | Mixin applied to this elment | `{}`
   * `--property-shape-document-array-color` | Property border color when type is an array | `#8BC34A`
   * `--property-shape-document-object-color` | Property border color when type is an object | `#FF9800`
   * `--property-shape-document-union-color` | Property border color when type is an union | `#FFEB3B`
   * `--arc-font-subhead` | Theme mixin, applied to the property title | `{}`
   * `--property-shape-document-title` | Mixin applied to the property title | `{}`
   * `--api-type-document-property-parent-color` | Color of the parent property label | `#757575`
   * `--api-type-document-property-color` | Color of the property name label when display name is used | `#757575`
   * `--api-type-document-child-docs-margin-left` | Margin left of item's properties description relative to the title when the item is a child of another property | `24px`
   * `--api-type-document-type-color` | Color of the "type" trait | `white`
   * `--api-type-document-type-background-color` | Background color of the "type" trait | `#2196F3`
   * `--api-type-document-trait-background-color` | Background color to main range trait (type name) | `#EEEEEE`,
   * `--api-type-document-trait-border-radius` | Border radious of a main property traits | `3px`
   * `--api-type-document-property-name-width` | Width of the left hand side column with property name | `240px`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.PropertyDocumentMixin
   * @appliesMixin ApiElements.AmfHelperMixin
   */class PropertyShapeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"property-shape-document"}static get properties(){return{/**
         * Computed value of shape's http://raml.org/vocabularies/shapes#range
         * @type {Object}
         */range:{type:Object,computed:"_computeRange(shape, amfModel.*)"},/**
         * Computed value of "display name" of the property
         */displayName:{type:String,computed:"_computeDisplayName(range, shape)"},/**
         * A type property name.
         * This may be different from `displayName` property if
         * `displayName` was specified in the API spec for this property.
         */propertyName:{type:String,computed:"_computePropertyName(range, shape)"},/**
         * Computed value, true if `displayName` has been defined for this
         * property.
         */hasDisplayName:{type:Boolean,computed:"_computeHasDisplayName(displayName, propertyName)",value:/* eat */!1},/**
         * Computed value, true if current property is an union.
         */isUnion:{type:Boolean,computed:"_computeIsUnion(range)",reflectToAttribute:!0},/**
         * Computed value, true if current property is an object.
         */isObject:{type:Boolean,computed:"_computeIsObject(range)",reflectToAttribute:!0},/**
         * Computed value, true if current property is an array.
         */isArray:{type:Boolean,computed:"_computeIsArray(range)",reflectToAttribute:!0},/**
         * Computed value, true if this propery contains a complex
         * structure. It is computed when the property is and array,
         * object, or union.
         */isComplex:{type:Boolean,computed:"_computeIsComplex(isUnion, isObject, isArray)"},/**
         * Should be set if described properties has a parent type.
         * This is used when recursively iterating over properties.
         */parentTypeName:String,/**
         * Computed value, true if `parentTypeName` has a value.
         */hasParentTypeName:{value:!1,computed:"_computeHasParentTypeName(parentTypeName)",type:Boolean},/**
         * Computed value of shape data type
         * @type {Object}
         */propertyDataType:{type:String,computed:"_computeType(range, shape)"},/**
         * Computed value form the shape. True if the property is required.
         */isRequired:{type:Boolean,computed:"_computeIsRequired(shape)"},/**
         * Computed value form the shape. True if the property is ENUM.
         */isEnum:{type:Boolean,computed:"_computeIsEnum(range)"},/**
         * A description of the property to render.
         */propertyDescription:{type:String,computed:"_computeDescription(range)"},/**
         * Computed value, true if desceription is set.
         */hasPropertyDescription:{type:Boolean,value:!1,computed:"_computeHasStringValue(propertyDescription)"},/**
         * A property to set when the component is rendered in the narrow
         * view. To be used with mobile rendering or when the
         * components occupies only small part of the screen.
         */narrow:{type:Boolean,reflectToAttribute:!0},/**
         * When set it removes actions bar from the examples render.
         */noExamplesActions:Boolean}}_computeType(range,shape){let type=range&&this._computeRangeDataType(this._resolve(range));if(!type){type=shape&&this._computeRangeDataType(this._resolve(shape))}return type}/**
     * Computes name of the property. This may be different from the
     * `displayName` if `displayName` is set in API spec.
     *
     * @param {Object} range Range object of current shape.
     * @param {Object} shape The shape object
     * @return {String} Display name of the property
     */_computePropertyName(range,shape){if(!shape&&!range){return}if(shape){shape=this._resolve(shape);if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(shape,this.ns.schema.schemaName)}if(this._hasType(shape,this.ns.w3.shacl.name+"PropertyShape")||this._hasType(shape,this.ns.raml.vocabularies.shapes+"NilShape")||this._hasType(shape,this.ns.raml.vocabularies.shapes+"AnyShape")){return this._getValue(shape,this.ns.w3.shacl.name+"name")}}if(range){range=this._resolve(range);const name=this._getValue(range,this.ns.w3.shacl.name+"name");if("items"===name&&this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){return}return name}}/**
     * Computes value for `hasDisplayName` property.
     * Indicates that `displayName` has been defined in the API specification.
     *
     * @param {String} displayName
     * @param {String} propertyName
     * @return {Boolean}
     */_computeHasDisplayName(displayName,propertyName){return!!displayName&&displayName!==propertyName}/**
     * Computes value for `hasParentTypeName`.
     * @param {String?} parentTypeName
     * @return {Boolean}
     */_computeHasParentTypeName(parentTypeName){return!!parentTypeName}/**
     * Computes value for `isRequired` property.
     * In AMF model a property is required when `http://www.w3.org/ns/shacl#minCount`
     * does not equal `0`.
     *
     * @param {Object} shape Current shape object
     * @return {Boolean}
     */_computeIsRequired(shape){if(!shape){return!1}shape=this._resolve(shape);if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(shape,this.ns.w3.hydra.core+"required")}const data=this._getValue(shape,this.ns.w3.shacl.name+"minCount");return data!==void 0&&0!==data}/**
     * Computes value `isEnum` property.
     * @param {Object} range Current `range` object.
     * @return {Boolean} Curently it always returns `false`
     */_computeIsEnum(range){const ikey=this._getAmfKey(this.ns.w3.shacl.name+"in");return!!(range&&ikey in range)}/**
     * Computes value for `propertyDescription`.
     * @param {Object} range Range model
     * @return {String} Description to render.
     */_computeDescription(range){if(!range){return}return this._getValue(range,this.ns.schema.desc)}/**
     * Computes value for `isComplex` property.
     * @param {Boolean} isUnion
     * @param {Boolean} isObject
     * @param {Boolean} isArray
     * @return {Boolean}
     */_computeIsComplex(isUnion,isObject,isArray){return isUnion||isObject||isArray}}window.customElements.define(PropertyShapeDocument.is,PropertyShapeDocument);</script></dom-module><dom-module id="api-type-document" assetpath="bower_components/api-type-document/"><template><style>:host{display:block;@apply --arc-font-body1;@apply --api-type-document;}.union-toggle{outline:none;background-color:var(--api-type-document-union-button-background-color, #fff);color:var(--api-type-document-union-button-color, #000);}.union-toggle[active]{background-color:var(--api-type-document-union-button-active-background-color, #CDDC39);color:var(--api-type-document-union-button-active-color, #000);}.union-type-selector{margin:12px 0;}property-shape-document{padding:12px 0;}property-shape-document:last-of-type,
    :last-of-type{border-bottom:none;}.array-children{box-sizing:border-box;padding-left:12px;border-left:2px var(--property-shape-document-array-color, #8BC34A) solid;}:host([has-parent-type]) .array-children{padding-left:0px;border-left:none;}.inheritance-label{font-size:var(--api-type-document-inheritance-label-font-size, 16px);}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><section class="examples" hidden$="[[!_renderMainExample]]"><h5 class="examples-section-title">Examples</h5><api-resource-example-document amf-model="[[amfModel]]" payload-id="[[selectedBodyId]]" examples="[[_resolvedType]]" media-type="[[mediaType]]" type-name="[[parentTypeName]]" has-examples="{{_hasExamples}}" no-auto="[[_computeNoAutoExamples(isScalar)]]" no-actions="[[noExamplesActions]]" raw-only="[[!_hasMediaType]]"></api-resource-example-document></section><template is="dom-if" if="[[isObject]]" restamp=""><template is="dom-repeat" data-object-repeater="" items="[[_computeProperties(_resolvedType)]]"><property-shape-document class="object-document" shape="[[_resolve(item)]]" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template></template><template is="dom-if" if="[[isArray]]" restamp=""><template is="dom-if" if="[[!hasParentType]]"><property-shape-document class="array-document" amf-model="[[amfModel]]" shape="[[_resolve(_resolvedType)]]" parent-type-name="Array test" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><div class="array-children"><template is="dom-repeat" data-array-repeater="" items="[[_computeArrayProperties(_resolvedType)]]"><template is="dom-if" if="[[item.isShape]]" restamp="true"><property-shape-document class="array-document" amf-model="[[amfModel]]" shape="[[_resolve(item)]]" parent-type-name="[[_computeArrayParentName(parentTypeName, item)]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><template is="dom-if" if="[[item.isType]]" restamp="true"><api-type-document class="union-document" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" type="[[item]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template></template></div></template><template is="dom-if" if="[[isScalar]]" restamp=""><property-shape-document class="shape-document" amf-model="[[amfModel]]" shape="[[_resolvedType]]" parent-type-name="[[parentTypeName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><template is="dom-if" if="[[isUnion]]"><div class="union-type-selector"><span>Any of:</span><template is="dom-repeat" data-union-repeater="" items="[[unionTypes]]"><paper-button class="union-toggle" active="[[_unionTypeActive(selectedUnion, index)]]" on-click="_selectUnion" title$="Select [[item.label]] type">[[item.label]]</paper-button></template></div><api-type-document class="union-document" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" type="[[_computeUnionProperty(_resolvedType, selectedUnion)]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isAnd]]"><template is="dom-repeat" items="[[andTypes]]"><template is="dom-if" if="[[item.label]]"><p class="inheritance-label">Properties inherited from <b>[[item.label]]</b>.</p></template><template is="dom-if" if="[[!item.label]]"><p class="inheritance-label">Properties defined inline.</p></template><api-type-document class="and-document" amf-model="[[amfModel]]" type="[[item.type]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template></template></template><script>/**
   * `api-type-document`
   *
   * An element that recuresively renders a documentation for a data type
   * using from model.
   *
   * Pass AMF's shape type `property` array to render the documentation.
   *
   * ## Styling
   *
   * `<api-type-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-type-document` | Mixin applied to this elment | `{}`
   * `--api-type-document-union-button-background-color` | Background color of union selector button | `#fff`
   * `--api-type-document-union-button-color` | Color of union selector button | `#000`
   * `--api-type-document-union-button-active-background-color` | Background color of active union selector button | `#CDDC39`
   * `--api-type-document-union-button-active-color` | Color of active union selector button | `#000`
   *
   * From `property-shape-document`
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--property-shape-document` | Mixin applied each proeprty element | `{}`
   * `--property-shape-document-array-color` | Property border color when type is an array | `#8BC34A`
   * `--property-shape-document-object-color` | Property border color when type is an object | `#FF9800`
   * `--property-shape-document-union-color` | Property border color when type is an union | `#FFEB3B`
   * `--arc-font-subhead` | Theme mixin, applied to the property title | `{}`
   * `--property-shape-document-title` | Mixin applied to the property title | `{}`
   * `--api-type-document-property-parent-color` | Color of the parent property label | `#757575`
   * `--api-type-document-property-color` | Color of the property name label when display name is used | `#757575`
   * `--api-type-document-child-docs-margin-left` | Margin left of the item's properties description relative to the title when the item is a child property of another property | `24px`
   * `--api-type-document-type-color` | Color of the "type" trait | `white`
   * `--api-type-document-type-background-color` | Background color of the "type" trait | `#2196F3`
   * `--api-type-document-trait-background-color` | Background color to main range trait (type, required, enum) | `#EEEEEE`,
   * `--api-type-document-trait-border-radius` | Border radious of a main property traits like type, required, enum | `3px`
   *
   * From `property-range-document`
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--property-range-document` | Mixin applied to this elment | `{}`
   * `--api-type-document-type-attribute-color` | Color of each attribute that describes a property | `#616161`
   * `--api-type-document-examples-title-color` | Color of examples section title | ``
   * `--api-type-document-examples-border-color` | Example section border color | `transparent`
   * `--code-background-color` | Background color of the examples section | ``
   * `--arc-font-body1` | Mixin applied to an example name label | `{}`
   * `--arc-font-body2` | Mixin applied to the examples section title | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.PropertyDocumentMixin
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiTypeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"api-type-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * A type definition to render.
         * This should be a one of the following AMF types:
         *
         * - `http://www.w3.org/ns/shacl#NodeShape` (Object)
         * - `http://raml.org/vocabularies/shapes#UnionShape` (Union)
         * - `http://raml.org/vocabularies/shapes#ArrayShape` (Array)
         * - `http://raml.org/vocabularies/shapes#ScalarShape` (single property)
         *
         * It also accepts array of properties like list of headers or
         * parameters.
         * @type {Object|Array}
         */type:Object,/**
         * Media type to use to render examples.
         * If not set a "raw" version of the example from API spec file is used.
         */mediaType:String,// The type after it has been resolved.
_resolvedType:{type:Object,computed:"_resolve(type)"},/**
         * Should be set if described properties has a parent type.
         * This is used when recursively iterating over properties.
         */parentTypeName:String,/**
         * Computed value, true if the shape has parent type.
         */hasParentType:{type:Boolean,value:/* eat */!1,computed:"_computeHasStringValue(parentTypeName)",reflectToAttribute:!0},/**
         * True if given `type` is a scalar property
         */isScalar:{type:Boolean,readOnly:!0},/**
         * True if given `type` is an array property
         */isArray:{type:Boolean,readOnly:!0},/**
         * True if given `type` is an object property
         */isObject:{type:Boolean,readOnly:!0},/**
         * True if given `type` is an union property
         */isUnion:{type:Boolean,readOnly:!0},/**
         * True if given `type` is OAS "and" type.
         */isAnd:{type:Boolean,readOnly:!0},/**
         * Computed list of union type types to render in union type
         * selector.
         * Each item has `label` and `isScalar` property.
         *
         * @type {Array<Object>}
         */unionTypes:{type:Array,observer:"_unionTypesChanged"},/**
         * List of types definition and name for OAS' "and" type
         */andTypes:{type:Array},/**
         * Selected index of union type in `unionTypes` array.
         */selectedUnion:{type:Number},/**
         * A property to set when the component is rendered in the narrow
         * view. To be used with mobile rendering or when the
         * components occupies only small part of the screen.
         */narrow:Boolean,/**
         * When set an example in this `type` object won't be rendered even if set.
         */noMainExample:Boolean,/**
         * When rendering schema for a payload set this to the payload ID
         * so the examples can be correctly rendered.
         */selectedBodyId:String,_hasExamples:Boolean,_renderMainExample:{type:Boolean,computed:"_computeRenderMainExample(noMainExample, _hasExamples)"}}}static get observers(){return["__typeChanged(_resolvedType, amfModel)"]}_computeRenderMainExample(noMainExample,hasExamples){return!!(!noMainExample&&hasExamples)}/**
     * Called when resolved type or amfModel changed.
     * Creates a debouncer to compute UI values so it's independent of
     * order of assigning properties.
     */__typeChanged(){if(this.__typeChangeDebouncer){return}this.__typeChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__typeChangeDebouncer=!1;this._typeChanged(this._resolvedType)})}/**
     * Handles type change. Sets basic view control properties.
     *
     * @param {Array|Object} type Passed type/
     */_typeChanged(type){if(!type){return}let isScalar=!1,isArray=!1,isObject=!1,isUnion=!1,isAnd=!1;if(type instanceof Array){isObject=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"ScalarShape")||this._hasType(type,this.ns.raml.vocabularies.shapes+"NilShape")){isScalar=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"UnionShape")){isUnion=!0;this.unionTypes=this._computeUnionTypes(!0,type)}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"ArrayShape")){isArray=!0}else if(this._hasType(type,this.ns.w3.shacl.name+"NodeShape")){isObject=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"AnyShape")){const key=this._getAmfKey(this.ns.w3.shacl.name+"and");if(key in type){isAnd=!0;this.andTypes=this._computeAndTypes(type[key])}else{isScalar=!0}}this._setIsScalar(isScalar);this._setIsArray(isArray);this._setIsObject(isObject);this._setIsUnion(isUnion);this._setIsAnd(isAnd)}/**
     * Computes parent name for the array type table.
     *
     * @param {?String} parent `parentTypeName` if available
     * @return {String} Parent type name of refault value for array type.
     */_computeArrayParentName(parent){return parent||""}/**
     * Resets union selection when union types list changes.
     *
     * @param {?Array} types List of current union types.
     */_unionTypesChanged(types){if(!types){return}this.selectedUnion=0}/**
     * Handler for union type button click.
     * Sets `selectedUnion` property.
     *
     * @param {ClickEvent} e
     */_selectUnion(e){const index=e.model.get("index");if(this.selectedUnion===index){e.target.active=!0}else{this.selectedUnion=index}}/**
     * Computes if selectedUnion equals current item index.
     *
     * @param {Number} selectedUnion
     * @param {Number} index
     * @return {Boolean}
     */_unionTypeActive(selectedUnion,index){return selectedUnion===index}/**
     * Computes properties for union type.
     *
     * @param {Object} type Current `type` value.
     * @param {Number} selected Selected union index from `unionTypes` array
     * @return {Array<Object>|undefined} Properties for union type.
     */_computeUnionProperty(type,selected){if(!type){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),data=type[key];if(!data){return}let item=data[selected];if(!item){return}if(item instanceof Array){item=item[0]}if(this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape")){item=this._resolve(item);const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(item[key]);if(items&&1===items.length){let result=items[0];if(result instanceof Array){result=result[0]}result=this._resolve(result);return result}}if(item instanceof Array){item=item[0]}return this._resolve(item)}/**
     * Helper function for the view. Extracts `http://www.w3.org/ns/shacl#property`
     * from the shape model
     *
     * @param {Object} item Range object
     * @return {Array<Object>} Shape object
     */_computeProperties(item){if(!item){return}if(item instanceof Array){return item}const key=this._getAmfKey(this.ns.w3.shacl.name+"property");return this._ensureArray(item[key])}/**
     * Computes list values for `andTypes` property.
     * @param {Array<Object>} items List of OAS' "and" properties
     * @return {Array<Object>} An array of type definitions and label to render
     */_computeAndTypes(items){if(!items||!items.length){return}return items.map(item=>{if(item instanceof Array){item=item[0]}item=this._resolve(item);let label=this._getValue(item,this.ns.schema.schemaName);if(!label){label=this._getValue(item,this.ns.w3.shacl.name+"name")}if(label&&0===label.indexOf("item")){label=void 0}return{label,type:item}})}_computeNoAutoExamples(isScalar){return!!isScalar}}window.customElements.define(ApiTypeDocument.is,ApiTypeDocument);</script></dom-module><dom-module id="api-parameters-document" assetpath="bower_components/api-parameters-document/"><template><style>:host{display:block;@apply --api-parameters-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-parameters-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;}.toggle-button{outline:none;color:var(--api-parameters-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-parameters-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{outline:none;margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.table-title{@apply --arc-font-title;@apply --api-parameters-document-title;}:host([narrow]) .table-title{@apply --api-parameters-document-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware data-source="api-parameters-document" raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[hasPathParameters]]"><section class="uri-parameters"><div class="section-title-area" on-click="toggleUri" title="Toogle URI parameters details"><h3 class="table-title">URI parameters</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(pathOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(pathOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[pathOpened]]"><api-type-document amf-model="[[amfModel]]" type="[[_effectivePathParameters]]" narrow="[[narrow]]"></api-type-document></iron-collapse></section></template><template is="dom-if" if="[[hasQueryParameters]]"><section class="query-parameters"><div class="section-title-area" on-click="toggleQuery" title="Toogle query parameters details"><h3 class="table-title">Query parameters</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(queryOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(queryOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[queryOpened]]"><api-type-document amf-model="[[amfModel]]" type="[[queryParameters]]" narrow="[[narrow]]"></api-type-document></iron-collapse></section></template></template><script>/**
   * `api-parameters-document`
   *
   * URI and query parameters documentation table based on
   * [AMF](https://github.com/mulesoft/amf) json/ld model.
   *
   * It rquires you to set at least one of the following properties:
   * - baseUriParameters
   * - endpointParameters
   * - queryParameters
   *
   * Otherwise it render empty block element.
   *
   * See demo for example implementation.
   *
   * ## Styling
   *
   * `<api-parameters-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-parameters-document` | Mixin applied to this elment | `{}`
   * `--api-parameters-document-title-border-color` | Border color of the title area | `#e5e5e5`
   * `--api-parameters-document-toggle-view-color` | Color of the toggle button | `--arc-toggle-view-icon-color` or `rgba(0, 0, 0, 0.74)`
   * `--toggle-button` | Theme style, mixin apllied to toggle button | `{}`
   * `--api-parameters-document-toggle-view-hover-color` | Color of the toggle button when hovering. Please, mind that hover is not available on all devices.| `--arc-toggle-view-icon-hover-color` or `rgba(0, 0, 0, 0.88)`
   * `--toggle-button-hover` | Theme style, mixin apllied to toggle button when hovered. | `{}`
   * `--api-parameters-document-title` | Mixin applied to the title element | `{}`
   * `--api-parameters-document-title-narrow` | Mixin applied to the title when in narrow layout | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class ApiParametersDocument extends Polymer.Element{static get is(){return"api-parameters-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * Set to true to open the query parameters view.
         * Autormatically updated when the view is toggled from the UI.
         */queryOpened:{type:Boolean,value:/* eat */!1},/**
         * Set to true to open the path parameters view.
         * Autormatically updated when the view is toggled from the UI.
         */pathOpened:{type:Boolean,value:!1},/**
         * The `http://raml.org/vocabularies/http#variable` entry
         * from API's `http://raml.org/vocabularies/http#server` model.
         *
         * @type {Array<Object>}
         */baseUriParameters:Array,/**
         * Endpoint path parameters as
         * `http://raml.org/vocabularies/http#parameter` property value of the
         * type of `http://raml.org/vocabularies/http#EndPoint`
         * @type {Array<Object>}
         */endpointParameters:Array,/**
         * Method query parameters as
         * `http://raml.org/vocabularies/http#parameter` property value of the
         * type of `http://raml.org/vocabularies/http#Request`
         * @type {Array<Object>}
         */queryParameters:Array,/**
         * Computed value, true if `queryParameters` are set.
         */hasQueryParameters:{type:Boolean,readOnly:!0,computed:"_computeHasParameters(queryParameters)"},_effectivePathParameters:{type:Array,readOnly:!0,computed:"_computeEffectivePath(baseUriParameters, endpointParameters)"},/**
         * Computed value, true if there are any path parameters to render.
         * It depends on both `baseUriParameters` and `endpointParameters`
         */hasPathParameters:{type:Boolean,readOnly:!0,computed:"_computeHasParameters(_effectivePathParameters)"},/**
         * Set to render a mobile friendly view.
         */narrow:{type:Boolean,reflectToAttribute:!0}}}/**
     * Computes boolean value if passed argument is not empty array.
     * @param {?Array} params The array to test.
     * @return {Boolean}
     */_computeHasParameters(params){return!!(params&&params.length)}/**
     * Computes combined array of base uri parameters and selected endpoint
     * parameters so the element can render single documentation table.
     *
     * @param {?Array} base Base uri parameetrs
     * @param {?Array} endpoint Endpoint's uri parameters
     * @return {Array} Combined array. Can be empty array if arguments does not
     * contain values.
     */_computeEffectivePath(base,endpoint){let result=[];if(base&&base.length){result=result.concat(base)}if(endpoint&&endpoint.length){result=result.concat(endpoint)}return result}// Computes a label for the section toggle buttons.
_computeToggleActionLabel(opened){return opened?"Hide":"Show"}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}/**
     * Toggles URI parameters view.
     * Use `pathOpened` property instead.
     */toggleUri(){this.pathOpened=!this.pathOpened}/**
     * Toggles `queryOpened` value.
     */toggleQuery(){this.queryOpened=!this.queryOpened}}window.customElements.define(ApiParametersDocument.is,ApiParametersDocument);</script></dom-module><script>/**
   * `Polymer.IronMenubarBehavior` implements accessible menubar behavior.
   *
   * @polymerBehavior Polymer.IronMenubarBehavior
   */Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},/**
     * @type {!Object}
     */keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},_onDownKey:function(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(event){if(this._isRTL){this._focusNext()}else{this._focusPrevious()}event.detail.keyboardEvent.preventDefault()},_onRightKey:function(event){if(this._isRTL){this._focusPrevious()}else{this._focusNext()}event.detail.keyboardEvent.preventDefault()},_onKeydown:function(event){if(this.keyboardEventMatchesKeys(event,"up down left right esc")){return}// all other keys focus the menu item starting with that character
this._focusWithKeyboardEvent(event)}};/** @polymerBehavior Polymer.IronMenubarBehavior */Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><iron-iconset-svg name="paper-tabs" size="24"><svg><defs><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-tab" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout-inline;@apply --layout-center;@apply --layout-center-justified;@apply --layout-flex-auto;position:relative;padding:0 12px;overflow:hidden;cursor:pointer;vertical-align:middle;@apply --paper-font-common-base;@apply --paper-tab;}:host(:focus){outline:none;}:host([link]){padding:0;}.tab-content{height:100%;transform:translateZ(0);-webkit-transform:translateZ(0);transition:opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);@apply --layout-horizontal;@apply --layout-center-center;@apply --layout-flex-auto;@apply --paper-tab-content;}:host(:not(.iron-selected)) > .tab-content{opacity:0.8;@apply --paper-tab-content-unselected;}:host(:focus) .tab-content{opacity:1;font-weight:700;}paper-ripple{color:var(--paper-tab-ink, var(--paper-yellow-a100));}.tab-content > ::slotted(a){@apply --layout-flex-auto;height:100%;}</style><div class="tab-content"><slot></slot></div></template><script>Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{/**
         * If true, the tab will forward keyboard clicks (enter/space) to
         * the first anchor element found in its descendants
         */link:{type:Boolean,value:/* eat */!1,reflectToAttribute:!0}},/** @private */hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var parent=Polymer.dom(this).parentNode;return!!parent&&!!parent.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(event){if(this.link){var anchor=this.queryEffectiveChildren("a");if(!anchor){return}// Don't get stuck in a loop delegating
// the listener from the child anchor
if(event.target===anchor){return}anchor.click()}}});</script></dom-module><dom-module id="paper-tabs" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout;@apply --layout-center;height:48px;font-size:14px;font-weight:500;overflow:hidden;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;@apply --paper-tabs;}:host(:dir(rtl)){@apply --layout-horizontal-reverse;}#tabsContainer{position:relative;height:100%;white-space:nowrap;overflow:hidden;@apply --layout-flex-auto;@apply --paper-tabs-container;}#tabsContent{height:100%;-moz-flex-basis:auto;-ms-flex-basis:auto;flex-basis:auto;@apply --paper-tabs-content;}#tabsContent.scrollable{position:absolute;white-space:nowrap;}#tabsContent:not(.scrollable),
      #tabsContent.scrollable.fit-container{@apply --layout-horizontal;}#tabsContent.scrollable.fit-container{min-width:100%;}#tabsContent.scrollable.fit-container > ::slotted(*){-ms-flex:1 0 auto;-webkit-flex:1 0 auto;flex:1 0 auto;}.hidden{display:none;}.not-visible{opacity:0;cursor:default;}paper-icon-button{width:48px;height:48px;padding:12px;margin:0 4px;}#selectionBar{position:absolute;height:0;bottom:0;left:0;right:0;border-bottom:2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100));-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left center;transform-origin:left center;transition:-webkit-transform;transition:transform;@apply --paper-tabs-selection-bar;}#selectionBar.align-bottom{top:0;bottom:auto;}#selectionBar.expand{transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4, 0.0, 1, 1);}#selectionBar.contract{transition-duration:0.18s;transition-timing-function:cubic-bezier(0.0, 0.0, 0.2, 1);}#tabsContent > ::slotted(:not(#selectionBar)){height:100%;}</style><paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button><div id="tabsContainer" on-track="_scroll" on-down="_down"><div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]"><div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div><slot></slot></div></div><paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button></template><script>Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{/**
         * If true, ink ripple effect is disabled. When this property is changed,
         * all descendant `<paper-tab>` elements have their `noink` property
         * changed to the new value as well.
         */noink:{type:Boolean,value:/* eat */!1,observer:"_noinkChanged"},/**
         * If true, the bottom bar to indicate the selected tab will not be shown.
         */noBar:{type:Boolean,value:!1},/**
         * If true, the slide effect for the bottom bar is disabled.
         */noSlide:{type:Boolean,value:!1},/**
         * If true, tabs are scrollable and the tab width is based on the label
         * width.
         */scrollable:{type:Boolean,value:!1},/**
         * If true, tabs expand to fit their container. This currently only applies
         * when scrollable is true.
         */fitContainer:{type:Boolean,value:!1},/**
         * If true, dragging on the tabs to scroll is disabled.
         */disableDrag:{type:Boolean,value:!1},/**
         * If true, scroll buttons (left/right arrow) will be hidden for scrollable
         * tabs.
         */hideScrollButtons:{type:Boolean,value:!1},/**
         * If true, the tabs are aligned to bottom (the selection bar appears at the
         * top).
         */alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},/**
         * If true, tabs are automatically selected when focused using the
         * keyboard.
         */autoselect:{type:Boolean,value:!1},/**
         * The delay (in milliseconds) between when the user stops interacting
         * with the tabs through the keyboard and when the focused item is
         * automatically selected (if `autoselect` is true).
         */autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},/** @private */hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},/**
       * @type {!Object}
       */keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(noink){var childTabs=Polymer.dom(this).querySelectorAll("paper-tab");childTabs.forEach(noink?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(element){element.setAttribute("noink","")},_removeNoinkAttribute:function(element){element.removeAttribute("noink")},_computeScrollButtonClass:function(hideThisButton,scrollable,hideScrollButtons){if(!scrollable||hideScrollButtons){return"hidden"}if(hideThisButton){return"not-visible"}return""},_computeTabsContentClass:function(scrollable,fitContainer){return scrollable?"scrollable"+(fitContainer?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(noBar,alignBottom){if(noBar){return"hidden"}else if(alignBottom){return"align-bottom"}return""},// TODO(cdata): Add `track` response back in when gesture lands.
_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(event){this._tabChanged(event.detail.item,this._previousTab);this._previousTab=event.detail.item;this.cancelDebouncer("tab-changed")},_onIronDeselect:function(event){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null;// See polymer/polymer#1305
},1)},_activateHandler:function(){// Cancel item activations scheduled by keyboard events when any other
// action causes an item to be activated (e.g. clicks).
this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},/**
       * Activates an item after a delay (in milliseconds).
       */_scheduleActivation:function(item,delay){this._pendingActivationItem=item;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,delay)},/**
       * Activates the last item given to `_scheduleActivation`.
       */_delayedActivationHandler:function(){var item=this._pendingActivationItem;this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0;item.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},/**
       * Cancels a previously scheduled item activation made with
       * `_scheduleActivation`.
       */_cancelPendingActivation:function(){if(this._pendingActivationTimeout!==void 0){this.cancelAsync(this._pendingActivationTimeout);this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0}},_onArrowKeyup:function(event){if(this.autoselect){this._scheduleActivation(this.focusedItem,this.autoselectDelay)}},_onBlurCapture:function(event){// Cancel a scheduled item activation (if any) when that item is
// blurred.
if(event.target===this._pendingActivationItem){this._cancelPendingActivation()}},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(e,detail){if(!this.scrollable){return}var ddx=detail&&-detail.ddx||0;this._affectScroll(ddx)},_down:function(e){// go one beat async to defeat IronMenuBehavior
// autorefocus-on-no-selection timeout
this.async(function(){if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}},1)},_affectScroll:function(dx){this.$.tabsContainer.scrollLeft+=dx;var scrollLeft=this.$.tabsContainer.scrollLeft;this._leftHidden=0===scrollLeft;this._rightHidden=scrollLeft===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(tab,old){if(!tab){// Remove the bar without animation.
this.$.selectionBar.classList.remove("expand");this.$.selectionBar.classList.remove("contract");this._positionBar(0,0);return}var r=this.$.tabsContent.getBoundingClientRect(),w=r.width,tabRect=tab.getBoundingClientRect(),tabOffsetLeft=tabRect.left-r.left;this._pos={width:this._calcPercent(tabRect.width,w),left:this._calcPercent(tabOffsetLeft,w)};if(this.noSlide||null==old){// Position the bar without animation.
this.$.selectionBar.classList.remove("expand");this.$.selectionBar.classList.remove("contract");this._positionBar(this._pos.width,this._pos.left);return}var oldRect=old.getBoundingClientRect(),oldIndex=this.items.indexOf(old),index=this.items.indexOf(tab),m=5;// bar animation: expand
this.$.selectionBar.classList.add("expand");var moveRight=oldIndex<index,isRTL=this._isRTL;if(isRTL){moveRight=!moveRight}if(moveRight){this._positionBar(this._calcPercent(tabRect.left+tabRect.width-oldRect.left,w)-m,this._left)}else{this._positionBar(this._calcPercent(oldRect.left+oldRect.width-tabRect.left,w)-m,this._calcPercent(tabOffsetLeft,w)+m)}if(this.scrollable){this._scrollToSelectedIfNeeded(tabRect.width,tabOffsetLeft)}},_scrollToSelectedIfNeeded:function(tabWidth,tabOffsetLeft){var l=tabOffsetLeft-this.$.tabsContainer.scrollLeft;if(0>l){this.$.tabsContainer.scrollLeft+=l}else{l+=tabWidth-this.$.tabsContainer.offsetWidth;if(0<l){this.$.tabsContainer.scrollLeft+=l}}},_calcPercent:function(w,w0){return 100*w/w0},_positionBar:function(width,left){width=width||0;left=left||0;this._width=width;this._left=left;this.transform("translateX("+left+"%) scaleX("+width/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(e){var cl=this.$.selectionBar.classList;// bar animation: expand -> contract
if(cl.contains("expand")){cl.remove("expand");cl.add("contract");this._positionBar(this._pos.width,this._pos.left);// bar animation done
}else if(cl.contains("contract")){cl.remove("contract")}}});</script></dom-module><dom-module id="iron-pages" assetpath="bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(slot):not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{// as the selected page is the only one visible, activateEvent
// is both non-sensical and problematic; e.g. in cases where a user
// handler attempts to change the page and the activateEvent
// handler immediately changes it back
activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(selected,old){this.async(this.notifyResize)}});</script></dom-module><dom-module id="api-schema-render" assetpath="bower_components/api-schema-document/"><template><style include="prism-theme-default"></style><style>:host{display:block;background-color:var(--code-background-color, #f5f2f0);@apply --api-schema-render;}#output{white-space:pre-wrap;@apply --code-block;}</style><code id="output" class="markdown-html"></code></template><script>class ApiSchemaRender extends Polymer.Element{static get is(){return"api-schema-render"}static get properties(){return{/**
         * Data to render.
         */code:{type:String,observer:"_codeChanged"},type:{type:String,readOnly:!0,observer:"_typeChanged"}}}/**
     * Handles highlighting when code changed.
     * Note that the operation is async.
     * @param {String} code
     */_codeChanged(code){if(!code){this.$.output.innerHTML="";return}let isJson=/* eat */!1;try{JSON.parse(code);isJson=!0}catch(_){}this._setType(isJson?"json":"xml");Polymer.RenderStatus.afterNextRender(this,()=>{this.$.output.innerHTML=this.highlight(code)})}/**
     * Dispatches `syntax-highlight` custom event
     * @param {String} code Code to highlight
     * @return {String} Highlighted code.
     */highlight(code){const ev=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code:code,lang:this.type||"xml"}});this.dispatchEvent(ev);return ev.detail.code}_clearTypeAttribute(){const type=this.$.output.dataset.type;if(!type){return}const attr="language-"+type;this.$.output.removeAttribute(attr)}_typeChanged(type){this._clearTypeAttribute();if(!type){return}const attr="language-"+type;this.$.output.setAttribute(attr,"true");this.$.output.dataset.type=type}}window.customElements.define(ApiSchemaRender.is,ApiSchemaRender);</script></dom-module><dom-module id="api-schema-document" assetpath="bower_components/api-schema-document/"><template><style>:host{display:block;@apply --api-schema-document;}</style><prism-highlighter></prism-highlighter><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[schemaOnly]]"><api-schema-render code="[[_raw]]"></api-schema-render></template><template is="dom-if" if="[[exampleOnly]]"><template is="dom-repeat" items="[[_examples]]"><api-schema-render code="[[_computeExampleValue(item)]]"></api-schema-render></template></template><template is="dom-if" if="[[schemaAndExample]]"><paper-tabs class="schemas" selected="{{selectedPage}}"><paper-tab>Schema</paper-tab><paper-tab>Examples</paper-tab></paper-tabs><iron-pages selected="[[selectedPage]]"><api-schema-render code="[[_raw]]"></api-schema-render><div class="examples"><template is="dom-repeat" items="[[_examples]]"><api-schema-render code="[[_computeExampleValue(item)]]"></api-schema-render></template></div></iron-pages></template></template><script>/**
   * `api-schema-document`
   *
   * A component to render XML schema with examples.
   *
   * Note, if AMF contains unresolved properties (reference-id without resolving
   * the value) this element will resolve it. `amfModel` must be set on this
   * element to resolve the references.
   *
   * ## Styling
   *
   * `<api-schema-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-schema-document` | Mixin applied to this elment | `{}`
   * `api-schema-render` | Mixin applied to schema renderer element | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiSchemaDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-schema-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * AMF's shape object object.
         * Values for sheba and examples are computed from this model.
         */shape:Object,/**
         * Computed `http://www.w3.org/ns/shacl#raw`
         */_raw:String,/**
         * Computed list of examples
         */_examples:Array,// Computed value, true when data contains example only
exampleOnly:{type:Boolean,readOnly:!0},// Computed value, true when data contains xml schema only
schemaOnly:{type:Boolean,readOnly:!0},// Computed value, true when data contains example and schema information
schemaAndExample:{type:Boolean,readOnly:!0},selectedPage:{type:Number,value:0}}}static get observers(){return["_schemaChanged(shape.*)"]}/**
     * Comnputes besic properties for the view.
     * @param {Object} record `shape` change record
     */_schemaChanged(record){this._examples=void 0;this._raw=void 0;let schema=record.base,exampleOnly=/* eat */!1,schemaOnly=!1,schemaAndExample=!1,raw,examples;if(schema){schema=this._resolve(schema);if(this._hasType(schema,this.ns.w3.shacl.name+"SchemaShape")||this._hasType(schema,this.ns.raml.vocabularies.shapes+"AnyShape")||this._hasType(schema,this.ns.raml.vocabularies.shapes+"ScalarShape")||this._hasType(schema,this.ns.w3.shacl.name+"NodeShape")){raw=this._getValue(schema,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(schema,this.ns.w3.shacl.name+"raw")}const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples"),exs=this._ensureArray(schema[key]);examples=this._processExamples(exs)}}exampleOnly=!!(examples&&examples.length&&!raw);schemaOnly=!!(!examples&&raw);schemaAndExample=!!(raw&&examples&&examples.length);this._setExampleOnly(exampleOnly);this._setSchemaOnly(schemaOnly);this._setSchemaAndExample(schemaAndExample);this._examples=examples;this._raw=raw}_processExamples(examples){if(!examples||!examples.length){return}return examples.map(item=>this._resolve(item))}_computeExampleValue(item){item=this._resolve(item);let raw=this._getValue(item,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(item,this.ns.w3.shacl.name+"raw")}return raw}}window.customElements.define(ApiSchemaDocument.is,ApiSchemaDocument);</script></dom-module><dom-module id="api-body-document" assetpath="bower_components/api-body-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-body-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-body-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;@apply --api-body-document-title;}.toggle-button{outline:none;color:var(--api-body-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-body-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.table-title{@apply --arc-font-title;@apply --api-body-document-title;}:host([narrow]) .table-title{@apply --api-body-document-title-narrow;}h4{@apply --arc-font-subhead;}paper-button[active]{background-color:var(--api-body-document-media-button-background-color, #CDDC39);}.media-type-selector{margin:20px 0;}.markdown-body{margin-bottom:28px;margin-top:28px;color:var(--api-body-document-description-color, rgba(0, 0, 0, 0.74));@apply --arc-font-body1;}.markdown-body[data-with-title]{margin-top:0;}.examples{margin-top:12px;border:1px var(--api-body-document-examples-border-color, transparent) solid;}.examples,
    api-schema-document{background-color:var(--code-background-color);}.examples-section-title{@apply --arc-font-body1;font-size:16px;padding:16px 12px;margin:0;color:var(--api-body-document-examples-title-color);}api-resource-example-document,
    api-schema-document{padding:8px;color:var(--api-body-document-code-color);}.media-type-label{font-weight:var(--api-body-document-media-type-label-font-weight, 500);margin-left:8px;}.media-toggle{outline:none;}.any-info,
    .any-info-description{@apply --arc-font-body1;color:var(--api-body-document-description-color, rgba(0, 0, 0, 0.74));}.any-info{font-size:16px;}.body-name{font-weight:500;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="section-title-area" on-click="toggle" title="Toogle body details"><h3 class="table-title">Body</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(opened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[isAnyType]]" restamp=""><template is="dom-if" if="[[hasBodyName]]"><h4 class="body-name">[[bodyName]]</h4></template><template is="dom-if" if="[[hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body" data-with-title$="[[hasTypeName]]"></div></marked-element></template><p class="any-info">Any instance of data is allowed.</p><p class="any-info-description">The API file specifies body for this request but it does not specify the data model.</p><section class="examples" hidden$="[[!_hasAnyExamples]]"><h5 class="examples-section-title">Examples</h5><api-resource-example-document amf-model="[[amfModel]]" examples="[[selectedBody]]" media-type="[[selectedMediaType]]" type-name="[[typeName]]" payload-id="[[selectedBodyId]]" has-examples="{{_hasAnyExamples}}"></api-resource-example-document></section></template><template is="dom-if" if="[[!isAnyType]]"><div class="media-type-selector"><span>Media type:</span><template is="dom-if" if="[[renderMediaSelector]]"><template is="dom-repeat" items="[[mediaTypes]]"><paper-button class="media-toggle" active="[[_mediaTypeActive(selected, index)]]" on-click="_selectMediaType" title$="Select [[item.label]] media type">[[item.label]]</paper-button></template></template><template is="dom-if" if="[[!renderMediaSelector]]"><span class="media-type-label">[[selectedMediaType]]</span></template></div><template is="dom-if" if="[[hasBodyName]]"><h4 class="body-name">[[bodyName]]</h4></template><template is="dom-if" if="[[hasTypeName]]"><h4>[[typeName]]</h4></template><template is="dom-if" if="[[hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body" data-with-title$="[[hasTypeName]]"></div></marked-element></template><template is="dom-if" if="[[isObject]]" restamp=""><api-type-document amf-model="[[amfModel]]" selected-body-id="[[selectedBodyId]]" type="[[selectedSchema]]" narrow="[[narrow]]" media-type="[[selectedMediaType]]"></api-type-document></template><template is="dom-if" if="[[isSchema]]"><api-schema-document amf-model="[[amfModel]]" shape="[[selectedSchema]]"></api-schema-document></template></template></iron-collapse></template><script>/**
   * `api-body-document`
   *
   * A component to render HTTP method body documentation based on AMF model
   *
   * ## Styling
   *
   * `<api-body-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-body-document` | Mixin applied to this elment | `{}`
   * `--api-body-document-title-border-color` | Border color of the section title | `#e5e5e5`
   * `--api-body-document-title` | Mixni apploied to the title element | `{}`
   * `--api-body-document-toggle-view-color` | Color of the toggle view button | `--arc-toggle-view-icon-color` or `rgba(0, 0, 0, 0.74)`
   * `--api-body-document-toggle-view-hover-color` | Color of the toggle view button when hovered | `var(--arc-toggle-view-icon-hover-color` or `rgba(0, 0, 0, 0.88)`
   * `--api-body-document-description-color` | Color of the type description | `rgba(0, 0, 0, 0.74)`
   * `--arc-font-subhead` | Mixin applied to the resource title | `{}`
   * `--api-body-document-media-button-background-color` | Selection color of the media type selector | `#CDDC39`
   * `--api-body-document-examples-title-color` | Color of examples section title | ``
   * `--api-body-document-examples-border-color` | Example section border color | `transparent`
   * `--code-background-color` | Background color of the examples section | ``
   * `--api-body-document-media-type-label-font-weight` | Font weight of the media type label (when selection is not available) | `500`
   * `--api-body-document-title-narrow` | Mixin applied to the title when in narrow layout | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiBodyDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-body-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Set to true to open the body view.
         * Autormatically updated when the view is toggled from the UI.
         */opened:Boolean,/**
         * AMF model for body as a `http://raml.org/vocabularies/http#payload`
         * type.
         * @type {Array<Object>}
         */body:Array,/**
         * List of discovered media types in the `body`.
         * @type {Array<Object>}
         */mediaTypes:{type:Array,readOnly:!0},/**
         * Computed value. True when mediaTypes has more than one item.
         */renderMediaSelector:{type:Boolean,readOnly:!0,value:/* eat */!1,computed:"_computeRenderMediaSelector(mediaTypes.*)"},/**
         * Currently selected media type.
         * It is an index of a media type in `mediaTypes` array.
         * It is set to `0` each time the body changes.
         */selected:Number,/**
         * A body model for selected media type.
         * Computed automatically when selection change.
         */selectedBody:{type:Object,computed:"_computeSelectedBody(selected, body)",observer:"_selectedBodyChanged"},/**
         * Selected body ID.
         * It is computed here and passed to the type document to render
         * examples.
         */selectedBodyId:{type:String,computed:"_computeSelectedId(selectedBody)"},/**
         * Computed AMF schema object for the body.
         */selectedSchema:{type:Object,computed:"_computeSelectedSchema(selectedBody)",observer:"_selectedSchemaChanged"},/**
         * Name of the selected media type.
         */selectedMediaType:{type:String,readOnly:!0,computed:"_computeSelectedMediaName(selected, body)"},/**
         * True if selected body is a structured object
         */isObject:{type:Boolean,readOnly:!0},/**
         * True if selected body is a schema (JSON, XML, ...) data
         */isSchema:{type:Boolean,readOnly:!0},/**
         * Computed value, true if the body is of "any" type.
         */isAnyType:{type:Boolean,value:!1,readOnly:!0},/**
         * Name of the resource type if any.
         */typeName:{type:String,computed:"_computeTypeName(selectedSchema)"},/**
         * Computed value, true if `typeName` is set.
         */hasTypeName:{type:Boolean,computed:"_computeHasStringValue(typeName)"},/**
         * Body name, if defined
         */bodyName:{type:String,computed:"_computeBodyName(selectedSchema)"},/**
         * Computed value, true if `bodyName` is set.
         */hasBodyName:{type:Boolean,computed:"_computeHasStringValue(bodyName)"},/**
         * Name of the resource type if any.
         */description:{type:String,computed:"_computeDescription(selectedSchema)"},/**
         * Computed value, true if `typeName` is set.
         */hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},/**
         * Set to render a mobile friendly view.
         */narrow:{type:Boolean,reflectToAttribute:!0},_hasObjectExamples:{type:Boolean,value:!1},_hasAnyExamples:{type:Boolean,value:!1}}}static get observers(){return["_bodyChanged(body, amfModel)"]}_bodyChanged(){if(this.__bodyChangedDebounce){return}this.__bodyChangedDebounce=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__bodyChangedDebounce=!1;this.__bodyChanged(this.body)})}/**
     * Computes basic view values when body change.
     *
     * @param {Object} body
     */__bodyChanged(body){if(!body){return}this.selected=-1;const media=this._computeMediaTypes(this.body);this._setMediaTypes(media);this.selected=0}_selectedBodyChanged(){this._hasObjectExamples=!1;this._hasAnyExamples=!1}/**
     * Computes list of media types in the `body`
     * @param {Array} body Current value of the body.
     * @return {Array<Object>}
     */_computeMediaTypes(body){const result=[];body.forEach(item=>{const label=this._getValue(item,this.ns.raml.vocabularies.http+"mediaType");if(label){result.push({label})}});return result.length?result:void 0}/**
     * Computes value for `renderMediaSelector` properety.
     * @param {Object} record `mediaTypes` change record.
     * @return {Boolean} True if there's more than one item in mediaType
     */_computeRenderMediaSelector(record){const body=record&&record.base;return!!(body&&body.length&&1<body.length)}/**
     * Computes if `selected` equals current item index.
     *
     * @param {Number} selected
     * @param {Number} index
     * @return {Boolean}
     */_mediaTypeActive(selected,index){return selected===index}/**
     * Handler for media type type button click.
     * Sets `selected` property.
     *
     * @param {ClickEvent} e
     */_selectMediaType(e){const index=e.model.get("index");if(index!==this.selected){this.selected=index}else{e.target.active=!0}}/**
     * Computes value of `http://raml.org/vocabularies/http#schema` for body.
     * @param {Number} selected Index of currently selected media type in
     * `mediaTypes` array
     * @param {Array<Object>} body List of body in request.
     * @return {Object|undefined}
     */_computeSelectedBody(selected,body){if(!body||!selected&&0!==selected){return}return body[selected]}_computeSelectedSchema(selectedBody){if(!selectedBody){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=selectedBody[key];if(!schema){return}if(schema instanceof Array){schema=schema[0]}return this._resolve(schema)}/**
     * Computes value for `selectedMediaType` property.
     * @param {Number} selected Currently selected media type index in the selector.
     * @param {Array<Object>} body List of bodies.
     * @return {String} Content type value.
     */_computeSelectedMediaName(selected,body){if(!body||!selected&&0!==selected){return}const data=body[selected];return this._getValue(data,this.ns.raml.vocabularies.http+"mediaType")}/**
     * Handler for body value change. Computes basic view control properties.
     * @param {Object} body Currently computed body.
     */_selectedSchemaChanged(body){if(!body){return}let isObject=!1,isSchema=!1,isAnyType=!1;if(this._hasType(body,this.ns.w3.shacl.name+"NodeShape")||this._hasType(body,this.ns.raml.vocabularies.shapes+"UnionShape")){isObject=!0}else if(this._hasType(body,this.ns.w3.shacl.name+"SchemaShape")||this._hasType(body,this.ns.raml.vocabularies.shapes+"ScalarShape")){isSchema=!0}else if(this._hasType(body,this.ns.raml.vocabularies.shapes+"ArrayShape")){isObject=!0}else if(this._hasType(body,this.ns.raml.vocabularies.shapes+"AnyShape")){isAnyType=!0}this._setIsObject(isObject);this._setIsSchema(isSchema);this._setIsAnyType(isAnyType)}// Computes a label for the section toggle buttons.
_computeToggleActionLabel(opened){return opened?"Hide":"Show"}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}/**
     * Toggles URI parameters view.
     * Use `pathOpened` property instead.
     */toggle(){this.opened=!this.opened}/**
     * Computes `typeName` as a name of body in the AMF model.
     *
     * @param {Object} body Currently selected body.
     * @return {String|undefined}
     */_computeTypeName(body){let value=this._getValue(body,this.ns.w3.shacl.name+"name");if(value&&("schema"===value||0===value.indexOf("amf_inline_type"))){value=void 0}return value}/**
     * Computes value for `bodyName`.
     * @param {Object} schema Computed body schema
     * @return {String|undefined} Computed body name
     */_computeBodyName(schema){return this._getValue(schema,this.ns.schema.schemaName)}_computeSelectedId(selectedBody){return selectedBody&&selectedBody["@id"]}}window.customElements.define(ApiBodyDocument.is,ApiBodyDocument);</script></dom-module><dom-module id="api-headers-document" assetpath="bower_components/api-headers-document/"><template><style>:host{display:block;@apply --api-headers-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-headers-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;}.toggle-button{outline:none;color:var(--api-headers-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-headers-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.headers-title{@apply --arc-font-title;@apply --api-headers-document-title;}.no-info{@apply --no-info-message;}:host([narrow]) .headers-title{@apply --api-headers-document-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="section-title-area" on-click="toggle" title="Toogle headers details"><h3 class="headers-title">Headers</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(opened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[hasHeaders]]"><api-type-document amf-model="[[amfModel]]" type="[[headers]]" narrow="[[narrow]]"></api-type-document></template><template is="dom-if" if="[[!hasHeaders]]"><p class="no-info">Headers are not required by this endpoint</p></template></iron-collapse></template><script>/**
   * `api-headers-document`
   *
   * A documentation for API headers.
   *
   * It uses [AMF](https://github.com/mulesoft/amf) json/ld model to render
   * the view.
   *
   * ## Example
   *
   * ```html
   * <api-headers-document headers="[...]" opened></api-headers-document>
   * ```
   *
   * ## Styling
   *
   * `<api-headers-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-headers-document` | Mixin applied to this elment | `{}`
   * `--api-headers-document-title-border-color` | Border color of the title area | `#e5e5e5`
   * `--api-headers-document-toggle-view-color` | Color of the toggle button | `--arc-toggle-view-icon-color` or `rgba(0, 0, 0, 0.74)`
   * `--toggle-button` | Theme style, mixin apllied to toggle button | `{}`
   * `--api-headers-document-toggle-view-hover-color` | Color of the toggle button when hovering. Please, mind that hover is not available on all devices.| `--arc-toggle-view-icon-hover-color` or `rgba(0, 0, 0, 0.88)`
   * `--toggle-button-hover` | Theme style, mixin apllied to toggle button when hovered. | `{}`
   * `--api-headers-document-title` | Mixin applied to the title element | `{}`
   * `--api-headers-document-title-narrow` | Mixin applied to the title when in narrow layout | `{}`
   * `--no-info-message` | Theme mixin, applied to all empty info messages | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class ApiHeadersDocument extends Polymer.Element{static get is(){return"api-headers-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * The headers AMF model Array.
         */headers:Array,/**
         * Computed value from the `headers`. True if has headers.
         */hasHeaders:{type:Boolean,value:/* eat */!1,computed:"_computeHasHeaders(headers.*)"},/**
         * Set to true to open the view.
         * Autormatically set when the view is toggle from the UI.
         */opened:Boolean,/**
         * A property passed to the type document element to render
         * a mogile friendly view.
         */narrow:{type:Boolean,reflectToAttribute:!0}}}/**
     * Computes value for `hasHeaders` property
     * @param {Object} record `headers` change record
     * @return {Boolean}
     */_computeHasHeaders(record){return!!(record.base&&record.base.length)}// Computes a label for the section toggle buttons.
_computeToggleActionLabel(opened){return opened?"Hide":"Show"}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}/**
     * Toggles the view.
     * Use `opened` property instead.
     */toggle(){this.opened=!this.opened}}window.customElements.define(ApiHeadersDocument.is,ApiHeadersDocument);</script></dom-module><dom-module id="api-responses-document" assetpath="bower_components/api-responses-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-responses-document;}marked-element{margin-top:8px;}.no-info{@apply --no-info-message;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><paper-tabs selected="{{selected}}"><template is="dom-repeat" items="[[codes]]"><paper-tab>[[item]]</paper-tab></template></paper-tabs><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[selectedResponse]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[hasPayload]]"><api-body-document amf-model="[[amfModel]]" body="[[payload]]" narrow="[[narrow]]" opened=""></api-body-document></template><template is="dom-if" if="[[noDocs]]"><p class="no-info">No description provided</p></template></template><script>/**
   * `api-responses-document`
   *
   * A documentation for method responses based on AMF model.
   *
   * It renders a selector of available status codes in the responses array.
   * This is computed from `returns` property which must be an array
   * as a value of AMF's `http://www.w3.org/ns/hydra/core#returns` property
   * of the `method` shape.
   *
   * Status codes are sorted before rendering.
   *
   * In the documentation part it renders annotations (AMF custom proeprties)
   * added to the response, headers and body.
   *
   * ## Styling
   *
   * `<api-responses-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-responses-document` | Mixin applied to this elment | `{}`
   * `--no-info-message` | Theme mixin, applied to empty info message | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiResponsesDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-responses-document"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * The `returns` property of the method AMF model.
         *
         * @type {Array<Object>}
         */returns:Array,/**
         * Computed value of status codes from `returns` property.
         *
         * @type {Array<String>}
         */codes:{type:Array,computed:"_computeCodes(returns, amfModel)",observer:"_codesChanged"},/**
         * Selected index of a status code from the selector.
         */selected:Number,/**
         * Currently selected response object as AMF model os a type of
         * `http://raml.org/vocabularies/http#Response`
         */selectedResponse:{type:Object,computed:"_computeSelectedResponse(selected, codes, returns)"},/**
         * Computed value of method description from `method` property.
         */description:{type:String,computed:"_computeDescription(selectedResponse)"},/**
         * Computed value, true if `description` is set.
         */hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},/**
         * Computed value of AMF payload definition from `expects`
         * property.
         */payload:{type:Object,computed:"_computePayload(selectedResponse)"},/**
         * Computed value, true if `payload` has values.
         */hasPayload:{type:Boolean,computed:"_computeHasArrayValue(payload)"},/**
         * Computed value of AMF payload definition from `expects`
         * property.
         */headers:{type:Object,computed:"_computeHeaders(selectedResponse)"},/**
         * Computed value, true if `payload` has values.
         */hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},/**
         * Computed value from current `selectedResponse`. True if the model
         * contains custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(selectedResponse)"},/**
         * Computed value, true when a status is defined but does not
         * contain any documentation.
         */noDocs:{type:Boolean,computed:"_computeNoDocs(hasCustomProperties, hasHeaders, hasPayload, hasDescription)"},/**
         * Set to render a mobile friendly view.
         */narrow:Boolean}}/**
     * Computes list of status codes for the selector.
     *
     * @param {Array<Object>} returns Current value of `returns` property
     * @return {Array<String>}
     */_computeCodes(returns){if(!returns||!returns.length){return}const codes=[];returns.forEach(item=>{const value=this._getValue(item,this.ns.w3.hydra.core+"statusCode");if(value){codes.push(value)}});codes.sort();return codes}/**
     * Computes value for `selectedResponse` property.
     * Codes are sorted so it has to match status code with entry in returns
     * array
     *
     * @param {Number} selected
     * @param {Array<String>} codes
     * @param {Array} returns
     * @return {Object}
     */_computeSelectedResponse(selected,codes,returns){if(!returns||!codes||!selected&&0!==selected){return}const status=codes[selected];return returns.find(item=>this._statusMatches(item,status))}/**
     * Checks if given `item` matches `statusCode`
     *
     * @param {Object} item Response AMF model
     * @param {String} status Status code as string
     * @return {Boolean}
     */_statusMatches(item,status){if(!item){return(/* eat */!1)}const value=this._getValue(item,this.ns.w3.hydra.core+"statusCode");return value===status}/**
     * Sets `selected` 0 when codes changes.
     * It only sets selection if there's actually a value to render.
     * It prohibits from performing additional computations for nothing.
     *
     * @param {?Array} codes
     */_codesChanged(codes){if(codes&&codes.length){this.selected=0}}_computeNoDocs(hasCustomProperties,hasHeaders,hasPayload,hasDescription){return!(hasCustomProperties||hasHeaders||hasPayload||hasDescription)}}window.customElements.define(ApiResponsesDocument.is,ApiResponsesDocument);</script></dom-module><script>!function(t){t.languages.http={"request-line":{pattern:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\s(?:https?:\/\/|\/)\S+\sHTTP\/[0-9.]+/m,inside:{property:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\b/,"attr-name":/:\w+/}},"response-status":{pattern:/^HTTP\/1.[01] \d+.*/m,inside:{property:{pattern:/(^HTTP\/1.[01] )\d+.*/i,lookbehind:!0}}},"header-name":{pattern:/^[\w-]+:(?=.)/m,alias:"keyword"}};var a,e,n,i=t.languages,s={"application/javascript":i.javascript,"application/json":i.json||i.javascript,"application/xml":i.xml,"text/xml":i.xml,"text/html":i.html,"text/css":i.css},p={"application/json":!0,"application/xml":!0};for(var r in s)if(s[r]){a=a||{};var T=p[r]?(void 0,n=(e=r).replace(/^[a-z]+\//,""),"(?:"+e+"|\\w+/(?:[\\w.-]+\\+)+"+n+"(?![+\\w.-]))"):r;a[r]={pattern:RegExp("(content-type:\\s*"+T+"[\\s\\S]*?)(?:\\r?\\n|\\r){2}[\\s\\S]*","i"),lookbehind:!0,inside:{rest:s[r]}}}a&&t.languages.insertBefore("http","header-name",a)}(Prism);</script><dom-module id="http-code-snippets-style" assetpath="bower_components/http-code-snippets/"><template><style>:host{display:block;position:relative;width:100%;}.code{display:block;position:relative;white-space:pre-wrap;word-break:break-all;padding-top:20px;@apply --http-code-snippet-container;@apply --http-code-snippet-container-highlighted;}.copy-button,
    paper-icon-button{position:absolute;top:0px;right:0px;z-index:1;}.copy-button{text-transform:uppercase;border:none;cursor:pointer;background:#e0e0e0;}.label{font-weight:500;}.value{margin-left:8px;}.line{@apply --http-code-snippet-line;}.line.indent{margin-left:var(--http-code-snippet-indent, 12px);}.line.indent-2{margin-left:var(--http-code-snippet-indent-2, 24px);}.copy-button{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;}code[class*="language-"],
    pre[class*="language-"]{@apply --arc-font-common-code;color:var(--code-color, black);text-shadow:0 1px white;text-shadow:var(--http-code-snippet-code-text-shadow, 0 1px white);font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;text-align:left;word-spacing:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection,
    pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"] ::-moz-selection{text-shadow:none;background:var(--http-code-snippet-code-selection-background-color, #b3d4fc);}pre[class*="language-"]::selection,
    pre[class*="language-"] ::selection,
    code[class*="language-"]::selection,
    code[class*="language-"] ::selection{text-shadow:none;background:var(--http-code-snippet-code-selection-background-color, #b3d4fc);}@media print{code[class*="language-"],
      pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:var(--http-code-snippet-code-cdata-color, slategray);}.token.punctuation{color:var(--code-punctuation-value-color, #999);}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted{color:var(--code-type-number-value-color, #905);}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:var(--code-type-text-value-color, #690);}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:var(--code-punctuation-value-color, #a67f59);background:transparent !important;}.token.atrule,
    .token.attr-value,
    .token.keyword{color:var(--http-code-snippet-code-keyword-color, #07a);}.token.function{color:var(--http-code-snippet-code-function-color, #DD4A68);}.token.regex,
    .token.important,
    .token.variable{color:var(--http-code-snippet-variable-color, #e90);}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="base-code-snippet" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style include="http-code-snippets-style"></style><button class="copy-button" title="Copy to clipboard" on-click="_copyToClipboard">Copy</button> <code class="code language-snippet"></code></template><script>const URI_CACHE={};/**
   * `base-code-snippet`
   *
   * A class to be used to extend other code snippets elements.
   *
   * Each child class has to have `lang` property to be used to recognize the
   * syntax. If syntax is different than the default PrismJs set then it has to
   * be imported into the DOM.
   *
   * Each child class must implement `_processCommand()` function which results
   * to a code to highlight. It takes 4 attributes (in order): url, method,
   * headers, and payload.
   * Mind that all atguments are optional.
   *
   * If the child class implements it's own template, it should contain
   * `<code></code>` inside the template where the highlighted value is
   * added.
   *
   * Parent element, presumably `http-code-snippets`, or main document
   * must include `prism-element/prism-highlighter.html` in it's DOM.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class BaseCodeSnippet extends Polymer.Element{static get is(){return"base-code-snippet"}static get properties(){return{/**
         * Request URL
         */url:String,/**
         * HTTP method
         */method:String,/**
         * Parsed HTTP headers.
         * Each item contains `name` and `value` properties.
         * @type {Array<Object>}
         */headers:Array,/**
         * HTTP body (the message)
         */payload:String}}static get observers(){return["_valuesChanged(url, method, headers, payload)"]}get _code(){return this.shadowRoot.querySelector("code")}connectedCallback(){super.connectedCallback();if(!this.__valuesDebouncer){this._valuesChanged(this.url,this.method,this.headers,this.payload)}}disconnectedCallback(){super.disconnectedCallback();this._clearValueTimeout()}/**
     * Clears timeout from the debouncer if set.
     */_clearValueTimeout(){if(this.__valuesDebouncer){clearTimeout(this.__valuesDebouncer);this.__valuesDebouncer=void 0}}/**
     * Computes code value with debouncer set to 25 ms.
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String|undefined} payload
     */_valuesChanged(url,method,headers,payload){this._clearValueTimeout();this.__valuesDebouncer=setTimeout(()=>{this.__valuesDebouncer=void 0;this._processCommand(url,method,headers,payload)},25)}/**
     * Processes command by calling, respectively, `_computeCommand()` and
     * `_highlight()`. The result is added to the `<code>` block in the template.
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String|undefined} payload
     */_processCommand(url,method,headers,payload){let code=this._computeCommand(url,method,headers,payload);if(!code){code=""}else{code=this._highlight(code,this.lang)}this._code.innerHTML=code}_computeCommand(){}_highlight(code,lang){const e=new CustomEvent("syntax-highlight",{bubbles:!0,cancelable:!0,composed:!0,detail:{code,lang}});this.dispatchEvent(e);return e.detail.code}/**
     * Reads the host, port and path from the url.
     * This function uses URI library to parse the URL so you have to
     * include this library from bower_components if the element want to use it.
     *
     * @param {String} url
     * @return {Object}
     */urlDetails(url){if(URI_CACHE[url]){return URI_CACHE[url]}url=url||this.url;const result={path:"",port:"",hostValue:""};if(!url){return result}let uri;try{uri=new URL(url)}catch(e){if("/"===url[0]){result.path=url;result.post=80}return result}let host=uri.hostname;if(host){host=decodeURIComponent(host)}let port=uri.port;if(!port){if("https:"===uri.protocol){port=443}else{port=80}}result.port=port;result.hostValue=host;const query=uri.search;let path=uri.pathname;if(!path){path="/"}else{path=decodeURIComponent(path)}if(query){path+=query}result.path=path;URI_CACHE[url]=result;return result}_copyToClipboard(){let code=this._code;if(!code){return}if(this._beforeCopy(code.innerText)){return}// From https://github.com/google/material-design-lite/blob/master/docs/_assets/snippets.js
const snipRange=document.createRange();snipRange.selectNodeContents(code);const selection=window.getSelection();selection.removeAllRanges();selection.addRange(snipRange);try{document.execCommand("copy")}catch(err){console.warn("Copy error",err)}selection.removeAllRanges()}/**
     * Sends the `content-copy` event.
     * If the event is canceled then the logic from this element won't be
     * executed. Useful if current platform doesn't support `execCommand('copy')`
     * and has other way to manage clipboard.
     *
     * @param {String} value The value to dispatch with the event.
     * @return {Boolean} True if handler executed copy function.
     */_beforeCopy(value){const ev=new CustomEvent("content-copy",{detail:{value},bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(ev);return ev.defaultPrevented}}window.customElements.define(BaseCodeSnippet.is,BaseCodeSnippet);</script></dom-module><dom-module id="raw-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `raw-http-snippet`
   *
   * Code snippet to display raw HTTP message
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/raw.html Raw demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class RawHttpSnippet extends BaseCodeSnippet{static get is(){return"raw-http-snippet"}get lang(){return"http"}/**
     * Computes bas command for cURL.
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete cURL command for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}const urlData=this.urlDetails(url);let result=`${method} ${urlData.path} HTTP/1.1\n`;if(urlData.hostValue){result+=`Host: ${urlData.hostValue}:${urlData.port}\n`}if(headers&&headers instanceof Array){for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`${h.name}: ${h.value}\n`}}if(payload){result+="\n";result+=payload;result+="\n\n"}return result}}window.customElements.define(RawHttpSnippet.is,RawHttpSnippet);</script></dom-module><script>!function(e){var a={variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[\w#?*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)["']?(\w+?)["']?\s*\r?\n(?:[\s\S])*?\r?\n\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,greedy:!0,inside:a}],variable:a.variable,function:{pattern:/(^|[\s;|&])(?:add|alias|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|hash|head|help|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logout|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tail|tar|tee|test|time|timeout|times|top|touch|tr|traceroute|trap|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zip|zypper)(?=$|[\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&])(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|[\s;|&])/,lookbehind:!0},boolean:{pattern:/(^|[\s;|&])(?:true|false)(?=$|[\s;|&])/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var t=a.variable[1].inside;t.string=e.languages.bash.string,t.function=e.languages.bash.function,t.keyword=e.languages.bash.keyword,t.boolean=e.languages.bash.boolean,t.operator=e.languages.bash.operator,t.punctuation=e.languages.bash.punctuation,e.languages.shell=e.languages.bash}(Prism);</script><dom-module id="curl-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `curl-http-snippet`
   *
   * A snippet for curl command in bash.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/curl.html cURL demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class CurlHttpSnippet extends BaseCodeSnippet{static get is(){return"curl-http-snippet"}get lang(){return"bash"}/**
     * Computes command for cURL.
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete cURL command for given arguments
     */_computeCommand(url,method,headers,payload){url=url||"";method=method||"GET";let result=`curl "${url}" \\\n`;if("GET"!==method){result+=`\t-X ${method} \\\n`}if(payload){let quot="";try{payload=JSON.stringify(payload)}catch(_){quot="\""}result+=`\t-d ${quot}${payload}${quot} \\\n`}if(headers&&headers instanceof Array){for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`\t-H "${h.name}: ${h.value}" `;if(i+1!==len){result+="\\\n"}}}if("\\\n"===result.substr(-2)){result=result.substr(0,result.length-3)}return result}}window.customElements.define(CurlHttpSnippet.is,CurlHttpSnippet);</script></dom-module><dom-module id="xhr-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `raw-http-snippet`
   *
   * A snippet for requests made in JavaScript using XHR object.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/xhr.html XHR demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class XhrHttpSnippet extends BaseCodeSnippet{static get is(){return"xhr-http-snippet"}get lang(){return"javascript"}/**
     * Computes code for JavaScript (XHR API).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;let result="var xhr = new XMLHttpRequest();\n";result+="xhr.addEventListener('load', function(e) {\n";result+="  var response = e.target.responseText;\n";result+="  console.log(response);\n";result+="});\n";result+="xhr.addEventListener('error', function(e) {\n";result+="  console.error('Request errored with status', e.target.status);\n";result+="});\n";result+=`xhr.open('${method}', '${url}');\n`;if(hasHeaders){headers.forEach(h=>{result+=`xhr.setRequestHeader('${h.name}','${h.value}');\n`})}if(hasPayload){result+="var body = '';\n";const re=/'/g;payload.split("\n").forEach(line=>{result+="body += '"+line.replace(re,"\\'")+"\\n';\n"});result+="xhr.send(body);\n"}else{result+="xhr.send();\n"}return result}}window.customElements.define(XhrHttpSnippet.is,XhrHttpSnippet);</script></dom-module><dom-module id="fetch-js-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `fetch-js-http-snippet`
   *
   * A snippet for requests made in JavaScript using Fetch API.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/fetch-js.html Fetch (JavaScript) demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class FetchJsHttpSnippet extends BaseCodeSnippet{static get is(){return"fetch-js-http-snippet"}get lang(){return"javascript"}/**
     * Computes code for JavaScript (Fetch API).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload,hasInit=hasHeaders||hasPayload||!!(method&&"GET"!==method);let result="";if(hasInit){if(hasHeaders){result+=this._createHeaders(headers)}if(hasPayload){result+=this._createPayload(payload)}result+="const init = {\n";result+=`\tmethod: '${method}'`;if(hasHeaders){result+=`,\n\theaders`}if(hasPayload){result+=`,\n\tbody`}result+="\n";result+="}\n\n"}result+=`fetch('${url}'`;if(hasInit){result+=", init"}result+=")\n";result+=".then((response) => {\n";result+="\treturn response.text(); // or .json() or .blob() ...\n";result+="})\n";result+=".then((text) => {\n";result+="\t// text is the response body\n";result+="})\n";result+=".catch((e) => {\n";result+="\t// error in e.message\n";result+="});\n";return result}_createHeaders(headers){let result="const headers = new Headers();\n";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`headers.append('${h.name}', '${h.value}');\n`}result+="\n";return result}_createPayload(payload){return`const body = \`${payload}\`;\n\n`}}window.customElements.define(FetchJsHttpSnippet.is,FetchJsHttpSnippet);</script></dom-module><dom-module id="node-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `node-http-snippet`
   *
   * A set of code snippets for Python requests.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/python.html Python demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class NodeHttpSnippet extends BaseCodeSnippet{static get is(){return"node-http-snippet"}get lang(){return"javascript"}/**
     * Computes code for JavaScript (Node).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="const http = require('http');\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasPayload){result+=this._createPayload(payload)}result+="\n";const data=this.urlDetails(url);result+="const init = {\n";result+=`  host: '${data.hostValue}'\n`;result+=`  path: '${data.path}'\n`;result+=`  port: ${data.port}\n`;result+=`  method: '${method}'\n`;if(hasHeaders){result+="  headers: {\n";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`    '${h.name}': '${h.value}'`;if(i+1!==len){result+=","}result+="\n"}result+="  }\n"}result+="};\n";result+="const callback = function(response) {\n";result+="  let str = '';\n";result+="  response.on('data', function(chunk) {\n";result+="    str += chunk;\n";result+="  });\n";result+="  \n";result+="  response.on('end', function() {\n";result+="    // str has response body\n";result+="    console.log(str);\n";result+="  });\n";result+="};\n";result+="\n";result+="const req = http.request(init, callback);\n";if(hasPayload){result+="req.write(body);\n"}result+="req.end();\n";return result}_createPayload(payload){return`\nconst body = \`${payload}\`;\n`}}window.customElements.define(NodeHttpSnippet.is,NodeHttpSnippet);</script></dom-module><dom-module id="javascript-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Fetch</paper-tab><paper-tab>Node</paper-tab><paper-tab>XHR</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><fetch-js-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></fetch-js-http-snippet><node-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></node-http-snippet><xhr-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></xhr-http-snippet></iron-pages></template><script>/**
   * `javascript-http-snippet`
   *
   * A set of code snippets for JavaScript requests.
   *
   * ## Styling
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--http-code-snippets` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/javascript.html JavaScript demo
   * @memberof ApiElements
   */class JavascriptHttpSnippets extends Polymer.Element{static get is(){return"javascript-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},/**
         * Request URL
         */url:String,/**
         * HTTP method
         */method:String,/**
         * Parsed HTTP headers.
         * Each item contains `name` and `value` properties.
         * @type {Array<Object>}
         */headers:Array,/**
         * HTTP body (the message)
         */payload:String}}}window.customElements.define(JavascriptHttpSnippets.is,JavascriptHttpSnippets);</script></dom-module><script>Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/i,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python;</script><dom-module id="requests-python-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `raw-http-snippet`
   *
   * A snippet for requests made in Python using the Requests library.
   *
   * ## Styling
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/requests-python.html Python > request demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class RequestsPythonHttpSnippet extends BaseCodeSnippet{static get is(){return"requests-python-http-snippet"}get lang(){return"python"}/**
     * Computes code for Python (Request lib).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String|undefined} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import requests\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;result+=`url = '${url}'\n`;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(method,hasPayload,hasHeaders);result+=this._getFooter();return result}/**
     * @param {Array<Object>} headers List of headers
     * @return {String} Headers variable definition
     */_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}/**
     * @param {String} payload HTTP body
     * @return {String} Body variable definition
     */_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}/**
     * Computes value of connection definition
     * @param {String} method HTTP request method
     * @param {Boolean} hasPayload True if the request contains payload message
     * @param {Boolean} hasHeaders True if the request contains headers
     * @return {String}
     */_getConnection(method,hasPayload,hasHeaders){const lowerMethod=(method+"").toLowerCase();let result=`req = requests.${lowerMethod}(url`;if(hasHeaders){result+=", headers=headers"}if(hasPayload){result+=", data=body"}result+=")\n\n";return result}/**
     * @return {String} Returns ending of the code definition
     */_getFooter(){let result="print(req.status_code)\n";result+="print(req.headers)\n";result+="print(req.text)";return result}}window.customElements.define(RequestsPythonHttpSnippet.is,RequestsPythonHttpSnippet);</script></dom-module><dom-module id="python-27-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `python-27-http-snippet`
   *
   * A snippet for requests made in Python 2.7 using native library.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/python-27.html Python 2.7 demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class Python27HttpSnippet extends BaseCodeSnippet{static get is(){return"python-27-http-snippet"}get lang(){return"python"}/**
     * Computes code for Python (2.7).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import httplib\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(url,method,hasPayload,hasHeaders);result+=this._getFooter();return result}/**
     * @param {Array<Object>} headers List of headers
     * @return {String} Headers variable definition
     */_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}/**
     * @param {String} payload HTTP body
     * @return {String} Body variable definition
     */_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}/**
     * Computes value of connection definition
     * @param {String} url HTTP request url
     * @param {String} method HTTP request method
     * @param {Boolean} hasPayload True if the request contains payload message
     * @param {Boolean} hasHeaders True if the request contains headers
     * @return {String}
     */_getConnection(url,method,hasPayload,hasHeaders){const data=this.urlDetails(url);let clazz="HTTP";if(443===data.port||"443"===data.port){clazz+="S"}let result=`conn = httplib.${clazz}Connection('${data.hostValue}')\n`;result+=`conn.request('${method}','${data.path}'`;if(hasPayload){result+=", body"}if(hasHeaders){result+=", headers"}result+=")\n";return result}/**
     * @return {String} Returns ending of the code definition
     */_getFooter(){let result="res = conn.getresponse()\n";result+="\n";result+="print(res.status, res.reason)\n";result+="print(res.read())\n";result+="print(res.getheaders())";return result}}window.customElements.define(Python27HttpSnippet.is,Python27HttpSnippet);</script></dom-module><dom-module id="python-31-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `raw-http-snippet`
   *
   * A snippet for requests made in Python 3.1 using native library.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/python-31.html Python 3.1 demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class Python31HttpSnippet extends BaseCodeSnippet{static get is(){return"python-31-http-snippet"}get lang(){return"python"}/**
     * Computes code for Python (3.1).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String|undefined} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import http.client\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(url,method,hasPayload,hasHeaders);result+=this._getFooter();return result}/**
     * @param {Array<Object>} headers List of headers
     * @return {String} Headers variable definition
     */_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}/**
     * @param {String} payload HTTP body
     * @return {String} Body variable definition
     */_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}/**
     * Computes value of connection definition
     * @param {String} url HTTP request url
     * @param {String} method HTTP request method
     * @param {Boolean} hasPayload True if the request contains payload message
     * @param {Boolean} hasHeaders True if the request contains headers
     * @return {String}
     */_getConnection(url,method,hasPayload,hasHeaders){const data=this.urlDetails(url);let clazz="HTTP";if(443===data.port||"443"===data.port){clazz+="S"}let result=`conn = http.client.${clazz}Connection('${data.hostValue}')\n`;result+=`conn.request('${method}','${data.path}'`;if(hasPayload){result+=", body"}if(hasHeaders){result+=", headers"}result+=")\n";return result}/**
     * @return {String} Returns ending of the code definition
     */_getFooter(){let result="res = conn.getresponse()\n";result+="\n";result+="data = res.read()\n";result+="print(res.status, res.reason)\n";result+="print(data.decode('utf-8'))\n";result+="print(res.getheaders())";return result}}window.customElements.define(Python31HttpSnippet.is,Python31HttpSnippet);</script></dom-module><dom-module id="python-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Requests</paper-tab><paper-tab>Python 2.7</paper-tab><paper-tab>Python 3.1</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><requests-python-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></requests-python-http-snippet><python-27-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></python-27-http-snippet><python-31-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></python-31-http-snippet></iron-pages></template><script>/**
   * `raw-http-snippet`
   *
   * A set of code snippets for Python requests.
   *
   * ## Styling
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--http-code-snippets` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/python.html Python demo
   * @memberof ApiElements
   */class PythonHttpSnippets extends Polymer.Element{static get is(){return"python-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},/**
         * Request URL
         */url:String,/**
         * HTTP method
         */method:String,/**
         * Parsed HTTP headers.
         * Each item contains `name` and `value` properties.
         * @type {Array<Object>}
         */headers:Array,/**
         * HTTP body (the message)
         */payload:String}}}window.customElements.define(PythonHttpSnippets.is,PythonHttpSnippets);</script></dom-module><dom-module id="c-curl-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `c-curl-http-snippet`
   *
   * A snippet for requests made in C using curl library.
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/c-curl.html C curl demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class CcurlHttpSnippet extends BaseCodeSnippet{static get is(){return"c-curl-http-snippet"}get lang(){return"clike"}get _codeHeaders(){return"#include <stdio.h>\n#include <curl/curl.h>\n\n"}/**
     * Computes code for C with curl.
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result=this._codeHeaders;result+="int main(void)\n{\n";result+="\tCURL *curl;\n\tCURLcode res;\n\n";result+="\tcurl = curl_easy_init();\n";result+=`\tcurl_easy_setopt(curl, CURLOPT_URL, "${url}");\n`;result+=`\tcurl_easy_setopt(curl, CURLOPT_CUSTOMREQUEST, "${method}");\n`;result+="\t/* if redirected, tell libcurl to follow redirection */\n";result+="\tcurl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);\n\n";if(headers&&headers instanceof Array){result+="\tstruct curl_slist *headers = NULL;\n";headers.forEach(h=>{result+=`\theaders = curl_slist_append(headers, "${h.name}: ${h.value}");\n`});result+="\tcurl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);\n"}if(payload){result+="\n";payload=payload+"";const re=/"/g;result+="\tchar *body =\"";payload.split("\n").map(function(line){result+=line.replace(re,"\\\"")});result+="\";\n";result+="\tcurl_easy_setopt(curl, CURLOPT_POSTFIELDS, body);\n"}result+="\n\t/* Perform the request, res will get the return code */\n";result+="\tres = curl_easy_perform(curl);\n";result+="\tif (res != CURLE_OK) {\n";result+="\t\tfprintf(stderr, \"curl_easy_perform() failed: %s\\n\"";result+=", curl_easy_strerror(res));\n";result+="\t}\n";result+="\t/* Clean up after yourself */\n";result+="\tcurl_easy_cleanup(curl);\n";result+="\treturn 0;\n";result+="}\n";result+="/* See: http://stackoverflow.com/a/2329792/1127848 of how ";result+="to read data from the response. */";return result}}window.customElements.define(CcurlHttpSnippet.is,CcurlHttpSnippet);</script></dom-module><script>!function(e){var t=/\b(?:abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while|var|null|exports|module|open|opens|provides|requires|to|transitive|uses|with)\b/,a=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[a,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|([-+&|])\2|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism);</script><dom-module id="java-platform-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `java-platform-http-snippet`
   *
   * A snippet for requests made in Java using the platform functions
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/java-platform.html Java Platform demo
   * @demo demo/java.html Java demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class JavaPlatformHttpSnippet extends BaseCodeSnippet{static get is(){return"java-platform-http-snippet"}get lang(){return"java"}/**
     * Computes code for Java (patform).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}url=url+"";let result=`URL url = new URL("${url}");\n`,clazz="Http";if(0===url.indexOf("https")){clazz+="s"}clazz+="URLConnection";result+=`${clazz} con = (${clazz}) url.openConnection();\n`;result+=`con.setRequestMethod("${method}");\n`;if(headers&&headers.length){headers.forEach(h=>{result+=`con.setRequestProperty("${h.name}", "${h.value}");\n`})}if(payload){result+="\n/* Payload support */\n";result+="con.setDoOutput(true);\n";result+="DataOutputStream out = new DataOutputStream(con.getOutputStream());\n";const list=this._payloadToList(payload);list.forEach(line=>{result+=`out.writeBytes("${line}\\n");\n`});result+="out.flush();\n";result+="out.close();\n"}result+="\n";result+="int status = con.getResponseCode();\n";result+="BufferedReader in = new BufferedReader(";result+="new InputStreamReader(con.getInputStream()));\n";result+="String inputLine;\n";result+="StringBuffer content = new StringBuffer();\n";result+="while((inputLine = in.readLine()) != null) {\n";result+="\tcontent.append(inputLine);\n";result+="}\n";result+="in.close();\n";result+="con.disconnect();\n";result+="System.out.println(\"Response status: \" + status);\n";result+="System.out.println(content.toString());";return result}_payloadToList(payload){return payload.split("\n").map(item=>item.replace(/"/g,"\\\""))}}window.customElements.define(JavaPlatformHttpSnippet.is,JavaPlatformHttpSnippet);</script></dom-module><dom-module id="java-spring-http-snippet" assetpath="bower_components/http-code-snippets/"><script>/**
   * `java-spring-http-snippet`
   *
   * A snippet for requests made in Java using the spring functions
   *
   * ### Styling
   *
   * See `http-code-snippets` for styling documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/java-spring.html Java Spring demo
   * @demo demo/java.html Java demo
   * @memberof ApiElements
   * @extends BaseCodeSnippet
   */class JavaSpringHttpSnippet extends BaseCodeSnippet{static get is(){return"java-spring-http-snippet"}get lang(){return"java"}/**
     * Computes code for Java (Spring).
     * @param {String} url
     * @param {String} method
     * @param {Array<Object>|undefined} headers
     * @param {String} payload
     * @return {String} Complete code for given arguments
     */_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result=`RestTemplate rest = new RestTemplate();\n`;result+="HttpHeaders headers = new HttpHeaders();\n";if(headers&&headers.length){headers.forEach(h=>{result+=`headers.add("${h.name}", "${h.value}");\n`})}if(payload){result+="\nStringBuilder sb = new StringBuilder();\n";const list=this._payloadToList(payload);list.forEach(line=>{result+=`sb.append("${line}\\n");\n`});result+="String body = sb.toString();\n"}else{result+="String body = \"\";\n"}result+="\n";result+="HttpEntity<String> requestEntity = new HttpEntity<String>(body, headers);\n";result+="ResponseEntity<String> responseEntity = rest.exchange(";result+=`"${url}", HttpMethod.${method}, requestEntity, String.class);\n`;result+="int status = responseEntity.getStatusCode();\n";result+="String response = responseEntity.getBody();\n";result+="System.out.println(\"Response status: \" + status);\n";result+="System.out.println(response);";return result}_payloadToList(payload){return payload.split("\n").map(item=>item.replace(/"/g,"\\\""))}}window.customElements.define(JavaSpringHttpSnippet.is,JavaSpringHttpSnippet);</script></dom-module><dom-module id="java-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Platform</paper-tab><paper-tab>Spring</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><java-platform-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></java-platform-http-snippet><java-spring-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></java-spring-http-snippet></iron-pages></template><script>/**
   * `javascript-http-snippet`
   *
   * A set of code snippets for Java requests.
   *
   * @customElement
   * @polymer
   * @demo demo/java.html Java demo
   * @memberof ApiElements
   */class JavatHttpSnippets extends Polymer.Element{static get is(){return"java-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},/**
         * Request URL
         */url:String,/**
         * HTTP method
         */method:String,/**
         * Parsed HTTP headers.
         * Each item contains `name` and `value` properties.
         * @type {Array<Object>}
         */headers:Array,/**
         * HTTP body (the message)
         */payload:String}}}window.customElements.define(JavatHttpSnippets.is,JavatHttpSnippets);</script></dom-module><dom-module id="http-code-snippets" assetpath="bower_components/http-code-snippets/"><template><style>:host{display:block;@apply --http-code-snippets;}</style><prism-highlighter></prism-highlighter><paper-tabs selected="{{selectedPlatform}}" scrollable="[[scrollable]]" fit-container=""><paper-tab>cURL</paper-tab><paper-tab>HTTP</paper-tab><paper-tab>JavaScript</paper-tab><paper-tab>Python</paper-tab><paper-tab>C</paper-tab><paper-tab>Java</paper-tab></paper-tabs><div class="container"></div></template><script>/**
   * `http-code-snippets`
   *
   * Code snippets to display code implementatyion examples for a HTTP request
   *
   * ## Polyfills
   *
   * This component requires `advanced-rest-client/URL` (or other) polyfill for
   * URL object. This spec is not supported in Safari 9 and IE 11.
   * If you are targeting this browsers install ind include this dependency.
   *
   * This component does not include polyfills.
   *
   * ## Styling
   *
   * `<http-code-snippets>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--http-code-snippets` | Mixin applied to this elment | `{}`
   * `--http-code-snippet-container` | Mixin applied to the `<code>` element | `{}`
   * `--http-code-snippet-container-highlighted` | The same as above | `{}`
   * `--http-code-snippet-line` | Mixin applied to each line | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class HttpCodeSnippets extends Polymer.Element{static get is(){return"http-code-snippets"}static get properties(){return{// Currently selected tab for the platform row.
selectedPlatform:{type:Number,value:0,observer:"_selectedChanged"},/**
         * Computed list of headers from `headers` property.
         * It is an array of objects where each object contains `name` and `value`
         * properties.
         * @type {Array<Object>}
         */_headersList:{type:Array,computed:"headersToList(headers)",observer:"_headersChanged"},// Passed to `paper-tabs` `scrollable` property
scrollable:Boolean,/**
         * Request URL
         */url:{type:String,observer:"_urlChanged"},/**
         * HTTP method
         */method:{type:String,observer:"_methodChanged"},/**
         * Parsed HTTP headers.
         * Each item contains `name` and `value` properties.
         */headers:String,/**
         * HTTP body (the message)
         */payload:{type:String,observer:"_payloadChanged"}}}disconnectedCallback(){super.disconnectedCallback();this._panel=void 0}/**
     * @return {Element|null|undefined} Reference to currently selected panel.
     */get _container(){return this.shadowRoot&&this.shadowRoot.querySelector(".container")}/**
     * Adds code snippet when selection change.
     * @param {Number} selection Currently selected snippet.
     */_selectedChanged(selection){this._removeCurrentSnippet();let name;switch(selection){case 0:name="curl-http-snippet";break;case 1:name="raw-http-snippet";break;case 2:name="javascript-http-snippets";break;case 3:name="python-http-snippets";break;case 4:name="c-curl-http-snippet";break;case 5:name="java-http-snippets";break;}if(!name){return}const panel=document.createElement(name);this._panel=panel;this._container.appendChild(panel);this._urlChanged(this.url);this._methodChanged(this.method);this._payloadChanged(this.payload);this._headersChanged(this._headersList)}/**
     * Propagates a property change to current panel, if any.
     * @param {String} property Name of the property to propagate.
     * @param {String} value Value of the property
     */_propertyChanged(property,value){if(!this._panel){return}this._panel[property]=value}/**
     * Updates URL property on current panel
     * @param {String} value New value to set
     */_urlChanged(value){this._propertyChanged("url",value)}/**
     * Updates "method" property on current panel
     * @param {String} value New value to set
     */_methodChanged(value){this._propertyChanged("method",value)}/**
     * Updates "payload" property on current panel
     * @param {String} value New value to set
     */_payloadChanged(value){this._propertyChanged("payload",value)}/**
     * Updates "headers" property on current panel as a `_headersList` property
     * @param {Array<Object>} value New value to set
     */_headersChanged(value){this._propertyChanged("headers",value)}/**
     * Removes current code snippet panel from the UI.
     */_removeCurrentSnippet(){const c=this._container;if(!c){return}const cn=c.childNodes;for(let i=cn.length-1;0<=i;i--){const child=cn[i];if(!child){continue}child.parentNode.removeChild(child)}this._panel=void 0}/**
     * Computes a list of headers from a headers string.
     * @param {?String} headers
     * @return {Array} Headers as a list od maps. Can be empty.
     */headersToList(headers){headers=headers||this.headers;if(!headers||!headers.trim()||"string"!==typeof headers){return[]}const result=[];headers=headers.split(/\n(?=[^ \t]+)/gim);for(let i=0,len=headers.length;i<len;i++){const line=headers[i].trim();if(""===line){continue}const sepPosition=line.indexOf(":");if(-1===sepPosition){result[result.length]={name:line,value:""};continue}const name=line.substr(0,sepPosition),value=line.substr(sepPosition+1).trim(),obj={name:name,value:value};result.push(obj)}return result}}window.customElements.define(HttpCodeSnippets.is,HttpCodeSnippets);</script></dom-module><dom-module id="api-oauth2-settings-document" assetpath="bower_components/api-security-documentation/"><template><style>:host{display:block;@apply --api-oauth2-settings-document;}h4{@apply --arc-font-subhead;}ul{maring:0;padding:0;}.settings-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;margin:.5em 0;}.settings-list-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;}</style><template is="dom-if" if="[[hasAccessTokenUri]]"><h4 data-type="access-token-uri">Access token URI</h4><code class="settings-value">[[accessTokenUri]]</code></template><template is="dom-if" if="[[hasAuthorizationUri]]"><h4 data-type="authorization-uri">Authorization URI</h4><code class="settings-value">[[authorizationUri]]</code></template><template is="dom-if" if="[[hasAuthorizationGrants]]"><h4 data-type="authorization-grants">Authorization grants</h4><ul><template is="dom-repeat" items="[[authorizationGrants]]"><li class="settings-list-value">[[item]]</li></template></ul></template><template is="dom-if" if="[[hasScopes]]"><h4 data-type="authorization-scopes">Authorization scopes</h4><ul><template is="dom-repeat" items="[[scopes]]"><li class="settings-list-value">[[item.label]]</li></template></ul></template></template><script>/**
   * `api-oauth2-settings-document`
   *
   * Documentation view for AMF OAuth2 security settings.
   *
   * Settings can be passed by setting the `settings` property to AMF's
   * settings property of Security Scheme.
   *
   * ```html
   * <api-oauth2-settings-document
   *  amf-model="{...}"
   *  settings="{...}"></api-oauth1-settings-document>
   * ```
   *
   * It is also possible to set corresponding properties directly.
   *
   * ```html
   * <api-oauth2-settings-document
   *  amf-model="{...}"
   *  access-token-uri="https://..."
   *  authorization-uri="https://..."
   *  authorization-grants='["implicit"]'></api-oauth1-settings-document>
   * ```
   *
   * ## Styling
   *
   * `<api-oauth2-settings-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-oauth2-settings-document` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiOauth2SettingsDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-oauth2-settings-document"}static get properties(){return{/**
         * OAuth2 settings scheme of AMF.
         * When this property changes it resets other properties.
         * @type {Object}
         */settings:{type:Object,observer:"_settingsChanged"},/**
         * Access token URI value.
         * This property is updated when `settings` property chnage.
         */accessTokenUri:String,/**
         * Computed value, true when `accessTokenUri` is set.
         */hasAccessTokenUri:{type:Boolean,computed:"_computeHasStringValue(accessTokenUri)"},/**
         * Authorization URI value.
         * This property is updated when `settings` property chnage.
         */authorizationUri:String,/**
         * Computed value, true when `authorizationUri` is set.
         */hasAuthorizationUri:{type:Boolean,computed:"_computeHasStringValue(authorizationUri)"},/**
         * List of OAuth2 authorization grants.
         * This property is updated when `settings` property chnage.
         * @type {Array<String>}
         */authorizationGrants:Array,/**
         * Computed value, true when `authorizationGrants` is set.
         */hasAuthorizationGrants:{type:Boolean,computed:"_computeHasArrayValue(authorizationGrants)"},/**
         * List of OAuth2 authorization scopes.
         * This property is updated when `settings` property chnage.
         *
         * Each array item must have `label` and optional `description`
         * properties.
         * @type {Array<Object>}
         */scopes:Array,/**
         * Computed value, true when `scopes` is set.
         */hasScopes:{type:Boolean,computed:"_computeHasArrayValue(scopes)"},/**
         * Computed value from current `method`. True if the model contains
         * custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(settings)"}}}/**
     * Called automatically when `settings` property change (whole object,
     * not sub property).
     * Sets values of all other properties to the one found in the AMF.
     *
     * @param {Object} settings AMF settings to process.
     */_settingsChanged(settings){const accessTokenUri=this._computeAccessTokenUri(settings),authorizationUri=this._computeAuthorizationUri(settings);let authorizationGrants=this._computeAuthorizationGrants(settings),scopes=this._computeScopes(settings);if(authorizationGrants&&!(authorizationGrants instanceof Array)){authorizationGrants=[authorizationGrants]}if(scopes&&!(scopes instanceof Array)){scopes=[scopes]}this.accessTokenUri=accessTokenUri;this.authorizationUri=authorizationUri;this.authorizationGrants=authorizationGrants;this.scopes=scopes}/**
     * Computes value for `accessTokenUri` property.
     * @param {Object} settings OAuth2 settings from AMF model.
     * @return {String|undefined}
     */_computeAccessTokenUri(settings){return this._getValue(settings,this.ns.raml.vocabularies.security+"accessTokenUri")}/**
     * Computes value for `authorizationUri` property.
     * @param {Object} settings OAuth2 settings from AMF model.
     * @return {String|undefined}
     */_computeAuthorizationUri(settings){return this._getValue(settings,this.ns.raml.vocabularies.security+"authorizationUri")}/**
     * Computes value for `authorizationGrants` property.
     * @param {Object} settings OAuth2 settings from AMF model.
     * @return {Array<String>|undefined}
     */_computeAuthorizationGrants(settings){return this._getValueArray(settings,this.ns.raml.vocabularies.security+"authorizationGrant")}/**
     * Computes value for `scopes` property.
     * @param {Object} settings OAuth2 settings from AMF model.
     * @return {Array<Object>|undefined}
     */_computeScopes(settings){if(!this._hasProperty(settings,this.ns.raml.vocabularies.security+"scope")){return}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"scope"),scopes=this._ensureArray(settings[key]);return scopes.map(item=>{return{description:this._computeDescription(item),label:this._getValue(item,this.ns.raml.vocabularies.security+"name")}})}}window.customElements.define(ApiOauth2SettingsDocument.is,ApiOauth2SettingsDocument);</script></dom-module><dom-module id="api-oauth1-settings-document" assetpath="bower_components/api-security-documentation/"><template><style>:host{display:block;@apply --api-oauth1-settings-document;}h4{@apply --arc-font-subhead;}.settings-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;margin:.5em 0;}</style><template is="dom-if" if="[[hasRequestTokenUri]]"><h4 data-type="request-token-uri">Request token URI</h4><code class="settings-value">[[requestTokenUri]]</code></template><template is="dom-if" if="[[hasAuthorizationUri]]"><h4 data-type="authorization-uri">Authorization URI</h4><code class="settings-value">[[authorizationUri]]</code></template><template is="dom-if" if="[[hasTokenCredentialsUri]]"><h4 data-type="token-credentials-uri">Token credentials URI</h4><code class="settings-value">[[tokenCredentialsUri]]</code></template><template is="dom-if" if="[[hasSignatures]]"><h4 data-type="signatures">Supported signatures</h4><ul><template is="dom-repeat" items="[[signatures]]"><li>[[item]]</li></template></ul></template></template><script>/**
   * `api-oauth1-settings-document`
   *
   * Documentation view for AMF OAuth2 security settings.
   *
   * Settings can be passed by setting the `settings` property to AMF's
   * settings property of Security Scheme.
   *
   * ```html
   * <api-oauth1-settings-document
   *  amf-model="{...}"
   *  settings="{...}"></api-oauth1-settings-document>
   * ```
   *
   * It is also possible to set corresponding properties directly.
   *
   * ```html
   * <api-oauth1-settings-document
   *  amf-model="{...}"
   *  request-token-uri="https://..."
   *  authorization-uri="https://..."
   *  signatures='["RSA-SHA1"]'></api-oauth1-settings-document>
   * ```
   *
   * ## Styling
   *
   * `<api-oauth1-settings-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-oauth1-settings-document` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiOauth1SettingsDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-oauth1-settings-document"}static get properties(){return{/**
         * OAuth1 settings scheme of AMF.
         * When this property changes it resets other properties.
         * @type {Object}
         */settings:{type:Object,observer:"_settingsChanged"},/**
         * The request token URI from the settings model.
         * Automatically set when `settings` property change.
         */requestTokenUri:String,/**
         * Computed value. True if `requestTokenUri` is set.
         */hasRequestTokenUri:{type:Boolean,computed:"_computeHasStringValue(requestTokenUri)"},/**
         * The authorization endpoint URI.
         * Automatically set when `settings` property change.
         */authorizationUri:String,/**
         * Computed value. True if `authorizationUri` is set.
         */hasAuthorizationUri:{type:Boolean,computed:"_computeHasStringValue(authorizationUri)"},/**
         * Token credentials endpoint URI.
         * Automatically set when `settings` property change.
         */tokenCredentialsUri:String,/**
         * Computed value. True if `tokenCredentialsUri` is set.
         */hasTokenCredentialsUri:{type:Boolean,computed:"_computeHasStringValue(tokenCredentialsUri)"},/**
         * List of signatures used by this authorization server.
         * Automatically set when `settings` property change.
         * @type {Array<String>}
         */signatures:Array,/**
         * Computed value. True if `signatures` is set.
         */hasSignatures:{type:Boolean,computed:"_computeHasArrayValue(signatures)"}}}/**
     * Called automatically when `settings` property change (whole object,
     * not sub property).
     * Sets values of all other properties to the one found in the AMF.
     *
     * @param {Object} settings AMF settings to process.
     */_settingsChanged(settings){const requestTokenUri=this._computeRequestTokenUri(settings),authorizationUri=this._computeAuthorizationUri(settings),tokenCredentialsUri=this._computeTokenCredentialsUri(settings),signatures=this._computeSignatures(settings);this.requestTokenUri=requestTokenUri;this.authorizationUri=authorizationUri;this.tokenCredentialsUri=tokenCredentialsUri;this.signatures=signatures}/**
     * If passed argument is an array it returns first object from it. Otherwise
     * it returns the object.
     * @param {any} result
     * @return {any}
     */_deArray(result){if(result instanceof Array){result=result[0]}return result}/**
     * Computes value of request token endpoint URI.
     * @param {Object} settings AMF settings to process.
     * @return {String|undefined} Request token URI value
     */_computeRequestTokenUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"requestTokenUri");return this._deArray(result)}/**
     * Computes value of authorization endpoint URI.
     * @param {Object} settings AMF settings to process.
     * @return {String|undefined} Authorization URI value
     */_computeAuthorizationUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"authorizationUri");return this._deArray(result)}/**
     * Computes value of token credentials endpoint URI.
     * @param {Object} settings AMF settings to process.
     * @return {String|undefined} Token credentials URI value
     */_computeTokenCredentialsUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"tokenCredentialsUri");return this._deArray(result)}/**
     * Computes value of OAuth1 signatures.
     * @param {Object} settings AMF settings to process.
     * @return {Array<String>|undefined} List of signatures.
     */_computeSignatures(settings){return this._getValueArray(settings,this.ns.raml.vocabularies.security+"signature")}}window.customElements.define(ApiOauth1SettingsDocument.is,ApiOauth1SettingsDocument);</script></dom-module><dom-module id="api-security-documentation" assetpath="bower_components/api-security-documentation/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --api-security-documentation;}h1{@apply --arc-font-headline;@apply --api-security-documentation-title;}h2{@apply --arc-font-title;@apply --api-security-documentation-main-section-title;}:host([narrow]) h1{font-size:20px;margin:0;@apply --api-security-documentation-title-narrow;}:host([narrow]) h2{font-size:18px;@apply --api-security-documentation-main-section-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><section class="title"><h1>[[type]]</h1></section><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[security]]"></api-annotation-document></template><template is="dom-if" if="[[_hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[_hasSettings]]"><template is="dom-if" if="[[_hasOA2Settings]]"><h2 class="settings-title">Settings</h2><api-oauth2-settings-document amf-model="[[amfModel]]" settings="[[settings]]"></api-oauth2-settings-document></template><template is="dom-if" if="[[_hasOA1Settings]]"><h2 class="settings-title">Settings</h2><api-oauth1-settings-document amf-model="[[amfModel]]" settings="[[settings]]"></api-oauth1-settings-document></template></template><template is="dom-if" if="[[_hasQueryParameters]]"><api-parameters-document amf-model="[[amfModel]]" query-opened="" query-parameters="[[queryParameters]]" narrow="[[narrow]]"></api-parameters-document></template><template is="dom-if" if="[[_hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[_hasResponses]]"><section class="response-documentation"><h2>Responses</h2><api-responses-document amf-model="[[amfModel]]" returns="[[responses]]" narrow="[[narrow]]"></api-responses-document></section></template></template><script>/**
   * `api-security-documentation`
   *
   * Documentation view for AMF security description
   *
   * ## Styling
   *
   * `<api-security-documentation>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-security-documentation` | Mixin applied to this elment | `{}`
   * `--arc-font-headline` | Theme mixin, Applied to H1 element | `{}`
   * `--api-security-documentation-title` | Mixin applied to the H1 element | `{}`
   * `--api-security-documentation-title-narrow` | Mixin applied to the H1 element in narrow layout | `{}`
   * `--arc-font-title` | Theme mixin, applied to h2 element | `{}`
   * `--api-security-documentation-main-section-title` | Mixin applied to main sections title element | `{}`
   * `--api-security-documentation-main-section-title-narrow` | Mixin applied to main sections title element in narrow layout | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiSecurityDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-security-documentation"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * A security definition to render.
         * This should be AMF's type of `http://raml.org/vocabularies/security#SecurityScheme`.
         *
         * @type {Object}
         */security:Object,/**
         * Computed value, scheme of the security
         */_scheme:{type:Object,computed:"_computeScheme(security, amfModel)",observer:"_schemeChanged"},/**
         * Security scheme type name.
         * The value is updated automatically when `security` property change.
         */type:String,/**
         * Security scheme description.
         * The value is updated automatically when `security` property change.
         */description:String,/**
         * Computed value, true when `description` has value.
         */_hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},/**
         * AMF headers model.
         * List of headers to apply to this scheme.
         * This value is updated automatically when `security` property change.
         * @type {Array<Object>}
         */headers:Array,/**
         * Computed value, true when `headers` property is set.
         */_hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},/**
         * AMF query parameters model.
         * List of query parameters to apply to this scheme.
         * This value is updated automatically when `security` property change.
         * @type {Array<Object>}
         */queryParameters:Array,/**
         * Computed value, true when `queryParameters` has value.
         */_hasQueryParameters:{type:Boolean,computed:"_computeHasArrayValue(queryParameters)"},/**
         * AMF responses model.
         * List of responses applied to this security scheme.
         * This value is updated automatically when `security` property change.
         * @type {Array<Object>}
         */responses:Array,/**
         * Computed value, true when responses has any value.
         * @type {Object}
         */_hasResponses:{type:Boolean,computed:"_computeHasArrayValue(responses)"},/**
         * AMF settings model for a security scheme.
         * This value is updated automatically when `security` property change.
         * @type {Object}
         */settings:Object,/**
         * Computed value, true when `settings` proeprty is set.
         */_hasSettings:{type:Boolean,computed:"_computeHasStringValue(settings)"},/**
         * Computed value, true when `settings` proeprty is set and represent
         * OAuth2 security settings.
         */_hasOA2Settings:{type:Boolean,computed:"_computeHasOA2Settings(_hasSettings, settings)"},/**
         * Computed value, true when `settings` proeprty is set and represent
         * OAuth1 security settings.
         */_hasOA1Settings:{type:Boolean,computed:"_computeHasOA1Settings(_hasSettings, settings)"},/**
         * Computed value from current `method`. True if the model contains
         * custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(security)"},/**
         * Set to render a mobile friendly view.
         */narrow:{type:Boolean,reflectToAttribute:!0}}}/**
     * Computes value of security scheme's scheme model.
     * @param {Array|Object} security AMF security description.
     * @return {Object} Security's scheme model.
     */_computeScheme(security){if(!security){return}if(security instanceof Array){security=security[0]}if(this._hasType(security,this.ns.raml.vocabularies.security+"SecurityScheme")){return security}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"scheme");let scheme=security[key];if(!scheme){return}if(scheme instanceof Array){scheme=scheme[0]}return scheme}/**
     * Computes values for prroperties like `type`, `description`, `headers`,
     * `queryParameters`, `responses` and `settings` when `scheme` property
     * change.
     * @param {Object} scheme Scheme model to process.
     */_schemeChanged(scheme){this.type=this._computeType(scheme);this.description=this._computeDescription(scheme);let headers=this._computeHeaders(scheme);if(headers&&!(headers instanceof Array)){headers=[headers]}this.headers=headers;let queryParameters=this._computeQueryParameters(scheme);if(queryParameters&&!(queryParameters instanceof Array)){queryParameters=[queryParameters]}this.queryParameters=queryParameters;let responses=this._computeResponses(scheme);if(responses&&!(responses instanceof Array)){responses=[responses]}this.responses=responses;this.settings=this._computeSettings(scheme)}/**
     * Computes value for security type.
     * @param {Object} shape Scheme model.
     * @return {String|undefined}
     */_computeType(shape){return this._getValue(shape,this.ns.raml.vocabularies.security+"type")}/**
     * Computes scheme's settings model.
     * @param {Object} shape Scheme model.
     * @return {Object|undefined} Settings model
     */_computeSettings(shape){return this._computePropertyObject(shape,this.ns.raml.vocabularies.security+"settings")}/**
     * Computes value for `_hasOA2Settings`
     * @param {Boolean} hasSettings Value of `_hasSettings` proeprty
     * @param {Object|undefined} settings Computed settings object
     * @return {Boolean}
     */_computeHasOA2Settings(hasSettings,settings){if(!hasSettings||!settings){return(/* eat */!1)}return this._hasType(settings,this.ns.raml.vocabularies.security+"OAuth2Settings")}/**
     * Computes value for `_hasOA1Settings`
     * @param {Boolean} hasSettings Value of `_hasSettings` proeprty
     * @param {Object|undefined} settings Computed settings object
     * @return {Boolean}
     */_computeHasOA1Settings(hasSettings,settings){if(!hasSettings||!settings){return!1}return this._hasType(settings,this.ns.raml.vocabularies.security+"OAuth1Settings")}}window.customElements.define(ApiSecurityDocumentation.is,ApiSecurityDocumentation);</script></dom-module><dom-module id="api-method-documentation" assetpath="bower_components/api-method-documentation/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;padding-bottom:24px;@apply --arc-font-body1;@apply --api-method-documentation;--tmp-font-title:{@apply --arc-font-title;};}[hidden]{display:none !important;}h1{@apply --arc-font-headline;font-weight:var(--api-method-documentation-title-method-font-weight, 500);text-transform:capitalize;@apply --api-method-documentation-title;}h2{@apply --arc-font-title;@apply --api-method-documentation-main-section-title;}h3{@apply --layout-flex;@apply --arc-font-title;@apply --api-method-documentation-subsection-title;}.title-area{@apply --layout-horizontal;@apply --layout-center;}:host([narrow]) .title-area{margin-bottom:24px;}:host([narrow]) .title-area{margin-top:12px;}:host([narrow]) h1{font-size:20px;margin:0;@apply --api-method-documentation-title-narrow;}:host([narrow]) h2{font-size:18px;@apply --api-method-documentation-main-section-title-narrow;}:host([narrow]) h3{font-size:17px;@apply --api-method-documentation-subsection-title-narrow;}.title{@apply --layout-flex;}.url-area{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-method-documentation-url-font-size, 16px);margin-bottom:40px;margin-top:20px;background:var(--api-method-documentation-url-background-color, #424242);color:var(--api-method-documentation-url-font-color, #fff);padding:8px;border-radius:4px;position:relative;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;border-bottom:1px var(--api-parameters-document-title-border-color, #e5e5e5) solid;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.toggle-button{outline:none;color:var(--api-method-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-method-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.url-value{@apply --layout-flex;margin-left:12px;word-break:break-all;}.method-value{text-transform:uppercase;white-space:nowrap;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}http-code-snippets{margin-bottom:40px;}.action-button{background-color:var(--api-method-documentation-try-it-background-color, var(--primary-color));color:var(--api-method-documentation-try-it-color, var(--primary-action-color, #fff));}.action-button:hover{background-color:var(--api-method-documentation-try-it-background-color-hover, var(--primary-color));color:var(--api-method-documentation-try-it-color-hover, var(--primary-action-color, #fff));}.bottom.action{@apply --layout-horizontal;@apply --layout-end-justified;margin-top:20px;}marked-element{margin:12px 0;}.markdown-body{@apply --arc-font-body1;margin-bottom:28px;color:var(--api-method-documentation-descxription-color, rgba(0, 0, 0, 0.74));}.method-label{margin-bottom:0;}.bottom-nav,
    .bottom-link{@apply --layout-horizontal;@apply --layout-center;}.bottom-nav{padding:32px 0;margin:16px 0;border-top:1px var(--api-method-documentation-bottom-navigation-border-color, #cfd8dc) solid;color:var(--api-method-documentation-bottom-navigation-color, #000);font-size:18px;}.bottom-link{cursor:pointer;max-width:50%;word-break:break-all;}.bottom-link.previous{margin-right:12px;}.bottom-link.next{margin-left:12px;}.nav-separator{@apply --layout-flex;}api-security-documentation{--arc-font-display1:{@apply --arc-font-title;};--arc-font-title:{@apply --tmp-font-title;font-size:larger;};margin-bottom:12px;padding-bottom:12px;border-bottom:1px var(--api-headers-document-title-border-color, #e5e5e5) dashed;}api-security-documentation:last-of-type{margin-bottom:0;border-bottom:none;padding-bottom:0;}.request-documentation,
    .response-documentation{@apply --api-method-documentation-main-sections;}.snippets,
    .security,
    api-parameters-document,
    api-headers-document,
    api-body-document,
    .response-documentation{@apply --api-method-documentation-docs-sections;}.extensions{font-style:italic;margin:12px 0;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="title-area" hidden$="[[_titleHidden(methodName, httpMethod, noTryIt)]]"><h1 class="title">[[methodName]]</h1><template is="dom-if" if="[[!noTryIt]]"></template></div><section class="url-area"><div class="method-value"><span class="method-label" data-method$="[[httpMethod]]">[[httpMethod]]</span></div><div class="url-value">[[endpointUri]]</div><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-click="_copyUrlClipboard" title="Copy URL to clipboard"></paper-icon-button></section><clipboard-copy id="urlCopy" content="[[endpointUri]]"></clipboard-copy><template is="dom-if" if="[[hasTraits]]"><section class="extensions"><span>Mixes in </span><span class="trait-name">[[_computeTraitNames(traits)]]</span>.</section></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[method]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><section class="request-documentation"><template is="dom-if" if="[[renderCodeSnippets]]" restamp="true"><section class="snippets"><div class="section-title-area" on-click="_toggleSnippets" title="Toogle code example details"><h3 class="table-title">Code examples</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(snippetsOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(snippetsOpened)]]"></iron-icon></paper-button></div></div><iron-collapse id="snippetsCollapse" on-transitionend="_snippetsTransitionEnd"><template is="dom-if" id="snippetsCondition" restamp=""><http-code-snippets url="[[endpointUri]]" method="[[httpMethod]]" headers="[[_computeSnippetsHeaders(headers)]]" payload="[[_computeSnippetsPayload(payload)]]"></http-code-snippets></template></iron-collapse></section></template><template is="dom-if" if="[[renderSecurity]]" restamp=""><template is="dom-if" if="[[hasSecurity]]" restamp=""><section class="security"><div class="section-title-area" on-click="_toggleSecurity" title="Toogle security details"><h3 class="table-title">Security</h3><div class="title-area-actions"><paper-button class="toggle-button security">[[_computeToggleActionLabel(securityOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(securityOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[securityOpened]]"><template is="dom-repeat" items="[[security]]"><api-security-documentation amf-model="[[amfModel]]" security="[[item]]" narrow="[[narrow]]"></api-security-documentation></template></iron-collapse></section></template></template><template is="dom-if" if="[[hasParameters]]"><api-parameters-document amf-model="[[amfModel]]" query-opened="" path-opened="" base-uri-parameters="[[serverVariables]]" endpoint-parameters="[[endpointVariables]]" query-parameters="[[queryParameters]]" narrow="[[narrow]]"></api-parameters-document></template><template is="dom-if" if="[[hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[hasPayload]]"><api-body-document amf-model="[[amfModel]]" body="[[payload]]" narrow="[[narrow]]" opened=""></api-body-document></template></section><template is="dom-if" if="[[hasReturns]]"><section class="response-documentation"><h2>Response</h2><api-responses-document amf-model="[[amfModel]]" returns="[[returns]]" narrow="[[narrow]]"></api-responses-document></section></template><template is="dom-if" if="[[hasPagination]]"><section class="bottom-nav"><template is="dom-if" if="[[hasPreviousLink]]"><div class="bottom-link previous" on-click="_navigatePrevious"><paper-icon-button icon="arc:chevron-left"></paper-icon-button><span class="nav-label">[[previous.label]]</span></div></template><div class="nav-separator"></div><template is="dom-if" if="[[hasNextLink]]"><div class="bottom-link next" on-click="_navigateNext"><span class="nav-label">[[next.label]]</span><paper-icon-button icon="arc:chevron-right"></paper-icon-button></div></template></section></template><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>/**
   * `api-method-documentation`
   *
   * Renders documentation for a method for an endpoint.
   *
   * This element works with [AMF](https://github.com/mulesoft/amf) data model.
   * To properly compute all the information relevant to method documentation
   * set the following properties:
   *
   * - amfModel - as AMF's WebApi data model
   * - endpoint - As AMF's EndPoint data model
   * - method - As AMF's SupportedOperation property
   *
   * When set, this will automatically populate the wiew with data.
   *
   * ## Updating API's base URI
   *
   * By default the component render the documentation as it is defined
   * in the AMF model. Sometimes, however, you may need to replace the base URI
   * of the API with something else. It is useful when the API does not
   * have base URI property defined (therefore this component render relative
   * paths instead of URIs) or when you want to manage different environments.
   *
   * To update base URI value either update `baseUri` property or use
   * `iron-meta` with key `ApiBaseUri`. First method is easier but the second
   * gives much more flexibility since it use a
   * [monostate pattern](http://wiki.c2.com/?MonostatePattern)
   * to manage base URI property.
   *
   * When the component constructs the funal URI for the endpoint it does the
   * following:
   * - if `baseUri` is set it uses this value as a base uri for the endpoint
   * - else if `iron-meta` with key `ApiBaseUri` exists and contains a value
   * it uses it uses this value as a base uri for the endpoint
   * - else if `amfModel` is set then it computes base uri value from main
   * model document
   * Then it concatenates computed base URI with `endpoint`'s path property.
   *
   * ### Example
   *
   * ```html
   * <iron-meta key="ApiBaseUri" value="https://domain.com"></iron-meta>
   * ```
   *
   * To update value of the `iron-meta`:
   * ```javascript
   * new Polymer.IronMeta({key: 'ApiBaseUri'}).value = 'https://other.domain';
   * ```
   *
   * Note: The element will not get notified about the change in `iron-meta`.
   * The change will be reflected whehn `amfModel` or `endpoint` property chnage.
   *
   * ## Styling
   *
   * `<api-method-documentation>` provides the following custom properties and
   * mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-method-documentation` | Mixin applied to this elment | `{}`
   * `--arc-font-headline` | Theme mixin, Applied to H1 element | `{}`
   * `--api-method-documentation-title` | Mixin applied to the H1 element | `{}`
   * `--api-method-documentation-title-narrow` | Mixin applied to the H1 element
   * in narrow layout | `{}`
   * `--arc-font-title` | Theme mixin, applied to h2 element | `{}`
   * `--api-method-documentation-main-section-title` | Mixin applied to main
   * sections title element (reqyest and response) | `{}`
   * `--api-method-documentation-main-section-title-narrow` | Mixin applied to
   * main sections title element (reqyest and response) in narrow layout | `{}`
   * `--api-method-documentation-subsection-title` | Mixin applied to sub section
   * titles | `{}`
   * `--api-method-documentation-subsection-title-narrow` | Mixin applied to
   * sub section titles in narrow layout | `{}`
   * `--api-method-documentation-title-method-font-weight` | Font weight of method name title. | `500`
   * `--arc-font-code1` | Theme mixin, applied to the URL area | `{}`
   * `--api-method-documentation-url-font-size` | Font size of endpoin URL | `16px`
   * `--api-method-documentation-url-background-color` | Background color of
   * the URL section | `#424242`
   * `--api-method-documentation-url-font-color` | Font color of the URL area | `#fff`
   * `--api-method-documentation-try-it-background-color` | Background color
   * of the Try it button | `--primary-color`
   * `--api-method-documentation-try-it-color` | Color of the Try it button |
   * `--primary-action-color` or `#fff`
   * `--api-method-documentation-try-it-background-color-hover` | Background
   * color of the Try it button when hovered | `--primary-color`
   * `--api-method-documentation-try-it-color-hover` | Color of the Try it
   * button when hovered | `--primary-action-color` or `#fff`
   * `--api-method-documentation-bottom-navigation-border-color` | Color of
   * the top border of the bottom navigartion | `#546E7A`
   * `--api-method-documentation-bottom-navigation-color` | Color of of the
   * bottom navigartion (icon + text) | `#546E7A`
   * `--api-method-documentation-main-sections` | Mixin applied to both request
   * and response sections | `{}`
   * `--api-method-documentation-docs-sections` | Mixin applied to each
   * documentation block | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiMethodDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-method-documentation"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * AMF method definition as a `http://www.w3.org/ns/hydra/core#supportedOperation`
         * object.
         */method:Object,/**
         * Method's endpoint definition as a
         * `http://raml.org/vocabularies/http#endpoint` of AMF model.
         */endpoint:Object,/**
         * The try it button is not rendered when set.
         */noTryIt:{type:Boolean,value:/* eat */!1},/**
         * Computed value from the method model, name of the method.
         * It is either a `displayName` or HTTP method name
         */methodName:{type:String,computed:"_computeMethodName(method)"},/**
         * HTTP method name string.
         *
         * It is computed from `endpoint`.
         */httpMethod:{type:String,computed:"_computeHttpMethod(method)"},/**
         * A property to set to override AMF's model base URI information.
         * When this property is set, the `endpointUri` property is recalculated.
         */baseUri:String,/**
         * Computed value, API version name
         */apiVersion:{type:String,computed:"_computeApiVersion(amfModel)"},/**
         * Endpoint URI to display in main URL field.
         * This value is computed when `amfModel`, `endpoint` or `baseUri` change.
         */endpointUri:{type:String,computed:"_computeEndpointUri(server, endpoint, baseUri, apiVersion)"},/**
         * Computed value of method description from `method` property.
         */description:{type:String,computed:"_computeDescription(method)"},/**
         * Computed value from current `method`. True if the model contains
         * custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(method)"},/**
         * Computed value of `http://www.w3.org/ns/hydra/core#expects`
         * of AMF model from current `method`
         */expects:{type:Object,computed:"_computeExpects(method)"},/**
         * Computed value of the `http://raml.org/vocabularies/http#server`
         * from `amfModel`
         */server:{type:Object,computed:"_computeServer(amfModel)"},/**
         * API base URI parameters defined in AMF api model
         *
         * @type {Array|undefined}
         */serverVariables:{type:Array,computed:"_computeServerVariables(server)"},/**
         * Endpoint's path parameters.
         *
         * @type {Array|undefined}
         */endpointVariables:{type:Array,computed:"_computeEndpointVariables(endpoint)"},/**
         * Computed value if server and endpoint definition of API model has
         * defined any variables.
         */hasPathParameters:{type:Boolean,computed:"_computeHasPathParameters(serverVariables, endpointVariables)"},/**
         * Computed value of method's query parameters.
         */queryParameters:{type:Array,computed:"_computeQueryParameters(expects)"},/**
         * Computed value if server definition of API model has defined
         * variables.
         */hasQueryParameters:{type:Boolean,computed:"_computeHasArrayValue(queryParameters)"},/**
         * Computed value, true when either has path or query parameters.
         * This renders `api-parameters-document` if true.
         */hasParameters:{type:Boolean,computed:"_computeHasParameters(hasQueryParameters, hasPathParameters)"},/**
         * Computed value of AMF payload definition from `expects`
         * property.
         */payload:{type:Object,computed:"_computePayload(expects)"},/**
         * Computed value, true if `payload` has values.
         */hasPayload:{type:Boolean,computed:"_computeHasArrayValue(payload)"},/**
         * Computed value of AMF payload definition from `expects`
         * property.
         */headers:{type:Object,computed:"_computeHeaders(expects)"},/**
         * Computed value, true if `payload` has values.
         */hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},/**
         * Computed value of AMF response definition from `returns`
         * property.
         */returns:{type:Object,computed:"_computeReturns(method)"},/**
         * Computed value, true if `returns` has values.
         */hasReturns:{type:Boolean,computed:"_computeHasArrayValue(returns)"},/**
         * Computed value of AMF security definition from `method`
         * property.
         */security:{type:Object,computed:"_computeSecurity(method)"},/**
         * Computed value, true if `returns` has values.
         */hasSecurity:{type:Boolean,computed:"_computeHasArrayValue(security)"},/**
         * If set it will renders the view in the narrow layout.
         */narrow:{type:Boolean,reflectToAttribute:!0},/**
         * Model to generate a link to previous HTTP method.
         * It should contain `id` and `label` properties
         */previous:Object,/**
         * Computed value, true if `previous` is set
         */hasPreviousLink:{type:Boolean,computed:"_computeHasPreviousLink(previous)"},/**
         * Model to generate a link to next HTTP method.
         * It should contain `id` and `label` properties
         */next:Object,/**
         * Computed value, true if `next` is set
         */hasNextLink:{type:Boolean,computed:"_computeHasNextLink(next)"},/**
         * Computed value, true to render bottom navigation
         */hasPagination:{type:Boolean,computed:"_computeHasNavigation(hasPreviousLink, hasNextLink)"},/**
         * When set code snippets are rendered.
         */snippetsOpened:{type:Boolean,value:!1,observer:"_snippetsOpenedChanegd"},/**
         * When set security details are rendered.
         */securityOpened:{type:Boolean,value:!1},/**
         * When set it renders code examples section is the documentation
         */renderCodeSnippets:Boolean,/**
         * When set it renders security documentation when applicable
         */renderSecurity:Boolean,/**
         * List of traits and resource types, if any.
         *
         * @type {Array<Object>}
         */extendsTypes:{type:Array,computed:"_computeExtends(method)"},/**
         * List of traits appied to this endpoint
         *
         * @type {Array<Object>}
         */traits:{type:Array,computed:"_computeTraits(extendsTypes)"},/**
         * Computed value, true if the endpoint has traits.
         */hasTraits:{type:Boolean,computed:"_computeHasArrayValue(traits)"}}}/**
     * Computes value for `methodName` property.
     * It is either a `http://schema.org/name` or HTTP method name
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {String|undefined} Method friendly name
     */_computeMethodName(method){let name=this._getValue(method,this.ns.schema.schemaName);if(!name){name=this._getValue(method,this.ns.w3.hydra.core+"method")}return name}/**
     * Computes value for `httpMethod` property.
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {String|undefined} HTTP method name
     */_computeHttpMethod(method){let name=this._getValue(method,this.ns.w3.hydra.core+"method");if(name){name=name.toUpperCase()}return name}/**
     * Computes value for `hasPathParameters` property
     *
     * @param {?Array} sVars Current value of `serverVariables` property
     * @param {?Array} eVars Current value of `endpointVariables` property
     * @return {Boolean}
     */_computeHasPathParameters(sVars,eVars){return!!(sVars&&sVars.length||eVars&&eVars.length)}/**
     * Computes value for `hasParameters` property.
     *
     * @param {Boolean} hasPath
     * @param {Boolean} hasQuery
     * @return {Boolean} True if any argument is true
     */_computeHasParameters(hasPath,hasQuery){return!!(hasPath||hasQuery)}/**
     * "Try it" button click handler. Dispatches `tryit-requested` custom event
     */_tryIt(){const id=this.method["@id"];this.dispatchEvent(new CustomEvent("tryit-requested",{bubbles:!0,composed:!0,detail:{id}}))}/**
     * Computes value for `hasPreviousLink` property
     * @param {?Object} previous
     * @return {Boolean}
     */_computeHasPreviousLink(previous){return!!previous}/**
     * Computes value for `hasNextLink` property
     * @param {?Object} next
     * @return {Boolean}
     */_computeHasNextLink(next){return!!next}/**
     * Computes value for `hasPagination` property
     * @param {Boolean} previous
     * @param {Boolean} next
     * @return {Boolean}
     */_computeHasNavigation(previous,next){return!!(previous||next)}/**
     * Navigates to next method. Calls `_navigate` with id of previous item.
     */_navigatePrevious(){this._navigate(this.previous.id,"method")}/**
     * Navigates to next method. Calls `_navigate` with id of next item.
     */_navigateNext(){this._navigate(this.next.id,"method")}/**
     * Dispatches `api-navigation-selection-changed` so other components
     * can update their state.
     *
     * @param {String} id
     * @param {String} type
     */_navigate(id,type){const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:id,type:type}});this.dispatchEvent(e)}_copyUrlClipboard(e){const button=e.localTarget||e.target;if(this.$.urlCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}/**
     * Toggles code snippets section.
     */_toggleSnippets(){this.snippetsOpened=!this.snippetsOpened}/**
     * Renders or hides code snippets section.
     *
     * @param {Boolean} state Current state of `snippetsOpened`
     */_snippetsOpenedChanegd(state){// (Pawel): Code snippets makes a lot of computations and are not even
// rendered at first. They should be stamped when user request it.
const collapse=this.shadowRoot.querySelector("#snippetsCollapse");if(!collapse){return}if(state){const condition=this.shadowRoot.querySelector("#snippetsCondition");condition.if=!0}else{collapse.opened=!1}Polymer.RenderStatus.afterNextRender(this,()=>{if(state){collapse.opened=!0}})}/**
     * Removes code snippets element if should not be rendered.
     */_snippetsTransitionEnd(){if(!this.snippetsOpened){const condition=this.shadowRoot.querySelector("#snippetsCondition");condition.if=!1}}/**
     * Toggles security section.
     */_toggleSecurity(){this.securityOpened=!this.securityOpened}/**
     * Computes example headers string for code snippets.
     * @param {Array} headers Headers model from AMF
     * @return {String|undefind} Computed example value for headers
     */_computeSnippetsHeaders(headers){let result;if(headers&&headers.length){result="";headers.forEach(item=>{const name=this._getValue(item,this.ns.schema.schemaName),value=this._computePropertyValue(item)||"";result+=`${name}: ${value}\n`})}return result}/**
     * Computes example payload string for code snippets.
     * @param {Array} payload Payload model from AMF
     * @return {String|undefind} Computed example value for payload
     */_computeSnippetsPayload(payload){if(payload&&payload instanceof Array){payload=payload[0]}if(!payload){return}let mt=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(!mt){mt="application/json"}const examples=this.$.exampleGenerator.generatePayloadExamples(payload,mt,{});if(!examples||!examples[0]){return}return examples[0].value}/**
     * Tries to find an example value (whether it's default value or from an
     * example) to put it into snippet's values.
     *
     * @param {Object} item A http://raml.org/vocabularies/http#Parameter property
     * @return {String|undefined}
     */_computePropertyValue(item){const skey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=item&&item[skey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(schema,this.ns.w3.shacl.name+"defaultValue");if(!value){const items=this.$.exampleGenerator.computeExamples(schema,null,{rawOnly:!0});if(items){value=items[0].value}}return value}// Computes a label for the section toggle buttons.
_computeToggleActionLabel(opened){return opened?"Hide":"Show"}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}_titleHidden(methodName,httpMethod,noTryIt){if(!noTryIt){return!1}if(!methodName||!httpMethod){return!0}if(methodName.toLowerCase()===httpMethod.toLowerCase()){return!0}return!1}/**
     * Computes list of "extends" from the shape.
     *
     * @param {Object} shape AMF shape to get `#extends` model from
     * @return {Array<Object>|undefined}
     */_computeExtends(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"extends");return shape&&this._ensureArray(shape[key])}/**
     * Computes value for `traits` property
     *
     * @param {Array<Object>} types Result of calling `_computeExtends()` or
     * a list of `#extends` models.
     * @return {Array<Object>|undefined}
     */_computeTraits(types){if(!types||!types.length){return}const data=types.filter(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedTrait"));return data.length?data:void 0}/**
     * Computes list of trait names to render it in the doc.
     *
     * @param {Array<Object>} traits AMF trait definition
     * @return {String|undefined} Trait name if defined.
     */_computeTraitNames(traits){if(!traits||!traits.length){return}const names=traits.map(trait=>this._getValue(trait,this.ns.schema.schemaName));if(2===names.length){return names.join(" and ")}return names.join(", ")}/**
     * Dispatched when the user requested the "Try it" view.
     * @event tryit-requested
     * @param {String} id ID of requested method in AMF model.
     * It might be required if the request for try it view comes from
     * a context where more than one method is rendered at the same time.
     */ /**
     * Dispatched when the user requested previous / next
     *
     * @event api-navigation-selection-changed
     * @param {String} selected
     * @param {String} type
     */}window.customElements.define(ApiMethodDocumentation.is,ApiMethodDocumentation);</script></dom-module><script>'use strict';if(!window.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */window.ArcBehaviors={}}/**
 * `ArcBehaviors.EventsTargetBehavior` is a behavior mixin that allows setting
 * up event listeners on a default or set node.
 *
 * By default the element listens on the `window` element for events. By setting
 * `eventsTarget` property on this element it removes all previously set
 * listeners and adds the same listeners to the node.
 * It also restores default state when the `eventsTarget` is removed.
 *
 * Implementations should implement two abstract methods:
 * `_attachListeners(node)` and `_detachListeners(node)`. Both of them will be
 * called with event target argument when it's required to either set or remove
 * listeners.
 *
 * ### Example (Polymer 2.x)
 *
 * ```javascript
 * class EventableElement extends ArcBehaviors.EventsTargetBehavior(Polymer.Element) {
 *  static get is() {
 *    return 'eventable-element';
 *  }
 *   _attachListeners: function(node) {
 *    mode.addEventListener('event', this._callback);
 *  }
 *
 *  _detachListeners: function(node) {
 *    mode.removeEventListener('event', this._callback);
 *  }
 * }
 * ```
 *
 * The mixin handles connectedCallback / disconnectedCallback and calls the
 * functions with required parameters.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.EventsTargetBehavior=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class ETBmixin extends base{static get properties(){return{/**
         * Events handlers target. By default the element listens on
         * `window` object. If set, all events listeners will be attached to this
         * object instead of `window`.
         */eventsTarget:{type:Object,observer:"_eventsTargetChanged"},// An event target used to attach listeners.
_oldEventsTarget:Object}}connectedCallback(){super.connectedCallback();this._eventsTargetChanged(this.eventsTarget)}disconnectedCallback(){super.disconnectedCallback();if(this._oldEventsTarget){this._detachListeners(this._oldEventsTarget)}}/**
     * Removes old handlers (if any) and attaches listeners on new event
     * event target.
     *
     * @param {?Node} eventsTarget Event target to set handlers on. If not set it
     * will set handlers on the `window` object.
     */_eventsTargetChanged(eventsTarget){if(this._oldEventsTarget){this._detachListeners(this._oldEventsTarget)}this._oldEventsTarget=eventsTarget||window;this._attachListeners(this._oldEventsTarget)}// To be implement by the element to set event listeners on the target
_attachListeners(){console.warn("_attachListeners not found in the element methods")}// To be implement by the element to remove event listeners from the target
_detachListeners(){console.warn("_detachListeners not found in the element methods")}}return ETBmixin});</script><script>(function(){'use strict';const GLOBAL_PATH_PARAMS=[],GLOBAL_QUERY_PARAMS=[],GLOBAL_OTHER_PARAMS=[];/**
 * Generates a common key from data model item.
 *
 * @param {Object} data AMF type object model.
 * @return {String} Generated key to search for the item.
 */function getKey(data){let key=data.name+"-"+data.schema.type;if(data.schema.isEnum){key+="-enum"}if(data.required){key+="-required"}return key}/**
 * Searches for a model value in cache store.
 *
 * @param {Object} data AMF model item.
 * @return {Object|undefined} Model item or undefined if not found.
 */function getGlobalValue(data){let store;switch(data.binding){case"query":store=GLOBAL_QUERY_PARAMS;break;case"path":store=GLOBAL_PATH_PARAMS;break;default:store=GLOBAL_OTHER_PARAMS;break;}if(!store.length){return}const key=getKey(data);for(let i=0,len=store.length;i<len;i++){if(store[i].key===key){return store[i].value}}}/**
 * Appends a value item to the global params.
 *
 * @param {Object} data Model item to be added to the list.
 */function appendGlobalValue(data){const item=getGlobalValue(data);if(item){return}const key=getKey(data),model={key:key,value:data};switch(data.binding){case"query":GLOBAL_QUERY_PARAMS.push(model);break;case"path":GLOBAL_PATH_PARAMS.push(model);break;default:GLOBAL_OTHER_PARAMS.push(model);break;}}/**
 * @license
 * Copyright 2016 The Advanced REST client authors <arc@mulesoft.com>
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */const NUMBER_INPUT_TYPES=["number","integer","float"];/**
 * An element to transform AMF LD model into a form view model.
 *
 * Note, this element does not include polyfills for `Promise` and `Array.from`.
 *
 * The model should be used to build a form view for request parameters
 * like header, query parameters, uri parameters or the body.
 *
 * ### Data model
 * - binding {String} - one of `path`, `query`, `header`
 * - name {String} - property (form) name
 * - required {Boolean} - is property required
 * - value {any} - Value of the property
 * - description {String} - The description of the property
 * - hasDescription {Boolean} - Flag describing if the property has a
 * description.
 * - properties {Array<Object>} - If the model is a type of object it is a list
 * of this model objects.
 * - schema {Object} - Property schma information
 * - schema.type {String} - Data type of the property
 * - schema.inputLabel {String} Label for the form control
 * - schema.inputType {String} - type attribute of the `input` element.
 * - schema.pattern {String} - Regex pattern of the property
 * - schema.minLength {Number} - String property minimum length
 * - schema.maxLength {Number} - String property maximum length
 * - schema.defaultValue {any} - Default value of the property
 * - schema.examples {Array<Object>} - List of examples for the form property.
 * - schema.multipleOf {Number} - For numeric values, a `step` attribute of
 * the `input` element.
 * Each object may contain `name` (may be undefined) and must contain `value`
 * property of the example.
 * - schema.minimum {Number} - For numeric values, minimum value of the property
 * - schema.maximum {Number} - For numeric values, maximum value of the property
 * - schema.isEnum {Boolean} - Flag describing enumerable value
 * - schema.enum {Array<any>} - Only if `schema.isEnum` is set. Values for enum
 * input.
 * - schema.isArray {Boolean} - Flag describing array value for the property
 * - schema.items {Object} - Lsit of items definitions
 * - schema.isBool {Boolean} - Flag describing boolean value for the property
 * - schema.isFile {Boolean} - Flag describing File value for the property
 * - schema.isObject {Boolean} - Flag describing Object value for the property
 * - schema.isNillable {Boolean} - True when it is an union and one of union
 * items is nil.
 * - schema.inputPlaceholder {?String} - A placeholder value for the input.
 * - schema.inputFloatLabel {Boolean} - Only if placeholder is set. Instructs
 * input control to float a label.
 * - schema.isUnion {Boolean} - Flag describing union value
 * - schema.anyOf {Array<Object>} - List of possible types of the union.
 * - schema.enabled {Boolean} - Always `true`
 * - schema.fileTypes {Array<String>} List of file types defined for a file
 * type.
 * - schema.readOnly {Boolean} - Nil types gets `readOnly` property
 * ## Example
 *
 * ```html
 * <api-view-model-transformer on-view-model-changed="_updateView"></api-view-model-transformer>
 * <script>
 * const amfModel = getAmfFromRamlOrOas();
 * const processor = document.querySelector('api-view-model-transformer');
 * processor.amfModel = amfModel;
 * processor.shape = extractHeadersForMethod(amfModel);
 * processor.addEventListener('view-model-changed', (e) => {
 *  console.log(e.detail.value);
 * });
 * < /script>
 * ```
 *
 * This example uses `getAmfFromRamlOrOas()` function where you implement
 * the logic of getting AMF json/ld data. It can be stored in file or parsed
 * using AMF parsers. The `extractHeadersForMethod()` represents a logic to
 * extract properties that you want to transform. It can be headers, query
 * parameters or body type.
 *
 * ## JSON ld context
 *
 * JSON schema may contain `@context` property. It can be used to reduce size
 * of the schema by replacing namespace ids with defined in `@context` keywords.
 * This transformer does not consume whole AMF model, but only the portion that
 * should be transformed. Because of that the tranformer is missing context
 * for namespace resolving. Set `@context` value of the model to `amfContext`
 * property so it can be expanded to the canonical form.
 * **Tranformation won't work properly if namespace name are altered by context
 * and `amfContext` property is not set.**
 *
 * @customElement
 * @memberof ApiElements
 * @appliesMixin ArcBehaviors.EventsTargetBehavior
 * @appliesMixin ApiElements.AmfHelperMixin
 */class ApiViewModelTransformer extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-view-model-transformer"}static get properties(){return{/**
       * Generated AMF json/ld model form the API spec.
       * The element assumes the object of the first array item to be a
       * type of `"http://raml.org/vocabularies/document#Document`
       * on AMF vocabulary.
       *
       * It is only used to resolve references.
       *
       * @type {Object|Array}
       */amfModel:Object,/**
       * An array of propertues for which view model is to be generated.
       * It accepts model for headers, query parameters, uri parameters and
       * body.
       * If `manualModel` is not set, assigning a value to this property will
       * trigger model computation. Otherwise call `computeViewModel()`
       * function manually to generate the model.
       */shape:{type:Array,observer:"_shapeChanged"},/**
       * Generated view model from the `shape`
       *
       * @type {Array<Object>}
       */viewModel:{type:Array,notify:!0,readOnly:!0},/**
       * If set, assigning a value to `shape` will not trigger view model
       * computation.
       */manualModel:Boolean,/**
       * The declarations model computed from the AMF object. It is used when the
       * transformer attempt to transform link value.
       *
       * If this property is not set then it dispatches `amf-resolve-link`
       * custom event.
       */_references:{type:Array,computed:"_computeReferences(amfModel)"},/**
       * Makes the model to always have `hasDescription` to false and
       * clears and documentation from ther model.
       */noDocs:Boolean}}/**
   * @return {Element} Instance of `api-example-generator` element.
   */get _exampleGenerator(){if(!this.__exampleGenerator){this.__exampleGenerator=document.createElement("api-example-generator")}return this.__exampleGenerator}constructor(){super();this._buildPropertyHandler=this._buildPropertyHandler.bind(this)}_attachListeners(node){node.addEventListener("api-property-model-build",this._buildPropertyHandler)}_detachListeners(node){node.removeEventListener("api-property-model-build",this._buildPropertyHandler)}disconnectedCallback(){super.disconnectedCallback();if(this.__exampleGenerator){delete this.__exampleGenerator}}/**
   * Clears cache for computed models.
   * All computed models are kept in in-memory cache to another call for computation
   * of the same model will result with reference to already computed value.
   * This function clears all cached objects.
   *
   * Note, the memory won't be freed for objects that are in use.
   */clearCache(){GLOBAL_PATH_PARAMS.splice(0,GLOBAL_PATH_PARAMS.length);GLOBAL_QUERY_PARAMS.splice(0,GLOBAL_QUERY_PARAMS.length);GLOBAL_OTHER_PARAMS.splice(0,GLOBAL_OTHER_PARAMS.length)}/**
   * Called when either `shape` or `manualModel` propeties changed.
   * If `manualModel` is falsy then it calls `computeViewModel()` function.
   *
   * Note, this function won't be called when sub property of the model
   * change. For peformance rerasons it won't be supported.
   *
   * Note, `computeViewModel` is called asynchronusly so `amfContext`
   * property can be set.
   *
   * @param {Array} shape Model for shape
   */_shapeChanged(shape){if(this.manualModel){return}this.computeViewModel(shape)}/**
   * Computes view model from AMF data model. This should not be called if
   * `manualModel` is not set. Use `shape` property instead.
   *
   * @param {?Array|Object} shape AMF type model. If not set it uses `shape`
   * property of the element.
   * @return {Array<Object>} A promise resolved to generated model.
   */computeViewModel(shape){this._setViewModel(void 0);if(!shape){shape=this.shape}if(!shape){return}if(shape instanceof Array){shape=Array.from(shape)}const result=this._computeViewModel(shape);this._setViewModel(result);return result}/**
   * Conputes model for each item recursively. It allows browser to return
   * the event loop and prohibit ANR to show.
   *
   * @param {Array} items List of remanding AMF model items.
   * This shuld be copy of the model since this function removes items from
   * the list.
   * @return {Array<Object>} Promise resolved to the view model.
   */_computeViewModel(items){const result=[];if(!items){return result}const isArray=items instanceof Array;if(isArray&&!items.length){return result}if(isArray){for(let i=0,len=items.length;i<len;i++){const item=items[i],model=this.uiModelForAmfItem(item);if(model){result.push(model)}else{console.warn("Unable to compute view data model for",item)}}}else{if(this._hasType(items,this.ns.raml.vocabularies.data+"Object")){const data=this.modelForRawObject(items);if(data){result[result.length]=data}}}return result}/**
   * Creates a UI model item from AMF json/ld model.
   * @param {Object} amfItem AMF model with schema for
   * `http://raml.org/vocabularies/http#Parameter`
   * @return {Object} UI data model.
   */uiModelForAmfItem(amfItem){if(this._hasType(amfItem,this.ns.raml.vocabularies.http+"Parameter")){return this._uiModelForParameter(amfItem)}if(this._hasType(amfItem,this.ns.w3.shacl.name+"PropertyShape")){return this._uiModelForPropertyShape(amfItem)}}/**
   * Creates a UI model item from AMF json/ld model for a parameter.
   * @param {Object} amfItem AMF model with schema for
   * `http://raml.org/vocabularies/http#Parameter`
   * @return {Object} UI data model.
   */_uiModelForParameter(amfItem){amfItem=this._resolve(amfItem);const result={binding:this._computeBinding(amfItem),name:this._computeFormName(amfItem),required:this._computeRequired(amfItem),schema:{}},sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=amfItem[sKey];if(schema){if(schema instanceof Array){schema=schema[0]}const def=this._resolve(schema);result.schema.type=this._computeModelType(def);result.schema.isEnum=this._hasProperty(def,this.ns.w3.shacl.in);// Now check if there's cached model for this property
// So far now it took only required steps to compute cache key of the
// property.
const cachedModel=getGlobalValue(result);if(cachedModel){// Safe to return it.
return cachedModel}result.schema.enabled=!0;result.schema.inputLabel=this._computeInputLabel(def,result.required,result.name);result.schema.pattern=this._computeShaclProperty(def,"pattern");result.schema.minLength=this._computeShaclProperty(def,"minLength");result.schema.maxLength=this._computeShaclProperty(def,"maxLength");result.schema.defaultValue=this._computeDefaultValue(def);result.schema.multipleOf=this._computeVocabularyShapeProperty(def,"multipleOf");result.schema.minimum=this._computeShaclProperty(def,"minInclusive");result.schema.maximum=this._computeShaclProperty(def,"maxInclusive");result.schema.enum=result.schema.isEnum?this._computeModelEnum(def):void 0;result.schema.isArray="array"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;result.schema.isObject="object"===result.schema.type;result.schema.examples=this._computeModelExamples(def);result.schema.items=result.schema.isArray?this._computeModelItems(def):void 0;result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeVocabularyShapeProperty(schema,"format");result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);result.schema.isNillable="union"===result.schema.type?this._computeIsNillable(def):/* eat */!1}if(this.noDocs){result.hasDescription=!1}else{result.description=this._computeDescription(amfItem);result.hasDescription=!!result.description}const valueDelimiter=this._computeValueDelimiter(result.binding),decodeValues=this._computeDecodeValues(result.binding),processOptions={name:result.name,required:result.required,valueDelimiter:valueDelimiter,decodeValues:decodeValues};this._processAfterItemCreated(result,processOptions);// store cache
appendGlobalValue(result);return result}/**
   * Creates a UI model item from AMF json/ld model for a parameter.
   * @param {Object} amfItem AMF model with schema for
   * `http://raml.org/vocabularies/http#Parameter`
   * @return {Object} UI data model.
   */_uiModelForPropertyShape(amfItem){amfItem=this._resolve(amfItem);const result={binding:"type",name:this._computeShaclProperty(amfItem,"name")};let def;if(this._hasType(amfItem,this.ns.raml.vocabularies.shapes+"ScalarShape")){def=amfItem}else{const rangeKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");def=amfItem[rangeKey];if(!def){return result}if(def instanceof Array){def=def[0]}def=this._resolve(def)}result.required=this._computeRequiredPropertyShape(amfItem);result.schema={};result.schema.enabled=!0;result.schema.type=this._computeModelType(def);result.schema.isEnum=this._hasProperty(def,this.ns.w3.shacl.in);// Now check if there's cached model for this property
// So far now it took only required steps to compute cache key of the
// property.
const cachedModel=getGlobalValue(result);if(cachedModel){// Safe to return it.
return cachedModel}result.schema.inputLabel=this._computeInputLabel(def,result.required,result.name);result.schema.pattern=this._computeShaclProperty(def,"pattern");result.schema.minLength=this._computeShaclProperty(def,"minLength");result.schema.maxLength=this._computeShaclProperty(def,"maxLength");result.schema.defaultValue=this._computeDefaultValue(def);result.schema.multipleOf=this._computeVocabularyShapeProperty(def,"multipleOf");result.schema.minimum=this._computeShaclProperty(def,"minInclusive");result.schema.maximum=this._computeShaclProperty(def,"maxInclusive");result.schema.enum=this._computeModelEnum(def);result.schema.isEnum=!!result.schema.enum;result.schema.isArray="array"===result.schema.type;result.schema.isObject="object"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;result.schema.examples=this._computeModelExamples(def);result.schema.hasExamples=!!(result.schema.examples&&result.schema.examples.length);result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeVocabularyShapeProperty(def,"format");result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);result.hasExtendedDescs=this._computeHasExtendedDocumentation(result);result.schema.isNillable="union"===result.schema.type?this._computeIsNillable(result):!1;if(this.noDocs){result.hasDescription=!1}else{result.description=this._computeDescription(def);result.hasDescription=!!result.description}if(result.hasDescription){result.extendedDocs=this._computeExtendedDocumentation(result)}if("file"===result.schema.type){result.schema.isFile=!0;result.schema.fileTypes=this._getValueArray(def,this.ns.raml.vocabularies.shapes+"fileType")}else{result.schema.isFile=!1}if(result.schema.isObject){const props=[],pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");let items=this._ensureArray(def[pKey]);if(items){items.forEach(item=>{if(item instanceof Array){item=item[0]}props.push(this.uiModelForAmfItem(item))})}result.properties=props}this._processAfterItemCreated(result,{});// Store cache
appendGlobalValue(result);return result}/**
   * Creates a view model for an object definition. Object definition can be
   * part of trait or annotation properties description.
   *
   * @param {Object} model Model to extract data from.
   * @param {Object} processOptions
   * @return {Array} View model for items.
   */modelForRawObject(model,processOptions){if(!processOptions){processOptions={}}const result=[],keys=Object.keys(model),dataKey=this._getAmfKey(this.ns.raml.vocabularies.data);keys.forEach(key=>{if(-1===key.indexOf(dataKey)){return}let item=model[key];if(item instanceof Array){item=item[0]}item=this._uiModelForRawObject(key,item);if(item){item=this._processAfterItemCreated(item,processOptions);result.push(item)}});return result}/**
   * Creates a view model from "raw" item (model before resolving).
   *
   * @param {String} key Key of the item in the model.
   * @param {String} model Item model
   * @return {Object} View model
   */_uiModelForRawObject(key,model){let index=key.indexOf("#");if(-1===index){index=key.indexOf(":")}let name;if(-1===index){name=key}else{name=key.substr(index+1)}const result={binding:"type",name:name},dPrefix=this.ns.raml.vocabularies.data,typeKey=this._getAmfKey(dPrefix+"type");let type=this._computeRawModelValue(model[typeKey]);if(!type){type="string"}const bracetIndex=type.indexOf("[]");let items;if(-1!==bracetIndex){items=type.substr(0,bracetIndex);type="array"}if(this.noDocs){result.hasDescription=!1}else{const descKey=this._getAmfKey(dPrefix+"description");result.description=this._computeRawModelValue(model[descKey]);result.hasDescription=!!result.description}result.required=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"required")]);result.schema={};result.schema.enabled=!0;result.schema.type=type||"string";const displayName=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"displayName")]);result.schema.inputLabel=this._completeInputLabel(displayName,name,result.required);result.schema.minLength=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"minLength")]);result.schema.maxLength=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"maxLength")]);result.schema.defaultValue=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"default")]);result.schema.multipleOf=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"multipleOf")]);result.schema.minimum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"minimum")]);result.schema.maximum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"maximum")]);result.schema.enum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"enum")]);let pattern=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"pattern")]);if(pattern instanceof Array){pattern="["+pattern[0]+"]"}result.schema.pattern=pattern;result.schema.isEnum=!!result.schema.enum;result.schema.isArray="array"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;// result.schema.examples = this._computeModelExamples(def);
if(result.schema.isArray){result.schema.items=items?items:this._computeRawModelValue(model[this._getAmfKey(dPrefix+"items")])}result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"format")]);result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);const example=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"example")]);if(example){result.schema.examples=[example]}const examples=this._computeRawExamples(model[this._getAmfKey(dPrefix+"examples")]);if(examples){const existing=result.schema.examples||[];result.schema.examples=existing.concat(examples)}return result}/**
   * Sets up additional properties like `value` or placeholder from
   * values read from the AMF model.
   *
   * @param {Object} item Computed UI model.
   * @param {Object} processOptions Model creation options
   * @return {Object}
   */_processAfterItemCreated(item,processOptions){if("null"===item.schema.type){switch(item.binding){case"header":case"query":case"path":item.value="nil";break;default:item.value="null";}item.schema.readOnly=!0}if(item.schema.examples&&item.schema.examples.length&&item.schema.examples[0].value){item.schema.inputPlaceholder="Example: "+this._exampleAsValue(item.schema.examples[0].value,processOptions)}if(!item.schema.inputPlaceholder){item.schema.inputPlaceholder=this._computeTypePlaceholder(item.schema.type,item.schema.format)}if(item.schema.inputPlaceholder){item.schema.inputFloatLabel=!0}if(item.required&&"undefined"!==typeof item.schema.defaultValue){item.value=item.schema.isArray?this.__parseArrayExample(item.schema.defaultValue,processOptions):this._exampleAsValue(item.schema.defaultValue,processOptions)}if("undefined"===typeof item.value&&item.required){const examples=item.schema.examples;if(examples&&examples.length){item.value=this._exampleAsValue(examples[0].value,processOptions)}if("undefined"===typeof item.value&&item.schema.isEnum){item.value=this._exampleAsValue(item.schema.enum[0],processOptions)}}if(item.value&&item.schema.isArray&&"string"===typeof item.value){const _v=this.__parseArrayExample(item.value,processOptions);item.value=_v instanceof Array?_v:[_v]}if(item.schema.isArray&&!item.value){item.value=[""]}if(item.schema.isBool&&"boolean"===typeof item.value){item.value=item.value+""}return item}/**
   * Completes computation of input label.
   *
   * @param {?String} displayName Value of the `displayName` property
   * @param {String} name Property name
   * @param {Boolean} required Is item required
   * @return {String} Common input label construction.
   */_completeInputLabel(displayName,name,required){if(!displayName){displayName=name||"Input value"}if(required){displayName+="*"}return displayName}/**
   * Computes list of examples from the Raw data model.
   * @param {Object} model
   * @return {Array|undefined}
   */_computeRawExamples(model){if(!model||!model[0]){return}const result=[];model=model[0];const keys=Object.keys(model);keys.forEach(key=>{const dKey=this._getAmfKey(this.ns.raml.vocabularies.data);if(-1===key.indexOf(dKey)){return}const name=key.split("#")[1],value=this._computeRawModelValue(model[key]);if(value){result.push({name:name,value:value,hasName:!!name})}});return result}/**
   * Computes value of the `binding` property of the UI model.
   * @param {Object} model AMF item model
   * @return {String|undefined} Binding property or undefined if not found.
   */_computeBinding(model){const key=this.ns.raml.vocabularies.http+"binding";return this._getValue(model,key)}/**
   * Computes fomm (parameter) name from AMF model.
   * @param {Object} model AMF item model
   * @return {String|undefined} Name property or undefined if not found.
   */_computeFormName(model){const key=this.ns.schema.schemaName;return this._getValue(model,key)}/**
   * Computes `required` property from AMF model.
   * @param {Object} model AMF item model
   * @return {Boolean} True if the property is required.
   */_computeRequired(model){const key=this.ns.w3.hydra.core+"required";return this._getValue(model,key)}/**
   * Computes `minCount` property from AMF model for PropertyShape object.
   *
   * @param {Object} model AMF item model
   * @return {Boolean} True if `minCount` equals `1`
   */_computeRequiredPropertyShape(model){const key=this.ns.w3.shacl.name+"minCount",result=this._getValue(model,key);return 1===result}/**
   * Computes type of the model. It's RAML data type property.
   * @param {Object} shape Property schema.
   * @return {String} Type of the nproperty.
   */_computeModelType(shape){if(!shape){return}const vsh=this.ns.raml.vocabularies.shapes,sa=this.ns.w3.shacl.name;if(this._hasType(shape,vsh+"UnionShape")){return"union"}if(this._hasType(shape,vsh+"ArrayShape")){return"array"}if(this._hasType(shape,sa+"NodeShape")){return"object"}if(this._hasType(shape,sa+"PropertyShape")){return"object"}if(this._hasType(shape,vsh+"FileShape")){return"file"}if(this._hasType(shape,vsh+"NilShape")){return"null"}if(this._hasType(shape,vsh+"AnyShape")){return"string"}if(this._hasType(shape,vsh+"MatrixShape")){return"array"}if(this._hasType(shape,vsh+"TupleShape")){return"object"}if(this._hasType(shape,vsh+"ScalarShape")){let dt=shape[this._getAmfKey(sa+"datatype")];if(dt instanceof Array){dt=dt[0]}let id=dt;if("string"!==typeof id){id=id["@id"]}const x=this.ns.w3.xmlSchema;switch(id){case x+"string":case this._getAmfKey(x+"string"):return"string";case x+"integer":case this._getAmfKey(x+"integer"):return"integer";case x+"long":case this._getAmfKey(x+"long"):return"long";case x+"float":case this._getAmfKey(x+"float"):return"float";case x+"double":case this._getAmfKey(x+"double"):return"double";case vsh+"number":case this._getAmfKey(vsh+"number"):return"number";case x+"boolean":case this._getAmfKey(x+"boolean"):return"boolean";case x+"dateTime":case this._getAmfKey(x+"dateTime"):return"datetime";case vsh+"dateTimeOnly":case this._getAmfKey(vsh+"dateTimeOnly"):return"datetime-only";case x+"time":case this._getAmfKey(x+"time"):return"time";case x+"date":case this._getAmfKey(x+"date"):return"date";case x+"base64Binary":case this._getAmfKey(x+"base64Binary"):return"string";case vsh+"password":case this._getAmfKey(vsh+"password"):return"password";}}return"string"}/**
   * Computes type of the raw model.
   *
   * @param {Array} model Property schema.
   * @return {String|undefined} Type of the nproperty.
   */_computeRawModelValue(model){if(!model){return}if(model instanceof Array){model=model[0]}let dataType=model["@type"];if(dataType instanceof Array){dataType=dataType[0]}switch(dataType){case this._getAmfKey(this.ns.raml.vocabularies.data+"Scalar"):return this._computeRawScalarValue(model);case this._getAmfKey(this.ns.raml.vocabularies.data+"Array"):return this._computeRawArrayValue(model);case this._getAmfKey(this.ns.raml.vocabularies.shapes+"FileShape"):return this._getValueArray(model,this.ns.raml.vocabularies.shapes+"fileType");}}/**
   * Computes scalar value that has proper type.
   * @param {Object} item Shape to test for a value.
   * @return {String|Number|Boolean}
   */_computeRawScalarValue(item){const valueKey=this._getAmfKey(this.ns.raml.vocabularies.data+"value");let value=item[valueKey];if(!value){return}if(value instanceof Array){value=value[0]}let type=value["@type"];if(type instanceof Array){type=type[0]}value=value["@value"];const s=this.ns.w3.xmlSchema;switch(type){case this._getAmfKey(s+"number"):case this._getAmfKey(s+"long"):case this._getAmfKey(s+"integer"):case this._getAmfKey(s+"float"):case this._getAmfKey(s+"double"):return+value;case this._getAmfKey(s+"boolean"):return"false"===value?!1:!0;default:return value;}}_computeRawArrayValue(item){const key=this._getAmfKey("http://www.w3.org/1999/02/22-rdf-syntax-ns#member");let values=this._ensureArray(item[key]);if(!values){return}const result=[];values.forEach(value=>{const item=this._computeRawScalarValue(value);if(item){result.push(item)}});return result}/**
   * Computes form input label value.
   *
   * @param {Object} def Property definition
   * @param {Boolean} required True if the property is required
   * @param {?String} name Property name
   * @return {String} Input display name.
   */_computeInputLabel(def,required,name){const result=this._getValue(def,this.ns.schema.schemaName);return this._completeInputLabel(result,name,required)}/**
   * Computes the value of a property that namespace starts with
   * `http://www.w3.org/ns/shacl`.
   *
   * @param {Object} shape Property AMF definition
   * @param {String} property Name of the schema.
   * @return {any|undefined} Value of the property or undefined if not set.
   */_computeShaclProperty(shape,property){const key=this.ns.w3.shacl.name+(property+"");return this._getValue(shape,key)}/**
   * Computes the value of a property that namespace starts with
   * `http://raml.org/vocabularies/shapes`.
   *
   * @param {Object} shape Property AMF definition
   * @param {String} property Name of the schema.
   * @return {any|undefined} Value of the property or undefined if not set.
   */_computeVocabularyShapeProperty(shape,property){const key=this.ns.raml.vocabularies.shapes+(property+"");return this._getValue(shape,key)}/**
   * Computes default value for a shape.
   * @param {Object} shape Amf shape
   * @return {any|undefined} Default value for the model or undefined.
   */_computeDefaultValue(shape){const vsh=this.ns.raml.vocabularies.shapes,valueKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValueStr");let value=shape[valueKey];if(!value){return}if(value instanceof Array){value=value[0]}if(value["@value"]){value=value["@value"]}if(this._hasType(shape,vsh+"ScalarShape")){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let type=shape[dtKey];if(type instanceof Array){type=type[0]}type=type["@id"];const s=this.ns.w3.xmlSchema;switch(type){case s+"number":case s+"long":case s+"integer":case s+"float":case s+"double":case this._getAmfKey(s+"number"):case this._getAmfKey(s+"long"):case this._getAmfKey(s+"integer"):case this._getAmfKey(s+"float"):case this._getAmfKey(s+"double"):return+value;case s+"boolean":case this._getAmfKey(s+"boolean"):return"false"===value?!1:!0;default:return value;}}else if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ArrayShape")){const valueKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValue");let value2=shape[valueKey];if(!value2){return value}if(value2 instanceof Array){value2=value2[0]}return this._computeRawArrayValue(value2)}return value}/**
   * Computes enum values for the view model.
   * @param {Object} def Model definition.
   * @return {Array} List of values.
   */_computeModelEnum(def){def=this._resolve(def);const key=this._getAmfKey(this.ns.w3.shacl.in);let model=def[key];if(!model){return}if(model instanceof Array){model=model[0]}const result=[],rdfKey=this._getAmfKey("http://www.w3.org/2000/01/rdf-schema#");Object.keys(model).forEach(key=>{if(-1===key.indexOf(rdfKey)){return}let shape=model[key];if(shape instanceof Array){shape=shape[0]}const vKey=this._getAmfKey(this.ns.raml.vocabularies.data+"value"),value=this._getValue(shape,vKey);if(value){result.push(value)}});return result}/**
   * Computes list of examples for the Property model.
   *
   * @param {Object} model AMF property model
   * @return {Array<Object>|undefined} List of examples or `undefined` if not
   * defined.
   */_computeModelExamples(model){model=this._resolve(model);const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let def=this._ensureArray(model[key]);if(!def){return}const result=[];for(let i=0,len=def.length;i<len;i++){const item=def[i],name=this._getValue(item,this.ns.schema.schemaName);let value=this._getExampleValue(item,!0);if(!name&&!value){continue}try{JSON.parse(value);if("\""===value[value.length-1]&&"\""===value[0]){value=value.substr(1,value.length-2)}}catch(_){try{const gen=this._exampleGenerator;gen.amfModel=this.amfModel;value=gen.computeExample("application/json",item,{})}catch(_){}}result.push({name:name,value:value,hasName:!!name})}return result}/**
   * Computes `items` property for AMF array property
   *
   * @param {Object} model AMF property model
   * @return {Object} Array definition model
   */_computeModelItems(model){if(!this._hasType(model,this.ns.raml.vocabularies.shapes+"ArrayShape")){return}model=this._resolve(model);const itKeys=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");let item=model[itKeys];if(!item){console.warn("Expected #items declaration");return}if(item instanceof Array){item=item[0]}const type=this._computeModelType(item);// _computeModelType() always returns a value
// TODO: add support for objects and unions.
return type}_computeValueDelimiter(binding){switch(binding){case"header":return":";case"query":return"=";default:return"";}}_computeDecodeValues(binding){switch(binding){case"query":return!0;default:return!1;}}/**
   * Parses a string from example or enum value to be used as default value.
   * @param {String} example Example value to process as a value
   * @param {Object} opts Options:
   * - name {String} Processed property name
   * - valueDelimiter {?String} either `:` for headers or `=` for query params
   * - decodeValues {Boolean} True to url decode value.
   * @return {[type]} [description]
   */_exampleAsValue(example,opts){if(!example||"string"!==typeof example){return example}example=example.trim();if(opts.valueDelimiter&&0===example.indexOf(opts.name+opts.valueDelimiter)){example=example.substr(opts.name.length+1).trim()}if(opts.decodeValues){try{example=decodeURIComponent(example.replace(/\+/g," "))}catch(e){}}return example}/**
   * Parses example in an array type.
   *
   * @param {String} example An array example
   * @param {Object} processOptions Options:
   * - name {String} Processed property name
   * - valueDelimiter {?String} either `:` for headers or `=` for query params
   * - decodeValues {Boolean} True to url decode value.
   * @return {Array} Array of examples or string if cannot parse
   */__parseArrayExample(example,processOptions){try{const arr=JSON.parse(example);if(arr instanceof Array){const result=[];arr.forEach(item=>{const ex=this._exampleAsValue(item,processOptions);if(ex){result[result.length]=ex}});return result.length?result:void 0}}catch(e){}return this._exampleAsValue(example,processOptions)}/**
   * Computes rendered item input field type based on RAML definition.
   *
   * It will be either numeric or text. Type will be determined from
   * item's type or, in case of array, item's items property.
   *
   * @param {String} type Property data type.
   * @param {?Array} items Array items if any
   * @return {String} Input field type.
   */_computeModelInputType(type,items){if("array"===type){if("string"===typeof items){return this.__computeInputType(items)}if(!items){return"text"}return this.__computeInputType(items.schema?items.schema.type:items.type)}return this.__computeInputType(type)}__computeInputType(type){if(type&&-1!==NUMBER_INPUT_TYPES.indexOf(type)){return"number"}else if("boolean"===type){return"boolean"}else if("date-only"===type||"date"===type){return"date"}/* else if (type === 'time-only' || type === 'time') {
      return 'time';
    } */return"text"}/**
   * Computes pattern for the input.
   *
   * @param {String} modelType Type of the property item.
   * @param {String} pattern Pattern declared on the property
   * @param {?String} format For `datetime` type additional format value.
   * `rfc3339` is assumed by default
   * @return {String|undefined} Pattern or undefined if does not exists.
   */_computeModelPattern(modelType,pattern,format){if(!pattern){switch(modelType){case"time":pattern="^[0-9]{2}:[0-9]{2}:[0-9]{2}.?[0-9]{0,3}$";break;case"date":pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}$";break;case"datetime-only":pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.?[0-9]{0,3}$";break;case"datetime":if("rfc2616"===format){pattern=""}else{pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.*$"}break;}}return pattern}/**
   * Computes a placeholder value for data and time inputs.
   *
   * @param {String} type Model type.
   * @param {?String} format For `datetime` type additional format value.
   * `rfc3339` is assumed by default
   * @return {String|undefined} Placeholder value.
   */_computeTypePlaceholder(type,format){let value;switch(type){case"time":value="00:00:00.000";break;case"date":value="0000-00-00";break;case"datetime-only":value="0000-00-00T00:00:00.000";break;case"datetime":if("rfc2616"===format){value="Sun, 01 Jan 2000 00:00:00 GMT"}else{value="0000-00-00T00:00:00Z+01:00"}break;}return value}/**
   * Handler for the `api-property-model-build` custom event.
   * Builds a property view model using event detail object as a base object.
   *
   * All changes are applied to the `detail` object. Requesting element must
   * use the same object.
   *
   * @param {CustomEvent} e
   */_buildPropertyHandler(e){if(e.defaultPrevented){return}e.stopImmediatePropagation();e.preventDefault();this.buildProperty(e.detail)}/**
   * Builds empty view model without traversing AMF model.
   *
   * @param {?Object} defaults View model with default values. This values won't
   * be set.
   * @return {Object} Generated basic view model.
   */buildProperty(defaults){if(!defaults){defaults={}}// defaults.name = defaults.name || 'property';
defaults.schema=defaults.schema||{};defaults.schema.type=defaults.schema.type||"string";defaults.schema.isEnum=defaults.schema.isEnum||!1;defaults.schema.isArray=defaults.schema.isArray||!1;defaults.schema.isBool=defaults.schema.isBool||!1;defaults.schema.isFile="file"===defaults.schema.type;defaults.schema.inputType="text"===defaults.schema.inputType;defaults.hasDescription=!!defaults.description;defaults.schema.inputFloatLabel=defaults.schema.inputFloatLabel||defaults.schema.inputPlaceholder||!1;defaults.schema.inputType=this._computeModelInputType(defaults.schema.type,defaults.schema.items);defaults.schema.pattern=this._computeModelPattern(defaults.schema.type,defaults.schema.pattern);if(!defaults.schema.inputLabel){defaults.schema.inputLabel=defaults.name||"Parameter value"}this._processAfterItemCreated(defaults,{});return defaults}/**
   * Computes if model item has documentation to display.
   * This would be extended documentation by adding additional description
   * properties that helps the user to input values into the editor.
   *
   * @param {Object} item Model item
   * @return {Boolean} True if documentation can be rendered.
   */_computeHasExtendedDocumentation(item){if(item.hasDescription){return!0}if(!item.schema){return!1}const schema=item.schema;if(schema.pattern){return!0}if(schema.examples&&schema.examples.length){return!0}return!1}/**
   * Computes documentation as a markdown to be placed in the `marked-element`
   * @param {Object} item View model
   * @return {String} Generated documentation
   */_computeExtendedDocumentation(item){let docs="";if(item.description){docs+=item.description}if(!item.schema){return docs}const schema=item.schema;if(docs){docs+="\n\n\n"}if(schema.pattern){docs+="- Pattern: `"+schema.pattern+"`\n"}if(schema.examples&&schema.examples.length){schema.examples.forEach(item=>{docs+="- Example";if(item.hasName){docs+=" "+item.name}docs+=": `"+item.value+"`\n"})}return docs}/**
   * Returns `true` only when passed shape has `shapes#anyOf` array and
   * one of the union properties is of a type od NilShape.
   * @param {Object} shape Schape test for nillable union.
   * @return {Boolean}
   */_computeIsNillable(shape){if(!shape){return!1}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),values=this._ensureArray(shape[key]);if(!values){return!1}for(let i=0,len=values.length;i<len;i++){if(this._hasType(values[i],this.ns.raml.vocabularies.shapes+"NilShape")){return!0}}return!1}}window.customElements.define(ApiViewModelTransformer.is,ApiViewModelTransformer)})();</script><dom-module id="api-url-data-model" assetpath="bower_components/api-url-data-model/"><template><style>:host{display:none;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-view-model-transformer amf-model="[[amfModel]]" id="transformer"></api-view-model-transformer></template><script>/**
   * `api-url-data-model`
   * An element to generate view model for api-url-editor and api-url-params-editor
   * elements from AMF model
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin ApiElements.AmfHelperMixin
   * @memberof ApiElements
   */class ApiUrlDataModel extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-url-data-model"}static get properties(){return{/**
         * Name of the scope to use with `raml-aware`.
         * If this element is used with other aware elements, it updates
         * `webApi` when aware value change.
         */aware:String,/**
         * Computed value of WebApi amf shape.
         */_webApi:{type:Object,computed:"_computeWebApi(amfModel)"},/**
         * Computed value pof server definition from the AMF model.
         */_server:{type:Object,computed:"_computeServer(amfModel)"},/**
         * List of supported protocols.
         * Required to compute base URI in some cases.
         */_protocols:{type:Object,computed:"_computeProtocols(amfModel)"},/**
         * API version name
         */version:{type:String,computed:"_computeApiVersion(amfModel)"},/**
         * The `@id` property of selected endpoint and method to compute
         * data models for.
         */selected:String,/**
         * Computed model of selected endpoint
         */endpoint:{type:Object,computed:"_computeModelEndpointModel(_webApi, selected)"},/**
         * Computed model of HTTP method.
         */method:{type:Object,computed:"_computeMethodModel(_webApi, selected)"},/**
         * Computed view model for API uri parameters.
         */apiParameters:{type:Array,notify:!0,computed:"_computeApiParameters(_server, version)"},/**
         * A property to set to override AMF's model base URI information.
         * When this property is set, the `endpointUri` property is recalculated.
         */baseUri:String,/**
         * Computed value of API base URI.
         */apiBaseUri:{type:String,notify:!0,computed:"_computeApiBaseUri(_server, version, _protocols, baseUri)"},/**
         * Generated view model for query parameters.
         */queryModel:{type:Array,computed:"_computeQueryModel(method)",notify:!0},/**
         * Generated view model for path parameters
         *
         * @type {Object}
         */pathModel:{type:Array,computed:"_computePathModel(endpoint, method, apiParameters)",notify:!0},/**
         * Computed value of full endpoint URI when selection has been made.
         */endpointUri:{type:String,notify:!0,computed:"_computeEndpointUri(_server, endpoint, baseUri, version)"},/**
         * Selected endponit relative path.
         */endpointPath:{type:String,notify:!0,computed:"_computeEndpointPath(endpoint)"}}}/**
     * Computes `apiBaseUri` property when `amfModel` change.
     *
     * @param {Object} server Server definition model
     * @param {?String} version API version number
     * @param {?Array<String>} protocols List of supported protocols.
     * @param {?String} baseUri A uri to override APIs base uri
     * @return {String}
     */_computeApiBaseUri(server,version,protocols,baseUri){let uri=this._getBaseUri(baseUri,server,protocols);if(!uri){return}if(version&&-1!==uri.indexOf("{version}")){uri=uri.replace("{version}",version)}const lastIndex=uri.length-1;if("/"===uri[lastIndex]){uri=uri.substr(0,lastIndex)}return uri}/**
     * Computes uri paramerters lsit for API base.
     * If `version` is set it eliminates it from the variables if it's set.
     *
     * @param {Object} server The `http://raml.org/vocabularies/http#server`
     * object
     * @param {?String} version API version number
     * @return {Array<Object>} A view model.
     */_computeApiParameters(server,version){if(!server){return[]}const variables=this._computeServerVariables(server);if(!variables||!variables.length){return[]}if(version){for(let i=variables.length-1;0<=i;i--){const name=this._getValue(variables[i],this.ns.schema.schemaName);if("version"===name){variables.splice(i,1);break}}}this.$.transformer.amfModel=this.amfModel;let model=this.$.transformer.computeViewModel(variables);if(model&&model.length){model=Array.from(model)}else{model=void 0}return model}/**
     * Computes combined list of path parameters from server definition
     * (RAML's base URI) and current path variables.
     * @param {Object} endpoint Endpoint model
     * @param {Object} method Method model
     * @param {?Array<Object>} apiParameters Current value of API parameters
     * @return {Array<Object>}
     */_computePathModel(endpoint,method,apiParameters){if(!endpoint){return}let params=this._computeQueryParameters(endpoint);if(!params||!params.length){params=this._uriParamsFromMethod(method);if(!params){return apiParameters}}this.$.transformer.amfModel=this.amfModel;let model=this.$.transformer.computeViewModel(params);if(!model){model=[]}if(apiParameters&&apiParameters[0]){model=Array.from(apiParameters).concat(model)}return model}/**
     * Finds URI parameters in method definition.
     * @param {Object} method Method model
     * @return {Array<Object>|undefined}
     */_uriParamsFromMethod(method){if(!method){return}const request=this._computeExpects(method);if(!request){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"uriParameter"),params=this._ensureArray(request[key]);return params&&params.length?params:void 0}/**
     * Computes value for `queryModel` property.
     *
     * @param {Object} method Supported operation model
     * @return {Array<Object>}
     */_computeQueryModel(method){if(!method){return[]}const request=this._computeExpects(method);if(!request){return[]}const params=this._computeQueryParameters(request);if(!params){return[]}this.$.transformer.amfModel=this.amfModel;let data=this.$.transformer.computeViewModel(params);if(data&&data.length){data=Array.from(data)}else{data=[]}return data}/**
     * Computes endpoint's path value
     * @param {Object} endpoint Endpoint model
     * @return {String}
     */_computeEndpointPath(endpoint){return this._getValue(endpoint,this.ns.raml.vocabularies.http+"path")}/**
     * Computes value of endpoint model.
     *
     * The selection (id) can be for endpoint or for a method.
     * This tries endpoint first and then method.
     *
     * @param {Object} webApi A WebApi amf shape.
     * @param {String} id Endpoint/method selection
     * @return {Object|undefined} Endpoint model.
     */_computeModelEndpointModel(webApi,id){let model=this._computeEndpointModel(webApi,id);if(model){return model}model=this._computeMethodModel(webApi,id);if(!model){return}return this._computeMethodEndpoint(webApi,model["@id"])}}window.customElements.define(ApiUrlDataModel.is,ApiUrlDataModel);</script></dom-module><dom-module id="api-url-editor" assetpath="bower_components/api-url-editor/"><template><style>:host{outline:none;display:block;@apply --api-url-editor;}input{@apply --paper-input-container-shared-input-style;@apply --paper-input-container-input-input-style;}label{pointer-events:none;}.markdown-body *{font-size:13px !important;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style><paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[alwaysFloatLabel]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><label hidden$="[[!label]]" slot="label">[[label]]</label><iron-input id$="[[_inputId]]" bind-value="{{value}}" slot="input" invalid="{{invalid}}"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type="url" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" on-blur="_onElementBlur" on-input="__userInputHandler" tabindex$="[[tabIndex]]" autosave$="[[autosave]]"></iron-input><template is="dom-if" if="[[invalid]]"><paper-input-error slot="add-on" invalid="">[[errorMessage]]</paper-input-error></template></paper-input-container></template><script>const _inputBehavior2=!(Polymer.PaperInputBehavior instanceof Array),_behaviorsQueue=[];let _base=ArcBehaviors.EventsTargetBehavior(Polymer.Element);if(_inputBehavior2){// API console with Anypoint styling has its own implementation of
// paper input behavior which is for Polymer 2 only.
_base=Polymer.PaperInputBehavior(_base)}else{_behaviorsQueue.push(Polymer.PaperInputBehavior)}if(!Polymer.IronValidatableMixin){_behaviorsQueue.push(Polymer.IronValidatableBehavior)}else{_base=Polymer.IronValidatableMixin(_base)}_base=Polymer.mixinBehaviors(_behaviorsQueue,_base);/**
   * `api-url-editor`
   * An AMF powered url editor for the HTTP request editor.
   *
   * The element is regular input element that is adjusted to work with URL
   * data.
   * It supports validation for URL values that may contain variables.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.PaperInputBehavior
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @memberof ApiElements
   */class ApiUrlEditor extends _base{static get is(){return"api-url-editor"}static get properties(){return{/**
         * The label for this input.
         */label:{type:String,value:"Request URL"},// A value generated by this editor - the URL.
value:{type:String,notify:!0,observer:"_onValueChanged"},// An error message to display
errorMessage:{type:String,value:"The URL is invalid"},/**
         * Value or RAML's base URI property.
         *
         * Note, the element doesn't check if `baseUri` is relative or not.
         * Hosting application have to take care of that.
         */baseUri:String,/**
         * Currently selected endpoint relative URI.
         * It is available in RAML definition.
         */endpointPath:String,// Computed value, sum of `baseUri` and `endpointPath`
_fullUri:{computed:"_computeFullUrl(baseUri, endpointPath)"},/**
         * Computed query properties model.
         * Use `api-url-data-model` to compute model for the view.
         */queryModel:{type:Array,notify:!0},/**
         * Computed URI properties model.
         * Use `api-url-data-model` to compute model for the view.
         */pathModel:{type:Array,notify:!0},/**
         * Computed, ordered list of URL variables in the URI string.
         */urlParams:{type:Array,computed:"_computeUrlParams(_fullUri)"},/**
         * Computed regexp for the current `_fullUri` value to search for the
         * URI parameters.
         */urlSearchRegexp:{type:RegExp,computed:"_computeUrlRegexp(_fullUri)"}}}static get observers(){return["_computeValueChanged(_fullUri, queryModel.*, pathModel.*)"]}constructor(){super();this._extValueChangedHandler=this._extValueChangedHandler.bind(this)}ready(){super.ready();this._elementReady=!0;// If there's an initial input, validate it.
if(this.value){this._handleAutoValidate()}}_attachListeners(node){node.addEventListener("url-value-changed",this._extValueChangedHandler)}_detachListeners(node){node.removeEventListener("url-value-changed",this._extValueChangedHandler)}/**
     * Computes endpoint's full URI with (possibly) variables in it.
     *
     * @param {String} baseUri API base URI
     * @param {String} endpointPath Endpoint relative URI to `baseUri`
     * @return {String} A full URI for the endpoint.
     */_computeFullUrl(baseUri,endpointPath){if(!endpointPath){endpointPath="/"}if("/"!==endpointPath[0]){endpointPath="/"+endpointPath}if(!baseUri){return endpointPath}if("/"===baseUri[baseUri.length-1]){baseUri=baseUri.substr(0,baseUri.length-1)}return baseUri+endpointPath}_computeValueChanged(_fullUri,queryRecord,uriRecord){if(this.__ignoreValueChange){return}this._computeValue(queryRecord.base,uriRecord.base,_fullUri)}/**
     * Computes url value from current `baseUri` and query/uri models.
     *
     * @param {Array} queryModel Query parameters model
     * @param {Array} pathModel Uri parameters model.
     * @param {String} uri Current endpoint uri.
     */_computeValue(queryModel,pathModel,uri){if(!uri){this.set("value",void 0);return}uri=this._applyUriParams(uri,pathModel);uri=this._applyQueryParams(uri,queryModel);this.set("value",uri)}/**
     * Creates a map of serialized values from a model.
     * It is a replacemenet for `iron-form` serialize function which
     * can't be used here because this function is called before local DOM
     * is ready and therefore form is not set.
     *
     * @param {Array} model Model to compute.
     * @return {Map} Map of serialized values.
     */_formValuesFromModel(model){const result=new Map;if(!model||!model.length){return result}model.forEach(item=>{const value=this._valueFormModelItem(item);if(value!==void 0){result.set(item.name,value)}});return result}/**
     * Extracts value from the model item.
     * If the item is required it is alwats returned (even  if it is empty string).
     * If value is not required and not present then it returns `undefined`.
     *
     * @param {Object} item Model item
     * @return {String} Model value
     */_valueFormModelItem(item){if(item.schema&&/* eat */!1===item.schema.enabled){return}let value=item.value;if(!value&&item.required){if(0!==value&&!1!==value&&null!==value){value=""}}else if(!item.required){if(!value&&0!==value&&!1!==value&&null!==value){value=void 0}}return value}/**
     * Applies URI parameters to the URL.
     *
     * @param {String} url An URL to apply the params to
     * @param {Array} model Uri parameters model.
     * @return {String} The URL.
     */_applyUriParams(url,model){if(!model){return url}const uriParams=this._formValuesFromModel(model);for(let[name,value]of uriParams){if(!value){continue}value=value+"";if(""===value.trim()){continue}if("+"===name[0]||"#"===name[0]){value=encodeURI(value)}else{value=this._wwwFormUrlEncodePiece(value)}const re=this._createUrlReplaceRegex(name);url=url.replace(re,value)}return url}/**
     * Creates a RegExp object to replace template variable from the base string
     * @param {String} name Name of the parameter to be replaced
     * @return {RegExp}
     */_createUrlReplaceRegex(name){if("+"===name[0]||"#"===name[0]){name="\\"+name}return new RegExp("{"+name+"}")}/**
     * Applies query parameters to the URL.
     * Query parameters that are not required by the API spec and don't have value
     * are removed from the URL. Parameters that are required and don't have
     * value are set to the URL but with empty value.
     *
     * @param {String} url An URL to apply the params to
     * @param {Array} model Query parameters model.
     * @return {String} The URL.
     */_applyQueryParams(url,model){if(!model){return url}let params=this._formValuesFromModel(model);const items=this._computeQueryItems(params);params=this._wwwFormUrlEncode(items);if(!params){return url}url+=-1===url.indexOf("?")?"?":"&";url+=params;return url}/**
     * Computes query parameters list of items containing `name` and `value`
     * properties to use to build query string.
     *
     * This function may change the `params` map.
     *
     * @param {Object} params Map of query model properties.
     * @return {Array} List of query parameters.
     */_computeQueryItems(params){const items=[];for(let[name,value]of params){if(value===void 0){continue}let isArray=!1;if(value instanceof Array){isArray=!0;if(!value.length||1===value.length&&!value[0]){continue}}if(isArray){for(let i=0,len=value.length;i<len;i++){if(value||0===value||!1===value){items.push({name:name,value:value[i]})}}}else{items.push({name:name,value:value})}}return items}/**
     * @param {Array} object The list of objects to encode as
     * x-www-form-urlencoded string. Each entry should have `name` and `value`
     * properties.
     * @return {string} .
     */_wwwFormUrlEncode(object){if(!object||!object.length){return""}const pieces=object.map(item=>{return this._wwwFormUrlEncodePiece(item.name)+"="+this._wwwFormUrlEncodePiece(item.value)});return pieces.join("&")}/**
     * @param {*} str A key or value to encode as x-www-form-urlencoded.
     * @return {string} .
     */_wwwFormUrlEncodePiece(str){// Spec says to normalize newlines to \r\n and replace %20 spaces with +.
// jQuery does this as well, so this is likely to be widely compatible.
if(!str){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")}/**
     * Updates URI / query parameters model from user input.
     *
     * @param {Event} e Input event
     */__userInputHandler(e){const value=e.target.value;let matches;const uriParams=this.urlParams,uriRegexp=this.urlSearchRegexp;if(uriParams&&uriRegexp){matches=value.match(uriRegexp);if(matches){matches.shift();this._applyUriValues(matches,uriParams)}}const matchesNew=value.match(/[^&?]*?=[^&?]*/g);if(!matchesNew){return}const params={};matchesNew.forEach(item=>this._applyQueryParamToObject(item,params));this._applyQueryParamsValues(params)}/**
     * Applies query parameter values to an object.
     * Repeated parameters will have array value intead of string value.
     *
     * @param {String} param Query parameter value as string. Eg `name=value`
     * @param {Object} obj Target for values
     */_applyQueryParamToObject(param,obj){if(!param||!obj||"string"!==typeof param){return}const parts=param.split("="),name=parts[0];if(name in obj){if(!(obj[name]instanceof Array)){obj[name]=[obj[name]]}obj[name].push(parts[1])}else{obj[name]=parts[1]}}/**
     * Applies values from the `values` array to the uri parametes which names are in the `names`
     * array.
     * Both lists are ordered list of paramerters.
     *
     * @param {Array<String>} values Values for the parameters
     * @param {Array<String>} names List of variables names (uri parameters).
     */_applyUriValues(values,names){for(let i=0,len=names.length;i<len;i++){const name=names[i],index=this._findModelIndex(name,"path");if(-1!==index){this.__ignoreValueChange=!0;this.set(["pathModel",index,"value"],values[i]);this.__ignoreValueChange=!1}}}/**
     * Applies query parameters values to the render list.
     *
     * @param {Object} map A map where keys are names of the parameters in the
     * `queryModel` list
     */_applyQueryParamsValues(map){if(!map){return}const keys=Object.keys(map);keys.forEach(key=>{const index=this._findModelIndex(key,"query");if(-1!==index){this.__ignoreValueChange=!0;this.set(["queryModel",index,"value"],map[key]);this.__ignoreValueChange=!1}})}_findModelIndex(name,type){const model=this[type+"Model"];if(!model){return-1}return model.findIndex(item=>item.name===name)}/**
     * A handler that is called on input
     */_onValueChanged(){if(!this._elementReady||this.__cancelValueChange){return}this.fire("url-value-changed",{value:this.value});this._handleAutoValidate()}_onElementBlur(){this._handleAutoValidate()}/**
     * A handler for the `url-value-changed` event.
     * If this element is not the source of the event then it will update the `value` property.
     * It's to be used besides the Polymer's data binding system.
     *
     * @param {CustomEvent} e
     */_extValueChangedHandler(e){if(e.composedPath()[0]===this){return}this.__cancelValueChange=!0;this.set("value",e.detail.value);this.__cancelValueChange=!1}_getValidity(){const value=this.value;if(!this.required&&!value){return!0}if(value===void 0){return!0}if(!value&&this.required){return!1}if(!value){return!0}if(-1!==value.indexOf("{")&&-1!==value.indexOf("}")){return!1}if(!this.shadowRoot){return!0}return this.shadowRoot.querySelector("input").validity.valid}/**
     * Creates a regular expression from the `_fullUri` to match the
     * parameters in the `value` url.
     *
     * @param {String} url Enpoint's absolute URL with (possibly) parameters.
     * @return {String} A RegExp that can be used to search for parameters values.
     */_computeUrlRegexp(url){if(!url){return null}url=url.replace(/(\.|\/)/g,"\\$1");url=url.replace(/{\w+}/g,"([a-zA-Z0-9\\$\\-_\\.~\\+!'\\(\\)\\*]+)");return new RegExp(url)}/**
     * Computes ordered list of parameters applied to the `_fullUri`.
     * For example the URL: `http://{environment}.domain.com/{apiVersion}/`
     *
     * will be mapped to
     * ```
     * [
     *   "environment",
     *   "apiVersion"
     * ]
     * ```
     *
     * @param {String} url The URL to test for the parameters.
     * @return {Array|null} An ordered list of parameters or null if none found.
     */_computeUrlParams(url){if(!url){return null}let paramsNames=url.match(/\{\w+\}/g);if(paramsNames){paramsNames=paramsNames.map(item=>item.substr(1,item.length-2))}return paramsNames}fire(type,detail){const e=new CustomEvent(type,{bubbles:!0,composed:!0,cancelable:!1,detail});this.dispatchEvent(e);return e}}window.customElements.define(ApiUrlEditor.is,ApiUrlEditor);</script></dom-module><script>/**
   * Use `Polymer.IronCheckedElementBehavior` to implement a custom element
   * that has a `checked` property, which can be used for validation if the
   * element is also `required`. Element instances implementing this behavior
   * will also be registered for use in an `iron-form` element.
   *
   * @demo demo/index.html
   * @polymerBehavior Polymer.IronCheckedElementBehavior
   */Polymer.IronCheckedElementBehaviorImpl={properties:{/**
       * Fired when the checked state changes.
       *
       * @event iron-change
       */ /**
       * Gets or sets the state, `true` is checked and `false` is unchecked.
       */checked:{type:Boolean,value:/* eat */!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},/**
       * If true, the button toggles the active state with each tap or press
       * of the spacebar.
       */toggles:{type:Boolean,value:!0,reflectToAttribute:!0},/* Overriden from Polymer.IronFormElementBehavior */value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){// Used by `iron-form` to handle the case that an element with this behavior
// doesn't have a role of 'checkbox' or 'radio', but should still only be
// included when the form is serialized if `this.checked === true`.
this._hasIronCheckedElementBehavior=!0},/**
     * Returns false if the element is required and not checked, and true
     * otherwise.
     * @param {*=} _value Ignored.
     * @return {boolean} true if `required` is false or if `checked` is true.
     */_getValidity:function(_value){return this.disabled||!this.required||this.checked},/**
     * Update the aria-required label when `required` is changed.
     */_requiredChanged:function(){if(this.required){this.setAttribute("aria-required","true")}else{this.removeAttribute("aria-required")}},/**
     * Fire `iron-changed` when the checked state changes.
     */_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},/**
     * Reset value to 'on' if it is set to `undefined`.
     */_valueChanged:function(){if(this.value===void 0||null===this.value){this.value="on"}}};/** @polymerBehavior Polymer.IronCheckedElementBehavior */Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>/**
   * Use `Polymer.PaperCheckedElementBehavior` to implement a custom element
   * that has a `checked` property similar to `Polymer.IronCheckedElementBehavior`
   * and is compatible with having a ripple effect.
   * @polymerBehavior Polymer.PaperCheckedElementBehavior
   */Polymer.PaperCheckedElementBehaviorImpl={/**
     * Synchronizes the element's checked state with its ripple effect.
     */_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);if(this.hasRipple()){if(this.checked){this._ripple.setAttribute("checked","")}else{this._ripple.removeAttribute("checked")}}},/**
     * Synchronizes the element's `active` and `checked` state.
     */_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);if(this.disabled){return}if(this.isAttached){this.checked=this.active}}};/** @polymerBehavior Polymer.PaperCheckedElementBehavior */Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],/** @private */hostAttributes:{role:"checkbox","aria-checked":/* eat */!1,tabindex:0},properties:{/**
         * Fired when the checked state changes due to user interaction.
         *
         * @event change
         */ /**
         * Fired when the checked state changes.
         *
         * @event iron-change
         */ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){// Wait until styles have resolved to check for the default sentinel.
// See polymer#4009 for more details.
Polymer.RenderStatus.afterNextRender(this,function(){var inkSize=this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim();// If unset, compute and set the default `--paper-checkbox-ink-size`.
if("-1px"===inkSize){var checkboxSizeText=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),units="px",unitsMatches=checkboxSizeText.match(/[A-Za-z]+$/);if(null!==unitsMatches){units=unitsMatches[0]}var checkboxSize=parseFloat(checkboxSizeText),defaultInkSize=8/3*checkboxSize;if("px"===units){defaultInkSize=Math.floor(defaultInkSize);// The checkbox and ripple need to have the same parity so that their
// centers align.
if(defaultInkSize%2!==checkboxSize%2){defaultInkSize++}}this.updateStyles({"--paper-checkbox-ink-size":defaultInkSize+units})}})},_computeCheckboxClass:function(checked,invalid){var className="";if(checked){className+="checked "}if(invalid){className+="invalid"}return className},_computeCheckmarkClass:function(checked){return checked?"":"hidden"},// create ripple inside the checkboxContainer
_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><script>'use strict';Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{/**
       * A reference to the XMLHttpRequest instance used to generate the
       * network request.
       *
       * @type {XMLHttpRequest}
       */xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},/**
       * A reference to the parsed response body, if the `xhr` has completely
       * resolved.
       *
       * @type {*}
       * @default null
       */response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},/**
       * A reference to the status code, if the `xhr` has completely resolved.
       */status:{type:Number,notify:!0,readOnly:!0,value:0},/**
       * A reference to the status text, if the `xhr` has completely resolved.
       */statusText:{type:String,notify:!0,readOnly:!0,value:""},/**
       * A promise that resolves when the `xhr` response comes back, or rejects
       * if there is an error before the `xhr` completes.
       * The resolve callback is called with the original request as an argument.
       * By default, the reject callback is called with an `Error` as an argument.
       * If `rejectWithRequest` is true, the reject callback is called with an
       * object with two keys: `request`, the original request, and `error`, the
       * error object.
       *
       * @type {Promise}
       */completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(resolve,reject){this.resolveCompletes=resolve;this.rejectCompletes=reject}.bind(this))}},/**
       * An object that contains progress information emitted by the XHR if
       * available.
       *
       * @default {}
       */progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},/**
       * Aborted will be true if an abort of the request is attempted.
       */aborted:{type:Boolean,notify:!0,readOnly:!0,value:/* eat */!1},/**
       * Errored will be true if the browser fired an error event from the
       * XHR object (mainly network errors).
       */errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},/**
       * TimedOut will be true if the XHR threw a timeout event.
       */timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},/**
     * Succeeded is true if the request succeeded. The request succeeded if it
     * loaded without error, wasn't aborted, and the status code is ≥ 200, and
     * < 300, or if the status code is 0.
     *
     * The status code 0 is accepted as a success because some schemes - e.g.
     * file:// - don't provide status codes.
     *
     * @return {boolean}
     */get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}var status=this.xhr.status||0;// Note: if we are using the file:// protocol, the status code will be 0
// for all outcomes (successful or otherwise).
return 0===status||200<=status&&300>status},/**
     * Sends an HTTP request to the server and returns a promise (see the `completes`
     * property for details).
     *
     * The handling of the `body` parameter will vary based on the Content-Type
     * header. See the docs for iron-ajax's `body` property for details.
     *
     * @param {{
     *   url: string,
     *   method: (string|undefined),
     *   async: (boolean|undefined),
     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),
     *   headers: (Object|undefined),
     *   handleAs: (string|undefined),
     *   jsonPrefix: (string|undefined),
     *   withCredentials: (boolean|undefined),
     *   timeout: (Number|undefined),
     *   rejectWithRequest: (boolean|undefined)}} options -
     *   - url The url to which the request is sent.
     *   - method The HTTP method to use, default is GET.
     *   - async By default, all requests are sent asynchronously. To send synchronous requests,
     *         set to false.
     *   -  body The content for the request body for POST method.
     *   -  headers HTTP request headers.
     *   -  handleAs The response type. Default is 'text'.
     *   -  withCredentials Whether or not to send credentials on the request. Default is false.
     *   -  timeout - Timeout for request, in milliseconds.
     *   -  rejectWithRequest Set to true to include the request object with promise rejections.
     * @return {Promise}
     */send:function(options){var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",function(progress){this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total});// Webcomponents v1 spec does not fire *-changed events when not connected
this.fire("iron-request-progress-changed",{value:this.progress})}.bind(this));xhr.addEventListener("error",function(error){this._setErrored(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("timeout",function(error){this._setTimedOut(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("abort",function(){this._setAborted(!0);this._updateStatus();var error=new Error("Request aborted."),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));// Called after all of the above.
xhr.addEventListener("loadend",function(){this._updateStatus();this._setResponse(this.parseResponse());if(!this.succeeded){var error=new Error("The request failed with status code: "+this.xhr.status),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response);return}this.resolveCompletes(this)}.bind(this));this.url=options.url;var isXHRAsync=!1!==options.async;xhr.open(options.method||"GET",options.url,isXHRAsync);var acceptType={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[options.handleAs],headers=options.headers||Object.create(null),newHeaders=Object.create(null);for(var key in headers){newHeaders[key.toLowerCase()]=headers[key]}headers=newHeaders;if(acceptType&&!headers.accept){headers.accept=acceptType}Object.keys(headers).forEach(function(requestHeader){if(/[A-Z]/.test(requestHeader)){Polymer.Base._error("Headers must be lower case, got",requestHeader)}xhr.setRequestHeader(requestHeader,headers[requestHeader])},this);if(isXHRAsync){xhr.timeout=options.timeout;var handleAs=options.handleAs;// If a JSON prefix is present, the responseType must be 'text' or the
// browser won’t be able to parse the response.
if(!!options.jsonPrefix||!handleAs){handleAs="text"}// In IE, `xhr.responseType` is an empty string when the response
// returns. Hence, caching it as `xhr._responseType`.
xhr.responseType=xhr._responseType=handleAs;// Cache the JSON prefix, if it exists.
if(!!options.jsonPrefix){xhr._jsonPrefix=options.jsonPrefix}}xhr.withCredentials=!!options.withCredentials;var body=this._encodeBodyObject(options.body,headers["content-type"]);xhr.send(/** @type {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|
                   null|string|undefined} */body);return this.completes},/**
     * Attempts to parse the response body of the XHR. If parsing succeeds,
     * the value returned will be deserialized based on the `responseType`
     * set on the XHR.
     *
     * @return {*} The parsed response,
     * or undefined if there was an empty response or parsing failed.
     */parseResponse:function(){var xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType,prefixLen=xhr._jsonPrefix&&xhr._jsonPrefix.length||0;try{switch(responseType){case"json":// If the xhr object doesn't have a natural `xhr.responseType`,
// we can assume that the browser hasn't parsed the response for us,
// and so parsing is our responsibility. Likewise if response is
// undefined, as there's no way to encode undefined in JSON.
if(preferResponseText||xhr.response===void 0){// Try to emulate the JSON section of the response body section of
// the spec: https://xhr.spec.whatwg.org/#response-body
// That is to say, we try to parse as JSON, but if anything goes
// wrong return null.
try{return JSON.parse(xhr.responseText)}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":default:{// If `prefixLen` is set, it implies the response should be parsed
// as JSON once the prefix of length `prefixLen` is stripped from
// it. Emulate the behavior above where null is returned on failure
// to parse.
if(prefixLen){try{return JSON.parse(xhr.responseText.substring(prefixLen))}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},/**
     * Aborts the request.
     */abort:function(){this._setAborted(!0);this.xhr.abort()},/**
     * @param {*} body The given body of the request to try and encode.
     * @param {?string} contentType The given content type, to infer an encoding
     *     from.
     * @return {*} Either the encoded body as a string, if successful,
     *     or the unaltered body object if no encoding could be inferred.
     */_encodeBodyObject:function(body,contentType){if("string"==typeof body){return body;// Already encoded.
}var bodyObj=/** @type {Object} */body;switch(contentType){case"application/json":return JSON.stringify(bodyObj);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(bodyObj);}return body},/**
     * @param {Object} object The object to encode as x-www-form-urlencoded.
     * @return {string} .
     */_wwwFormUrlEncode:function(object){if(!object){return""}var pieces=[];Object.keys(object).forEach(function(key){// TODO(rictic): handle array values here, in a consistent way with
//   iron-ajax params.
pieces.push(this._wwwFormUrlEncodePiece(key)+"="+this._wwwFormUrlEncodePiece(object[key]))},this);return pieces.join("&")},/**
     * @param {*} str A key or value to encode as x-www-form-urlencoded.
     * @return {string} .
     */_wwwFormUrlEncodePiece:function(str){// Spec says to normalize newlines to \r\n and replace %20 spaces with +.
// jQuery does this as well, so this is likely to be widely compatible.
if(null===str||str===void 0||!str.toString){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},/**
     * Updates the status code and status text.
     */_updateStatus:function(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}});</script><script>'use strict';Polymer({is:"iron-ajax",/**
     * Fired before a request is sent.
     *
     * @event iron-ajax-presend
     */ /**
     * Fired when a request is sent.
     *
     * @event request
     */ /**
     * Fired when a request is sent.
     *
     * @event iron-ajax-request
     */ /**
     * Fired when a response is received.
     *
     * @event response
     */ /**
     * Fired when a response is received.
     *
     * @event iron-ajax-response
     */ /**
     * Fired when an error is received.
     *
     * @event error
     */ /**
     * Fired when an error is received.
     *
     * @event iron-ajax-error
     */hostAttributes:{hidden:!0},properties:{/**
       * The URL target of the request.
       */url:{type:String},/**
       * An object that contains query parameters to be appended to the
       * specified `url` when generating a request. If you wish to set the body
       * content when making a POST request, you should use the `body` property
       * instead.
       */params:{type:Object,value:function(){return{}}},/**
       * The HTTP method to use such as 'GET', 'POST', 'PUT', or 'DELETE'.
       * Default is 'GET'.
       */method:{type:String,value:"GET"},/**
       * HTTP request headers to send.
       *
       * Example:
       *
       *     <iron-ajax
       *         auto
       *         url="http://somesite.com"
       *         headers='{"X-Requested-With": "XMLHttpRequest"}'
       *         handle-as="json"></iron-ajax>
       *
       * Note: setting a `Content-Type` header here will override the value
       * specified by the `contentType` property of this element.
       */headers:{type:Object,value:function(){return{}}},/**
       * Content type to use when sending data. If the `contentType` property
       * is set and a `Content-Type` header is specified in the `headers`
       * property, the `headers` property value will take precedence.
       *
       * Varies the handling of the `body` param.
       */contentType:{type:String,value:null},/**
       * Body content to send with the request, typically used with "POST"
       * requests.
       *
       * If body is a string it will be sent unmodified.
       *
       * If Content-Type is set to a value listed below, then
       * the body will be encoded accordingly.
       *
       *    * `content-type="application/json"`
       *      * body is encoded like `{"foo":"bar baz","x":1}`
       *    * `content-type="application/x-www-form-urlencoded"`
       *      * body is encoded like `foo=bar+baz&x=1`
       *
       * Otherwise the body will be passed to the browser unmodified, and it
       * will handle any encoding (e.g. for FormData, Blob, ArrayBuffer).
       *
       * @type (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object)
       */body:{type:Object,value:null},/**
       * Toggle whether XHR is synchronous or asynchronous. Don't change this
       * to true unless You Know What You Are Doing™.
       */sync:{type:Boolean,value:/* eat */!1},/**
       * Specifies what data to store in the `response` property, and
       * to deliver as `event.detail.response` in `response` events.
       *
       * One of:
       *
       *    `text`: uses `XHR.responseText`.
       *
       *    `xml`: uses `XHR.responseXML`.
       *
       *    `json`: uses `XHR.responseText` parsed as JSON.
       *
       *    `arraybuffer`: uses `XHR.response`.
       *
       *    `blob`: uses `XHR.response`.
       *
       *    `document`: uses `XHR.response`.
       */handleAs:{type:String,value:"json"},/**
       * Set the withCredentials flag on the request.
       */withCredentials:{type:Boolean,value:!1},/**
       * Set the timeout flag on the request.
       */timeout:{type:Number,value:0},/**
       * If true, automatically performs an Ajax request when either `url` or
       * `params` changes.
       */auto:{type:Boolean,value:!1},/**
       * If true, error messages will automatically be logged to the console.
       */verbose:{type:Boolean,value:!1},/**
       * The most recent request made by this iron-ajax element.
       *
       * @type {Object|undefined}
       */lastRequest:{type:Object,notify:!0,readOnly:!0},/**
       * The `progress` property of this element's `lastRequest`.
       *
       * @type {Object|undefined}
       */lastProgress:{type:Object,notify:!0,readOnly:!0},/**
       * True while lastRequest is in flight.
       */loading:{type:Boolean,notify:!0,readOnly:!0},/**
       * lastRequest's response.
       *
       * Note that lastResponse and lastError are set when lastRequest finishes,
       * so if loading is true, then lastResponse and lastError will correspond
       * to the result of the previous request.
       *
       * The type of the response is determined by the value of `handleAs` at
       * the time that the request was generated.
       *
       * @type {Object}
       */lastResponse:{type:Object,notify:!0,readOnly:!0},/**
       * lastRequest's error, if any.
       *
       * @type {Object}
       */lastError:{type:Object,notify:!0,readOnly:!0},/**
       * An Array of all in-flight requests originating from this iron-ajax
       * element.
       */activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},/**
       * Length of time in milliseconds to debounce multiple automatically generated requests.
       */debounceDuration:{type:Number,value:0,notify:!0},/**
       * Prefix to be stripped from a JSON response before parsing it.
       *
       * In order to prevent an attack using CSRF with Array responses
       * (http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/)
       * many backends will mitigate this by prefixing all JSON response bodies
       * with a string that would be nonsensical to a JavaScript parser.
       *
       */jsonPrefix:{type:String,value:""},/**
       * By default, iron-ajax's events do not bubble. Setting this attribute will cause its
       * request and response events as well as its iron-ajax-request, -response,  and -error
       * events to bubble to the window object. The vanilla error event never bubbles when
       * using shadow dom even if this.bubbles is true because a scoped flag is not passed with
       * it (first link) and because the shadow dom spec did not used to allow certain events,
       * including events named error, to leak outside of shadow trees (second link).
       * https://www.w3.org/TR/shadow-dom/#scoped-flag
       * https://www.w3.org/TR/2015/WD-shadow-dom-20151215/#events-that-are-not-leaked-into-ancestor-trees
       */bubbles:{type:Boolean,value:!1},/**
       * Changes the [`completes`](iron-request#property-completes) promise chain 
       * from `generateRequest` to reject with an object
       * containing the original request, as well an error message.
       * If false (default), the promise rejects with an error message only.
       */rejectWithRequest:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, "+"body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],created:function(){this._boundOnProgressChanged=this._onProgressChanged.bind(this)},/**
     * The query string that should be appended to the `url`, serialized from
     * the current value of `params`.
     *
     * @return {string}
     */get queryString(){var queryParts=[],param,value;for(param in this.params){value=this.params[param];param=window.encodeURIComponent(param);if(Array.isArray(value)){for(var i=0;i<value.length;i++){queryParts.push(param+"="+window.encodeURIComponent(value[i]))}}else if(null!==value){queryParts.push(param+"="+window.encodeURIComponent(value))}else{queryParts.push(param)}}return queryParts.join("&")},/**
     * The `url` with query string (if `params` are specified), suitable for
     * providing to an `iron-request` instance.
     *
     * @return {string}
     */get requestUrl(){var queryString=this.queryString,url=this.url||"";if(queryString){var bindingChar=0<=url.indexOf("?")?"&":"?";return url+bindingChar+queryString}return url},/**
     * An object that maps header names to header values, first applying the
     * the value of `Content-Type` and then overlaying the headers specified
     * in the `headers` property.
     *
     * @return {Object}
     */get requestHeaders(){var headers={},contentType=this.contentType;if(null==contentType&&"string"===typeof this.body){contentType="application/x-www-form-urlencoded"}if(contentType){headers["content-type"]=contentType}var header;if("object"===typeof this.headers){for(header in this.headers){headers[header]=this.headers[header].toString()}}return headers},_onProgressChanged:function(event){this._setLastProgress(event.detail.value)},/**
     * Request options suitable for generating an `iron-request` instance based
     * on the current state of the `iron-ajax` instance's properties.
     *
     * @return {{
     *   url: string,
     *   method: (string|undefined),
     *   async: (boolean|undefined),
     *   body: (ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object),
     *   headers: (Object|undefined),
     *   handleAs: (string|undefined),
     *   jsonPrefix: (string|undefined),
     *   withCredentials: (boolean|undefined)}}
     */toRequestOptions:function(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout,rejectWithRequest:this.rejectWithRequest}},/**
     * Performs an AJAX request to the specified URL.
     *
     * @return {!IronRequestElement}
     */generateRequest:function(){var request=/** @type {!IronRequestElement} */document.createElement("iron-request"),requestOptions=this.toRequestOptions();this.push("activeRequests",request);request.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,request)).then(this._discardRequest.bind(this,request));var evt=this.fire("iron-ajax-presend",{request:request,options:requestOptions},{bubbles:this.bubbles,cancelable:!0});if(evt.defaultPrevented){request.abort();request.rejectCompletes(request);return request}if(this.lastRequest){this.lastRequest.removeEventListener("iron-request-progress-changed",this._boundOnProgressChanged)}request.addEventListener("iron-request-progress-changed",this._boundOnProgressChanged);request.send(requestOptions);this._setLastProgress(null);this._setLastRequest(request);this._setLoading(!0);this.fire("request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});return request},_handleResponse:function(request){if(request===this.lastRequest){this._setLastResponse(request.response);this._setLastError(null);this._setLoading(!1)}this.fire("response",request,{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-response",request,{bubbles:this.bubbles,composed:!0})},_handleError:function(request,error){if(this.verbose){Polymer.Base._error(error)}if(request===this.lastRequest){this._setLastError({request:request,error:error,status:request.xhr.status,statusText:request.xhr.statusText,response:request.xhr.response});this._setLastResponse(null);this._setLoading(!1)}// Tests fail if this goes after the normal this.fire('error', ...)
this.fire("iron-ajax-error",{request:request,error:error},{bubbles:this.bubbles,composed:!0});this.fire("error",{request:request,error:error},{bubbles:this.bubbles,composed:!0})},_discardRequest:function(request){var requestIndex=this.activeRequests.indexOf(request);if(-1<requestIndex){this.splice("activeRequests",requestIndex,1)}},_requestOptionsChanged:function(){this.debounce("generate-request",function(){if(null==this.url){return}if(this.auto){this.generateRequest()}},this.debounceDuration)}});</script><dom-module id="iron-form" assetpath="bower_components/iron-form/"><template><style>:host{display:block;}</style><slot></slot><form id="helper" action$="[[action]]" method$="[[method]]" enctype$="[[enctype]]"></form></template><script>(function(){Polymer({is:"iron-form",properties:{/*
         * Set this to true if you don't want the form to be submitted through an
         * ajax request, and you want the page to redirect to the action URL
         * after the form has been submitted.
         */allowRedirect:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},/**
         * HTTP request headers to send. See PolymerElements/iron-ajax for
         * more details. Only works when `allowRedirect` is false.
         */headers:{type:Object,value:function(){return{}}},/**
         * Set the `withCredentials` flag on the request. See
         * PolymerElements/iron-ajax for more details. Only works when
         * `allowRedirect` is false.
         */withCredentials:{type:Boolean,value:!1}},/**
       * Fired if the form cannot be submitted because it's invalid.
       *
       * @event iron-form-invalid
       */ /**
       * Fired after the form is submitted.
       *
       * @event iron-form-submit
       */ /**
       * Fired before the form is submitted.
       *
       * @event iron-form-presubmit
       */ /**
       * Fired after the form is reset.
       *
       * @event iron-form-reset
       */ /**
       * Fired after the form is submitted and a response is received. An
       * IronRequestElement is included as the event.detail object.
       *
       * @event iron-form-response
       */ /**
       * Fired after the form is submitted and an error is received. An
       * error message is included in event.detail.error and an
       * IronRequestElement is included in event.detail.request.
       *
       * @event iron-form-error
       */ /**
       * @return {void}
       */attached:function(){// We might have been detached then re-attached.
// Avoid searching again for the <form> if we already found it.
if(this._form){return}// Search for the `<form>`, if we don't find it, observe for
// mutations.
this._form=Polymer.dom(this).querySelector("form");if(this._form){this._init();// Since some elements might not be upgraded yet at this time,
// we won't be able to look into their shadowRoots for submittables.
// We wait a tick and check again for any missing submittable default
// values.
this.async(this._saveInitialValues.bind(this),1)}else{this._nodeObserver=Polymer.dom(this).observeNodes(function(mutations){for(var i=0;i<mutations.addedNodes.length;i++){if("FORM"===mutations.addedNodes[i].tagName){this._form=mutations.addedNodes[i];// At this point in time, all custom elements are expected
// to be upgraded, hence we'll be able to traverse their
// shadowRoots.
this._init();Polymer.dom(this).unobserveNodes(this._nodeObserver);this._nodeObserver=null}}}.bind(this))}},/**
       * @return {void}
       */detached:function(){if(this._nodeObserver){Polymer.dom(this).unobserveNodes(this._nodeObserver);this._nodeObserver=null}},_init:function(){this._form.addEventListener("submit",this.submit.bind(this));this._form.addEventListener("reset",this.reset.bind(this));// Save the initial values.
this._defaults=this._defaults||new WeakMap;this._saveInitialValues()},/**
       * Saves the values of all form elements that will be used when resetting
       * the form. Initially called asynchronously on attach. Any time you
       * call this function, the previously saved values for a form element will
       * be overwritten.
       *
       * This function is useful if you are dynamically adding elements to
       * the form, or if your elements are asynchronously setting their values.
       * @return {void}
       */saveResetValues:function(){this._saveInitialValues(!0/* skipSlots */)},/**
       * @param {boolean=} overwriteValues
       * @return {void}
       */_saveInitialValues:function(overwriteValues){for(var nodes=this._getValidatableElements(),i=0,node;i<nodes.length;i++){node=nodes[i];if(!this._defaults.has(node)||overwriteValues){// Submittables are expected to have `value` property,
// that's what gets serialized.
var defaults={value:node.value};if("checked"in node){defaults.checked=node.checked}// In 1.x iron-form would reset `invalid`, so
// keep it here for backwards compat.
if("invalid"in node){defaults.invalid=node.invalid}this._defaults.set(node,defaults)}}},/**
       * Validates all the required elements (custom and native) in the form.
       * @return {boolean} True if all the elements are valid.
       */validate:function(){// If you've called this before distribution happened, bail out.
if(!this._form){return!1}if(""===this._form.getAttribute("novalidate"))return!0;// Start by making the form check the native elements it knows about.
// Go through all the elements, and validate the custom ones.
for(var valid=this._form.checkValidity(),elements=this._getValidatableElements(),el,i=0,validatable;el=elements[i],i<elements.length;i++){// This is weird to appease the compiler. We assume the custom element
// has a validate() method, otherwise we can't check it.
validatable=/** @type {{validate: (function() : boolean)}} */el;if(validatable.validate){valid=!!validatable.validate()&&valid}}return valid},/**
       * Submits the form.
       *
       * @param {Event=} event
       * @return {void}
       */submit:function(event){// We are not using this form for submission, so always cancel its event.
if(event){event.preventDefault()}// If you've called this before distribution happened, bail out.
if(!this._form){return}if(!this.validate()){this.fire("iron-form-invalid");return}// Remove any existing children in the submission form (from a previous
// submit).
this.$.helper.textContent="";var json=this.serializeForm();// If we want a redirect, submit the form natively.
if(this.allowRedirect){// If we're submitting the form natively, then create a hidden element for
// each of the values.
for(var element in json){this.$.helper.appendChild(this._createHiddenElement(element,json[element]))}// Copy the original form attributes.
this.$.helper.action=this._form.getAttribute("action");this.$.helper.method=this._form.getAttribute("method")||"GET";this.$.helper.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded";this.$.helper.submit();this.fire("iron-form-submit")}else{this._makeAjaxRequest(json)}},/**
       * Resets the form to the default values.
       *
       * @param {Event=} event
       * @return {void}
       */reset:function(event){// We are not using this form for submission, so always cancel its event.
if(event)event.preventDefault();// If you've called this before distribution happened, bail out.
if(!this._form){return}// Ensure the native form fired the `reset` event.
// User might have bound `<button on-click="_resetIronForm">`, or directly
// called `ironForm.reset()`. In these cases we want to first reset the
// native form.
if(!event||"reset"!==event.type||event.target!==this._form){this._form.reset();return}// Load the initial values.
for(var nodes=this._getValidatableElements(),i=0,node;i<nodes.length;i++){node=nodes[i];if(this._defaults.has(node)){var defaults=this._defaults.get(node);for(var propName in defaults){node[propName]=defaults[propName]}}}this.fire("iron-form-reset")},/**
       * Serializes the form as will be used in submission. Note that `serialize`
       * is a Polymer reserved keyword, so calling `someIronForm`.serialize()`
       * will give you unexpected results.
       * @return {!Object<string, *>} An object containing name-value pairs for elements that
       *                  would be submitted.
       */serializeForm:function(){// Only elements that have a `name` and are not disabled are submittable.
for(var elements=this._getSubmittableElements(),json={},i=0,values;i<elements.length;i++){values=this._serializeElementValues(elements[i]);for(var v=0;v<values.length;v++){this._addSerializedElement(json,elements[i].name,values[v])}}return json},_handleFormResponse:function(event){this.fire("iron-form-response",event.detail)},_handleFormError:function(event){this.fire("iron-form-error",event.detail)},_makeAjaxRequest:function(json){// Initialize the iron-ajax element if we haven't already.
if(!this.request){this.request=document.createElement("iron-ajax");this.request.addEventListener("response",this._handleFormResponse.bind(this));this.request.addEventListener("error",this._handleFormError.bind(this))}// Native forms can also index elements magically by their name (can't make
// this up if I tried) so we need to get the correct attributes, not the
// elements with those names.
this.request.url=this._form.getAttribute("action");this.request.method=this._form.getAttribute("method")||"GET";this.request.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded";this.request.withCredentials=this.withCredentials;this.request.headers=this.headers;if("POST"===this._form.method.toUpperCase()){this.request.body=json}else{this.request.params=json}// Allow for a presubmit hook
var event=this.fire("iron-form-presubmit",{},{cancelable:!0});if(!event.defaultPrevented){this.request.generateRequest();this.fire("iron-form-submit",json)}},_getValidatableElements:function(){return this._findElements(this._form,!0,!1)},_getSubmittableElements:function(){return this._findElements(this._form,!1,!1)},/**
       * Traverse the parent element to find and add all submittable nodes to
       * `submittable`.
       * @param  {!Node} parent The parent node
       * @param  {!boolean} ignoreName  Whether the name of the submittable nodes should be disregarded
       * @param  {!boolean} skipSlots  Whether to skip traversing of slot elements
       * @param  {!Array<!Node>=} submittable Reference to the array of submittables
       * @return {!Array<!Node>}
       * @private
       */_findElements:function(parent,ignoreName,skipSlots,submittable){submittable=submittable||[];for(var nodes=Polymer.dom(parent).querySelectorAll("*"),i=0;i<nodes.length;i++){// An element is submittable if it is not disabled, and if it has a
// name attribute.
if(!skipSlots&&("slot"===nodes[i].localName||"content"===nodes[i].localName)){this._searchSubmittableInSlot(submittable,nodes[i],ignoreName)}else{this._searchSubmittable(submittable,nodes[i],ignoreName)}}return submittable},/**
       * Traverse the distributed nodes of a slot or content element
       * and add all submittable nodes to `submittable`.
       * @param  {!Array<!Node>} submittable Reference to the array of submittables
       * @param  {!Node} node The slot or content node
       * @param  {!boolean} ignoreName  Whether the name of the submittable nodes should be disregarded
       * @return {void}
       * @private
       */_searchSubmittableInSlot:function(submittable,node,ignoreName){for(var assignedNodes=Polymer.dom(node).getDistributedNodes(),i=0;i<assignedNodes.length;i++){if(assignedNodes[i].nodeType===Node.TEXT_NODE){continue}// Note: assignedNodes does not contain <slot> or <content> because
// getDistributedNodes flattens the tree.
this._searchSubmittable(submittable,assignedNodes[i],ignoreName);for(var nestedAssignedNodes=Polymer.dom(assignedNodes[i]).querySelectorAll("*"),j=0;j<nestedAssignedNodes.length;j++){this._searchSubmittable(submittable,nestedAssignedNodes[j],ignoreName)}}},/**
       * Traverse the distributed nodes of a slot or content element
       * and add all submittable nodes to `submittable`.
       * @param  {!Array<!Node>} submittable Reference to the array of submittables
       * @param  {!Node} node The node to be
       * @param  {!boolean} ignoreName  Whether the name of the submittable nodes should be disregarded
       * @return {void}
       * @private
       */_searchSubmittable:function(submittable,node,ignoreName){if(this._isSubmittable(node,ignoreName)){submittable.push(node)}else if(node.root){this._findElements(node.root,ignoreName,!0,submittable)}},/**
       * An element is submittable if it is not disabled, and if it has a
       * 'name' attribute. If we ignore the name, check if is validatable.
       * This allows `_findElements` to decide if to explore an element's shadowRoot
       * or not: an element implementing `validate()` is considered validatable, and
       * we don't search for validatables in its shadowRoot.
       * @param {!Node} node
       * @param {!boolean} ignoreName
       * @return {boolean}
       * @private
       */_isSubmittable:function(node,ignoreName){return!node.disabled&&(ignoreName?node.name||"function"===typeof node.validate:node.name)},_serializeElementValues:function(element){// We will assume that every custom element that needs to be serialized
// has a `value` property, and it contains the correct value.
// The only weird one is an element that implements
// IronCheckedElementBehaviour, in which case like the native checkbox/radio
// button, it's only used when checked. For native elements, from
// https://www.w3.org/TR/html5/forms.html#the-form-element. Native
// submittable elements: button, input, keygen, object, select, textarea;
// 1. We will skip `keygen and `object` for this iteration, and deal with
// them if they're actually required.
// 2. <button> and <textarea> have a `value` property, so they behave like
//    the custom elements.
// 3. <select> can have multiple options selected, in which case its
//    `value` is incorrect, and we must use the values of each of its
//    `selectedOptions`
// 4. <input> can have a whole bunch of behaviours, so it's handled
// separately.
// 5. Buttons are hard. The button that was clicked to submit the form
//    is the one who's name/value gets sent to the server.
var tag=element.tagName.toLowerCase();if("button"===tag||"input"===tag&&("submit"===element.type||"reset"===element.type)){return[]}if("select"===tag){return this._serializeSelectValues(element)}else if("input"===tag){return this._serializeInputValues(element)}else{if(element._hasIronCheckedElementBehavior&&!element.checked)return[];return[element.value]}},_serializeSelectValues:function(element){// A <select multiple> has an array of options, some of which can be
// selected.
for(var values=[],i=0;i<element.options.length;i++){if(element.options[i].selected){values.push(element.options[i].value)}}return values},_serializeInputValues:function(element){// Most of the inputs use their 'value' attribute, with the exception
// of radio buttons, checkboxes and file.
var type=element.type.toLowerCase();// Don't do anything for unchecked checkboxes/radio buttons.
// Don't do anything for file, since that requires a different request.
if(("checkbox"===type||"radio"===type)&&!element.checked||"file"===type){return[]}return[element.value]},_createHiddenElement:function(name,value){var input=document.createElement("input");input.setAttribute("type","hidden");input.setAttribute("name",name);input.setAttribute("value",value);return input},_addSerializedElement:function(json,name,value){// If the name doesn't exist, add it. Otherwise, serialize it to
// an array,
if(json[name]===void 0){json[name]=value}else{if(!Array.isArray(json[name])){json[name]=[json[name]]}json[name].push(value)}}})})();</script></dom-module><dom-module id="api-property-form-item" assetpath="bower_components/api-property-form-item/"><template><style>:host([required]) paper-input{--paper-input-container-label:{color:var(--api-property-form-item-input-label-color, var(--raml-type-form-input-required-label-color, rgba(0, 0, 0, 0.74)));};}:host([required]) paper-input{--paper-input-container-label:{color:var(--api-property-form-item-input-label-required-color, var(--raml-type-form-input-required-label-color-required, rgba(0, 0, 0, 0.72)));font-weight:500;};}:host([is-array]) .content{padding-left:8px;border-left:1px var(--raml-type-form-input-array-border-color, rgba(0, 0, 0, 0.14)) solid;}:host([is-nillable]:not([is-array])) .content{@apply --layout-horizontal;@apply --layout-center;}.action-icon{color:var(--from-row-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:opacity 0.2s ease-in-out, color 0.2s ease-in-out;}.action-icon:hover{color:var(--from-row-action-icon-color-hover, var(--accent-color, rgba(0, 0, 0, 0.88)));}.array-item{@apply --layout-horizontal;}paper-input,
    paper-dropdown-menu{@apply --layout-flex;}paper-dropdown-menu{width:100%;}paper-button iron-icon{margin-right:12px;}label{@apply --arc-font-caption;}paper-item:hover{@apply --paper-item-hover;}.nil-option{margin-left:8px;}</style><div class="content"><template is="dom-if" if="[[isEnum]]"><paper-dropdown-menu label="[[model.schema.inputLabel]]" name="[[name]]" required="[[model.required]]" auto-validate="" data-type="enum" no-label-float="[[noLabelFloat]]" disabled="[[readonly]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{value}}"><template is="dom-repeat" items="[[model.schema.enum]]"><paper-item data-value$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[isBoolean]]"><paper-dropdown-menu label="[[model.schema.inputLabel]]" name="[[name]]" required="[[model.required]]" auto-validate="" data-type="boolean" no-label-float="[[noLabelFloat]]" disabled="[[readonly]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{value}}"><paper-item data-value="true">True</paper-item><paper-item data-value="false">False</paper-item></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[isInput]]"><paper-input label="[[model.schema.inputLabel]]" value="{{value}}" required="[[model.required]]" pattern="[[model.schema.pattern]]" name="[[name]]" auto-validate="" type="[[model.schema.inputType]]" min="[[model.schema.minimum]]" max="[[model.schema.maximum]]" maxlength="[[model.schema.maxLength]]" minlength="[[model.schema.minLength]]" always-float-label="[[_computeAlwaysFloatLabel(model.schema.inputFloatLabel, model.schema.inputType)]]" placeholder="[[model.schema.inputPlaceholder]]" no-label-float="[[noLabelFloat]]" readonly="[[readonly]]" data-type="input"></paper-input></template><template is="dom-if" if="[[isArray]]"><label hidden$="[[noLabelFloat]]">[[model.schema.inputLabel]]</label><template is="dom-repeat" items="[[arrayValue]]" class="array-repeater"><div class="array-item"><paper-input label="Parameter value" value="{{item.value}}" required="[[model.required]]" pattern="[[model.schema.pattern]]" name="[[name]]" auto-validate="" type="[[model.schema.inputType]]" min="[[model.schema.minimum]]" max="[[model.schema.maximum]]" maxlength="[[model.schema.maxLength]]" minlength="[[model.schema.minLength]]" no-label-float="" on-input="_arrayValueChanged" readonly="[[readonly]]" data-type="array"></paper-input><template is="dom-if" if="[[index]]"><paper-icon-button class="action-icon" suffix="" icon="arc:remove-circle-outline" on-tap="_removeArrayValue" title="Remove array value" disabled="[[readonly]]"></paper-icon-button></template></div></template><div class="add-action"><paper-button on-tap="addEmptyArrayValue" title="Add array velue button" disabled="[[readonly]]"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add array value icon"></iron-icon>Add array value</paper-button></div></template><template is="dom-if" if="[[_renderNillable]]"><paper-checkbox class="nil-option" on-checked-changed="_nillableChanged">Nil</paper-checkbox></template></div></template><script>/**
   * An element that renders a form input to edit API type value.
   *
   * This element is to replace deprecated `raml-type-form-input` that has
   * the same functionality but works with RAML data only.
   *
   * **If you need an element that works with Polymer 1.0, use old `raml-type-form-input` element**
   *
   * It accespt ARC view model generated by either `api-headers-editr`
   * or `api-url-data-model`. The model is generated using
   * `api-view-model-transformer` that transforms AMF `json/ld` API model
   * into data model consumable by ARC UI elements.
   *
   * ### Example
   *
   * ```html
   * <api-property-form-item model='{"inputLabel": "Enter value"}' name="propertyName" value="{{value}}"></raml-type-form-input>
   * ```
   *
   * ### Styling
   *
   * `<raml-type-form-input>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--raml-type-form-input` | Mixin applied to the element | `{}`
   * `--api-property-form-item-input-label-color` | Input's label color | `rgba(0, 0, 0, 0.74)`
   * `--api-property-form-item-input-label-required-color` | Input's label color when required | `rgba(0, 0, 0, 0.74)`
   * `--from-row-action-icon-color` | Theme variable, color of the action icon button | `--icon-button-color` or `rgba(0, 0, 0, 0.74)`
   * `--from-row-action-icon-color-hover` | Theme variable, color of the action icon button when hovered | `--accent-color` or `rgba(0, 0, 0, 0.74)`
   * `--from-row-action-icon-opacity` | Opacity of the action icon button | `0.54`
   * `--from-row-action-icon-opacity` | Opacity of the action icon button when hovered | `0.74`
   * `--arc-font-caption` | Theme mixin, applied to array values label | `{}`
   * `--raml-type-form-input-array-border-color` | Border color of the element when it is array type item | `rgba(0, 0, 0, 0.14)`
   *
   * Also, use mixins and variables for `paper-input`, `paper-dropdown-menu`, `paper-listbox` and `paper-item` to style this element.
   *
   * ## Changes in v 2
   *
   * Properties `isEnum`, `isInput`, `isArray`, `isBoolean` and `arrayValue`
   * are now read only.
   *
   * @customElement
   * @memberof ApiElements
   * @appliesMixin Polymer.IronValidatableBehavior
   * @polymer
   * @demo demo/index.html
   */class ApiPropertyFormItem extends Polymer.mixinBehaviors(Polymer.IronValidatableBehavior,Polymer.Element){static get is(){return"api-property-form-item"}static get properties(){return{/**
         * View model generated for this view.
         *
         * @type {Array<Object>}
         */model:{type:Array,observer:"_modelChanged"},/**
         * Name of the form item
         */name:{type:String,reflectToAttribute:!0/* ignoreName */ /* skipSlots */},/**
         * Input's value.
         */value:{type:String,notify:!0},// Computed value, True if current item is a dropdown with values.
isEnum:{type:Boolean,readOnly:!0},// Computed value, True if current item is an regular input
isInput:{type:Boolean,value:!0,readOnly:!0},// Computed value, True if current item is an array object
isArray:{type:Boolean,reflectToAttribute:!0,readOnly:!0},// Computed value, True if current item is an union with nill value.
isNillable:{type:Boolean,reflectToAttribute:!0,readOnly:!0},// Computed value, True if current item is a boolean value
isBoolean:{type:Boolean,readOnly:!0},// A value of an array item (only if `isArray` is set)
arrayValue:{type:Array,readOnly:!0},/**
         * When set, prohibits inputs to have floating labels
         */noLabelFloat:Boolean,/**
         * Set to indicate that the consol is required
         */required:{type:Boolean,reflectToAttribute:!0},/**
         * When set the editor is in read only mode.
         */readonly:Boolean,// Computed value, renders nillable switch when needed.
_renderNillable:{type:Boolean,computed:"_computeRenderNillable(isNillable, isArray)"}}}static get observers(){return["_isArrayChanged(isArray, value)"]}/**
     * Resets UI state variables
     */_resetStates(){this._setIsEnum(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */);this._setIsInput(!1);this._setIsArray(!1);this._setIsBoolean(!1);this._setIsNillable(!1)}// Sets the template depending on model configuration
_modelChanged(model){this._resetStates();if(!model){return}const schema=model.schema;switch(!0){case schema.isEnum:this._setIsEnum(!0);break;case schema.isArray:this._prepareArraySchema(model);break;case schema.isBool:this._setIsBoolean(!0);break;default:this._setIsInput(!0);}this._setIsNillable(!!schema.isNillable)}/**
     * Sets `arrayValue` from model's value.
     *
     * @param {Object} model ARC amf view model.
     */_prepareArraySchema(model){this._setIsArray(!0);let value;if(model.value&&model.value instanceof Array){value=model.value.map(item=>{return{value:item}})}else{value=[]}this._setArrayValue(value)}// Sets array values if needed
_isArrayChanged(isArray){if(this.__internalChange){return}const v=this.value;if(!v||!isArray){this._setArrayValue(void 0);return}this._setArrayValue(this._itemsForArray(v))}/**
     * The `dom-repeat` requires an object to properly support changes.
     * In order to do this simple values has to be transformed into objects.
     *
     * @param {Array<String>} value An array of values.
     * @return {Array}
     */_itemsForArray(value){let result=[];if(value instanceof Array){result=value.map(function(item){return{value:item}})}else{result.push({value:value})}return result}// Handles array value change and sets the `value` property.
_arrayValueChanged(){let arr=this.arrayValue;if(arr){arr=arr.map(function(item){return item.value})}this.__internalChange=!0;this.set("value",arr);this.__internalChange=!1}/**
     * Adds new element to the array value.
     * @return {Number} Index of the value in the values array.
     * Note that the index may change over time if the user remove any value.
     */addEmptyArrayValue(){if(this.arrayValue){this.push("arrayValue",{value:""})}else{this.set("arrayValue",[{value:""}])}return this.arrayValue.length-1}/**
     * Removes an array value for given index.
     * @param {Number} index A position of the value in the array
     */removeArrayValue(index){this.splice("arrayValue",index,1);this._arrayValueChanged()}// Removes item from array value.
_removeArrayValue(e){const repeater=this.shadowRoot.querySelector(".array-repeater"),index=repeater.indexForElement(e.target);this.removeArrayValue(index)}/**
     * Fallback validator if form validator is unavailable.
     *
     * @return {Boolean} True if the constrol is valid.
     */_defaultValidator(){const m=this.model;if(!m){return!0}return!!m.required&&!!m.value}_getValidity(){if(this._nilEnabled){return!0}switch(!0){case this.isInput:const input=this.shadowRoot.querySelector("paper-input[data-type=\"input\"]");return input?input.validate():this._defaultValidator();case this.isBoolean:const bool=this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"boolean\"]");return bool?bool.validate():this._defaultValidator();case this.isEnum:const en=this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"enum\"]");return en?en.validate():this._defaultValidator();case this.isArray:let inputs=this.shadowRoot.querySelectorAll("paper-input[data-type=\"array\"]");for(let i=0;i<inputs.length;i++){if(!inputs[i].validate()){return!1}}return!0;default:return this._defaultValidator();}}/**
     * Computes value for `_renderNillable` property.
     *
     * @param {Boolean} isNillable
     * @param {Boolean} isArray
     * @return {Boolean}
     */_computeRenderNillable(isNillable,isArray){return!!isNillable&&!isArray}/**
     * Controls value and input state when "nil" checkbox's value change.
     * @param {CustomEvent} e
     */_nillableChanged(e){const{value}=e.detail;this._nilEnabled=value;const input=this._getInput();if(input){input.disabled=value}if(value){this._oldNilValue=this.value;this.value="nil"}else{if(this._oldNilValue){this.value=this._oldNilValue;this._oldNilValue=void 0}else if("nil"===this.value){this.value=""}}}/**
     * Finds input element in the DOM
     * @return {Element|undefined} An element that represents the main UI input
     * element or undefined for array types.
     */_getInput(){if(this.isEnum){return this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"enum\"]")}if(this.isBoolean){return this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"boolean\"]")}if(this.isInput){return this.shadowRoot.querySelector("paper-input[data-type=\"input\"]")}}/**
     * Computes value for paper-input's always-float-label attribute.
     * It forces label float for some types of inputs.
     * @param {Boolean} inputFloatLabel
     * @param {String} inputType
     * @return {Boolean}
     */_computeAlwaysFloatLabel(inputFloatLabel,inputType){if(inputFloatLabel){return inputFloatLabel}return-1!==["date","datetime","datetime-local","month","time","week","file"].indexOf(inputType)}}window.customElements.define(ApiPropertyFormItem.is,ApiPropertyFormItem);</script></dom-module><script>(function(global){'use strict';if(!global.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */global.ArcBehaviors={}}/**
 * A behavior to be implemented to elements that processes AMF data via form
 * data model and displays forms from the model.
 *
 * It contains common methods used in forms.
 *
 * Use `api-form-styles` from this package to include common styles.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.ApiFormMixin=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class AFmixin extends base{static get properties(){return{/**
         * View model to use to render the form.
         */model:{type:Array,notify:!0/* ignoreName */ /* skipSlots */},/**
         * Set to true to show optional parameters (not required by the API).
         */optionalOpened:{type:Boolean,reflectToAttribute:!0},/**
         * Computed value from `allowHideOptional` and view model.
         * `true` if current model has any optional property.
         */hasOptional:{type:Boolean,computed:"_computeHasOptionalParameters(allowHideOptional, model.*)",notify:!0},/**
         * If set it computes `hasOptional` property and shows checkbox in the
         * form to show / hide optional properties.
         */allowHideOptional:Boolean,/**
         * Computed flag to determine if optional checkbox can be rendered
         */renderOptionalCheckbox:{type:Boolean,computed:"_computeRenderCheckbox(allowHideOptional, hasOptional)"},/**
         * If set, enable / disable param checkbox is rendered next to each
         * form item.
         */allowDisableParams:Boolean,/**
         * When set, renders "add custom" item button.
         * If the element is to be used withouth AMF model this should always
         * be enabled. Otherwise users won't be able to add a parameter.
         */allowCustom:Boolean,/**
         * Renders items in "narrow" view
         */narrow:Boolean,/**
         * Computed value. The form renders empty message (if supported by
         * the form element). It occurs when model is not set and allowCustom
         * is not set
         */renderEmptyMessage:{type:Boolean,value:!0,computed:"_computeRenderEmptyMessage(allowCustom, model)"}}}/**
     * Computes class name for each form item depending on the item state.
     *
     * @param {Object} item Model item
     * @param {Boolean} allowHideOptional
     * @param {Boolean} optionalOpened True if optional parameters are rendered.
     * @param {Boolean} allowDisableParams
     * @return {String}
     */computeFormRowClass(item,allowHideOptional,optionalOpened,allowDisableParams){let clazz="param-value";if(item&&item.required){clazz+=" required"}else if(allowHideOptional){clazz+=" optional"}if(optionalOpened){clazz+=" with-optional"}if(allowDisableParams){clazz+=" has-enable-button"}return clazz}/**
     * Toggles visibility of optional parameters.
     */toggleOptionalParams(){if(!this.allowHideOptional){return}this.optionalOpened=!this.optionalOpened}/**
     * Returns a reference to the form element, if the DOM is ready.
     * This only works with `iron-form` that is in the DOM.
     *
     * @return {IronForm} Iron form element. It may be `undefined` if local
     * DOM is not yet initialized.
     */_getForm(){if(!this.$.form&&this.shadowRoot){this.$.form=this.shadowRoot.querySelector("iron-form")}return this.$.form}/**
     * Validates the form. It uses `iron-form`'s `validate()` function to
     * perform the validation.
     * @return {Boolean} Validation result or `true` if DOM is not yet ready.
     */_getValidity(){const form=this._getForm();if(!form){return!0}return form.validate()}/**
     * Link to the form's serialize function.
     * @return {Object} Serialized form values or `undefined` if DOM is not ready.
     * Note, `undefined` is returned **only** if DOM is not yet ready.
     */serializeForm(){const form=this._getForm();if(!form){return}return form.serializeForm()}/**
     * Computes if any of the parameters are required.
     * It iterates over the model to find any first element that has `required`
     * propeerty set to `false`.
     *
     * @param {Boolean} allowHideOptional State of `allowHideOptional` property.
     * If `false` this function always returns `false`.
     * @param {Object} record Change record. Note, it does not checks for
     * optional parameters each time the model changes. It rescans the model
     * when splices changed.
     * @return {Boolean} `true` if model has at leas one alement that is not required.
     */_computeHasOptionalParameters(allowHideOptional,record){if(!allowHideOptional||!record.base||!record.path){return(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}if("model"!==record.path&&"model.splices"!==record.path){return this.hasOptional}return record.base.some(item=>!1===item.required)}/**
     * Computes value for `renderOptionalCheckbox` property.
     *
     * @param {Boolean} render Value of `allowHideOptional` property
     * @param {Boolean} has Value of `hasOptional` property.
     * @return {Boolean} True if both values are `true`.
     */_computeRenderCheckbox(render,has){return render&&has}/**
     * Computes if given model item is a custom property (not generated by
     * AMF model transformation).
     * @param {Object} model Model item.
     * @return {Boolean} `true` if `isCustom` property is set on model's schema
     * property.
     */_computeIsCustom(model){if(!model||!model.schema||!model.schema.isCustom){return!1}return!0}/**
     * Adds empty custom property to the list.
     *
     * It dispatches `api-property-model-build` custom event that is handled by
     * `api-view-model-transformer` to build model item.
     * This assumem that the transformer element is already in the DOM.
     *
     * After the transformation the element pushes or sets the data to the
     * `model`.
     *
     * @param {String} binding Value if the `binding` property.
     * @param {Object} opts Additional options:
     * - inputLabel {String} - Forces a label of the input
     */addCustom(binding,opts){if(!opts){opts={}}const e=new CustomEvent("api-property-model-build",{bubbles:!0,composed:!0,cancelable:!0,detail:{name:opts.name||"",value:opts.value||"",binding:binding,schema:{enabled:!0,isCustom:!0,inputLabel:opts.inputLabel||void 0}}});this.dispatchEvent(e);if(this.model){this.push("model",e.detail)}else{this.set("model",[e.detail])}this.optionalOpened=!0}/**
     * Removes custom item from the UI.
     * This can only be called from `dom-repeat` element so it contain's
     * `model` property.
     *
     * @param {CustomEvent} e
     */_removeCustom(e){this.splice("model",e.model.get("index"),1)}/**
     * Computes if model item is optional.
     * The items is always optional if is not required and when `hasOptional`
     * is set to `true`.
     *
     * @param {Boolean} hasOptional [description]
     * @param {Object} model Model item.
     * @return {Boolean} `true` if the model item is optional in the form.
     */computeIsOptional(hasOptional,model){if(!hasOptional){return!1}if(!model||!model.required){return!0}return!1}/**
     * Computes value for `renderEmptyMessage`.
     *
     * @param {Boolean} allowCustom True if the form allows to add custom values.
     * @param {?Array} model Current model
     * @return {Boolean} `true` when allowCustom is falsy set and model is empty
     */_computeRenderEmptyMessage(allowCustom,model){return!allowCustom&&!model}}return AFmixin})})(window);</script><dom-module id="api-form-styles" assetpath="bower_components/api-form-mixin/"><template><style>.form-item{@apply --layout-horizontal;@apply --layout-start;@apply --api-form-row;}:host([narrow]) .form-item,
    .narrow .form-item{display:block;@apply --api-form-row-narrow;}.form-item[data-optional]{display:none;@apply --api-form-row-optional;}:host([optional-opened]) [data-optional]{@apply --layout-horizontal;@apply --api-form-row-optional-visible;}.action-button{transition:color 0.25s ease-in-out, background-color 0.25s ease-in-out;margin:var(--api-form-action-button-margin-top, 0);color:var(--api-form-action-button-color, var(--secondary-button-color, var(--accent-color)));background-color:var(--api-form-action-button-background-color, var(--secondary-button-background));@apply --secondary-button;@apply --api-form-action-button;}.action-button:hover{color:var(--api-form-action-button-hover-color, var(--secondary-button-color, var(--accent-color)));background-color:var(--api-form-action-button-hover-background-color, var(--secondary-button-background));@apply --secondary-button-hover;@apply --api-form-action-button-hover;}.action-button .action-icon{margin-right:12px;color:var(--api-form-action-button-color, var(--secondary-button-color, var(--accent-color)));}.action-button:hover .action-icon{color:var(--api-form-action-button-hover-color, var(--secondary-button-color, var(--accent-color)));}.hint-icon{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s ease-in-out;@apply --icon-button;}.hint-icon:hover{color:var(--hint-trigger-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));@apply --icon-button-hover;}.action-icon{color:var(--api-form-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:color 0.2s ease-in-out;}.action-icon:hover{color:var(--api-form-action-icon-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));}marked-element{background-color:var(--inline-documentation-background-color, #FFF3E0);padding:4px;}.docs{@apply --arc-font-body1;color:var(--inline-documentation-color, rgba(0, 0, 0, 0.87));margin-right:40px;}.markdown-body *{font-size:var(--inline-documentation-font-size, 13px) !important;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style></template></dom-module><dom-module id="api-url-params-custom-input" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style include="markdown-styles">:host{display:block;@apply --api-url-params-custom-input;}.form-row{@apply --layout-horizontal;@apply --layout-center;@apply --api-request-parameters-editor-row;}.name-field,
    .value-field{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-start;}.param-name,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.narrow.form-row{display:block;@apply --api-request-parameters-editor-row-narrow;}.name-field{margin-right:12px;}.narrow .name-field{margin-right:0;}</style><div class$="form-row [[_computeNarrowClass(narrow)]]"><div class="name-field"><paper-input value="{{name}}" label="Parameter name" class="param-name" type="text" required="" auto-validate=""></paper-input></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" required$="[[required]]"></api-property-form-item></div></div></template><script>/**
   * Renders custom query parameter property input.
   *
   * Styling
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-url-params-custom-input` | Mixin applied to this element | `{}`
   * `--api-request-parameters-editor-row` | Mixin applied to custom parameter form row | `{}`
   * `--api-request-parameters-editor-row-narrow` | Mixin applied to custom parameter form row when narrow | `{}`
   *
   * You can also style inputs as defined in
   * [api-property-form-item](https://github.com/advanced-rest-client/api-property-form-item)
   * element documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/custom.html Cutom parameters
   * @memberof ApiElements
   * @appliesMixin Polymer.IronValidatableBehavior
   */class ApiUrlParamsCustomInput extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"api-url-params-custom-input"}static get properties(){return{/**
         * View model to use to render the form.
         * See `api-url-params-editor` element for more information.
         */model:Array,/**
         * Name of this custom control
         */name:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
         * Value of the control
         */value:{type:String,notify:!0},/**
         * The form can display query or URI parameters. When anything change in the form
         * it will send a corresponding custom event (`query-parameter-changed` or
         * `uri-parameter-changed`). To make this happen set the value of this property to
         * either `query` or `uri`.
         */required:Boolean,/**
         * If set it renders a narrow layout
         */narrow:Boolean}}// Overidden from Polymer.IronValidatableBehavior. Will set the `invalid`
// attribute automatically, which should be used for styling.
_getValidity(){if(!this.required){return!0}if(!this.name){return(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}return!!this.value}/**
     * Computes css class name for narrow layout
     *
     * @param {Boolean} narrow Value of the `narrow` property.
     * @return {String} Class definition.
     */_computeNarrowClass(narrow){return narrow?"narrow":""}}window.customElements.define(ApiUrlParamsCustomInput.is,ApiUrlParamsCustomInput);</script></dom-module><dom-module id="api-url-params-form" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles">:host{display:block;@apply --raml-request-parameters-form;@apply --api-url-params-form;}.param-value{@apply --raml-request-parameters-editor-row;@apply --api-url-params-form-row;}.param-value.optional{display:none;}.param-value.required{@apply --api-url-params-form-required;}.param-value.optional.with-optional{display:block;}.param-value .input{@apply --layout-horizontal;@apply --layout-flex;}.has-enable-button .docs{margin-left:32px;}.value-input{@apply --layout-horizontal;@apply --layout-start;@apply --layout-flex;}.value-input.is-array{@apply --layout-end;@apply --raml-request-parameters-form-array-parameter;@apply --api-url-params-form-array-parameter;}api-property-form-item,
    api-url-params-custom-input{@apply --layout-flex;margin-bottom:8px;}api-property-form-item[is-array]{margin-top:8px;}[hidden]{display:none !important;}.enable-checkbox{margin-top:var(--api-url-params-form-enable-checkbox-margin-top, 32px);margin-right:8px;}.enable-checkbox[data-array]{margin-top:var(--api-url-params-form-enable-checkbox-array-margin-top, 40px);}.params-title{@apply --layout-horizontal;@apply --layout-center;}.toggle-checkbox{--paper-checkbox-label-color:var(--api-url-params-editor-optional-checkbox-label-color, rgba(0, 0, 0, 0.74));}.param-value paper-icon-button{margin-top:var(--api-url-params-form-hint-icon-margin-top, 16px);}.param-value paper-icon-button[data-array]{margin-top:var(--api-url-params-form-hint-icon-array-margin-top, 24px);}.params-title ::slotted(h3){display:inline-block;margin-right:12px;@apply --api-url-params-editor-editor-subheader;}</style><div class="params-title"><slot name="title"></slot><template is="dom-if" if="[[renderOptionalCheckbox]]"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional parameters">Show optional parameters</paper-checkbox></template></div><iron-form><form enctype="application/json"><dom-repeat items="{{model}}" items-repeater=""><template><div class$="[[computeFormRowClass(item, allowHideOptional, optionalOpened, allowDisableParams)]]"><div class$="value-input [[_computeTypeClass(item.isArray)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" data-array$="[[item.schema.isArray]]" checked="{{item.schema.enabled}}" title="Enable/disable this header"></paper-checkbox></template><template is="dom-if" if="[[!_computeIsCustom(item.schema)]]"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" required$="[[item.required]]"></api-property-form-item></template><template is="dom-if" if="[[_computeIsCustom(item.schema)]]"><api-url-params-custom-input model="[[item]]" name="{{item.name}}" value="{{item.value}}" required$="[[item.required]]" narrow="[[narrow]]"></api-url-params-custom-input></template><template is="dom-if" if="[[_computeHasDocumentation(noDocs, item)]]"><paper-icon-button class="hint-icon" data-array$="[[item.schema.isArray]]" icon="arc:help" on-tap="_openDocs" title="Display documentation"></paper-icon-button></template><template is="dom-if" if="[[_computeIsCustom(item.schema)]]"><paper-icon-button title="Remove parameter" data-array$="[[item.schema.isArray]]" class="delete-icon action-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom"></paper-icon-button></template></div><template is="dom-if" if="[[_computeHasDocumentation(noDocs, item)]]"><div class="docs"><iron-collapse><marked-element markdown="[[_computeDocumentation(item)]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div></template></dom-repeat></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds new query parameter to the form"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add query parameter icon"></iron-icon>Add query parameter</paper-button></div></template></template><script>/**
   * Renders form and input elements for query / uri model.
   *
   * Handles creation of form elements, validation, and rendering documentation.
   *
   * This element **requires** you to set `form-type` attribute to either
   * `uri` or `query` to distinguish type of form. Also, set `form-title`
   * property to render a title. It is useful when adding two forms right after
   * each other.
   *
   * ## Optional parameters
   *
   * By default the element renders all form valus. For better user experience,
   * set `allow-hide-optional` attribute to hide parameters that are optional.
   * It also renders checkbox to toggle optional parameters.
   *
   * Styling
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-url-params-form` | Mixin applied to this element | `{}`
   * `--api-url-params-form-row` | Mixin applied to each form row | `{}`
   * `--api-url-params-form-required` | Mixin applied to a form row that is required | `{}`
   * `--inline-documentation-color` | Color of the documentation when opened. | `rgba(0, 0, 0, 0.87)`
   * `--from-row-action-icon-color` | Color of the documentation icon | `--icon-button-color` or `rgba(0, 0, 0, 0.74)`
   * `--from-row-action-icon-color-hover` | Color of the documentation icon when hovering. Please, consider devices that do not support hovers. | `--accent-color` or `rgba(0, 0, 0, 0.74)`
   * `--inline-documentation-background-color` | Background color of opened documentation. | `#FFF3E0`
   * `--api-url-params-form-array-parameter` | Mixin applied to a container of a parameter that is an array | `{}`
   * `--api-url-params-editor-editor-subheader` | Mixin applied to the form header element | `{}`
   * `--api-url-params-editor-optional-checkbox-label-color,` | Label color of toggle optional checkbox | `rgba(0, 0, 0, 0.74)`
   * `--api-url-params-form-enable-checkbox-margin-top` | Margin top of the toggle checkbox | `32px`
   * `--api-url-params-form-enable-checkbox-array-margin-top` | Margin top of the toggle checkbox when the item is an array | `40px`
   * `--api-url-params-form-hint-icon-margin-top` | Margin top of the "help" icon | `16px`
   * `--api-url-params-form-hint-icon-array-margin-top` | Margin top of the "help" icon when the item is an array| `24px`
   * `--hint-trigger-color` | Color of the help icon | `rgba(0, 0, 0, 0.74)`
   * `--hint-trigger-hover-color` | Color of the help icon when hovering | `rgba(0, 0, 0, 0.88)`
   * `--icon-button` | Mixin applied to all icon buttons | `{}`
   * `--icon-button-hover` | Mixin applied to all icon buttons when hovering | `{}`
   *
   * You can also style inputs as defined in
   * [api-property-form-item](https://github.com/advanced-rest-client/api-property-form-item)
   * element documentation.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin ArcBehaviors.ApiFormMixin
   */class ApiUrlParamsForm extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"api-url-params-form"}static get properties(){return{/**
         * The form can display query or URI parameters. When anything change in the form
         * it will send a corresponding custom event (`query-parameter-changed` or
         * `uri-parameter-changed`). To make this happen set the value of this property to
         * either `query` or `uri`.
         */formType:String,/**
         * Prohibits rendering of the documentation (the icon and the
         * description).
         */noDocs:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}}}connectedCallback(){super.connectedCallback();this._ensureAttribute("role","form")}/**
     * Computes array class for the input element.
     *
     * @param {Boolean} isArray
     * @return {String}
     */_computeTypeClass(isArray){return isArray?"is-array":""}// Opens the documentation for item.
_openDocs(e){const form=this._getForm(),template=form.querySelector("[items-repeater]"),model=template.modelForElement(e.target),collapse=form.querySelector(".param-value:nth-child("+(model.index+1)+") iron-collapse");if(!collapse){return}collapse.opened=!collapse.opened}/**
     * Computes documentation as a markdown to be placed in the `marked-element`
     * @param {Object} item View model
     * @return {String}
     */_computeDocumentation(item){let docs="";if(item.description){docs+=item.description}if(!item.schema){return docs}const schema=item.schema;docs+="\n\n\n";if(schema.pattern){docs+="- Pattern: `"+schema.pattern+"`\n"}if(schema.examples&&schema.examples.length){schema.examples.forEach(item=>{docs+="- Example";if(item.hasName){docs+=" "+item.name}docs+=": `"+item.value+"`\n"})}return docs}/**
     * Computes if model item has documentation to display.
     * @param {Boolean} noDocs If set it always cancels docs
     * @param {Object} item Model item
     * @return {Boolean} True if documentation can be rendered.
     */_computeHasDocumentation(noDocs,item){if(noDocs){return!1}if(item.hasDescription){return!0/* skipSlots */}if(!item.schema){return!1}const schema=item.schema;if(schema.pattern){return!0}if(schema.examples&&schema.examples.length){return!0}return!1}_computeIsCustom(schema){if(!schema||!schema.isCustom){return!1}return!0}/**
     * Adds custom property to the list.
     */add(){this.addCustom("query")}// Overidden from Polymer.IronValidatableBehavior. Will set the `invalid`
// attribute automatically, which should be used for styling.
_getValidity(){return this.shadowRoot.querySelector("iron-form").validate()}}window.customElements.define(ApiUrlParamsForm.is,ApiUrlParamsForm);</script></dom-module><dom-module id="api-url-params-editor" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style>:host{display:block;@apply --raml-request-parameters-editor;@apply --api-url-params-editor;}.empty-message{@apply --raml-request-parameters-editor-no-params;@apply --api-url-params-editor-no-params;}.empty-message p{@apply --raml-request-parameters-editor-no-params-message;@apply --api-url-params-editor-no-params-message;}[hidden]{display:none !important;}</style><section hidden$="[[hasParameters]]" role="region" class="empty-message"><p>This endpoint doesn't require to declare query or URI parameters.</p></section><template is="dom-if" if="[[hasUriParameters]]"><api-url-params-form id="uriParametersForm" role="region" form-type="uri" model="{{uriModel}}" optional-opened="" no-docs="[[noDocs]]"><h3 slot="title">URI parameters</h3></api-url-params-form></template><template is="dom-if" if="[[hasQueryParameters]]"><api-url-params-form id="queryParametersForm" role="region" allow-hide-optional="" allow-disable-params="" allow-custom="[[allowCustom]]" form-type="query" model="{{queryModel}}" narrow="[[narrow]]" no-docs="[[noDocs]]"><h3 slot="title">Query parameters</h3></api-url-params-form></template></template><script>/**
     * `api-url-params-editor`
     * An element to render query / uri parameters form from AMF schema
     *
     * This element is to replace `raml-request-parameters-editor` which can
     * only work with RAML parser custom data model.
     *
     * Use `api-url-params-editor` to generate pre-populated form of query and
     * uri paramters for an API endpoint. It accepts
     * [AMF](https://github.com/mulesoft/amf)
     * json/ld model for an API to render the view.
     *
     * This element works together with `api-url-editor`. Both elements uses
     * the same view data model generated by
     * [api-view-model-transformer]
     * (https://github.com/advanced-rest-client/api-view-model-transformer)
     * element. Because of that neither this or `api-url-editor` does not include
     * the transformer since they both work with the same data model.
     * If you use this elements separatelly you have to use the transformer
     * to generate the view data model.
     *
     * This element does not produce URL for the endpoint. It informs other
     * elements about user input by:
     * - updating the data model with user input and propagate those changes
     * through the listeners
     * - sending `uri-parameter-changes` and `query-parameter-changed` events.
     *
     * The element that generates full URL for the endpoint is `api-url-editor`
     * that listens for the change events and updates URL value.
     *
     * This element listens for the change events and updates values (without
     * notifications) if values are different.
     *
     * Use `eventsTarget` property to scope events to a single node.
     *
     * For special cases you may want to use this element and handle events
     * manually, without using `api-url-input`. If not, then it's easier to
     * use `api-request-editor` and an element tah bound all request editors
     * togeter and produce commong HTTP request object.
     *
     * ## Example
     *
     * See demo page for full example, including AMF model to view model
     * transformation.
     *
     * ```html
     * <!-- Inside Polymer element / app -->
     * <api-view-model-transformer
     *  amf-model="[[queryAmfModel]]"
     *  view-model="{{queryModel}}"></api-view-model-transformer>
     * <api-view-model-transformer
     *  amf-model="[[uriAmfModel]]"
     *  view-model="{{uriModel}}"></api-view-model-transformer>
     * <api-url-params-editor
     *  query-model="[[queryModel]]"
     *  uri-model="[[uriModel]]"></api-url-params-editor>
     * ```
     *
     * ## Custom mode
     *
     * The element allows the user to define custom set of query parameters.
     * It renders a button to add query parameter that is not defined in
     * AMF model.
     *
     * With this mode enabled it always shows query parameters form. Therefore
     * it won't show message that the endpoint does not requires parameters.
     *
     * ```html
     * <api-url-params-editor allow-custom></api-url-params-editor>
     * ```
     *
     * ## Styling
     *
     * Custom property | Description | Default
     * ----------------|-------------|----------
     * `--api-url-params-editor` | Mixin applied to this element | `{}`
     * `--api-url-params-editor-no-params` | Applied to "empty info" message | `{}`
     * `--api-url-params-editor-no-params-message` | Applied to "empty info"
     * label | `{}`
     * `--api-request-parameters-editor-row` | Applied to custom form row | `{}`
     * `--api-request-parameters-editor-row-narrow` | Applied to custom form row
     * when narrow | `{}`
     *
     * See styles for the form and custom input for more styling API.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     * @demo demo/custom.html Cutom parameters
     * @memberof ApiElements
     * @appliesMixin Polymer.IronValidatableBehavior
     */class ApiUrlParamsEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-url-params-editor"}static get properties(){return{/**
           * Computed by `api-view-model-transformer` qury parameters model.
           *
           * Note, this element won't accept AMF data.
           */queryModel:Array,/**
           * Computed value if the `queryParameters` are set.
           * Use `raml-request-parameteres-model` to compute this value.
           */hasQueryParameters:{type:Boolean,computed:"_computeHasData(queryModel, allowCustom)"},/**
           * Computed by `api-view-model-transformer` URI parameters model.
           *
           * Note, this element won't accept AMF data.
           */uriModel:Array,/**
           * Computed value if the `uriParameters` are set.
           * Use `raml-request-parameteres-model` to compute this value.
           */hasUriParameters:{type:Boolean,computed:"_computeHasData(uriModel)"},/**
           * Computed value if `uriParameters` or `queryParameters` are set.
           * Use `raml-request-parameteres-model` to compute this value.
           */hasParameters:{type:Boolean,computed:"_computeHasParameters(hasQueryParameters,hasUriParameters,allowCustom)"},// regexp to match query parameters model change
_queryModelMatcher:{type:Object,value:function(){return /queryModel.(\d+).(name|value|schema\.enabled)/}},// regexp to match uri parameters model change
_uriModelMatcher:{type:Object,value:function(){return /uriModel.(\d+).(name|value|schema\.enabled)/}},/**
           * Map of uri parameters produced by this element.
           */uriValue:{type:Object,notify:!0/* ignoreName */ /* skipSlots */},/**
           * Map of query parameters produced by this element.
           */queryValue:{type:Object,notify:!0},/**
           * When set, renders add custom parameter button in query parameters
           * form
           */allowCustom:Boolean,/**
           * Renders forms in "narrow" view
           */narrow:Boolean,/**
           * Prohibits rendering of the documentation (the icon and the
           * description).
           */noDocs:Boolean}}static get observers(){return["_queryModelChanged(queryModel.*)","_uriModelChanged(uriModel.*)"]}constructor(){super();this._queryParamChangeHandler=this._queryParamChangeHandler.bind(this);this._uriParamChangeHandler=this._uriParamChangeHandler.bind(this)}_attachListeners(node){node.addEventListener("uri-parameter-changed",this._uriParamChangeHandler);node.addEventListener("query-parameter-changed",this._queryParamChangeHandler)}_detachListeners(node){node.removeEventListener("uri-parameter-changed",this._uriParamChangeHandler);node.removeEventListener("query-parameter-changed",this._queryParamChangeHandler)}/**
       * Handler for the `query-parameter-changed` custom event.
       * Updates model value from the event
       *
       * @param {CustomEvent} e
       */_queryParamChangeHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const model=this.queryModel;this._appyEventValues(e.detail,model,"query")}_uriParamChangeHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const model=this.uriModel;this._appyEventValues(e.detail,model,"uri")}/**
       * Applies values from the change event to a model.
       *
       * @param {Object} detail Detail event object
       * @param {Array} model Target model
       * @param {String} source `uri` or `query`
       */_appyEventValues(detail,model,source){if(!model||!model.length){return}const index=model.findIndex(item=>item.name===detail.name);if(-1===index){return}this.__cancelChangeEvent=!0;this.set([source+"Model",index,"value"],detail.value);this.__cancelChangeEvent=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;const schema=model[index].schema;if(schema&&!1===schema.enabled){this.set([source+"Model",index,"schema","enabled"],!0)}}/**
       * Computes boolean value if the argument exists and has items.
       *
       * @param {Array} model Current url model.
       * @param {Boolean} allowCustom
       * @return {Boolean}
       */_computeHasData(model,allowCustom){return!!(model instanceof Array&&model.length)||!!allowCustom}/**
       * Computes value for `hasParameters` property.
       *
       * @param {Boolean} qp State of `hasQueryParameters`
       * @param {Boolean} up State of `hasUriParameters`
       * @param {Boolean} allowCustom
       * @return {Boolean} True if any of the arguments is true
       */_computeHasParameters(qp,up,allowCustom){return!!(qp||up)||!!allowCustom}// Overidden from Polymer.IronValidatableBehavior. Will set the `invalid`
// attribute automatically, which should be used for styling.
_getValidity(){if(!this.shadowRoot){return!0}let validUri=!0,validUrl=!0;if(this.hasUriParameters){const uriForm=this.shadowRoot.querySelector("#uriParametersForm");validUri=uriForm?uriForm.validate():!0}if(this.hasQueryParameters){const urlForm=this.shadowRoot.querySelector("#queryParametersForm");validUrl=urlForm?urlForm.validate():!0}return validUri&&validUrl}/**
       * Handler for query model change in path.
       * Calls `_modelChanged()` function with `type` set to `query`
       *
       * @param {Object} record
       */_queryModelChanged(record){this._modelChanged("query",record)}/**
       * Handler for query model change in path.
       * Calls `_modelChanged()` function with `type` set to `uri`
       *
       * @param {Object} record
       */_uriModelChanged(record){this._modelChanged("uri",record)}/**
       * Handles model path change.
       * Informs listeners about the change and produces parameters output.
       *
       * @param {String} type Data model type. `query` or `uri`
       * @param {Object} record Model change record.
       */_modelChanged(type,record){if(!record||!record.path){return}if("uriModel"===record.path||"queryModel"===record.path){this._renotifyModelChange(type);this._updateModelValue(type)}else if("queryModel.splices"===record.path){const splices=record.value.indexSplices;if(!splices||!splices[0]){return}if(splices[0].removed&&splices[0].removed.length){this._syncValues(!0);this._notifyChange("query",splices[0].removed[0],!0)}}else{const re="uri"===type?this._uriModelMatcher:this._queryModelMatcher,matches=record.path.match(re);if(!matches){return}const item=this.get([type+"Model",+matches[1]]);this._notifyChange(type,item);if(-1!==record.path.indexOf("name")){this._syncValues()}this._updateValue(type,item)}Polymer.RenderStatus.afterNextRender(this,()=>{this.validate()})}/**
       * Sends change notification when entire model change.
       *
       * @param {String} type Data model type. `query` or `uri`
       */_renotifyModelChange(type){const model="uri"===type?this.uriModel:this.queryModel;if(!model||!model.length){return}model.forEach(item=>this._notifyChange(type,item))}/**
       * Notifies about paramter change.
       *
       * @param {String} type Data model type. `query` or `uri`
       * @param {Object} model Model item.
       * @param {Boolean} removed
       */_notifyChange(type,model,removed){if(this.__cancelChangeEvent){return}let enabled=model.schema&&model.schema.enabled;if("boolean"!==typeof enabled){enabled=!0}const detail={name:model.name};if(removed){detail.removed=!0}else{detail.value=model.value;detail.enabled=enabled}const ev=new CustomEvent(type+"-parameter-changed",{detail:detail,cancelable:!0,bubbles:!0,composed:!0});this.dispatchEvent(ev)}/**
       * Sunchronizes `queryValues` with current model.
       * It is nescesary when model name property change to detect this change.
       *
       * @param {Boolean} forceReset
       */_syncValues(forceReset){const model=this.queryModel,values=this.queryValue;if(!model||!values){return}Object.keys(values).forEach(key=>{const index=model.findIndex(item=>item.name===key);if(-1===index){delete this.queryValue[key]}});if(forceReset){this.queryValue=void 0;this.set("queryValue",values)}}/**
       * Update generated value for a model.
       * @param {String} type Data model type. `query` or `uri`
       * @param {Object} item Model item
       */_updateValue(type,item){const path=type+"Value",enabled=item.schema&&item.schema.enabled,result=this[path]||{};this[path]=void 0;if(!1===enabled){delete result[item.name]}else{result[item.name]=item.value;// this.set([path, item.name].join('.'), item.value);
}this.set(path,result)}/**
       * Updates value for entire model.
       * @param {String} type Data model type. `query` or `uri`
       */_updateModelValue(type){const path=type+"Value",model="uri"===type?this.uriModel:this.queryModel;if(!model||!model.length){this.set(path,void 0);return}const result={};model.forEach(item=>{let enabled=item.schema&&item.schema.enabled;if(!1===enabled){return}result[item.name]=item.value});this.set(path,result)}/**
       * Fired when an URI parameter value change in this editor.
       *
       * @event uri-parameter-changed
       * @param {String} name The name of the parameter
       * @param {String} value The value of the parameter
       * @param {Boolean} enabled True if the parameter is enabled in the form.
       */ /**
       * Fired when a query parameter value change in this editor.
       *
       * @event query-parameter-changed
       * @param {String} name The name of the parameter
       * @param {?String} value The value of the parameter
       * @param {?Boolean} enabled True if the parameter is enabled in the form.
       * @param {?Boolean} removed True when custom header has been removed.
       * When set `value` and `emabled` properties are not set.
       */}window.customElements.define(ApiUrlParamsEditor.is,ApiUrlParamsEditor);</script></dom-module><dom-module id="paper-masked-input" assetpath="bower_components/paper-masked-input/"><template><style>:host{display:block;}:host([disabled]){pointer-events:none;outline:none;@apply --paper-masked-input-disabled;}.action-icon{color:var(--content-action-button-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;}.action-icon:hover{color:var(--content-action-button-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}</style><paper-input label="[[label]]" type="[[_computeInputType(visible)]]" value="{{value}}" error-message="[[errorMessage]]" invalid="{{invalid}}" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" pattern$="[[pattern]]" autocomplete$="[[autocomplete]]" required$="[[required]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" tabindex="0" disabled$="[[disabled]]" no-label-float="[[noLabelFloat]]" always-float-label="[[alwaysFloatLabel]]" auto-validate$="[[autoValidate]]" id="input"><slot name="prefix" slot="prefix"></slot><paper-icon-button id="toggleButton" slot="suffix" on-tap="toggle" class="action-icon" icon="[[_computeToggleIcon(visible)]]" alt="Toggle icon" disabled$="[[disabled]]" title$="[[_computeToggleLabel(visible)]]"></paper-icon-button><slot name="suffix" slot="suffix"></slot></paper-input></template><script>/**
   * Material design: [Text fields](https://www.google.com/design/spec/components/text-fields.html)
   *
   * `<paper-masked-input>` is a single-line password field with Material Design styling and option to unmask the value.
   *
   * ```html
   * <paper-masked-input label="Your password"></paper-masked-input>
   * ```
   *
   * It may include an optional error message.
   * ```html
   * <paper-masked-input label="Your password" error-message="Invalid password!"></paper-masked-input>
   * ```
   *
   * The password input reners an icon button on a suffix position to toggle
   * password visibility.
   *
   * ### Focus
   *
   * To focus a `paper-masked-input`, you can call the native `focus()` method as long as the input has a tab index.
   *
   * ## New in version 2
   *
   * The element does not renders "clear" icon anymore. To produce similar effect
   * ass an item with `slot="suffix"`:
   *
   * ```html
   * <paper-masked-input label="Your password">
   *  <paper-icon-button slot="suffix" onclick="this.parentElement.clear()"></paper-icon-button>
   * </paper-masked-input>
   * ```
   *
   * The element support "prefix" slot to add a content before the input.
   *
   * ```html
   * <paper-masked-input label="xxx-xxx-xxxx">
   *  <span slot="prefix">SSN</span>
   * </paper-masked-input>
   * ```
   *
   * ### Styling
   * See `Polymer.PaperInputContainer` for a list of custom properties used to style this element.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class PaperMaskedInput extends Polymer.Element{static get is(){return"paper-masked-input"}static get properties(){return{/**
         * The label for this input.
         */label:String,//The value for this input.
value:{type:String,notify:!0/* ignoreName */ /* skipSlots */},// Set to true to show the text in the input field.
visible:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,notify:!0},/**
         * Default input type if password is disabled.
         */type:{type:String,value:"text"},// The error message to display when the input is invalid.
errorMessage:String,/**
         * Returns true if the value is invalid.
         * If `autoValidate` is true, the `invalid` attribute is managed automatically,
         * which can clobber attempts to manage it manually.
         */invalid:{type:Boolean,notify:!0},// Set this to specify alolowed pattern
allowedPattern:String,// Name of the validator to use.
validator:String,// A pattern to validate the `input` with.
pattern:String,// `<input>`'s autocomplete property
autocomplete:{type:String,value:"off"},// Set to true to mark the input as required.
required:{type:Boolean,value:!1},// Binds to `<input>`'s `autofocus` property
autofocus:Boolean,// Binds to `<input>`'s `inputmode` property
inputmode:String,// The minimum length of the input value.
minlength:Number,// The maximum length of the input value.
maxlength:Number,// Binds to `<input>`'s `name` property
name:String,/**
         * A placeholder string in addition to the label. If this is set, the label will always float.
         */placeholder:{type:String,value:""},// Binds to `<input>`'s `readonly` property
readonly:{type:Boolean,value:!1},// Binds to `<input>`'s `size` property
size:Number,// Binds to `<input>`'s `autocapitalize` property
autocapitalize:{type:String,value:"none"},// Binds to `<input>`'s `autocorrect` property
autocorrect:{type:String,value:"off"},// Set to true to disable this input.
disabled:{type:Boolean,value:!1,observer:"_disabledChanged"},// Set to true to disable the floating label.
noLabelFloat:{type:Boolean,value:!1},// Set to true to always float the label.
alwaysFloatLabel:{type:Boolean,value:!1},// Set to true to auto-validate the input value.
autoValidate:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback();this._ensureAttribute("tabindex",-1)}/**
     * Toggles password visibility.
     */toggle(){this.visible=!this.visible}/**
     * Computes title for the toggle button.
     *
     * @param {Boolean} visible Current state of the `visible` property
     * @return {String} Title value for toggle button.
     */_computeToggleLabel(visible){return visible?"Hide password":"Show password"}_computeToggleIcon(visible){return visible?"arc:visibility-off":"arc:visibility"}_computeInputType(visible){return visible?this.type:"password"}/**
     * Clears the value of the field.
     */clear(){this.set("value","")}/**
     * Validated thre input.
     *
     * @return {Boolean} True if the control is valid.
     */validate(){return this.inputElement.validate()}get inputElement(){return this.shadowRoot.querySelector("paper-input")}_disabledChanged(state){if(state){this.setAttribute("aria-disabled","true")}else{this.setAttribute("aria-disabled","false")}}}window.customElements.define(PaperMaskedInput.is,PaperMaskedInput);</script></dom-module><script>'use strict';if(!window.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */window.ArcBehaviors={}}/**
 * Contains a common properties and methods used in the Auth methods element set.
 *
 * Elements that implements this behavior may use `getSettings()` function to return an object
 * that will be passed to the `authorization-enabled` and `authorization-disabled` event.
 * Before sending this event it will try to collect settings data from this function. Whole object
 * will be passed to the event detail.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.AuthMethodsMixin=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class AMmixin extends base{static get properties(){return{/**
         * A start index for elements step counter.
         * Basic assumption is that this elements are used inside the
         * `authorization` panel which has the first step (auth type selector).
         * If the element is to be used as a standalone element then this
         * should be set to `0` (zero) so the number for the first step will be
         * `1`.
         * Basic and NTLM auth elements has only one step. Other elements, with
         * more complex structure has more steps.
         */stepStartIndex:{type:Number,value:1},/**
         * If true then the auth method will not render progress bar (stepper).
         */noSteps:{type:Boolean,reflectToAttribute:!0/* ignoreName */ /* skipSlots */},/**
         * Setting passed to paper buttons.
         */noink:Boolean,/**
         * WHen set it prohibits methods from rendering inline documentation.
         */noDocs:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}}}/**
     * Gets a oauth type by the elemnt name.
     * Possible values: 'basic', 'ntlm', 'oauth1', 'oauth2', 'digest', 'custom'
     * or undefined.
     */_getAuthType(){const name=this.nodeName.toLowerCase();switch(name){case"auth-method-basic":return"basic";case"auth-method-ntlm":return"ntlm";case"auth-method-oauth1":return"oauth1";case"auth-method-oauth2":return"oauth2";case"auth-method-digest":return"digest";}}/**
     * Gathers data by calling `validate()` and `getSettings()` function and
     * dispatches `auth-settings-changed` custom event
     *
     * @param {String} type Auth form type.
     * @return {CustomEvent} Dispatched event
     */_notifySettingsChange(type){const detail={settings:this.getSettings(),type:type,valid:this.validate()},e=new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0});this.dispatchEvent(e);return e}/**
     * Computes value for conditions containg documentation block.
     * It always returns false if `noDocs` is true. Otherwise it returns
     * boolean value of the `value` argument
     *
     * @param {Boolean} noDocs Value of the `noDocs` property
     * @param {Boolean|String} value Docs value
     * @return {Boolean}
     */_computeHasDoc(noDocs,value){if(noDocs){return!1}return!!value}}return AMmixin});</script><dom-module id="auth-methods-styles" assetpath="bower_components/auth-methods/"><template><style>paper-input,
    paper-masked-input{max-width:560px;}.edit-icon{visibility:hidden;}[hidden]{display:none !important;}.hint-icon{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s ease-in-out;@apply --icon-button;}.hint-icon:hover{color:var(--hint-trigger-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));@apply --icon-button-hover;}.action-icon{color:var(--api-form-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:color 0.2s ease-in-out;}.action-icon:hover{color:var(--api-form-action-icon-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));}.adv-toggle{margin-top:8px;}.markdown-body,
    .docs-container{@apply --arc-font-body1;color:var(--inline-documentation-color, rgba(0, 0, 0, 0.87));font-size:13px !important;}marked-element{background-color:var(--inline-documentation-background-color, #FFF3E0);padding:4px;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style></template></dom-module><dom-module id="auth-method-step" assetpath="bower_components/auth-methods/"><template><style>.row{padding:12px 0;}.stepper{@apply --layout-horizontal;@apply --layout-center;position:relative;pointer-events:none;}:host([inactive]) .stepper{pointer-events:all;cursor:pointer;}.stepper .step{display:inline-block;background-color:var(--stepper-step-number-background-color, #3D8099);color:var(--stepper-step-number-color, #fff);font-size:14px;@apply --layout-center-center;@apply --layout-horizontal;width:24px;height:24px;border-radius:50%;margin-right:12px;}.stepper .step-header{position:relative;@apply --layout-flex;}.stepper .step-title{@apply --arc-font-body1;display:block;color:var(--stepper-step-title-color, #3D8099);font-size:16px;font-weight:500;}.edit-icon{margin-left:8px;color:var(--api-form-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;width:20px;height:20px;@apply --icon-button;}.edit-icon:hover{color:var(--api-form-action-icon-hover-color, rgba(0, 0, 0, 0.84));@apply --icon-button-hover;}.stepper .step-selection{@apply --arc-font-body1;color:var(--stepper-step-selection-label-color, rgba(0, 0, 0, 0.54));position:absolute;bottom:-16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;max-width:100%;}.step-content{@apply --layout-horizontal;min-height:32px;}.line{min-width:11px;max-width:11px;border-right:1px var(--stepper-line-color, rgba(0, 0, 0, 0.12)) solid;margin-right:24px;margin-top:8px;}.step-content .content{@apply --layout-flex;max-width:calc(100% - 16px);@apply --auth-methods-step-content;}.container{width:100%;}[hidden]{display:none !important;}paper-ripple{color:var(--stepper-step-title-color, #3D8099);}.step-title-render{@apply --layout-vertical;@apply --layout-center;@apply --layout-self-stretch;}.step-title-render .line{@apply --layout-flex;display:none;}:host([inactive]) .step-title-render .line{display:block;}:host([no-steps]) .line{display:none;}.step-inactive-title{@apply --arc-font-body1;font-size:16px;font-weight:400;margin-top:12px;display:block;@apply --layout-horizontal;@apply --layout-center;}:host([no-steps]) .stepper{display:none !important;}</style><div class="row"><div class="stepper"><div class="step-title-render"><span class="step">[[_computeStep(stepStartIndex, step)]]</span><div class="line"></div></div><span class="step-header" on-tap="_inactiveTap"><span class="step-title"><slot name="title"></slot><iron-icon icon="arc:edit" class="edit-icon" title="Click to make changes" hidden$="[[!inactive]]"></iron-icon></span><span class="step-inactive-title" hidden$="[[!inactive]]"><slot name="inactive-title"></slot></span></span><paper-ripple></paper-ripple></div><iron-collapse opened="[[_computeContentOpened(inactive, noSteps)]]"><div class="step-content"><div class="line"></div><div class="container"><slot></slot></div></div></iron-collapse></div></template><script>/**
   * An element that renders authorization steps with title and content.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   */class AuthMethodStep extends Polymer.Element{static get is(){return"auth-method-step"}static get properties(){return{// base64 hash of the uid and passwd. When set it will override current username and password.
stepStartIndex:{type:Number,value:1},step:Number,/**
         * If true then the auth method will not render progress bar (stepper).
         */noSteps:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,reflectToAttribute:!0/* skipSlots */},// Title of the step
title:String,// If inactive it shows alternative summary content
inactive:{type:Boolean,reflectToAttribute:!0,value:!1}}}_computeStep(stepStartIndex,currentStep){return stepStartIndex+currentStep}_inactiveTap(){if(!this.inactive){return}this.dispatchEvent(new CustomEvent("inactive-tap",{bubbles:!1}))}_computeContentOpened(inactive,noSteps){if(noSteps){return!0}return!inactive}}window.customElements.define(AuthMethodStep.is,AuthMethodStep);</script></dom-module><dom-module id="auth-method-basic" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-basic;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input label="User name" value="{{username}}" name="username" type="text" required="" auto-validate="" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="clearUsername" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-masked-input label="Password" name="password" value="{{password}}" autocomplete="on"></paper-masked-input></form></iron-form></auth-method-step></template><script>/**
   * The `<auth-method-basic>` element displays a form to provide the Basic
   * auth credentials.
   * It calculates base64 has while typing into username or password field.
   *
   * It accepts `hash` as a property and once set it will atempt to decode it
   * and set username and paswword.
   *
   * ### Example
   *
   * ```html
   * <auth-method-basic hash="dGVzdDp0ZXN0"></auth-method-basic>
   * ```
   *
   * This example will produce a form with prefilled username and passowrd with
   * value "test".
   *
   * ## Changes in version 2.0
   *
   * - Removed `OpendablePanelBehavior`. The element will always react to headers
   * change event
   *
   * ### Styling
   *
   * `<auth-methods>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--auth-method-basic` | Mixin applied to the element. | `{}`
   * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
   *
   * This is very basic element. Style inputs using `paper-input`'s or `
   * paper-toggle`'s css variables.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.AuthMethodsMixin
   * @demo demo/basic.html
   */class AuthMethodBasic extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-basic"}static get properties(){return{// base64 hash of the uid and passwd. When set it will override current username and password.
hash:{type:String,notify:!0/* ignoreName */ /* skipSlots */},// The password.
password:{type:String,notify:!0},// The username.
username:{type:String,notify:!0}}}static get observers(){return["_hashChanged(hash)","_userInputChanged(username, password)","_settingsChanged(hash)"]}constructor(){super();this._onAuthSettings=this._onAuthSettings.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this)}_attachListeners(node){node.addEventListener("auth-settings-changed",this._onAuthSettings);node.addEventListener("request-header-changed",this._headerChangedHandler)}_detachListeners(node){node.removeEventListener("auth-settings-changed",this._onAuthSettings);node.removeEventListener("request-header-changed",this._headerChangedHandler)}/**
     * Resets state of the form.
     */reset(){this.set("hash","");this.set("username","");this.set("password","")}/**
     * Validates the form.
     *
     * @return {Boolean} Validation result.
     */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}/**
     * Dispatches `auth-settings-changed` custom event.
     */_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent){return}const e=this._notifySettingsChange("basic");this._notifyHeaderChange(e.detail.settings)}/**
     * Creates a settings object with user provided data.
     *
     * @return {Object} User provided data
     */getSettings(){return{hash:this.hash||"",password:this.password||"",username:this.username||""}}/**
     * Restores settings from stored value.
     *
     * @param {Object} settings Object returned by `_getSettings()`
     */restore(settings){if(settings.hash){this.hash=settings.hash}else{this.password=settings.password;this.username=settings.username}}/**
     * Decodes hash value on change from the external source.
     *
     * @param {String} hash Hash value
     */_hashChanged(hash){if(this._internalHashChange||!hash){return}try{const encoded=atob(hash),parts=encoded.split(":");if(parts.length){this._internalHashChange=!0;this.username=parts[0];if(parts[1]){this.password=parts[1]}this._internalHashChange=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}}catch(e){console.warn(e);this.dispatchEvent(new CustomEvent("error",{detail:{error:e},bubbles:!1}))}}/**
     * Computes hash value for given username or password.
     * It computes value if at least one value for username and password is
     * provided. Otherwise it sets hash to empty string.
     *
     * @param {String} uid Username
     * @param {String} passwd Password
     * @return {String} Computed hash.
     */hashData(uid,passwd){if(!uid){uid=""}if(!passwd){passwd=""}let hash;if(uid||passwd){const enc=uid+":"+passwd;hash=btoa(enc)}else{hash=""}return hash}/**
     * Sets the hash value for current username and password.
     *
     * @param {String} uid Username
     * @param {String} passwd Password
     */_userInputChanged(uid,passwd){this._internalHashChange=!0;this.set("hash",this.hashData(uid,passwd));this._internalHashChange=!1}/**
     * Clears username input.
     */clearUsername(){this.username=""}/**
     * Handler to the `auth-settings-changed` event (fired by all auth panels).
     * If the event was fired by other element with the same method ttype
     * then the form will be updated to incomming values.
     * This helps to sync changes between elements in the same app.
     */_onAuthSettings(e){if(e.target===this||"basic"!==e.detail.type){return}this.__cancelChangeEvent=!0;this.restore(e.detail.settings);this.__cancelChangeEvent=!1}/**
     * Handler for the `request-header-changed` custom event.
     * If the panel is opened the it checks if current header updates
     * authorization.
     */_headerChangedHandler(e){if(e.defaultPrevented||e.target===this){return}let name=e.detail.name;if(!name){return}name=name.toLowerCase();if("authorization"!==name){return}let value=e.detail.value;if(!value){if(this.hash){this.reset()}return}let lowerValue=value.toLowerCase();if(0!==lowerValue.indexOf("basic")){if(this.hash){this.reset()}return}value=value.substr(6);this.__cancelHeaderEvent=!0;this.set("hash",value);this.__cancelHeaderEvent=!1}/**
     * Dispatches `request-header-changed` custom event to inform other
     * elements about authorization value change.
     *
     * @param {Object} settings Cureent settings
     */_notifyHeaderChange(settings){if(this.__cancelHeaderEvent){return}const value=settings&&settings.hash?"Basic "+settings.hash:"Basic ";this.dispatchEvent(new CustomEvent("request-header-changed",{detail:{name:"Authorization",value:value},bubbles:!0,composed:!0}))}/**
     * Fired when error occured when decoding hash.
     * The event is not bubbling.
     *
     * @event error
     * @param {Error} error The error object.
     */ /**
     * Fired when the any of the auth method settings has changed.
     * This event will be fired quite frequently - each time anything in the text field changed.
     * With one exception. This event will not be fired if the validation of the form didn't passed.
     *
     * @event auth-settings-changed
     * @param {Object} settings Current settings containing hash, password
     * and username.
     * @param {String} type The authorization type - basic
     * @param {Boolean} valid True if the form has been validated.
     */ /**
     * Fired when the header value has changed.
     *
     * @event request-header-changed
     * @param {String} name Name of the header
     * @param {String} value Value of the header
     */}window.customElements.define(AuthMethodBasic.is,AuthMethodBasic);</script></dom-module><dom-module id="auth-method-digest" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-digest;}paper-item:hover{@apply --paper-item-hover;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input label="User name" value="{{username}}" type="text" required="" auto-validate="" autocomplete="on"><paper-icon-button class="action-icon" slot="suffix" on-tap="clearUsername" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-masked-input label="Password" value="{{password}}" required="" auto-validate="" autocomplete="on"></paper-masked-input><div class="adv-toggle"><paper-checkbox class="adv-settings-input" checked="{{fullForm}}">Advanced settings</paper-checkbox></div><iron-collapse opened="[[fullForm]]"><div class="extended-form"><paper-input label="Server issued realm" value="{{realm}}" type="text" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-input label="Server issued nonce" value="{{nonce}}" type="text" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-dropdown-menu label="Quality of protection"><paper-listbox slot="dropdown-content" selected="{{qop}}" attr-for-selected="data-qop"><paper-item data-qop="auth">auth</paper-item><paper-item data-qop="auth-int">auth-int</paper-item></paper-listbox></paper-dropdown-menu><paper-input label="Nounce count" value="{{nc}}" type="number" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-dropdown-menu label="Hash algorithm"><paper-listbox slot="dropdown-content" selected="{{algorithm}}" attr-for-selected="data-algorithm"><paper-item data-algorithm="MD5">MD5</paper-item><paper-item data-algorithm="MD5-sess">MD5-sess</paper-item></paper-listbox></paper-dropdown-menu><paper-input label="Server issued opaque string" value="{{opaque}}" type="string" autocomplete="on"></paper-input><paper-input label="Client nounce" value="{{cnonce}}" type="string" autocomplete="on"></paper-input></div></iron-collapse></form></iron-form></auth-method-step></template><script>/**
   * The `<auth-method-digest>` element displays a form for digest authentication.
   * The user have to choose is he want to provide username and password only or
   * all digest parameters to calculate final authorization header.
   *
   * In first case, the listeners and the transport method must perform handshake
   * by it's own. Otherwise authorization header should be set with calculated value.
   *
   * ### Example
   * ```
   * <auth-method-digest username="john" password="doe"></auth-method-digest>
   * ```
   *
   * The `settings` property (of the element or even detail property) for full form
   * has the following structure:
   *
   * ```
   * {
   *  "username": String,
   *  "realm": String,
   *  "nonce": String,
   *  "uri": String,
   *  "response": String,
   *  "opaque": String,
   *  "qop": String - can be empty,
   *  "nc": String,
   *  "cnonce": String
   * }
   * ```
   *
   * ## Response calculation
   * Depending on the algorithm and quality of protection (qop) properties the hasing
   * algorithm may need following data:
   * - request URL
   * - request payload (body)
   * - request HTTP method
   *
   * The element should be provided with this information by setting it's properties.
   * However, the element will listen for `url-value-changed`, `http-method-changed`
   * and `body-value-changed` events on the window object. Once the event is handled
   * it will set up corresponding properties.
   * All this events must have a `value` property set on event's detail object.
   *
   *
   * ## Changes in version 2.0
   *
   * - `CryptoJS` library is not included by default. Use
   * `advanced-rest-client/cryptojs-lib` component to include the library if
   * your project doesn't use crypto libraries already.
   *
   * ### Styling
   *
   * `<auth-methods>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--auth-method-digest` | Mixin applied to the element. | `{}`
   * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
   *
   * This is very basic element. Style inputs using `paper-input`'s or `
   * paper-toggle`'s css variables.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.AuthMethodsMixin
   * @demo demo/digest.html
   */class AuthMethodDigest extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-digest"}static get properties(){return{// The password.
password:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_processInput"},// The username.
username:{type:String,notify:!0,observer:"_processInput"},// If set then it will display all form fields.
fullForm:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,observer:"_processInput"},// Server issued realm.
realm:{type:String,observer:"_processInput"},// Server issued nonce.
nonce:{type:String,observer:"_processInput"},// The realm value for the digest response.
algorithm:{type:String,observer:"_processInput"},/**
         * The quality of protection value for the digest response.
         * Either '', 'auth' or 'auth-int'
         */qop:{type:String,observer:"_processInput"},// Nonce count - increments with each request used with the same nonce
nc:{type:Number,value:1,observer:"_processInput"},// Client nonce
cnonce:{type:String,observer:"_processInput"},// A string of data specified by the server
opaque:{type:String,observer:"_processInput"},// Hashed response to server challenge
response:{type:String},// Request HTTP method
httpMethod:{type:String,observer:"_processInput"},// Current request URL.
requestUrl:{type:String,observer:"_processInput"},// Current request body.
requestBody:{type:String,observer:"_processInput"}}}constructor(){super();this._onUrlChanged=this._onUrlChanged.bind(this);this._onHttpMethodChanged=this._onHttpMethodChanged.bind(this);this._onBodyChanged=this._onBodyChanged.bind(this);this._onAuthSettings=this._onAuthSettings.bind(this)}_attachListeners(node){node.addEventListener("url-value-changed",this._onUrlChanged);node.addEventListener("http-method-changed",this._onHttpMethodChanged);node.addEventListener("body-value-changed",this._onBodyChanged);node.addEventListener("auth-settings-changed",this._onAuthSettings)}_detachListeners(node){node.removeEventListener("url-value-changed",this._onUrlChanged);node.removeEventListener("http-method-changed",this._onHttpMethodChanged);node.removeEventListener("body-value-changed",this._onBodyChanged);node.removeEventListener("auth-settings-changed",this._onAuthSettings)}/**
     * Validates the form.
     *
     * @return {Boolean} Validation result.
     */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}/**
     * Returns current settings. Object's structure depends on `fullForm`
     * property. If it's `false` then the object will contain username and
     * password. Otherwise it will contain a list of parameters of the
     * Authorization header.
     *
     * @return {Object}
     */getSettings(){if(!this.fullForm){return{password:this.password||"",username:this.username||""}}this.response=this.generateResponse();var settings={username:this.username||"",realm:this.realm,nonce:this.nonce,uri:this.requestUrl,response:this.response,opaque:this.opaque,qop:this.qop,nc:("00000000"+this.nc).slice(-8),cnonce:this.cnonce};return settings}/**
     * Restores settings from stored value.
     *
     * @param {Object} settings Object returned by `_getSettings()`
     */restore(settings){this.username=settings.username;this.password=settings.password;this.realm=settings.realm;this.nonce=settings.nonce;this.opaque=settings.opaque;this.qop=settings.qop;this.nc=settings.nc;this.cnonce=settings.cnonce;if(settings.uri){this.requestUrl=settings.uri}if(settings.nc){this.nc=+settings.nc.replace(/0+/,"")}}_processInput(){if(!this.shadowRoot||this.__cancelChangeEvent){return}if(this.fullForm){if(!this.nc){this.set("nc",1);return}if(!this.cnonce){this.set("cnonce",this.generateCnonce());return}}this._notifySettingsChange("digest")}/**
     * Clears usernamr field
     */clearUsername(){this.username=""}/**
     * Generates client nonce.
     *
     * @return Generated client nonce.
     */generateCnonce(){for(var characters="abcdef0123456789",token="",i=0,randNum;16>i;i++){randNum=Math.round(Math.random()*characters.length);token+=characters.substr(randNum,1)}return token}/**
     * Generates the response header based on the parameters provided in the
     * form.
     *
     * See https://en.wikipedia.org/wiki/Digest_access_authentication#Overview
     *
     * @return {String} A response part of the authenticated digest request.
     */generateResponse(){/* global CryptoJS */var HA1=this._getHA1(),HA2=this._getHA2(),ncString=("00000000"+this.nc).slice(-8),responseStr=HA1+":"+this.nonce;if(!this.qop){responseStr+=":"+HA2}else{responseStr+=":"+ncString+":"+this.cnonce+":"+this.qop+":"+HA2}return CryptoJS.MD5(responseStr).toString()}// Generates HA1 as defined in Digest spec.
_getHA1(){var HA1param=this.username+":"+this.realm+":"+this.password,HA1=CryptoJS.MD5(HA1param).toString();if("MD5-sess"===this.algorithm){HA1param=HA1+":"+this.nonce+":"+this.cnonce;HA1=CryptoJS.MD5(HA1param).toString()}return HA1}// Generates HA2 as defined in Digest spec.
_getHA2(){var HA2param=this.httpMethod+":"+this.requestUrl;if("auth-int"===this.qop){HA2param+=":"+CryptoJS.MD5(this.requestBody).toString()}return CryptoJS.MD5(HA2param).toString()}/**
     * Handler to the `url-value-changed` event. When the element handle this
     * event it will update the `requestUrl` property.
     */_onUrlChanged(e){this.requestUrl=e.detail.value}/**
     * Handler to the `http-method-changed` event. When the element handle this
     * event it will update the `httpMethod` property.
     */_onHttpMethodChanged(e){this.httpMethod=e.detail.value}/**
     * Handler to the `body-value-changed` event. When the element handle this
     * event it will update the `requestBody` property.
     */_onBodyChanged(e){this.requestBody=e.detail.value}/**
     * Handler to the `auth-settings-changed` event (fired by all auth panels).
     * If the event was fired by other element with the same method ttype
     * then the form will be updated to incomming values.
     * This helps to sync changes between elements in the same app.
     */_onAuthSettings(e){if(e.target===this||"digest"!==e.detail.type){return}this.restore(e.detail.settings)}/**
     * Fired when error occured when decoding hash.
     *
     * @event error
     * @param {Error} error The error object.
     */ /**
     * Fired when the any of the auth method settings has changed.
     * This event will be fired quite frequently - each time anything in the text field changed.
     * With one exception. This event will not be fired if the validation of the form didn't passed.
     *
     * @event auth-settings-changed
     * @param {Object} settings Current settings containing hash, password
     * and username.
     * @param {String} type The authorization type - basic
     * @param {Boolean} valid True if the form has been validated.
     */}window.customElements.define(AuthMethodDigest.is,AuthMethodDigest);</script></dom-module><dom-module id="auth-method-ntlm" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-ntlm;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input required="" auto-validate="" label="User name" value="{{username}}" type="text" autocomplete="on"><paper-icon-button class="action-icon" slot="suffix" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear username"></paper-icon-button></paper-input><paper-masked-input required="" auto-validate="" label="Password" value="{{password}}" autocomplete="on"></paper-masked-input><paper-input label="NT domain" value="{{domain}}" type="text"><paper-icon-button class="action-icon" slot="suffix" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear domain"></paper-icon-button></paper-input></form></iron-form></auth-method-step></template><script>/**
   * The `<auth-method-ntlm>` element displays a form to provide the NTLM auth
   * credentials.
   *
   * It only provides data since NTLM authentication and all calculations must
   * be conducted when working on socket.
   *
   * This form requires to provide at least username and password. The domain
   * parameter is not required in NTLM so it may be empty.
   *
   * ### Example
   *
   * ```html
   * <auth-method-ntlm username="john" password="doe" domain="my-nt-domain"></auth-method-ntlm>
   * ```
   *
   * ### Styling
   *
   * `<auth-methods>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--auth-method-ntlm` | Mixin applied to the element. | `{}`
   * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
   *
   * This is very basic element. Style inputs using `paper-input`'s or `
   * paper-toggle`'s css variables.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.AuthMethodsMixin
   * @demo demo/ntlm.html
   */class AuthMethodNtlm extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-ntlm"}static get properties(){return{// The domain parameter for the request.
domain:{type:String,notify:!0/* ignoreName */ /* skipSlots */},// The password.
password:{type:String,notify:!0},// The username.
username:{type:String,notify:!0}}}static get observers(){return["_settingsChanged(username, password, domain)"]}constructor(){super();this._onAuthSettings=this._onAuthSettings.bind(this)}_attachListeners(node){node.addEventListener("auth-settings-changed",this._onAuthSettings)}_detachListeners(node){node.removeEventListener("auth-settings-changed",this._onAuthSettings)}/**
     * Validates the form.
     *
     * @return {Boolean} `true` if valid, `false` otherwise.
     */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent){return}this._notifySettingsChange("ntlm")}/**
     * Creates a settings object with user provided data.
     *
     * @return {Object} User provided data
     */getSettings(){return{domain:this.domain||"",password:this.password||"",username:this.username||""}}/**
     * Restores settings from stored value.
     *
     * @param {Object} settings Object returned by `_getSettings()`
     */restore(settings){this.domain=settings.domain;this.password=settings.password;this.username=settings.username}// Removes a value from the (paper-)input going up through path of the event.
_clearField(e){const path=e.composedPath();let inputTarget;while(inputTarget=path.shift()){if("INPUT"===inputTarget.nodeName||"PAPER-INPUT"===inputTarget.nodeName){break}}if(!inputTarget){return}inputTarget.value=""}/**
     * Handler for the `auth-settings-changed` event (fired by all auth panels).
     * If the event was fired by other element with the same method ttype
     * then the form will be updated to incomming values.
     */_onAuthSettings(e){if(e.target===this||"ntlm"!==e.detail.type){return}this.__cancelChangeEvent=!0;this.restore(e.detail.settings);this.__cancelChangeEvent=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}/**
     * Fired when error occured when decoding hash.
     *
     * @event error
     * @param {Error} error The error object.
     */ /**
     * Fired when the any of the auth method settings has changed.
     * This event will be fired quite frequently - each time anything in the text field changed.
     * With one exception. This event will not be fired if the validation of the form didn't passed.
     *
     * The `domain` field is not required in the form so check for missing `domain` value if it's
     * required in your application.
     *
     * @event auth-settings-changed
     * @param {Object} settings Current settings containing domain, password
     * and username.
     * @param {String} type The authorization type - ntlm
     * @param {Boolean} valid True if the form has been validated.
     */}window.customElements.define(AuthMethodNtlm.is,AuthMethodNtlm);</script></dom-module><dom-module id="paper-toast" assetpath="bower_components/paper-toast/"><template><style>:host{display:block;position:fixed;background-color:var(--paper-toast-background-color, #323232);color:var(--paper-toast-color, #f1f1f1);min-height:48px;min-width:304px;padding:16px 24px;box-sizing:border-box;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26);border-radius:2px;margin:12px;font-size:14px;cursor:default;-webkit-transition:-webkit-transform 0.3s, opacity 0.3s;transition:transform 0.3s, opacity 0.3s;opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px);@apply --paper-font-common-base;}:host(.capsule){border-radius:24px;}:host(.fit-bottom){width:100%;min-width:0;border-radius:0;margin:0;}:host(.paper-toast-open){opacity:1;-webkit-transform:translateY(0px);transform:translateY(0px);}</style><span id="label">{{text}}</span><slot></slot></template><script>(function(){'use strict';// Keeps track of the toast currently opened.
var currentToast=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{/**
         * The element to fit `this` into.
         * Overridden from `Polymer.IronFitBehavior`.
         */fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},/**
         * The orientation against which to align the dropdown content
         * horizontally relative to `positionTarget`.
         * Overridden from `Polymer.IronFitBehavior`.
         */horizontalAlign:{type:String,value:"left"},/**
         * The orientation against which to align the dropdown content
         * vertically relative to `positionTarget`.
         * Overridden from `Polymer.IronFitBehavior`.
         */verticalAlign:{type:String,value:"bottom"},/**
         * The duration in milliseconds to show the toast.
         * Set to `0`, a negative number, or `Infinity`, to disable the
         * toast auto-closing.
         */duration:{type:Number,value:3e3},/**
         * The text to display in the toast.
         */text:{type:String,value:""},/**
         * Overridden from `IronOverlayBehavior`.
         * Set to false to enable closing of the toast by clicking outside it.
         */noCancelOnOutsideClick:{type:Boolean,value:!0/* ignoreName */ /* skipSlots */},/**
         * Overridden from `IronOverlayBehavior`.
         * Set to true to disable auto-focusing the toast or child nodes with
         * the `autofocus` attribute` when the overlay is opened.
         */noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},/**
       * Read-only. Deprecated. Use `opened` from `IronOverlayBehavior`.
       * @property visible
       * @deprecated
       */get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");return this.opened},/**
       * Read-only. Can auto-close if duration is a positive finite number.
       * @property _canAutoClose
       */get _canAutoClose(){return 0<this.duration&&this.duration!==1/0},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},/**
       * Show the toast. Without arguments, this is the same as `open()` from
       * `IronOverlayBehavior`.
       * @param {(Object|string)=} properties Properties to be set before opening the toast.
       * e.g. `toast.show('hello')` or `toast.show({text: 'hello', duration: 3000})`
       */show:function(properties){if("string"==typeof properties){properties={text:properties}}for(var property in properties){if(0===property.indexOf("_")){Polymer.Base._warn("The property \""+property+"\" is private and was not set.")}else if(property in this){this[property]=properties[property]}else{Polymer.Base._warn("The property \""+property+"\" is not valid.")}}this.open()},/**
       * Hide the toast. Same as `close()` from `IronOverlayBehavior`.
       */hide:function(){this.close()},/**
       * Called on transitions of the toast, indicating a finished animation
       * @private
       */__onTransitionEnd:function(e){// there are different transitions that are happening when opening and
// closing the toast. The last one so far is for `opacity`.
// This marks the end of the transition, so we check for this to determine
// if this is the correct event.
if(e&&e.target===this&&"opacity"===e.propertyName){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}},/**
       * Overridden from `IronOverlayBehavior`.
       * Called when the value of `opened` changes.
       */_openedChanged:function(){if(null!==this._autoClose){this.cancelAsync(this._autoClose);this._autoClose=null}if(this.opened){if(currentToast&&currentToast!==this){currentToast.close()}currentToast=this;this.fire("iron-announce",{text:this.text});if(this._canAutoClose){this._autoClose=this.async(this.close,this.duration)}}else if(currentToast===this){currentToast=null}Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},/**
       * Overridden from `IronOverlayBehavior`.
       */_renderOpened:function(){this.classList.add("paper-toast-open")},/**
       * Overridden from `IronOverlayBehavior`.
       */_renderClosed:function(){this.classList.remove("paper-toast-open")},/**
       * @private
       */_onFitIntoChanged:function(fitInto){this.positionTarget=fitInto}/**
       * Fired when `paper-toast` is opened.
       *
       * @event 'iron-announce'
       * @param {{text: string}} detail Contains text that will be announced.
       */})})();</script></dom-module><script>/**
  `iron-selector` is an element which can be used to manage a list of elements
  that can be selected.  Tapping on the item will make the item selected.  The `selected` indicates
  which item is being selected.  The default is to use the index of the item.

  Example:

      <iron-selector selected="0">
        <div>Item 1</div>
        <div>Item 2</div>
        <div>Item 3</div>
      </iron-selector>

  If you want to use the attribute value of an element for `selected` instead of the index,
  set `attrForSelected` to the name of the attribute.  For example, if you want to select item by
  `name`, set `attrForSelected` to `name`.

  Example:

      <iron-selector attr-for-selected="name" selected="foo">
        <div name="foo">Foo</div>
        <div name="bar">Bar</div>
        <div name="zot">Zot</div>
      </iron-selector>

  You can specify a default fallback with `fallbackSelection` in case the `selected` attribute does
  not match the `attrForSelected` attribute of any elements.

  Example:

        <iron-selector attr-for-selected="name" selected="non-existing"
                       fallback-selection="default">
          <div name="foo">Foo</div>
          <div name="bar">Bar</div>
          <div name="default">Default</div>
        </iron-selector>

  Note: When the selector is multi, the selection will set to `fallbackSelection` iff
  the number of matching elements is zero.

  `iron-selector` is not styled. Use the `iron-selected` CSS class to style the selected element.

  Example:

      <style>
        .iron-selected {
          background: #eee;
        }
      </style>

      ...

      <iron-selector selected="0">
        <div>Item 1</div>
        <div>Item 2</div>
        <div>Item 3</div>
      </iron-selector>

  @demo demo/index.html
  */Polymer({is:"iron-selector",behaviors:[Polymer.IronMultiSelectableBehavior]});</script><script>/**
  `iron-a11y-keys` provides a cross-browser interface for processing
  keyboard commands. The interface adheres to [WAI-ARIA best
  practices](http://www.w3.org/TR/wai-aria-practices/#kbd_general_binding).
  It uses an expressive syntax to filter key presses.

  ## Basic usage

  The sample code below is a portion of a custom element. The goal is to call
  the `onEnter` method whenever the `paper-input` element is in focus and
  the `Enter` key is pressed.

      <iron-a11y-keys id="a11y" target="[[target]]" keys="enter"
                          on-keys-pressed="onEnter"></iron-a11y-keys>
      <paper-input id="input"
                   placeholder="Type something. Press enter. Check console."
                   value="{{userInput::input}}"></paper-input>

  The custom element declares an `iron-a11y-keys` element that is bound to a
  property called `target`. The `target` property
  needs to evaluate to the `paper-input` node. `iron-a11y-keys` registers
  an event handler for the target node using Polymer's [annotated event handler
  syntax](https://www.polymer-project.org/1.0/docs/devguide/events.html#annotated-listeners).
  `{{userInput::input}}` sets the `userInput` property to the user's input on each
  keystroke.

  The last step is to link the two elements within the custom element's
  registration.

      ...
      properties: {
        userInput: {
          type: String,
          notify: true,
        },
        target: {
          type: Object,
          value: function() {
            return this.$.input;
          }
        },
      },
      onEnter: function() {
        console.log(this.userInput);
      }
      ...

  ## The `keys` attribute

  The `keys` attribute expresses what combination of keys triggers the event.

  The attribute accepts a space-separated, plus-sign-concatenated
  set of modifier keys and some common keyboard keys.

  The common keys are: `a-z`, `0-9` (top row and number pad), `*` (shift 8 and
  number pad), `F1-F12`, `Page Up`, `Page Down`, `Left Arrow`, `Right Arrow`,
  `Down Arrow`, `Up Arrow`, `Home`, `End`, `Escape`, `Space`, `Tab`, `Enter`.

  The modifier keys are: `Shift`, `Control`, `Alt`, `Meta`.

  All keys are expected to be lowercase and shortened. E.g.
  `Left Arrow` is `left`, `Page Down` is `pagedown`, `Control` is `ctrl`,
  `F1` is `f1`, `Escape` is `esc`, etc.

  ### Grammar

  Below is the
  [EBNF](http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form) Grammar
  of the `keys` attribute.

      modifier = "shift" | "ctrl" | "alt" | "meta";
      ascii = ? /[a-z0-9]/ ? ;
      fnkey = ? f1 through f12 ? ;
      arrow = "up" | "down" | "left" | "right" ;
      key = "tab" | "esc" | "space" | "*" | "pageup" | "pagedown" |
            "home" | "end" | arrow | ascii | fnkey;
      event = "keypress" | "keydown" | "keyup";
      keycombo = { modifier, "+" }, key, [ ":", event ] ;
      keys = keycombo, { " ", keycombo } ;

  ### Example

  Given the following value for `keys`:

  `ctrl+shift+f7 up pagedown esc space alt+m`

  The event is fired if any of the following key combinations are fired:
  `Control` and `Shift` and `F7` keys, `Up Arrow` key, `Page Down` key,
  `Escape` key, `Space` key, `Alt` and `M` keys.

  ### WAI-ARIA Slider Example

  The following is an example of the set of keys that fulfills WAI-ARIA's
  "slider" role [best
  practices](http://www.w3.org/TR/wai-aria-practices/#slider):

      <iron-a11y-keys target="[[target]]" keys="left pagedown down"
                      on-keys-pressed="decrement"></iron-a11y-keys>
      <iron-a11y-keys target="[[target]]" keys="right pageup up"
                      on-keys-pressed="increment"></iron-a11y-keys>
      <iron-a11y-keys target="[[target]]" keys="home"
                      on-keys-pressed="setMin"></iron-a11y-keys>
      <iron-a11y-keys target="[[target]]" keys="end"
                      on-keys-pressed="setMax"></iron-a11y-keys>

  The `target` properties must evaluate to a node. See the basic usage
  example above.

  Each of the values for the `on-keys-pressed` attributes must evalute
  to methods. The `increment` method should move the slider a set amount
  toward the maximum value. `decrement` should move the slider a set amount
  toward the minimum value. `setMin` should move the slider to the minimum
  value. `setMax` should move the slider to the maximum value.

  @demo demo/index.html
  */Polymer({is:"iron-a11y-keys",behaviors:[Polymer.IronA11yKeysBehavior],properties:{/** @type {?Node} */target:{type:Object,observer:"_targetChanged"},/**
       * Space delimited list of keys where each key follows the format:
       * `[MODIFIER+]*KEY[:EVENT]`.
       * e.g. `keys="space ctrl+shift+tab enter:keyup"`.
       * More detail can be found in the "Grammar" section of the documentation
       */keys:{type:String,reflectToAttribute:!0/* ignoreName */ /* skipSlots */,observer:"_keysChanged"}},attached:function(){if(!this.target){this.target=this.parentNode}},_targetChanged:function(target){this.keyEventTarget=target},_keysChanged:function(){this.removeOwnKeyBindings();this.addOwnKeyBinding(this.keys,"_fireKeysPressed")},_fireKeysPressed:function(event){this.fire("keys-pressed",event.detail,{})}});</script><script>/**
   * `iron-range-behavior` provides the behavior for something with a minimum to
   * maximum range.
   *
   * @demo demo/index.html
   * @polymerBehavior
   */Polymer.IronRangeBehavior={properties:{/**
       * The number that represents the current value.
       */value:{type:Number,value:0,notify:!0/* ignoreName */ /* skipSlots */,reflectToAttribute:!0},/**
       * The number that indicates the minimum value of the range.
       */min:{type:Number,value:0,notify:!0},/**
       * The number that indicates the maximum value of the range.
       */max:{type:Number,value:100,notify:!0},/**
       * Specifies the value granularity of the range's value.
       */step:{type:Number,value:1,notify:!0},/**
       * Returns the ratio of the value.
       */ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(value){return(this._clampValue(value)-this.min)/(this.max-this.min)},_clampValue:function(value){return Math.min(this.max,Math.max(this.min,this._calcStep(value)))},_calcStep:function(value){// polymer/issues/2493
value=parseFloat(value);if(!this.step){return value}var numSteps=Math.round((value-this.min)/this.step);if(1>this.step){/**
         * For small values of this.step, if we calculate the step using
         * `Math.round(value / step) * step` we may hit a precision point issue
         * eg. 0.1 * 0.2 =  0.020000000000000004
         * http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html
         *
         * as a work around we can divide by the reciprocal of `step`
         */return numSteps/(1/this.step)+this.min}else{return numSteps*this.step+this.min}},_validateValue:function(){var v=this._clampValue(this.value);this.value=this.oldValue=isNaN(v)?this.oldValue:v;return this.value!==v},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};</script><dom-module id="paper-progress" assetpath="bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{/**
       * The number that represents the current secondary progress.
       */secondaryProgress:{type:Number,value:0},/**
       * The secondary ratio
       */secondaryRatio:{type:Number,value:0,readOnly:!0/* ignoreName */ /* skipSlots */},/**
       * Use an indeterminate progress indicator.
       */indeterminate:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,observer:"_toggleIndeterminate"},/**
       * True if the progress is disabled.
       */disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(indeterminate){// If we use attribute/class binding, the animation sometimes doesn't
// translate properly on Safari 7.1. So instead, we toggle the class here in
// the update method.
this.toggleClass("indeterminate",indeterminate,this.$.primaryProgress)},_transformProgress:function(progress,ratio){var transform="scaleX("+ratio/100+")";progress.style.transform=progress.style.webkitTransform=transform},_mainRatioChanged:function(ratio){this._transformProgress(this.$.primaryProgress,ratio)},_progressChanged:function(secondaryProgress,value,min,max,indeterminate){secondaryProgress=this._clampValue(secondaryProgress);value=this._clampValue(value);var secondaryRatio=100*this._calcRatio(secondaryProgress),mainRatio=100*this._calcRatio(value);this._setSecondaryRatio(secondaryRatio);this._transformProgress(this.$.secondaryProgress,secondaryRatio);this._transformProgress(this.$.primaryProgress,mainRatio);this.secondaryProgress=secondaryProgress;if(indeterminate){this.removeAttribute("aria-valuenow")}else{this.setAttribute("aria-valuenow",value)}this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max)},_disabledChanged:function(disabled){this.setAttribute("aria-disabled",disabled?"true":"false")},_hideSecondaryProgress:function(secondaryRatio){return 0===secondaryRatio}});</script><dom-module id="paper-autocomplete" assetpath="bower_components/paper-autocomplete/"><template><style>:host{position:absolute !important;left:0px;top:52px;@apply --paper-autocomplete;}.dropdown-container{overflow:auto;@apply --shadow-elevation-4dp;background-color:var(--paper-autocomplete-background-color, #fff);}</style><div id="container" class="dropdown-container"><paper-progress hidden$="[[!_showLoader]]" indeterminate=""></paper-progress><iron-selector selected="{{selectedItem}}" id="selector"><template is="dom-repeat" items="{{suggestions}}" id="repeater"><paper-item><div>{{_suggestionDisplay(item)}}</div><paper-ripple></paper-ripple></paper-item></template></iron-selector></div><iron-a11y-keys id="a11y" target="[[target]]" keys="up" on-keys-pressed="selectPrevious"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[target]]" keys="down" on-keys-pressed="selectNext"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[target]]" keys="enter" on-keys-pressed="acceptSelection"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="up" on-keys-pressed="selectPrevious"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="down" on-keys-pressed="selectNext"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="enter" on-keys-pressed="acceptSelection"></iron-a11y-keys></template><script>/**
   * # `<paper-autocomplete>`
   *
   * Use `paper-autocomplete` to add autocomplete functionality to the input elements.
   * It also works wilt polymer inputs.
   *
   * The element works with static list of suggestions or with dynamic (asynchronous)
   * operation that require calling te backend or local datastore.
   * In second case you should set `loader` property which will display a loader animation
   * while results are loaded.
   *
   * You must associate suggestions with the input field. This can be done by passing
   * an element reference to the `target` property.
   *
   * ## Example:
   *
   * ### Static suggestions
   *
   * ```html
   * <paper-input label="Enter fruit name" id="fruits"></paper-input>
   * <paper-autocomplete
   *  id="fruitsSuggestions"
   *  target="[[fruits]]"
   *  on-selected="_fruitSelected"></paper-input-autocomplete>
   *
   * <script>
   * document.querySelector('#fruitsSuggestions').source = ['Apple', 'Orange', 'Bananas'];
   * < /script>
   * ```
   *
   * ### Dynamic suggestions
   *
   * ```html
   * <paper-input-container>
   *  <label>Enter friut name</label>
   *  <input is="iron-input" type="text" value="{{async::input}}" id="asyncField" />
   * </paper-input-container>
   * <paper-autocomplete loader id="fruitAsync" on-query="_asyncSuggestions"></paper-input-autocomplete>
   *
   * <script>
   *  document.querySelector('#fruitAsync').target = document.querySelector('#asyncField');
   *  document.querySelector('#fruitAsync').addEventListener('query', (e) => {
   *    const query = e.detail.value;
   *    asyncQuery(query, (suggestions) => {
   *      document.querySelector('#fruitAsync').source = suggestions;
   *    });
   *  });
   * < /script>
   * ```
   *
   * ## Displaying the suggestions
   *
   * Suggestions array can be either an array of strings or objects.
   * For strings, displayed in the list and inserted to the input field value is the same item.
   *
   * You can set different list item display value and value inserted into the field when the array contains
   * onject. Each object must contain `value` and `display` properties where `value` property
   * will be inserted into the text field and `display` will be used to display description inside the list.
   *
   * ## Query event
   *
   * The `query` event is fired when the user query change in the way so the element is
   * not able to display suggestions properly.
   * This means if the user add a letter to previously entered value the query event will not
   * fire since it already have list of suggestion that should be used to filter suggestions from.
   * And again when the user will delete a letter the element will still have list of
   * source suggestions to filter suggestions from.
   * However, if the user change the query entirely it will fire `query` event
   * and the app will expect to `source` to change. Setting source is not mandatory.
   *
   * ## Preventing from changing the input value
   *
   * To prevent the element to update the value of the target input, listent for
   * `selected` event and cancel it by calling `event.preventDefault()` function.
   *
   * ## Styling
   *
   * Suggestions are positioned absolutely! You must include relative positioned parent to contain the suggestion
   * display in the same area.
   * Use CSS properties to position the display in the left bottom corner of the input field.
   *
   * `<paper-autocomplete>` provides the following custom properties and mixins
   * for styling:
   *
   * | Custom property | Description | Default |
   * ----------------|-------------|----------
   * | `--paper-autocomplete` | Mixin applied to the display | `{}` |
   * | `--paper-autocomplete-background-color` | Background color of suggestions | `{}` |
   *
   * @customElement
   * @memberof UiElements
   * @appliesMixin Polymer.IronOverlayBehavior
   * @appliesMixin Polymer.IronScrollTargetBehavior
   * @polymer
   * @demo demo/index.html
   */class PaperAutocomplete extends Polymer.mixinBehaviors([Polymer.IronOverlayBehavior,Polymer.IronScrollTargetBehavior],Polymer.Element){static get is(){return"paper-autocomplete"}static get properties(){return{/**
         * List of suggestions to display.
         * If the array items are strings they will be used for display a suggestions and
         * to insert a value.
         * If the list is an object the each object must contain `value` and `display`
         * properties.
         * The `display` property will be used in the suggestions list and the
         * `value` property will be used to insert the value to the referenced text field.
         *
         * @type {Array<Object>|Array<String>}
         */source:{type:Array},/**
         * `value` Selected object from the suggestions
         */value:{type:Object,notify:!0/* ignoreName */ /* skipSlots */},/**
         * List of suggestion that are displayed.
         */suggestions:{type:Array,value:[],readOnly:!0},/**
         * A target input field to observe.
         * @type {HTMLElement}
         */target:HTMLElement,/**
         * Currently selected item on a suggestions list.
         * @type {Number}
         */selectedItem:{type:Number,value:0},// Scroll target element
scrollTarget:{type:HTMLElement},// Sizing target element.
sizingTarget:{type:HTMLElement},/**
         * True when user query changed and waiting for `source` property update
         */loading:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,readOnly:!0,notify:!0},/**
         * Set this to true if you use async operation in response for query event.
         * This will display a loader when querying for more suggestions.
         * Do not use it it you do not handle suggestions asynchronously.
         */loader:{type:Boolean,value:!1},_showLoader:{type:Boolean,computed:"_computeShowLoader(loader, loading)"},isAttached:Boolean,// If true it will opend suggestions on input field focus.
openOnFocus:{type:Boolean,value:!1},// this property is set when the `target` changes. It is used to remove
// listeners.
_oldTarget:HTMLElement,// An event target for key down event.
_keyTarget:{type:HTMLElement,value:function(){return this}}}}static get observers(){return["_targetChanged(target, isAttached)","_filterSuggestions(source, _oldTarget, isAttached)"]}/**
     * @constructor
     */constructor(){super();this.acceptSelection=this.acceptSelection.bind(this);this._valueChanged=this._valueChanged.bind(this);this._targetFocus=this._targetFocus.bind(this);this._targetClick=this._targetClick.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("tap",this.acceptSelection)}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("tap",this.acceptSelection)}ready(){super.ready();const target=this.shadowRoot.querySelector("#container");if(!this.scrollTarget){this.scrollTarget=target}if(!this.sizingTarget){this.sizingTarget=target}this.resetFit()}/**
     * Handler for target property change.
     *
     * @param {HTMLElement} target Target input element
     * @param {Boolean} isAttached True if this element is attached to the DOM.
     */_targetChanged(target,isAttached){if(this._oldTarget){this._oldTarget.removeEventListener("input",this._valueChanged);this._oldTarget.removeEventListener("focus",this._targetFocus);this._oldTarget.removeEventListener("click",this._targetClick);this._oldTarget=null}if(!isAttached||!target){return}this.resetFit();if("string"===typeof target){throw new Error("Target must be an element")}else if(target){target.addEventListener("input",this._valueChanged);target.addEventListener("focus",this._targetFocus);target.addEventListener("click",this._targetClick);this._oldTarget=target;if(target===document.activeElement){this._targetFocus()}}}/**
     * Handler for target input change.
     */_valueChanged(){if(!this.isAttached||!this._oldTarget){return}const value=this._oldTarget.value;if(this._previousQuery){if(0===value.indexOf(this._previousQuery)){this._previousQuery=value;this._filterSuggestions();return}else{// this is a new query
this._previousQuery=null;this._setSuggestions([])}}this._disaptchQuery(value);this._previousQuery=value;if(!this.opened){this.selectedItem=0}this._filterSuggestions();this._setLoading(!0)}/**
     * Disaptches query event and returns it.
     * @param {String} value Current input value.
     * @return {CustomEvent}
     */_disaptchQuery(value){const e=new CustomEvent("query",{detail:{value}});this.dispatchEvent(e);return e}/**
     * Filter `source` array for current value.
     */_filterSuggestions(){if(!this.isAttached||!this._oldTarget||this._previousQuery===void 0){return}this._setLoading(!1);const source=this.source;if(!source){this._setSuggestions([]);return}const query=this._previousQuery?this._previousQuery.toLowerCase():"",filter=function(item){const value="string"===typeof item?item:item.value;return-1!==value.toLowerCase().indexOf(query)},filtered=query?source.filter(filter):source;if(0===filtered.length){this.opened=!1;return}filtered.sort(function(a,b){const valueA="string"===typeof a?a:a.value,valueB="string"===typeof b?b:b.value,lowerA=valueA.toLowerCase(),lowerB=valueB.toLowerCase(),aIndex=lowerA.indexOf(query),bIndex=lowerB.indexOf(query);if(aIndex===bIndex){return valueA.localeCompare(valueB)}if(0===aIndex&&0!==bIndex){return-1}if(0===bIndex&&0!==aIndex){return 1}if(valueA>valueB){return 1}if(valueA<valueB){return-1}return valueA.localeCompare(valueB)});this._setSuggestions(filtered);this.notifyResize();this._ensureSelection();this.opened=!0}/* Compute suggestion display value */_suggestionDisplay(item){return item.value||item}/**
     * Highlight previous suggestion
     */selectPrevious(){if(!this.suggestions||!this.suggestions.length){return}if(!this.opened){this.opened=!0}this.$.selector.selectPrevious();this.ensureItemVisible(!1)}/**
     * Highlight next suggestion
     */selectNext(){if(!this.suggestions||!this.suggestions.length){return}if(!this.opened){this.opened=!0}this.$.selector.selectNext();this.ensureItemVisible(!0)}/**
     * Accepts currently selected suggestion and enters it into a text field.
     */acceptSelection(){if(!this.opened||!this.suggestions||!this.suggestions.length||!this.$.selector.selectedItem){return}let value=this.$.repeater.itemForElement(this.$.selector.selectedItem);if("string"!==typeof value&&"undefined"!==typeof value.value){value=value.value}value=value+"";setTimeout(()=>this._inform(value),1)}/**
     * Dispatches `selected` event with new value.
     *
     * @param {String} value Selected value.
     */_inform(value){const ev=new CustomEvent("selected",{detail:{value},cancelable:!0});this.dispatchEvent(ev);if(!ev.defaultPrevented){this.target.value=value}this.close()}/**
     * Ensure that the selected item is visible in the scroller.
     * When there is more elements to show than space available (height)
     * then some elements will be hidden. When the user use arrows to navigate
     * the selection may get out from the screen. This function ensures that
     * currently selected element is visible.
     *
     * @param {Boolean} bottom If trully it will ensure that the element is
     * visible at the bottom of the container. On the top otherwise.
     */ensureItemVisible(bottom){if(!this.opened||!this.suggestions||!this.suggestions.length){return}const container=this.scrollTarget,index=this.$.selector.selected;if(bottom&&0===index){this.scroll(0);return}let toMove;if(!bottom&&index===this.suggestions.length-1){toMove=container.scrollHeight-container.offsetHeight;this.scroll(0,toMove);return}const item=this.$.selector.selectedItem,containerOffsetHeight=bottom?container.offsetHeight:0,itemOffsetHeight=bottom?item.offsetHeight:0,visible=containerOffsetHeight+container.scrollTop,treshold=item.offsetTop+itemOffsetHeight;if(bottom&&treshold>visible){toMove=item.offsetHeight+item.offsetTop-container.offsetHeight;this.scroll(0,toMove)}else if(!bottom&&visible>treshold){this.scroll(0,treshold)}}/**
     * Computes value for `_showLoader` property.
     *
     * @param {Boolean} loader
     * @param {Boolean} loading
     * @return {Boolean} True if the loader should be rendered.
     */_computeShowLoader(loader,loading){return!!loader&&!!loading}/**
     * Handler for target element focus event.
     * Opens the autocomplete if `openOnFocus` is set.
     */_targetFocus(){if(!this.openOnFocus||this.opened||this.__autocompleteFocus){return}this.__autocompleteFocus=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__autocompleteFocus=!1;this._valueChanged()})}/**
     * Prohibits click event propagation when the overlay is opened so
     * the overlay manager won't close it immidietly after focusing (with click
     * event included) in the target field.
     *
     * @param {ClickEvent} e
     */_targetClick(e){if(!this.opened){return}e.stopPropagation();e.stopImmediatePropagation()}/**
     * Selects a first available item after filtering results and missing
     * selection.
     */_ensureSelection(){if(this.$.selector.selectedItem){return}this.$.selector.selected=0}}/**
   * Fired when user entered some text into the input.
   * It is a time to query external datastore for suggestions and update "source" property.
   * Source should be updated event if the backend result with empty values and should set
   * the list to empty array.
   *
   * Nore that setting up source in response to this event after the user has closed
   * the dropdown it will have no effect at the moment.
   *
   * @event query
   * @param {String} value An entered phrase in text field.
   */ /**
   * Fired when the item was selected by the user.
   * At the time of receiving this event new value is already set in target input field.
   *
   * @event selected
   * @param {String} value Selected value
   */window.customElements.define(PaperAutocomplete.is,PaperAutocomplete);</script></dom-module><dom-module id="oauth2-scope-selector" assetpath="bower_components/oauth2-scope-selector/"><template><style>:host{display:block;outline:none;@apply --oauth2-scope-selector;}.form-label{@apply --form-label;@apply --oauth2-scope-selector-label;}.item{width:calc(100% - 32px);@apply --oauth2-scope-selector-list-item;}paper-autocomplete{top:52px;}.input-container{position:relative;}.add-button,
    .delete-icon{color:var(--api-form-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;margin-left:8px;@apply --icon-button;}.add-button:hover,
    .delete-icon:hover{color:var(--api-form-action-icon-hover-color, rgba(0, 0, 0, 0.84));@apply --icon-button-hover;}.scope-item{@apply --layout-horizontal;@apply --layout-center;}.scope-display{overflow:hidden;@apply --arc-font-body1;font-size:16px;}.scope-item[two-line]{margin-bottom:12px;}.scope-item[two-line] .scope-display{font-weight:400;}.scope-item-label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.scope-display div[secondary]{font-size:14px;font-weight:400;line-height:20px;color:var(--oauth2-scope-selector-item-description-color, #737373);}</style><div class="container"><label class="form-label">Scopes</label><div class="input-container"><paper-input name="[[name]]" no-label-float="" invalid="[[invalid]]" label="Scope value" class="scope-input" value="{{currentValue}}" on-keydown="_keyDown" autocomplete="off" title="Enter authorization scopes for this API endpoint. Check your provider's documentation for more information about scopes."><paper-icon-button class="add-button" data-action="add-scope" slot="suffix" icon="arc:add-circle-outline" on-tap="_appendScope" title="Add scope"></paper-icon-button></paper-input><template is="dom-if" if="[[hasAutocomplete]]"><paper-autocomplete target="[[inputTarget]]" source="[[_autocompleteScopes]]" on-selected="_suggestionSelected" open-on-focus=""></paper-autocomplete></template></div><section class="scopes-list" role="list"><template is="dom-repeat" items="[[value]]"><div class="scope-item" two-line$="[[_allowedIsObject]]"><div class="scope-display"><div class="scope-item-label">[[item]]</div><div secondary="">[[_computeItemDescription(item, _allowedIsObject)]]</div></div><paper-icon-button class="delete-icon" data-action="remove-scope" icon="arc:remove-circle-outline" on-tap="_removeScope" title="Remove scope"></paper-icon-button></div></template></section></div><paper-toast missing-scope="" text="Enter scope value to add a scope."></paper-toast><paper-toast dissalowed="" text="You can't enter this scope. Use one of the provided scopes."></paper-toast></template><script>class OAuth2ScopeSelector extends Polymer.mixinBehaviors([Polymer.IronControlState,Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"oauth2-scope-selector"}static get properties(){return{/**
         * List of scopes entered by the user. It can be used it pre-select scopes
         * by providing an array with scope values.
         */value:{type:Array,value:function(){return[]},notify:!0/* ignoreName */ /* skipSlots */},/**
         * Form input name
         */name:String,/**
         * Current value entered by the user. This is not a scope and it is not
         * yet in the scopes list. User has to accept the scope before it become
         * available in the scopes list.
         */currentValue:String,// Target for `paper-autocomplete`
inputTarget:{type:HTMLElement,readOnly:!0},/**
         * List of available scopes.
         * It can be either list of string or list of object. If this is the
         * list of object then this expects to each object contain a `label`
         * and `description` keys.
         *
         * ### Example
         * ```
         * {
         *   'label': 'user',
         *   'description': 'Grants read/write access to profile info only. '
         * }
         * ```
         * When the description is provided it will be displayed below the name
         * of the scope.
         */allowedScopes:Array,// If true then scopes that are in the `allowedScopes` list will be
// allowed to be add.
preventCustomScopes:Boolean,// Computed value, true if the `allowedScopes` is a list of objects
_allowedIsObject:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeAllowedIsObject(allowedScopes)"},/**
         * Set to true to auto-validate the input value when it changes.
         */autoValidate:Boolean,/**
         * List of scopes to be set as autocomplete source.
         */_autocompleteScopes:{type:Array,computed:"_normalizeScopes(allowedScopes)"},/**
         * True if the element has attached autocomplete element.
         *
         * @type {Object}
         */hasAutocomplete:{type:Boolean,computed:"_computeHasAutocomplete(_autocompleteScopes)"},/**
         * Returns true if the value is invalid.
         *
         * If `autoValidate` is true, the `invalid` attribute is managed automatically,
         * which can clobber attempts to manage it manually.
         */invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_invalidChanged"},/**
         * Set to true to mark the input as required.
         */required:{type:Boolean,value:!1}}}static get observers(){return["_handleAutoValidate(autoValidate, value.*)"]}ready(){super.ready();this._ensureAttribute("tabindex",-1);this._setInputTarget(this.shadowRoot.querySelector(".scope-input"))}_invalidChanged(invalid){this.setAttribute("aria-invalid",invalid)}// Add currently entered scope value to the scopes list.
_appendScope(){const value=this.currentValue;if(!value){this.shadowRoot.querySelector("paper-toast[missing-scope]").opened=!0;return}this.currentValue="";this.append(value)}// Remove scope button click handler
_removeScope(e){const repeater=this.shadowRoot.querySelector(".scopes-list > dom-repeat, template[is=\"dom-repeat\"]"),item=repeater.itemForElement(e.target);if(!item){return}const all=this.value,index=all.indexOf(item);if(-1===index){return}this.splice("value",index,1)}/**
     * Handler for the `paper-autocomplete` selected event.
     *
     * @param {Event} e
     */_suggestionSelected(e){e.preventDefault();const scope=e.detail.value;this.append(scope);this.async(function(){this.currentValue=""},1)}/**
     * Adds a scope to the list. The same as pushing item to the `scopes`
     * array but it will check for duplicates first.
     *
     * @param {String} scope Scope value to append
     */append(scope){const scopeValue="string"===typeof scope?scope:scope.value,all=this.value;let index=all.indexOf(scopeValue);if(-1!==index){return}if(this.preventCustomScopes&&this.allowedScopes&&this.allowedScopes.length){index=this._findAllowedScopeIndex(scopeValue);if(-1===index){this.shadowRoot.querySelector("paper-toast[dissalowed]").opened=!0;return}}this.push("value",scopeValue)}/**
     * Finds an index if the `scope` in the `allowedScopes` list.
     *
     * @param {String} scope A scope value (label) to find.
     * @return {Number} An index of scope or `-1` if not found.
     */_findAllowedScopeIndex(scope){let index=-1;const scopes=this.allowedScopes;if(!scopes||!scopes.length||!scope){return index}if(this._allowedIsObject){index=scopes.findIndex(item=>item.label===scope)}else{index=this.allowedScopes.indexOf(scope)}return index}// A handler for the input's key down event. Handles ENTER press.
_keyDown(e){if(13!==e.keyCode){return}const ac=this.shadowRoot.querySelector("paper-autocomplete");if(ac&&ac.opened){return}this._appendScope();this.currentValue=""}/**
     * Normalizes scopes to use it with autocomplete element.
     *
     * @param {Array} scopes List of autocomplete values. Can be list of
     * strings or objects
     * @return {Array} Normalized scopes list for autocomplete.
     */_normalizeScopes(scopes){if(!scopes||!scopes.length){return void 0}return scopes.map(item=>{if("string"===typeof item){return item}return{display:item.label,value:item.label}})}/**
     * Computes value for `hasAutocomplete`.
     *
     * @param {?Array} scopes List of scopes
     * @return {Boolean} True if scopes are set
     */_computeHasAutocomplete(scopes){return!!(scopes&&scopes.length)}/**
     * Compute function for the _allowedIsObject. Check first item of the
     * `allowedScopes` array if it is an object (return `true`) or
     * string (return `false`);
     */_computeAllowedIsObject(allowedScopes){if(!allowedScopes||!allowedScopes.length){return!1}const first=allowedScopes[0];return"string"!==typeof first}/**
     * Returns a description for the selected scope.
     *
     * @param {String} Scope name
     * @param {Boolean} allowedIsObject True if allowed scopes is an object.
     * @return {String} Description of the scope or `` (empty string) if the
     * item do not exists.
     */_computeItemDescription(scope,allowedIsObject){if(!allowedIsObject){return}const index=this._findAllowedScopeIndex(scope);if(-1===index){return""}return this.allowedScopes[index].description}/**
     * Returns false if the element is required and does not have a selection,
     * and true otherwise.
     *
     * @return {boolean} true if `required` is false, or if `required` is true
     * and the element has a valid selection.
     */_getValidity(){return this.disabled||!this.required||this.required&&!!(this.value&&this.value.length)}_handleAutoValidate(autoValidate){if(autoValidate){this.invalid=!this._getValidity()}}}window.customElements.define(OAuth2ScopeSelector.is,OAuth2ScopeSelector);</script></dom-module><script>/** @polymerBehavior */Polymer.PaperSpinnerBehavior={properties:{/**
       * Displays the spinner.
       */active:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,reflectToAttribute:!0/* skipSlots */,observer:"__activeChanged"},/**
       * Alternative text content for accessibility support.
       * If alt is present, it will add an aria-label whose content matches alt when active.
       * If alt is not present, it will default to 'loading' as the alt value.
       */alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(active,coolingDown){return[active||coolingDown?"active":"",coolingDown?"cooldown":""].join(" ")},__activeChanged:function(active,old){this.__setAriaHidden(!active);this.__coolingDown=!active&&old},__altChanged:function(alt){// user-provided `aria-label` takes precedence over prototype default
if("loading"===alt){this.alt=this.getAttribute("aria-label")||alt}else{this.__setAriaHidden(""===alt);this.setAttribute("aria-label",alt)}},__setAriaHidden:function(hidden){var attr="aria-hidden";if(hidden){this.setAttribute(attr,"true")}else{this.removeAttribute(attr)}},__reset:function(){this.active=!1;this.__coolingDown=!1}};</script><dom-module id="paper-spinner-styles" assetpath="bower_components/paper-spinner/"><template><style>:host{display:inline-block;position:relative;width:28px;height:28px;--paper-spinner-container-rotation-duration:1568ms;--paper-spinner-expand-contract-duration:1333ms;--paper-spinner-full-cycle-duration:5332ms;--paper-spinner-cooldown-duration:400ms;}#spinnerContainer{width:100%;height:100%;direction:ltr;}#spinnerContainer.active{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg);}}@keyframes container-rotate{to{transform:rotate(360deg);}}.spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;color:var(--paper-spinner-color, var(--google-blue-500));}.layer-1{color:var(--paper-spinner-layer-1-color, var(--google-blue-500));}.layer-2{color:var(--paper-spinner-layer-2-color, var(--google-red-500));}.layer-3{color:var(--paper-spinner-layer-3-color, var(--google-yellow-500));}.layer-4{color:var(--paper-spinner-layer-4-color, var(--google-green-500));}.active .spinner-layer{-webkit-animation-name:fill-unfill-rotate;-webkit-animation-duration:var(--paper-spinner-full-cycle-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-name:fill-unfill-rotate;animation-duration:var(--paper-spinner-full-cycle-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;opacity:1;}.active .spinner-layer.layer-1{-webkit-animation-name:fill-unfill-rotate, layer-1-fade-in-out;animation-name:fill-unfill-rotate, layer-1-fade-in-out;}.active .spinner-layer.layer-2{-webkit-animation-name:fill-unfill-rotate, layer-2-fade-in-out;animation-name:fill-unfill-rotate, layer-2-fade-in-out;}.active .spinner-layer.layer-3{-webkit-animation-name:fill-unfill-rotate, layer-3-fade-in-out;animation-name:fill-unfill-rotate, layer-3-fade-in-out;}.active .spinner-layer.layer-4{-webkit-animation-name:fill-unfill-rotate, layer-4-fade-in-out;animation-name:fill-unfill-rotate, layer-4-fade-in-out;}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);}25%{-webkit-transform:rotate(270deg);}37.5%{-webkit-transform:rotate(405deg);}50%{-webkit-transform:rotate(540deg);}62.5%{-webkit-transform:rotate(675deg);}75%{-webkit-transform:rotate(810deg);}87.5%{-webkit-transform:rotate(945deg);}to{-webkit-transform:rotate(1080deg);}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg);}25%{transform:rotate(270deg);}37.5%{transform:rotate(405deg);}50%{transform:rotate(540deg);}62.5%{transform:rotate(675deg);}75%{transform:rotate(810deg);}87.5%{transform:rotate(945deg);}to{transform:rotate(1080deg);}}@-webkit-keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@-webkit-keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}@keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}.circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;}.spinner-layer::after{left:45%;width:10%;border-top-style:solid;}.spinner-layer::after,
      .circle-clipper::after{content:'';box-sizing:border-box;position:absolute;top:0;border-width:var(--paper-spinner-stroke-width, 3px);border-radius:50%;}.circle-clipper::after{bottom:0;width:200%;border-style:solid;border-bottom-color:transparent !important;}.circle-clipper.left::after{left:0;border-right-color:transparent !important;-webkit-transform:rotate(129deg);transform:rotate(129deg);}.circle-clipper.right::after{left:-100%;border-left-color:transparent !important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg);}.active .gap-patch::after,
      .active .circle-clipper::after{-webkit-animation-duration:var(--paper-spinner-expand-contract-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-duration:var(--paper-spinner-expand-contract-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;}.active .circle-clipper.left::after{-webkit-animation-name:left-spin;animation-name:left-spin;}.active .circle-clipper.right::after{-webkit-animation-name:right-spin;animation-name:right-spin;}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg);}50%{-webkit-transform:rotate(-5deg);}to{-webkit-transform:rotate(130deg);}}@keyframes left-spin{0%{transform:rotate(130deg);}50%{transform:rotate(-5deg);}to{transform:rotate(130deg);}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg);}50%{-webkit-transform:rotate(5deg);}to{-webkit-transform:rotate(-130deg);}}@keyframes right-spin{0%{transform:rotate(-130deg);}50%{transform:rotate(5deg);}to{transform:rotate(-130deg);}}#spinnerContainer.cooldown{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);}@-webkit-keyframes fade-out{0%{opacity:1;}to{opacity:0;}}@keyframes fade-out{0%{opacity:1;}to{opacity:0;}}</style></template></dom-module><dom-module id="paper-spinner" assetpath="bower_components/paper-spinner/"><template strip-whitespace=""><style include="paper-spinner-styles"></style><div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset"><div class="spinner-layer layer-1"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-2"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-3"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-4"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div></div></template><script>Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]});</script></dom-module><dom-module id="auth-method-oauth2" assetpath="bower_components/auth-methods/"><template strip-whitespace=""><style include="markdown-styles"></style><style include="auth-methods-styles">:host{display:block;@apply --arc-font-body1;@apply --auth-method-panel;@apply --auth-method-oauth2;--paper-icon-button:{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;@apply --icon-button;};--paper-icon-button-hover:{color:var(--hint-trigger-hover-color, rgba(0, 0, 0, 0.88));@apply --icon-button-hover;};}.form{@apply --layout-flex;max-width:700px;}oauth2-scope-selector{margin:24px 0;outline:none;}.grant-dropdown{width:320px;@apply --auth-grant-dropdown;}.auth-button{color:var(--secondary-color);background-color:#fff;@apply --auth-button;}.auth-button:hover{@apply --auth-button-hover;}.auth-button[disabled]{background-color:rgba(0, 0, 0, 0.24);color:rgba(0, 0, 0, 0.54);@apply --auth-button-disabled;}:host([narrow]) .auth-button{@apply --auth-button-narrow;}:host([narrow]) .auth-button:hover{@apply --auth-button-narrow-hover;}:host([narrow]) .auth-button[disabled]{@apply --auth-button-narrow-disabled;}.authorize-actions{@apply --layout-horizontal;@apply --layout-center;}.authorize-actions > paper-button{margin:0;}.authorize-actions > paper-spinner{margin-left:12px;}.read-only-param-field{background-color:rgba(0, 0, 0, 0.12);@apply --arc-font-body1;display:block;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;@apply --layout-horizontal;}.read-only-param-field.padding{padding:12px;}label{@apply --form-label;}.token-info,
    .redirect-info{@apply --arc-font-body1;font-weight:200;color:var(--auth-method-oauth2-redirect-info-color, rgba(0, 0, 0, 0.74));}.code{@apply --arc-font-code1;@apply --layout-flex;outline:none;cursor:text;}.token-label{font-weight:500;font-size:16px;}.current-token{margin-top:12px;}.redirect-section,
    oauth2-scope-selector{max-width:560px;box-sizing:border-box;}.redirect-section{@apply --auth-redirect-section;}*[hiddable]{display:none;}*[data-grant="authorization_code"] *[data-visible~="authorization_code"],
    *[data-grant="client_credentials"] *[data-visible~="client_credentials"],
    *[data-grant="implicit"] *[data-visible~="implicit"],
    *[data-grant="password"] *[data-visible~="password"]{display:block;}form[is-custom-grant] *[data-visible]{display:block !important;}.custom-data-field-value{@apply --layout-horizontal;@apply --layout-flex;}api-property-form-item{@apply --layout-flex;}h4{@apply --arc-font-subhead;}.help-icon{margin-top:16px;}.error-toast{background-color:var(--warning-primary-color, #FF7043);color:var(--warning-contrast-color, #fff);@apply --error-toast;}api-property-form-item[is-array]{margin-top:8px;}paper-item:hover{@apply --paper-item-hover;}#redirectCopyButton{@apply --secondary-button;}#redirectCopyButton:hover{@apply --secondary-button-hover;}</style><iron-form data-grant$="[[grantType]]"><form autocomplete="on" is-custom-grant$="[[isCustomGrant]]"><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]" inactive="[[isSelectedType]]" hidden$="[[noGrantType]]" on-inactive-tap="_clearTypeSelection"><span slot="title">Grant type</span> <span slot="inactive-title">[[_computeSelectedTypeLabel(grantType)]]</span><paper-dropdown-menu label="Grant type" class="grant-dropdown" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{grantType}}" attr-for-selected="data-type"><template is="dom-repeat" items="[[grantTypes]]"><paper-item data-type$="[[item.type]]">[[item.label]]</paper-item></template></paper-listbox></paper-dropdown-menu></auth-method-step><auth-method-step step-start-index="[[stepStartIndex]]" step="2" no-steps="[[noSteps]]"><span slot="title">Authorization data</span><section><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="clientid" label="Client id" value="{{clientId}}" autocomplete="on" title="Your client ID registered in your OAuth provider."></paper-masked-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="clientsecret" label="Client secret" value="{{clientSecret}}" hiddable="" data-visible="client_credentials authorization_code" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'client_credentials', 'authorization_code')]]" autocomplete="on" title="The client secret is generated by your provider unique string for your app. Check provider's console to get the code."></paper-masked-input><template is="dom-if" if="[[authQueryParameters]]" restamp=""><h4>Authorization request query parameters</h4><template is="dom-repeat" items="{{authQueryParameters}}" data-repeater="auth-query"><div class="custom-data-field auth-query-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="auth-query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="auth-query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="auth-query" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenQueryParameters]]" restamp=""><h4>Token request query parameters</h4><template is="dom-repeat" items="{{tokenQueryParameters}}" data-repeater="token-query"><div class="custom-data-field token-query-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="token-query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-query" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenHeaders]]" restamp=""><h4>Token request headers</h4><template is="dom-repeat" items="{{tokenHeaders}}" data-repeater="token-headers"><div class="custom-data-field token-header"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="token-headers"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-headers" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-headers" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenBody]]" restamp=""><h4>Token request body</h4><template is="dom-repeat" items="{{tokenBody}}" data-repeater="token-body"><div class="custom-data-field body-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name$="[[item.name]]" auto-validate="" required$="[[item.required]]" value="{{item.value}}" data-type="token-body"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-body" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-body" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[isAdvanced]]"><div class="adv-toggle"><paper-checkbox class="adv-settings-input" checked="{{advancedOpened}}">Advanced settings</paper-checkbox></div></template><iron-collapse opened="[[advancedOpened]]"><paper-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="authuri" label="Authorization URI" value="{{authorizationUri}}" hiddable="" data-visible="implicit authorization_code" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'implicit', 'authorization_code')]]" type="text" autocomplete="on" title="The authorization URL initializes the OAuth flow. If you don't know the authorization URL check your provider's documentation."></paper-input><paper-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="tokenuri" label="Access token URI" value="{{accessTokenUri}}" hiddable="" data-visible="client_credentials authorization_code password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'client_credentials', 'authorization_code', 'password')]]" type="text" autocomplete="on" title="The access token URL is used by server implementations to exchange access code for access token."></paper-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="username" label="Username" value="{{username}}" hiddable="" data-visible="password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'password')]]" autocomplete="on" title="The username required for this OAuth authentication."></paper-masked-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="password" label="Password" value="{{password}}" hiddable="" data-visible="password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'password')]]" autocomplete="on" title="The password required for this OAuth authentication."></paper-masked-input><div><oauth2-scope-selector allowed-scopes="[[allowedScopes]]" prevent-custom-scopes="[[preventCustomScopes]]" value="{{scopes}}"></oauth2-scope-selector></div></iron-collapse></section></auth-method-step><auth-method-step step-start-index="[[stepStartIndex]]" step="3" no-steps="[[noSteps]]"><span slot="title">Redirect URI</span><section><div class="redirect-section"><p class="redirect-info">Set this redirect URI in OAuth 2.0 provider settings.</p><p class="read-only-param-field padding"><span class="code" on-click="_clickCopyAction">[[redirectUri]]</span></p></div></section></auth-method-step></form></iron-form><div class="authorize-actions" hidden$="[[hasAccessToken]]"><paper-button disabled$="[[_authorizing]]" class="auth-button" data-type="get-token" on-click="authorize" raised="" noink="[[noink]]">Request access token</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div><div class="current-token" hidden$="[[!hasAccessToken]]"><label class="token-label">Current token</label><p class="read-only-param-field padding"><span class="code" on-click="_clickCopyAction">[[accessToken]]</span></p><div class="authorize-actions"><paper-button disabled$="[[_authorizing]]" class="auth-button" data-type="refresh-token" on-click="authorize" raised="" noink="[[noink]]">Refresh access token</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div></div><paper-toast text="" duration="5000"></paper-toast><paper-toast class="error-toast" text="" duration="5000"></paper-toast><paper-toast text="Value copied to clipboard" id="clipboardToast" duration="2000"></paper-toast><clipboard-copy></clipboard-copy></template><script>/**
     * The `<auth-method-oauth2>` element displays a form to provide the OAuth 2.0 settings.
     *
     * ### Example
     *
     * ```html
     * <auth-method-oauth2></auth-method-oauth2>
     * ```
     *
     * This element uses `oauth2-scope-selector` so the `allowedScopes`, `preventCustomScopes` and
     * `scopes` properties will be set on this element. See documentation of `oauth2-scope-selector`
     * for more description.

     * ### Forcing the user to select scope from the list
     *
     * ```html
     * <auth-method-oauth2 prevent-custom-scopes></auth-method-oauth2>
     * ```
     *
     * ```javascript
     * var form = document.querySelector('auth-method-oauth2');
     * form.allowedScopes = ['profile', 'email'];
     * ```
     *
     * ## Authorizing the user
     * The element sends the `oauth2-token-requested` with the OAuth settings provided with the form.
     * Any element / app can handle this event and perform authorization.
     * *
     * When the authorization is performed the app / other element should set back `accessToken` property
     * of this element or send the `oauth2-token-response` with token response value so the change will
     * can reflected in the UI.
     * ARC provides the `oauth2-authorization` element that can handle this events.
     *
     * ### Example
     *
     * ```html
     * <auth-method-oauth2></auth-method-oauth2>
     * <oauth2-authorization></oauth2-authorization>
     * ```
     *
     * The `oauth2-authorization` can be set anywhere in the DOM up from this element siblings to the
     * body. See demo for example usage.
     *
     ## Redirect URL
     * Most OAuth 2 providers requires setting the redirect URL with the request. This can't be changed
     * by the user and redirect URL can be only set in the provider's settings panel. The element
     * accepts the `redirectUri` property which will be displayed to the user that (s)he has to set up
     * this callback URL in the OAuth provider settings. It can be any URL where token / code will be
     * handled properly and the value returned to the `oauth2-authorization` element.
     * See `oauth2-authorization` documentation for more information.
     *
     * If you going to use `oauth2-authorization` popup then the redirect URL value must be set to:
     * `/bower_components/oauth-authorization/oauth-popup.html`. Mind missing `2` in `oauth-authorization`.
     * This popup is a common popup for auth methods.
     *
     * ### OAuth 2.0 extensibility
     *
     * As per [RFC6749, section 8](https://tools.ietf.org/html/rfc6749#section-8) OAuth 2.0
     * protocol can be extended by custom `grant_type`, custom query parameters and custom headers.
     *
     * This is not yet supported in RAML. However, working together with RAML spec creators,
     * an official RAML annotation to extend OAuth 2.0 settings has been created.
     * The annotation source can be found in the [RAML organization repository](https://github.com/raml-org/raml-annotations/blob/master/annotations/security-schemes/oauth-2-custom-settings.raml).
     *
     * When the annotation is applied to the `ramlSettings` property, this element renders
     * additional form inputs to support custom schemes.
     *
     * This produces additional property in the token authorization request: `customData`.
     * The object contains user input from custom properties.
     * *
     * #### `customData` model
     *
     * ```json
     * customData: {
     *  auth: {
     *    parameters: Array|undefined
     *  },
     *  token: {
     *    parameters: Array|undefined,
     *    headers: Array|undefined,
     *    body: Array|undefined
     *  }
     * }
     * ```
     * `auth` contains properties to be applied to the authorization request.
     * Only query parameetrs are (and can be) supported.
     *
     * `token` property contains properties to be applied when making token request.
     * It can include `parameters` as a query parameters, `headers` as a list
     * of headers to apply, and `body` as a list of properties to send with
     * body.
     *
     * Note: `body` content type is always `application/x-www-form-urlencoded`.
     * `customData.token.body` parameters must not be url encoded. Processors
     * handing token request should handle values encoding.
     *
     * #### Annotation example
     *
     * ```yaml
     *  annotationTypes:
     *    customSettings: !include oauth-2-custom-settings.raml
     *  securitySchemes:
     *    oauth2:
     *      type: OAuth 2.0
     *      describedBy:
     *        headers:
     *          Authorization:
     *            example: "Bearer token"
     *      settings:
     *        (customSettings):
     *          authorizationSettings:
     *            queryParameters:
     *              resource:
     *                type: string
     *                required: true
     *                description: |
     *                  A resource ID that defines a domain of authorization.
     *          accessTokenSettings:
     *            body:
     *              resource:
     *                type: string
     *                required: true
     *                description: |
     *                  A resource ID that defines a domain of authorization.
     *        accessTokenUri: https://auth.domain.com/authorize
     *        authorizationUri: https://auth.domain.com/token
     *        authorizationGrants: [code]
     *     scopes: profile
     * ```
     *
     * ## clientId and clientSecret
     *
     * In RAML there's no way to set an example or demo clientId/secret for the
     * tools like API console. This component supports reading data from
     * Polymer's `iron-meta` component. Meta components creeated with
     * `oauth2-client-id` and `oauth2-client-secret` will be used to prepopulate
     * the form if the form doesn't contain this properties already.
     *
     * Note, values changed by the user are persistant per browser session
     * (until browser is closed). Refresing the page will restore user input
     * instead the one defined in `iron-meta` elements.
     *
     * ### Example
     *
     * ```html
     * <iron-meta key="oauth2-client-id" value="abcd"></iron-meta>
     * <iron-meta key="oauth2-client-secret" value="efgh"></iron-meta>
     * ```
     *
     * ## Styling
     *
     * `<auth-method-oauth2>` provides the following custom properties and mixins for styling:
     *
     * Custom property | Description | Default
     * ----------------|-------------|----------
     * `--auth-method-oauth2` | Mixin applied to the element. | `{}`
     * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
     * `--auth-grant-dropdown` | Mixin applied to the authorization grants dropdown list | `{}`
     *
     * This is very basic element. Style inputs using `paper-input`'s or `
     * paper-toggle`'s css variables.
     *
     * ### Theming
     * Use this mixins as a theming option across all ARC elements.
     *
     * Custom property | Description | Default
     * ----------------|-------------|----------
     * `--icon-button` | Mixin applied to `paper-icon-buttons`. | `{}`
     * `--icon-button-hover` | Mixin applied to `paper-icon-buttons` when hovered. | `{}`
     * `--input-line-color` | Mixin applied to the input underline | `{}`
     * `--form-label` | Mixin applied to form labels. It will not affect `paper-*` labels | `{}`
     * `--auth-button` | Mixin applied to authorization action buttons | `{}`
     * `--auth-button-hover` | Mixin applied to authorization buttons when hovered | `{}`
     * `--auth-button-disabled` | Mixin applied to authorization buttons when disabled | `{}`
     * `--auth-button-narrow` | Mixin applied to authorization action buttons when narrow layout | `{}`
     * `--auth-button-narrow-hover` | Mixin applied to authorization buttons when hovered and narrow layout | `{}`
     * `--auth-button-narrow-disabled` | | Mixin applied to authorization buttons when disabled and narrow layout | `{}`
     * `--auth-redirect-section` | Mixin applied to the redirect uri section | `{}`
     * `--error-toast` | Mixin applied to the error toast message | `{}`
     * `--warning-primary-color` | Error toast background color | `#FF7043`
     * `--warning-contrast-color` | Error toast color | `#fff`
     *
     * ## Changes in version 2
     *
     * - Renamed properties
     *  - `authUrl` -> `authorizationUri`
     *  - `redirectUrl` -> `redirectUri`
     *  - `accessTokenUrl` -> `accessTokenUri`
     *  - `tokenValue` -> `accessToken`
     *  - `hasTokenValue` -> `hasAccessToken`
     * - Added `tokenType` to the events describing type of the token.
     * By default it's `Bearer`
     * - **The element does not support RAML js data model anymore**. It uses
     * [AMF](https://github.com/mulesoft/amf/) `json/ld` model. Use AMF to read
     * API spec file (RAML, OAS, etc) and load settings via `amfSettings`
     * property
     * - Added `deliveryMethod` and `deliveryName` properties to the
     * `detail.setting` object.
     *
     * @customElement
     * @polymer
     * @memberof UiElements
     * @appliesMixin ArcBehaviors.EventsTargetBehavior
     * @appliesMixin ArcBehaviors.AuthMethodsMixin
     * @appliesMixin ApiElements.AmfHelperMixin
     * @demo demo/oauth2.html
     * @demo demo/oauth2-amf.html Using AMF data model
     */class AuthMethodOauth2 extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-oauth2"}static get properties(){return{// Seleted authorization grand type.
grantType:{type:String,value:"",notify:!0/* ignoreName */ /* skipSlots */,observer:"_settingsChanged"},/**
           * Computed value, true if the grant type is a cutom definition.
           */isCustomGrant:{type:Boolean,computed:"_computeIsCustomGrant(grantType)",value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},// Computed value, true if the `grantType` is set.
isSelectedType:{type:Boolean,value:!1,computed:"_computeIsSelectedType(grantType)"},/**
           * If true, OAuth flow selector will be collapsed.
           */forceHideTypeSelector:{type:Boolean,value:!1},// The client ID for the auth token.
clientId:{type:String,notify:!0,observer:"_clientIdChanged"},// The client secret. It to be used when selected server flow.
clientSecret:{type:String,notify:!0,observer:"_clientSecretChanged"},// The authorization URL to initialize the OAuth flow.
authorizationUri:{type:String,notify:!0,observer:"_authorizationUriChanged"},// The access token URL to exchange code for token. It is used in server flow.
accessTokenUri:{type:String,notify:!0,observer:"_accessTokenUriChanged"},// The password. To be used with the password flow.
password:{type:String,notify:!0,observer:"_passwordChanged"},// The password. To be used with the password flow.
username:{type:String,notify:!0,observer:"_usernameChanged"},/**
           * A callback URL to be used with this element.
           * User can't change the callback URL and it will inform the user to setup OAuth to use
           * this value.
           *
           * This is relevant when selected flow is the browser flow.
           */redirectUri:{type:String,observer:"_settingsChanged"},/**
           * List of user selected scopes.
           * It can be pre-populated with list of scopes (array of strings).
           */scopes:{type:Array},/**
           * List of pre-defined scopes to choose from. It will be passed to the `oauth2-scope-selector`
           * element.
           */allowedScopes:Array,/**
           * If true then the `oauth2-scope-selector` will disallow to add a scope that is not
           * in the `allowedScopes` list. Has no effect if the `allowedScopes` is not set.
           */preventCustomScopes:Boolean,// True when currently authorizing the user.
_authorizing:Boolean,/**
           * When the user authorized the app it should be set to the token value.
           * This element do not perform authorization. Other elements must intercept
           * `oauth2-token-requested` and perform the authorization. As a result the element
           * performing an authorization should set back the auth token on the event target object
           * (this element).
           */accessToken:{type:String,observer:"_accessTokenChanged"},/**
           * Received from the response token value.
           * By default it is "bearer" as the only one defined in OAuth 2.0
           * spec.
           * If the token response contains `tokenType` property this value is
           * updated.
           */tokenType:{type:String,value:"Bearer",observer:"_tokenTypeChanged"},// Computed value, true if access token is set.
hasAccessToken:{type:Boolean,value:!1,computed:"_computeHasToken(accessToken)"},/**
           * AMF json/ld mode describing security scheme.
           */amfSettings:{type:Object,observer:"_amfChanged"},// Currently available grant types.
grantTypes:{type:Array,observer:"_settingsChanged"},/**
           * `true` whem the element has been initialized.
           * When changed it dispatches first oauth settings event with initial
           * values.
           */_initialized:{type:Boolean,observer:"_settingsChanged"},// If true, the flow type selector will be forced to be opened
_typeSelectorForceOpened:{type:Boolean,value:!1},/**
           * The element will automatically hide following fileds it the element has been initialized
           * with values for this fields (without user interaction):
           *
           * - autorization url
           * - token url
           * - scopes
           *
           * If all this values are set then the element will set `isAdvanced` attribute and set
           * `advancedOpened` to false
           *
           * Setting this property will prevent this behavior.
           */noAuto:Boolean,/**
           * If set it will render autorization url, token url and scopes as advanced options
           * activated on user interaction.
           */isAdvanced:Boolean,/**
           * If true then the advanced options are opened.
           */advancedOpened:Boolean,/**
           * If set, the grant typr selector will be hidden from the UI.
           */noGrantType:{type:Boolean,observer:"_noGrantTypeChanged"},/**
           * List of query parameters to apply to authorization request.
           * This is allowed by the OAuth 2.0 spec as an extension of the
           * protocol.
           * This value is computed if the `ramlSettings` contains annotations
           * and one of it is `customSettings`.
           * See https://github.com/raml-org/raml-annotations for definition.
           */authQueryParameters:{type:Array,readOnly:!0},/**
           * List of query parameters to apply to token request.
           * This is allowed by the OAuth 2.0 spec as an extension of the
           * protocol.
           * This value is computed if the `ramlSettings` contains annotations
           * and one of it is `customSettings`.
           * See https://github.com/raml-org/raml-annotations for definition.
           */tokenQueryParameters:{type:Array,readOnly:!0},/**
           * List of headers to apply to token request.
           * This is allowed by the OAuth 2.0 spec as an extension of the
           * protocol.
           * This value is computed if the `ramlSettings` contains annotations
           * and one of it is `customSettings`.
           * See https://github.com/raml-org/raml-annotations for definition.
           */tokenHeaders:{type:Array,readOnly:!0},/**
           * List of body parameters to apply to token request.
           * This is allowed by the OAuth 2.0 spec as an extension of the
           * protocol.
           * This value is computed if the `ramlSettings` contains annotations
           * and one of it is `customSettings`.
           * See https://github.com/raml-org/raml-annotations for definition.
           */tokenBody:{type:Array,readOnly:!0},/**
           * Default delivery method of access token. Reported with
           * settings change event as `deliveryMethod`.
           *
           * This value is added to event's `settings` property.
           *
           * When setting AMF model, this value may change, if AMF description
           * forces different than default placement of the token.
           */oauthDeliveryMethod:{type:String,value:"header"},/**
           * Default parameter name that carries access token. Reported with
           * the settings change event as `deliveryName`.
           *
           * This value is added to event's `settings` property.
           *
           * When setting AMF model, this value may change, if AMF description
           * forces different than default parameter name for the token.
           */oauthDeliveryName:{type:String,value:"authorization"},/**
           * Renders slightly different view that is optymized for mobile
           * or narrow area on desktop.
           */narrow:{type:Boolean,reflectToAttribute:!0}}}static get observers(){return["_updateStepperState(noSteps)","_settingsChanged(scopes.*)","_settingsChanged(tokenBody.*)","_settingsChanged(tokenHeaders.*)","_settingsChanged(tokenQueryParameters.*)","_settingsChanged(authQueryParameters.*)"]}get _queryModelOpts(){return{valueDelimiter:"=",decodeValues:!0}}get _headersModelOpts(){return{valueDelimiter:":"}}/**
       * List of OAuth 2.0 grants.
       * This list can be extended by custom grants
       * @return {Array<Object>} List of objects with `type` and `label`
       * properties.
       */get _oauth2GrantTypes(){return[{type:"implicit",label:"Access token (browser flow)"},{type:"authorization_code",label:"Authorization code (server flow)"},{type:"client_credentials",label:"Client credentials"},{type:"password",label:"Password"}]}constructor(){super();this._oauth2ErrorHandler=this._oauth2ErrorHandler.bind(this);this._tokenSuccessHandler=this._tokenSuccessHandler.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this)}ready(){super.ready();this._initialized=!0;Polymer.RenderStatus.afterNextRender(this,()=>{if(!this.grantTypes){this._updateGrantTypes()}this._autoHide();this._autoRestore()})}_attachListeners(node){window.addEventListener("oauth2-error",this._oauth2ErrorHandler);window.addEventListener("oauth2-token-response",this._tokenSuccessHandler);node.addEventListener("request-header-changed",this._headerChangedHandler)}_detachListeners(node){window.removeEventListener("oauth2-error",this._oauth2ErrorHandler);window.removeEventListener("oauth2-token-response",this._tokenSuccessHandler);node.removeEventListener("request-header-changed",this._headerChangedHandler)}/**
       * This function hides all non-crucial fields that has been pre-filled when element has been
       * initialize (values not provided by the user). Hidden fields will be available under
       * "advanced" options.
       *
       * To prevent this behavior set `no-auto` attribute on this element.
       */_autoHide(){if(this.noAuto){this.advancedOpened=!0;return}if(!!this.authorizationUri&&!!this.accessTokenUri&&!!(this.scopes&&this.scopes.length)){this.isAdvanced=!0;this.advancedOpened=!1}else{this.advancedOpened=!0}}get storeKeys(){return{clientId:"auth.methods.latest.client_id",secret:"auth.methods.latest.client_secret",token:"auth.methods.latest.auth_token",authUri:"auth.methods.latest.auth_uri",tokenUri:"auth.methods.latest.auth_uri",username:"auth.methods.latest.username",password:"auth.methods.latest.password",tokenType:"auth.methods.latest.tokenType"}}/**
       * Automatically restores value from session store if any exists.
       * It does not override values already set.
       */_autoRestore(){const keys=this.storeKeys;this._restoreSessionProperty(keys.clientId,"clientId");this._restoreSessionProperty(keys.token,"accessToken");this._restoreSessionProperty(keys.tokenType,"tokenType");this._restoreSessionProperty(keys.authUri,"authorizationUri");this._restoreSessionProperty(keys.tokenUri,"accessTokenUri");this._restoreSessionProperty(keys.secret,"clientSecret");this._restoreSessionProperty(keys.username,"username");this._restoreSessionProperty(keys.password,"password");if(!this.clientId){this._restoreMetaClientId()}if(!this.clientSecret){this._restoreMetaClientSecret()}}/**
       * Restores an item from a session store and assigns it to a local
       * property.
       * @param {String} sessionKey Session storage key
       * @param {String} localKey This component's property
       */_restoreSessionProperty(sessionKey,localKey){if(!this[localKey]){const value=sessionStorage.getItem(sessionKey);if(value){this.set(localKey,value)}}}/**
       * Stores a property in a session storage.
       * @param {String} sessionKey A storage key
       * @param {String} value Value to store
       */_storeSessionProperty(sessionKey,value){if(!value){return}if("object"===typeof value){value=JSON.stringify(value)}sessionStorage.setItem(sessionKey,value)}/**
       * Sets `clientId` property from `iron-meta` if created.
       * The key for the meta is `oauth2-client-id`
       */_restoreMetaClientId(){const meta=document.createElement("iron-meta").byKey("oauth2-client-id");if(!meta){return}this.clientId=meta}/**
       * Sets `clientSecret` property from `iron-meta` if created.
       * The key for the meta is `oauth2-client-secret`
       */_restoreMetaClientSecret(){const meta=document.createElement("iron-meta").byKey("oauth2-client-secret");if(!meta){return}this.clientSecret=meta}/**
       * Validates the form.
       *
       * @return {Boolean} `true` if valid, `false` otherwise.
       */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_clientIdChanged(value){this._storeSessionProperty(this.storeKeys.clientId,value);this._settingsChanged()}_clientSecretChanged(value){this._storeSessionProperty(this.storeKeys.secret,value);this._settingsChanged()}_authorizationUriChanged(value){this._storeSessionProperty(this.storeKeys.authUri,value);this._settingsChanged()}_accessTokenUriChanged(value){this._storeSessionProperty(this.storeKeys.tokenUri,value);this._settingsChanged()}_passwordChanged(value){this._storeSessionProperty(this.storeKeys.username,value);this._settingsChanged()}_usernameChanged(value){this._storeSessionProperty(this.storeKeys.username,value);this._settingsChanged()}_accessTokenChanged(value){this._storeSessionProperty(this.storeKeys.token,value);this._settingsChanged()}_tokenTypeChanged(value){this._storeSessionProperty(this.storeKeys.tokenType,value)}_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent||!this._initialized){return}this._notifySettingsChange("oauth2")}// Checks if the HTML element should be visible in the UI for given properties.
_isFieldDisabled(){const args=Array.from(arguments),isCustom=args.splice(0,1)[0];if(isCustom){return!1}const grantType=args.splice(0,1)[0];return-1===args.indexOf(grantType)}/**
       * Computes the `required` attribute on input fileld.
       * When using custom grant type all fields are not required.
       *
       * @param {Boolean} isCustomGrant
       * @return {Boolean}
       */_isFieldRequired(isCustomGrant){return!isCustomGrant}/**
       * Dispatches the `oauth2-token-requested` event.
       * The event is handled by `oauth-authorization` component.
       *
       * If your application has own OAuth2 token exchange system then
       * handle the event and authorize the user.
       *
       * @return {Boolean} True if event was sent. Can be false if event is not
       * handled or when the form is invalid.
       */authorize(){const validationResult=this.validate();if(!validationResult){this._errorToast("Authorization form is not valid.");return!1}const detail=this.getSettings();this._lastState=this.generateState();detail.state=this._lastState;this._authorizing=!0;const e=new CustomEvent("oauth2-token-requested",{detail:detail,bubbles:!0,composed:!0,cancelable:!0});this.dispatchEvent(e);this._analyticsEvent("auth-method-oauth2","usage-authorize","requested");if(!e.defaultPrevented){this._errorToast("The application did not handled token request correctly.");this._authorizing=!1;return!1}return!0}/**
       * Displays an error message in error toast
       * @param {String} message Message to display.
       */_errorToast(message){const toast=this.shadowRoot.querySelector("paper-toast.error-toast");toast.text=message;toast.opened=!0}/**
       * Generates `state` parameter for the OAuth2 call.
       *
       * @return {String} Generated state string.
       */generateState(){let text="";const possible="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let i=0;6>i;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length))}return text}/**
       * Returns current configuration of the OAuth2.
       *
       * @return {Object} Current OAuth2 configuration.
       */getSettings(){const detail={type:this.grantType,clientId:this.clientId,accessToken:this.accessToken||"",tokenType:this.tokenType,scopes:this.scopes,customData:{auth:{},token:{}},deliveryMethod:this.oauthDeliveryMethod,deliveryName:this.oauthDeliveryName};switch(this.grantType){case"implicit":// The browser flow.
detail.authorizationUri=this.authorizationUri;detail.redirectUri=this.redirectUri;this._computeAuthCustomData(detail);delete detail.customData.token;break;case"authorization_code":// The server flow.
detail.authorizationUri=this.authorizationUri;detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;detail.redirectUri=this.redirectUri;this._computeAuthCustomData(detail);this._computeTokenCustomData(detail);break;case"client_credentials":// The server flow.
detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;this._computeTokenCustomData(detail);delete detail.customData.auth;break;case"password":// The server flow.
detail.username=this.username;detail.password=this.password;detail.accessTokenUri=this.accessTokenUri;this._computeTokenCustomData(detail);delete detail.customData.auth;break;default:// Custom grant type.
detail.authorizationUri=this.authorizationUri;detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;detail.redirectUri=this.redirectUri;detail.username=this.username;detail.password=this.password;this._computeAuthCustomData(detail);this._computeTokenCustomData(detail);break;}return detail}/**
       * Adds `customData` property values that can be applied to the
       * authorization request.
       *
       * @param {Object} detail Token request detail object. The object is passed
       * by reference so no need for return value
       */_computeAuthCustomData(detail){if(this.authQueryParameters){detail.customData.auth.parameters=this._computeCustomParameters(this.authQueryParameters)}}/**
       * Adds `customData` property values that can be applied to the
       * token request.
       *
       * @param {Object} detail Token request detail object. The object is passed
       * by reference so no need for return value
       */_computeTokenCustomData(detail){if(this.tokenQueryParameters){detail.customData.token.parameters=this._computeCustomParameters(this.tokenQueryParameters)}if(this.tokenHeaders){detail.customData.token.headers=this._computeCustomParameters(this.tokenHeaders)}if(this.tokenBody){detail.customData.token.body=this._computeCustomParameters(this.tokenBody)}}/**
       * Computes list of parameter values from current model.
       *
       * This function ignores empty values if they are not required.
       * Required property are always included, even if the value is not set.
       *
       * @param {Array} params Model for form inputs.
       * @return {Array|undefined} Array of objects with `name` and `value`
       * properties or undefined if `params` is empty or no values are available.
       */_computeCustomParameters(params){if(!params||!params.length){return}const result=[];params.forEach(item=>{const value=item.value;if(!item.required){const type=typeof value;if("number"===type){if(!value&&0!==value){return}}else if("string"===type){if(!value){return}}else if(value instanceof Array){if(!value[0]){return}}else if("undefined"===type){return}}result.push({name:item.name,value:item.value||""})});if(0===result.length){return}return result}/**
       * Restores settings from stored value.
       *
       * @param {Object} settings Object returned by `getSettings()`
       */restore(settings){this.grantType=settings.type;this.clientId=settings.clientId;this.accessToken=settings.accessToken;this.scopes=settings.scopes;switch(this.grantType){case"implicit":this.authorizationUri=settings.authorizationUri;break;case"authorization_code":this.authorizationUri=settings.authorizationUri;this.clientSecret=settings.clientSecret;this.accessTokenUri=settings.accessTokenUri;break;case"client_credentials":// The server flow.
this.clientSecret=settings.clientSecret;this.accessTokenUri=settings.accessTokenUri;break;case"password":// The server flow.
this.username=settings.username;this.password=settings.password;this.accessTokenUri=settings.accessTokenUri;break;}}/**
       * Computes value for `hasAccessToken` property
       * @param {String} newValue Token changed value
       * @return {Boolean}
       */_computeHasToken(newValue){return!!newValue}/**
       * Handler for `oauth2-error` custom event.
       * Informs the user about the error in the flow if the state property
       * is the one used with the request.
       *
       * @param {CustomEvent} e
       */_oauth2ErrorHandler(e){const info=e.detail;// API console may not support state check (may not return it back)
if("undefined"!==typeof info.state){if(info.state!==this._lastState){return}}this._authorizing=!1;this._lastState=void 0;this._errorToast(info.message);this._analyticsEvent("auth-method-oauth2","usage-authorize","failure")}/**
       * Handler for the token response from the authorization component.
       *
       * @param {CustomEvent} e
       */_tokenSuccessHandler(e){const info=e.detail;// API console may not support state check (mey not return it back)
if("undefined"!==typeof info.state){if(info.state!==this._lastState){return}}this._authorizing=!1;this._lastState=void 0;if(info.accessToken&&info.accessToken!==this.accessToken){if(info.tokenType&&info.tokenType!==this.tokenType){this.tokenType=info.tokenType}else if(!info.tokenType&&"Bearer"!==this.tokenType){this.tokenType="Bearer"}this.set("accessToken",info.accessToken);this.dispatchEvent(new CustomEvent("oauth2-token-ready",{detail:{token:info.accessToken,tokenType:this.tokenType},bubbles:!0,composed:!0}))}this._analyticsEvent("auth-method-oauth2","usage-authorize","success")}/**
       * Handler to set up data from the AMF model.
       *
       * @param {Object} model Security model of AMF
       */_amfChanged(model){const prefix=this.ns.raml.vocabularies.security;if(!this._hasType(model,prefix+"ParametrizedSecurityScheme")){this._setupOAuthDeliveryMethod();this._updateGrantTypes();return}const shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}const isOauth2="OAuth 2.0"===type;if(!isOauth2){this._setupOAuthDeliveryMethod();this._updateGrantTypes();return}this._setupOAuthDeliveryMethod(scheme);const sKey=this._getAmfKey(this.ns.raml.vocabularies.security+"settings");let settings=scheme[sKey];if(settings instanceof Array){settings=settings[0]}this._clearDocs();this.__cancelChangeEvent=!0;this._preFillAmfData(settings);this.__cancelChangeEvent=!1;this._autoHide();// The form is not yet ready to be validated. When it's rendered then
// notify settings change
Polymer.RenderStatus.afterNextRender(this,()=>{this._settingsChanged()})}_setupOAuthDeliveryMethod(model){const info=this._getOauth2DeliveryMethod(model);if(this.oauthDeliveryMethod!==info.method){this.oauthDeliveryMethod=info.method}if(this.oauthDeliveryName!==info.name){this.oauthDeliveryName=info.name}}/**
       * Determines placemenet of OAuth authorization token location.
       * It can be either query parameter or header. This function
       * reads API spec to get this information or provides default if
       * not specifies.
       *
       * @param {Object} info Security AMF model
       * @return {Object}
       */_getOauth2DeliveryMethod(info){const result={method:"header",name:"authorization"};if(!info){return result}const http=this.ns.raml.vocabularies.http,hKey=this._getAmfKey(http+"header"),pKey=this._getAmfKey(http+"parameter"),nKey=this._getAmfKey(this.ns.schema.schemaName);let header=info[hKey];if(header instanceof Array){header=header[0]}if(header){const headerName=this._getValue(header,nKey);if(headerName){result.name=headerName;return result}}let parameter=info[pKey];if(parameter instanceof Array){parameter=parameter[0]}if(parameter){const paramName=this._getValue(parameter,nKey);if(paramName){result.name=paramName;result.method="query";return result}}return result}/**
       * Reads API security definition and applies itn to the view as predefined
       * values.
       *
       * @param {Object} model AMF model describing settings of the security
       * scheme
       */_preFillAmfData(model){if(!model){throw new Error("The `settings` argument is not set.")}const sec=this.ns.raml.vocabularies.security;if(!this._hasType(model,sec+"OAuth2Settings")){console.warn("Passed model does not represent OAuth 2.0 Settings");return}this.authorizationUri=this._getValue(model,sec+"authorizationUri")||"";this.accessTokenUri=this._getValue(model,sec+"accessTokenUri")||"";this.scopes=this._redSecurityScopes(model[this._getAmfKey(sec+"scope")]);const apiGrants=this._getValueArray(model,sec+"authorizationGrant"),annotationKey=this._amfCustomSettingsKey(model),annotation=annotationKey?model[annotationKey]:void 0,grants=this._applyAnnotationGranst(apiGrants,annotation);if(grants&&grants instanceof Array&&grants.length){const index=grants.indexOf("code");if(-1!==index){grants[index]="authorization_code"}this._updateGrantTypes(grants)}else{this._updateGrantTypes()}this._setupAnotationParameters(annotation)}/**
       * Extracts scopes list from the security definition
       * @param {Array} model
       * @return {Array<String>|undefined}
       */_redSecurityScopes(model){model=this._ensureArray(model);if(!model){return}const result=[];for(let i=0,len=model.length;i<len;i++){const value=this._getValue(model[i],this.ns.raml.vocabularies.security+"name");if(!value){continue}result.push(value)}return result}/**
       * Finds a key for Custom settings
       * @param {Object} model Security scheme settings object.
       * @return {String|undefined}
       */_amfCustomSettingsKey(model){const keys=Object.keys(model),data=this.ns.raml.vocabularies.data,settingsKeys=[this._getAmfKey(data+"authorizationSettings"),this._getAmfKey(data+"authorizationGrants"),this._getAmfKey(data+"accessTokenSettings")];for(let i=0;i<keys.length;i++){const node=model[keys[i]];if(node[settingsKeys[0]]||node[settingsKeys[1]]||node[settingsKeys[2]]){return keys[i]}}}/**
       * Applies `authorizationGrants` from OAuth2 settings annotation.
       *
       * @param {Array} gransts OAuth spec grants available for the endpoint
       * @param {?Object} annotation Read annotation.
       * @return {Array} List of granst to apply.
       */_applyAnnotationGranst(gransts,annotation){if(!annotation){return gransts}if(!gransts){gransts=[]}const d=this.ns.raml.vocabularies.data;let model=annotation[this._getAmfKey(d+"authorizationGrants")];model=this._ensureArray(model);if(!model||!model.length){return gransts}const list=model[0][this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member")],addedGrants=[];list.forEach(item=>{const v=this._getValue(item,d+"value");if(!v){return}addedGrants.push(v)});if(!addedGrants.length){return gransts}const ignoreKey=d+"ignoreDefaultGrants";if("undefined"!==typeof annotation[ignoreKey]){gransts=[]}gransts=gransts.concat(addedGrants);return gransts}/**
       * Sets up annotation supported variables to apply form view for:
       * - authorization query parameters
       * - authorization headers
       * - token query parameters
       * - token headers
       * - token body
       *
       * @param {Object} annotation Annotation applied to the OAuth settings
       */_setupAnotationParameters(annotation){if(this.authQueryParameters){this._setAuthQueryParameters(void 0)}if(this.tokenQueryParameters){this._setTokenQueryParameters(void 0)}if(this.tokenHeaders){this._setTokenHeaders(void 0)}if(this.tokenBody){this._setTokenBody(void 0)}if(!annotation){return}const d=this.ns.raml.vocabularies.data,qpKey=this._getAmfKey(d+"queryParameters");let authSettings=annotation[this._getAmfKey(d+"authorizationSettings")],tokenSettings=annotation[this._getAmfKey(d+"accessTokenSettings")];if(authSettings){if(authSettings instanceof Array){authSettings=authSettings[0]}const qp=authSettings[qpKey];if(qp){this._setupAuthRequestQueryParameters(qp)}}if(tokenSettings){if(tokenSettings instanceof Array){tokenSettings=tokenSettings[0]}const qp=tokenSettings[qpKey],headers=tokenSettings[this._getAmfKey(d+"headers")],body=tokenSettings[this._getAmfKey(d+"body")];if(qp){this._setupTokenRequestQueryParameters(qp)}if(headers){this._setupTokenRequestHeaders(headers)}if(body){this._setupTokenRequestBody(body)}}}/**
       * Sets up query parameters to be used with authorization request.
       *
       * @param {Array} params List of parameters from the annotation.
       */_setupAuthRequestQueryParameters(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setAuthQueryParameters(model)}/**
       * Sets up query parameters to be used with token request.
       *
       * @param {Array} params List of parameters from the annotation.
       */_setupTokenRequestQueryParameters(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setTokenQueryParameters(model)}/**
       * Sets up headers to be used with token request.
       *
       * @param {Array} params List of parameters from the annotation.
       */_setupTokenRequestHeaders(params){const model=this._createViewModel(params,this._headersModelOpts);if(!model){return}this._setTokenHeaders(model)}/**
       * Sets up body parameters to be used with token request.
       *
       * @param {Array} params List of parameters from the annotation.
       */_setupTokenRequestBody(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setTokenBody(model)}/**
       * Creats a form view model for type items.
       *
       * @param {Array|object} param Property or list of properties to process.
       * @param {Object} modelOptions
       * @return {Array|undefined} Form view model or undefined if not set.
       */_createViewModel(param,modelOptions){if(!param){return}if(param instanceof Array){param=param[0]}const factory=document.createElement("api-view-model-transformer");factory.amfModel=this.amfModel;return factory.modelForRawObject(param,modelOptions)}/**
       * Computes value of `isCustomGrant` property when `grantType` changes.
       *
       * @param {String} grantType Selected grant type.
       * @return {Boolean} `true` if the `grantType` is none of the ones defined
       * by the OAuth 2.0 spec.
       */_computeIsCustomGrant(grantType){return-1===["implicit","authorization_code","client_credentials","password"].indexOf(grantType)}/**
       * Updates list of OAuth grant types supported by current endpoint.
       * The information should be available in RAML file.
       *
       * @param {Array<String>?} supportedTypes List of supported types. If empty
       * or not set then all available types will be displayed.
       */_updateGrantTypes(supportedTypes){const available=this._computeGrantList(supportedTypes);this.set("grantTypes",available);// check if current selection is still available
const current=this.grantType,hasCurrent=current?available.some(item=>item.type===current):!1;if(!hasCurrent){if(available&&available[0]){this.set("grantType",available[0].type)}else{this.set("grantType","")}}else if(1===available.length){this.set("grantType",available[0].type)}}/**
       * Computes list of grant types to render in the form.
       *
       * @param {?Array<String>} allowed List of types allowed by the
       * component configuration or API spec applied to this element. If empty
       * or not set then all OAuth 2.0 default types are returned.
       * @return {Array<Object>}
       */_computeGrantList(allowed){let defaults=this._oauth2GrantTypes;if(!allowed||!allowed.length){return defaults}allowed=Array.from(allowed);for(let i=defaults.length-1;0<=i;i--){const index=allowed.indexOf(defaults[i].type);if(-1===index){defaults.splice(i,1)}else{allowed.splice(index,1)}}if(allowed.length){allowed=allowed.map(function(item){return{label:item,type:item}});defaults=defaults.concat(allowed)}return defaults}/**
       * Computes boolean value for `isSelectedType` if `grantType` is set.
       *
       * @param {String} grantType Current grant type.
       * @return {Boolean} True when the value is set.
       */_computeIsSelectedType(grantType){return!!grantType}/**
       * Clears grant type selection.
       */_clearTypeSelection(){this.grantType=""}/**
       * Computes the label for selected step title.
       *
       * @param {String} grantType Selected grant type.
       * @return {String} Label to render
       */_computeSelectedTypeLabel(grantType){switch(grantType){case"implicit":return"Access token (browser flow)";case"authorization_code":return"Authorization code (server flow)";case"client_credentials":return"Client credentials";case"password":return"Password";default:if(!this.grantTypes){return""}const item=this.grantTypes.find(item=>item.type===grantType);return item?item.label:"Custom grant";}}_updateStepperState(noStepper){this._typeSelectorForceOpened=noStepper?!0:!1;// can be undefined
}_noGrantTypeChanged(newValue,oldValue){if(newValue){this.stepStartIndex--}else if(oldValue!==void 0){this.stepStartIndex++}}/**
       * Handler for the `request-header-changed` custom event.
       * If the panel is opened the it checks if current header updates
       * authorization.
       */_headerChangedHandler(e){if(e.defaultPrevented||e.target===this){return}let name=e.detail.name;if(!name){return}name=name.toLowerCase();if("authorization"!==name){return}let value=e.detail.value;if(!value){if(this.accessToken){this.set("accessToken","")}return}const lowerValue=value.toLowerCase(),lowerType=(this.tokenType||"bearer").toLowerCase();if(0!==lowerValue.indexOf(lowerType)){if(this.accessToken){this.set("accessToken","")}return}value=value.substr(7);this.set("accessToken",value)}/**
       * Toggles documentartion for custom property.
       *
       * @param {CustomEvent} e
       */_toggleDocumentation(e){const target=e.target,source=target.dataset.source;if(!source){throw new Error("Could not find source of the event.")}const repeater=this.shadowRoot.querySelector("[data-repeater=\""+source+"\"]");if(!repeater){throw new Error("Could not find repeater for the item.")}const model=repeater.modelForElement(target).get("item");let selector=".custom-data-field-docs[data-source=\""+source+"\"]";selector+="[data-key=\""+model.name+"\"]";const docsContainer=this.shadowRoot.querySelector(selector);if(!docsContainer){throw new Error("Could not find documentation container.")}if(!docsContainer.children[0]){this._createDocsElements(model,docsContainer)}else{docsContainer.children[0].opened=!docsContainer.children[0].opened}}/**
       * Creates a documentation element.
       *
       * @param {Object} model
       * @param {Element} appendTo
       */_createDocsElements(model,appendTo){const collapse=document.createElement("iron-collapse"),marked=document.createElement("marked-element"),wrapper=document.createElement("div");collapse.dataset.docsCollapse=!0;wrapper.className="markdown-body";wrapper.slot="markdown-html";marked.appendChild(wrapper);collapse.appendChild(marked);appendTo.appendChild(collapse);marked.markdown=model.description;Polymer.RenderStatus.afterNextRender(this,()=>{collapse.opened=!0})}/**
       * Clears all custom data documention nodes.
       */_clearDocs(){const nodes=this.shadowRoot.querySelectorAll("[data-docs-collapse=\"true\"]");if(!nodes||!nodes.length){return}nodes.forEach(node=>node.parentNode.removeChild(node))}/**
       * Dispatches analytics event.
       *
       * @param {String} category Event category
       * @param {String} action Event action
       * @param {String} label Event label
       */_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}/**
       * A handler for `focus` event on a label that contains text and
       * should be coppied to clipboard when user is interacting with it.
       *
       * @param {ClickEvent} e
       */_clickCopyAction(e){const node=e.target,elm=this.shadowRoot.querySelector("clipboard-copy");elm.content=node.innerText;if(elm.copy()){this.$.clipboardToast.opened=!0}Polymer.RenderStatus.afterNextRender(this,()=>{if(document.body.createTextRange){const range=document.body.createTextRange();range.moveToElementText(node);range.select()}else if(window.getSelection){const selection=window.getSelection(),range=document.createRange();range.selectNode(node);selection.removeAllRanges();selection.addRange(range)}})}/**
       * Fired when user requested to perform an authorization.
       * The details object vary depends on the `grantType` property.
       * However this event always fire two properties set on the `detail` object: `type` and
       * `clientId`.
       *
       * @event oauth2-token-requested
       * @param {String} type The type of grant option selected by the user. `implicit` is
       * the browser flow where token ir requested. `authorization_code` or server flow is where
       * client asks for the authorization code and exchange it later for the auth token using
       * client secret. Other options are `password` and `client_credentials`.
       * @param {String} clientId Every type requires `clientId`.
       * @param {String} authorizationUri Token authorization URL. Used in `implicit` and
       * `authorization_code` types. In both cases means the initial endpoint to request for token
       * or the authorization code.
       * @param {Array<String>} scopes A list of scopes seleted by the user. Used in `implicit`
       * and `authorization_code` types.
       * @param {String} redirectUri A redirect URL of the client after authorization (or error).
       * This must be set in the provider's OAuth settings. Callback URL must communicate with
       * the app to pass the information back to the application. User can't change the `redirectUri`
       * but the app shouldn't rely on this value since in browser environment it is possible to
       * temper with variables. The `redirectUri` must be set to this element by owner app (which
       * must know this value). A `redirectUri` is set for `implicit` and `authorization_code`
       * types.
       * @param {String} clientSecret The client secret that user can get from the OAuth provider
       * settings console. User in `authorization_code` and `client_credentials` types.
       * @param {String} accessTokenUri An URL to exchange code for the access token. Used by
       * `authorization_code`, `client_credentials` and `password` types.
       * @param {String} username Used with `password` type.
       * @param {String} password Used with `password` type.
       * @param {Object} customData Custom query parameters, headers and body applied
       * to the authorization or token request. See this element description for details.
       * @param {String} deliveryMethod Access token location in the request.
       * It can be either `header` or `query`. Defaults to header.
       * @param {String} deliveryName Name of the parmater to use to transport
       * the token. By default it is `authorization` for header value.
       */ /**
       * Fired when the any of the auth method settings has changed.
       * This event will be fired quite frequently - each time anything in the text field changed.
       * With one exception. This event will not be fired if the validation of the form didn't passed.
       *
       * This event will set current settings as a detail object which are the same as for the
       * `oauth2-token-requested` event. Additionally it will contain a `accessToken` property. This
       * valye can be `undefined` if token hasn't been requested yet by the user.
       * Clients should support a situaltion when the user do not request the token before requesting
       * the resource and perform authorization.
       *
       * @event auth-settings-changed
       * @param {Object} settings See the `oauth2-token-requested` for detailed
       * description
       * @param {String} type The authentication type selected by the user.
       * @param {Boolean} valid True if the form has been validated.
       */ /**
       * Fired when the request token has been obtained and it's ready to serve.
       * Because only one auth panel can be displayed ad a time it can be assumed
       * that if new token has been obtained then it is current authorization
       * method.
       *
       * @event oauth2-token-ready
       * @param {String} token The OAuth 2.0 token
       * @param {String} tokenType Token type reported by the server.
       */}window.customElements.define(AuthMethodOauth2.is,AuthMethodOauth2);</script></dom-module><dom-module id="auth-method-oauth1" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-oauth1;}.form{max-width:700px;}.grant-dropdown{width:320px;}.auth-button{background-color:var(--primary-color);color:rgba(255, 255, 255, 0.87);@apply --auth-button;}.auth-button:hover{@apply --auth-button-hover;}.auth-button[disabled]{background-color:rgba(0, 0, 0, 0.24);color:rgba(0, 0, 0, 0.54);@apply --auth-button-disabled;}.authorize-actions{margin-top:12px;@apply --layout-horizontal;@apply --layout-center;}paper-item:hover{@apply --paper-item-hover;}</style><div class="form"><iron-form><form autocomplete="on"><paper-dropdown-menu label="Authorization token method" class="auth-token-method" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{authTokenMethod}}" attr-for-selected="data-type"><paper-item data-type="GET">GET</paper-item><paper-item data-type="POST">POST</paper-item></paper-listbox></paper-dropdown-menu><paper-dropdown-menu label="Oauth parameters location" class="auth-params-location" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{authParamsLocation}}" attr-for-selected="data-type"><paper-item data-type="querystring">Query string</paper-item><paper-item data-type="authorization">Authorization header</paper-item></paper-listbox></paper-dropdown-menu><paper-masked-input auto-validate="" required="" label="Consumer key" value="{{consumerKey}}" data-field="consumerKey" autocomplete="on"></paper-masked-input><paper-masked-input label="Consumer secret" value="{{consumerSecret}}" data-field="consumerSecret" autocomplete="on"></paper-masked-input><paper-masked-input auto-validate="" label="Token" value="{{token}}" data-field="token" autocomplete="on"></paper-masked-input><paper-masked-input label="Token secret" value="{{tokenSecret}}" data-field="tokenSecret" autocomplete="on"></paper-masked-input><paper-input label="Request token URL" value="{{requestTokenUrl}}"></paper-input><paper-input label="Token Authorization URL" value="{{accessTokenUrl}}"></paper-input><paper-input label="User authorization dialog URL" value="{{authorizationUrl}}"></paper-input><paper-input label="Redirect URL" value="{{redirectUrl}}"></paper-input><paper-input auto-validate="" required="" label="Timestamp" value="{{timestamp}}" type="text" data-field="timestamp" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="_genTimestamp" icon="arc:cached" alt="Regenerate input icon" title="Regenerate timestamp"></paper-icon-button><paper-icon-button slot="suffix" class="action-icon" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-input auto-validate="" required="" label="Nonce" value="{{nonce}}" type="text" data-field="nonce" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="_genNonce" icon="arc:cached" alt="Regenerate input icon" title="Regenerate nonce"></paper-icon-button><paper-icon-button slot="suffix" class="action-icon" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-input label="Realm" value="{{realm}}" type="text" data-field="realm" autocomplete="on"></paper-input><paper-dropdown-menu label="Signature method" class="grant-dropdown" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{signatureMethod}}" attr-for-selected="data-type"><template is="dom-repeat" items="[[signatureMethods]]"><paper-item data-type$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu><div class="authorize-actions"><paper-button disabled$="[[_authorizing]]" class="auth-button" on-tap="authorize">Authorize</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div></form></iron-form></div><paper-toast text="" duration="5000"></paper-toast></template><script>/**
   * The `<auth-method-oauth1>` element displays a form to provide the OAuth 1a settings.
   *
   * ### Example
   *
   * ```html
   * <auth-method-oauth1 consumer-key="xyz"></auth-method-oauth1>
   * ```
   *
   * ### Required form fields
   *
   * - Consumer key
   * - Timestamp
   * - Nonce
   * - Signature method
   *
   * ## Authorizing the user
   *
   * This element displays form for user input only. To perform authorization and
   * later to sign the request, add `oauth-authorization/oauth1-authorization.html`
   * to the DOM. This element sends `oauth1-token-requested` that is handled by
   * autorization element.
   *
   * Note that the OAuth1 authorization wasn't designed for browser. Most existing
   * OAuth1 implementation disallow browsers to perform the authorization by
   * not allowing POST requests to authorization server. Therefore receiving token
   * may not be possible without using browser extensions to alter HTTP request to
   * enable CORS.
   * If the server disallow obtaining authorization token and secret from clients
   * then the application should listen for `oauth1-token-requested` custom event
   * and perform authorization on the server side.
   *
   * When application is performing authorization instead of `oauth1-authorization`
   * element then the application should dispatch `oauth1-token-response` custom event
   * with `oauth_token` and `oauth_token_secret` properties set on detail object.
   * This element handles the response to reset UI state and to updates other elements
   * status that works with authorization.
   *
   * ## Signing the request
   *
   * See description for `oauth-authorization/oauth1-authorization.html` element.
   *
   * ### Styling
   *
   * `<auth-methods>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--auth-method-oauth1` | Mixin applied to the element. | `{}`
   * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
   *
   * ### Theming
   *
   * Use this mixins as a theming option across all ARC elements.
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--icon-button` | Mixin applied to `paper-icon-buttons`. | `{}`
   * `--icon-button-hover` | Mixin applied to `paper-icon-buttons` when hovered. | `{}`
   * `--input-line-color` | Mixin applied to the input underline | `{}`
   * `--auth-button` | Mixin applied to authorization and next buttons` | `{}`
   * `--auth-button-hover` | Mixin for :hover state for authorization and next buttons` | `{}`
   * `--auth-button-disabled` | Mixin for disabled state for authorization and next buttons` | `{}`
   *
   * ## Changes in version 2
   * - Crypto library is no linger included into the element.
   * Use `advanced-rest-client/cryptojs-lib` component to include the library if your project doesn't use crypto libraries already.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.AuthMethodsMixin
   * @appliesMixin ApiElements.AmfHelperMixin
   * @demo demo/oauth1.html
   */class AuthMethodOauth1 extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-oauth1"}static get properties(){return{// Client ID aka consumer key
consumerKey:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_settingsChanged"},// The client secret aka consumer secret
consumerSecret:{type:String,notify:!0,observer:"_settingsChanged"},// Oauth 1 token (from the oauth console)
token:{type:String,notify:!0,observer:"_settingsChanged"},// Oauth 1 token secret (from the oauth console)
tokenSecret:{type:String,notify:!0,observer:"_settingsChanged"},// Timestamp
timestamp:{type:Number,notify:!0,observer:"_settingsChanged"},// The nonce generated for this request
nonce:{type:String,notify:!0,observer:"_settingsChanged"},// Optional realm
realm:{type:String,notify:!0,observer:"_settingsChanged"},/**
         * Signature method. Enum {`HMAC-SHA256`, `HMAC-SHA1`, `PLAINTEXT`}
         */signatureMethod:{type:String,value:"HMAC-SHA1",notify:!0,observer:"_settingsChanged"},// True when currently authorizing the user.
_authorizing:Boolean,/**
         * Authorization callback URL
         */redirectUrl:{type:String,observer:"_settingsChanged"},/**
         * OAuth1 endpoint to obtain request token to request user authorization.
         */requestTokenUrl:{type:String,observer:"_settingsChanged"},/**
         * Endpoint to authorize the token.
         */accessTokenUrl:{type:String,observer:"_settingsChanged"},/**
         * HTTP method to obtain authorization header.
         * Spec recommends POST
         */authTokenMethod:{type:String,value:"POST",observer:"_settingsChanged"},/**
         * A location of the OAuth 1 authorization parameters.
         * It can be either in the URL as a query string (`querystring` value)
         * or in the authorization header (`authorization`) value.
         */authParamsLocation:{type:String,value:"authorization",observer:"_settingsChanged"},/**
         * An URL to authentication endpoint where the user should be redirected
         * to auththorize the app.
         */authorizationUrl:{type:String,observer:"_settingsChanged"},/**
         * RAML `securedBy` obejct definition.
         * If set, it will prefill the settings in the auth panel.
         */amfSettings:{type:Object,observer:"_amfSettingsChanged"},/**
         * List of currently support signature methods.
         * This can be updated when `amfSettings` property is set.
         */signatureMethods:Array}}/**
     * Returns default list of signature methods for OAuth1
     */get defaultSignatureMethods(){return["HMAC-SHA1","RSA-SHA1","PLAINTEXT"]}constructor(){super();this._oauth1ErrorHandler=this._oauth1ErrorHandler.bind(this);this._tokenResponseHandler=this._tokenResponseHandler.bind(this)}_attachListeners(){window.addEventListener("oauth1-error",this._onAuthSettings);window.addEventListener("oauth1-token-response",this._tokenResponseHandler)}_detachListeners(){window.removeEventListener("oauth1-error",this._onAuthSettings);window.removeEventListener("oauth1-token-response",this._tokenResponseHandler)}ready(){super.ready();this._genTimestamp();this._genNonce();if(!this.signatureMethods){this.signatureMethods=this.defaultSignatureMethods}}/**
     * Validates the form.
     *
     * @return {Boolean} `true` if valid, `false` otherwise.
     */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}/**
     * Called each time when any of the settings change. It informs application
     * that the user updated the form.
     * It fires `auth-settings-changed` custom event even if the form is invalid
     * (missing some info).
     *
     * The `valid` property is always if `settings.token` amd
     * `settings.tokenSecret` is not set.
     */_settingsChanged(){let validationResult=this.validate();const settings=this.getSettings();if(validationResult){if(!settings||!settings.token||!settings.tokenSecret){validationResult=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}}const detail={settings:settings,type:"oauth1",valid:validationResult};this.dispatchEvent(new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0}))}getSettings(){return{consumerKey:this.consumerKey,consumerSecret:this.consumerSecret,token:this.token,tokenSecret:this.tokenSecret,timestamp:this.timestamp,nonce:this.nonce,realm:this.realm,signatureMethod:this.signatureMethod,requestTokenUrl:this.requestTokenUrl,accessTokenUrl:this.accessTokenUrl,redirectUrl:this.redirectUrl,authTokenMethod:this.authTokenMethod,authParamsLocation:this.authParamsLocation,authorizationUrl:this.authorizationUrl,type:"oauth1"}}/**
     * Restores settings from stored value.
     *
     * @param {Object} settings Object returned by `_getSettings()`
     */restore(settings){this.consumerKey=settings.consumerKey;this.consumerSecret=settings.consumerSecret;this.token=settings.token;this.tokenSecret=settings.tokenSecret;this.timestamp=settings.timestamp;this.nonce=settings.nonce;this.realm=settings.realm;this.signatureMethod=settings.signatureMethod;this.requestTokenUrl=settings.requestTokenUrl;this.accessTokenUrl=settings.accessTokenUrl;this.redirectUrl=settings.redirectUrl;this.authTokenMethod=settings.authTokenMethod;this.authParamsLocation=settings.authParamsLocation;this.authorizationUrl=settings.authorizationUrl}// Removes a value from the (paper-)input going up through path of the event.
_clearField(e){const path=e.target.path;let inputTarget;while(inputTarget=path.shift()){if("INPUT"===inputTarget.nodeName||"PAPER-INPUT"===inputTarget.nodeName){break}}if(!inputTarget){return}inputTarget.value=""}/**
     * Sends the `oauth2-token-requested` event.
     * @return {Boolean} True if event was sent. Can be false if event is not
     * handled or when the form is invalid.
     */authorize(){this._authorizing=!0;var detail={};if(this.consumerKey){detail.consumerKey=this.consumerKey}if(this.consumerSecret){detail.consumerSecret=this.consumerSecret}if(this.token){detail.token=this.token}if(this.tokenSecret){detail.tokenSecret=this.tokenSecret}if(this.timestamp){detail.timestamp=this.timestamp}if(this.nonce){detail.nonce=this.nonce}if(this.realm){detail.realm=this.realm}if(this.signatureMethod){detail.signatureMethod=this.signatureMethod}if(this.requestTokenUrl){detail.requestTokenUrl=this.requestTokenUrl}if(this.accessTokenUrl){detail.accessTokenUrl=this.accessTokenUrl}if(this.redirectUrl){detail.redirectUrl=this.redirectUrl}if(this.authParamsLocation){detail.authParamsLocation=this.authParamsLocation}if(this.authTokenMethod){detail.authTokenMethod=this.authTokenMethod}if(this.authorizationUrl){detail.authorizationUrl=this.authorizationUrl}detail.type="oauth1";this.dispatchEvent(new CustomEvent("oauth1-token-requested",{detail:detail,bubbles:!0,composed:!0}));return!0}/**
     * Handles OAuth1 authorization errors.
     */_oauth1ErrorHandler(e,detail){this._authorizing=!1;const toast=this.shadowRoot.querySelecrtor("paper-toast");toast.text=detail.message;toast.opened=!0}// jscs:disable requireCamelCaseOrUpperCaseIdentifiers
// jscs:disable requireDotNotation
/**
     * Handler for the `oauth1-token-response` custom event.
     * Sets `token` and `tokenSecret` properties from the event.
     */_tokenResponseHandler(e){this._authorizing=!1;this.token=e.detail.oauth_token;this.tokenSecret=e.detail.oauth_token_secret}// Returns current timestamp in seconds
_genTimestamp(){const t=Math.floor(Date.now()/1e3);this.timestamp=t}/**
     * Returns autogenerated nocne
     * @param {?Number} length Optional, size of generated string. Default to 32.
     * @return {String} Generated nonce string.
     */_genNonce(length){const result=[],chrs="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",chrsLength=chrs.length;length=+(length||32);if(length!==length){length=32}for(let i=0;i<length;i++){result[result.length]=chrs[Math.floor(Math.random()*chrsLength)]}this.nonce=result.join("")}/**
     * Called when the AMF object change
     */_amfSettingsChanged(model){if(!model){this.signatureMethods=this.defaultSignatureMethods;return}const prefix=this.ns.raml.vocabularies.security,shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}if("OAuth 1.0"!==type){this.signatureMethods=this.defaultSignatureMethods;return}const sKey=this._getAmfKey(this.ns.raml.vocabularies.security+"settings");let settings=scheme[sKey];if(settings instanceof Array){settings=settings[0]}if(!settings){this.signatureMethods=this.defaultSignatureMethods;return}this.requestTokenUrl=this._getValue(settings,prefix+"requestTokenUri");this.authorizationUrl=this._getValue(settings,prefix+"authorizationUri");this.accessTokenUrl=this._getValue(settings,prefix+"tokenCredentialsUri");const signaturtes=this._getValueArray(settings,prefix+"signature");if(!signaturtes||!signaturtes.length){this.signatureMethods=this.defaultSignatureMethods}else{this.signatureMethods=signaturtes}}/**
     * Fired when user requested to perform an authorization.
     * The details object vary depends on the `grantType` property.
     * However this event always fire two properties set on the `detail` object: `type` and
     * `clientId`.
     *
     * @event oauth1-token-requested
     * @param {String} consumerKey The consumer key. May be undefined if not provided.
     * @param {String} consumerSecret May be undefined if not provided.
     * @param {String} token May be undefined if not provided.
     * @param {String} tokenSecret May be undefined if not provided.
     * @param {String} timestamp May be undefined if not provided.
     * @param {String} nonce May be undefined if not provided.
     * @param {String} realm May be undefined if not provided.
     * @param {String} signatureMethod May be undefined if not provided.
     * @param {String} type Always `oauth1`
     */ /**
     * Fired when the any of the auth method settings has changed.
     * This event will be fired quite frequently - each time anything in the text field changed.
     * With one exception. This event will not be fired if the validation of the form didn't passed.
     *
     * @event auth-settings-changed
     * @param {Object} settings Current settings. See the
     * `oauth1-token-requested` for detailed description.
     * @param {String} type The authorization type - oauth1
     */}window.customElements.define(AuthMethodOauth1.is,AuthMethodOauth1);</script></dom-module><dom-module id="auth-method-custom" assetpath="bower_components/auth-methods/"><template strip-whitespace=""><style include="markdown-styles"></style><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-custom;}.field-value{@apply --layout-horizontal;@apply --layout-flex;}api-property-form-item{@apply --layout-flex;}.header-item,
    .param-item{width:100%;}.help-icon{margin-top:var(--auth-method-custom-help-icon-margin-top, 16px);}h3{@apply --arc-font-subhead;@apply --auth-method-custom-subheader;}.scheme-header h3{@apply --layout-horizontal;@apply --layout-center;margin:0;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><section><template is="dom-if" if="[[schemeName]]"><div class="scheme-header"><h3><span>Scheme: [[schemeName]]</span><template is="dom-if" if="[[_computeHasDoc(noDocs, schemeDescription)]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleSchemeDocumentation" title="Display scheme description"></paper-icon-button></template></h3><template is="dom-if" if="[[_computeHasDoc(noDocs, schemeDescription)]]"><div class="docs-container"><iron-collapse opened="[[documentationOpened]]"><marked-element markdown="[[schemeDescription]]" main-docs=""><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div></template><iron-form><form autocomplete="on"><template is="dom-if" if="[[hasHeaders]]"><section class="headers-section"><template is="dom-repeat" items="{{headers}}" data-repeater="header"><div class="header-item"><div class="field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" on-value-changed="_headerValueChanged" data-type="header"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-tap="_toggleDocumentation" data-source="header" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="data-docs docs-container" data-source="header" data-key$="[[item.name]]"></div></div></template></section></template><template is="dom-if" if="[[hasQueryParameters]]"><section class="query-section"><template is="dom-repeat" items="{{queryParameters}}" data-repeater="query"><div class="param-item"><div class="field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" on-value-changed="_queryValueChanged" data-type="query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-tap="_toggleDocumentation" data-source="query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="data-docs docs-container" data-source="query" data-key$="[[item.name]]"></div></div></template></section></template></form></iron-form></section></auth-method-step></template><script>/**
   * The `<auth-method-custom>` element displays a form to provide the
   * authorization details for RAML's custom security scheme.
   *
   * The element, alike other auth methods, dispatches `auth-settings-changed`
   * custom event. However, it also sends `request-header-changed` and
   * `query-parameters-changed` custom event to directly manipulate values
   * in corresponding UI element. This events are supported with all API components
   * that handles headers or query parameters.
   *
   * This element is rendered empty if `amfSettings` property is not set.
   * Parent element or application should check if model contains the scheme.
   *
   * ### Example
   *
   * ```html
   * <auth-method-custom security-scheme="{...}"></auth-method-custom>
   * ```
   *
   * ### Styling
   * `<auth-methods>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--auth-method-custom` | Mixin applied to the element. | `{}`
   * `--auth-method-panel` | Mixin applied to all auth elements. | `{}`
   * `--inline-help-icon-color` | Color of the icon button to display help | `rgba(0, 0, 0, 0.74)`
   * `--inline-help-icon-color-hover` | Color of the icon button to display help when hovered | `--accent-color` or `rgba(0, 0, 0, 0.88)`
   * `--raml-headers-form-input-label-color` | Color of the lable of the `paper-input` element. | `rgba(0, 0, 0, 0.48)`
   * `raml-headers-form-input-label-color-required` | Color of the lable of the `paper-input` element when it's required. | `rgba(0, 0, 0, 0.72)`
   *
   * ## Changes in version 2
   *
   * - The element now works with AMF json/ld data model. RAML json parser output
   * is no longer supported.
   * - `ramlSettings` has been renamed to `amfSettings`
   * - Added scheme title and documentation to the panel.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.AuthMethodsMixin
   * @appliesMixin ApiElements.AmfHelperMixin
   * @demo demo/custom.html
   */class AuthMethodCustom extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-custom"}static get properties(){return{/**
         * AMF security scheme model.
         */amfSettings:{type:Object},/**
         * Computed list of headers to render in the form.
         */headers:{type:Array,readOnly:!0/* ignoreName */ /* skipSlots */},/**
         * Computed list of query parameters to render.
         */queryParameters:{type:Array,readOnly:!0},// Computed value, true if headers are defined in RAML settings.
hasHeaders:{type:Boolean,computed:"_computeHasData(headers)"},// Computed value, true if query parameters are defined in RAML settings.
hasQueryParameters:{type:Boolean,computed:"_computeHasData(queryParameters)"},/**
         * Name of the security scheme
         */schemeName:{type:String,readOnly:!0},/**
         * Security scheme description
         */schemeDescription:{type:String,readOnly:!0},/**
         * True to opend scheme descripyion, if available.
         */documentationOpened:Boolean}}static get observers(){return["_settingsChanged(headers.*)","_settingsChanged(queryParameters.*)","_schemeChanged(amfSettings, amfModel)"]}constructor(){super();this._headerChangedHandler=this._headerChangedHandler.bind(this);this._parameterChangedHandler=this._parameterChangedHandler.bind(this)}_attachListeners(node){node.addEventListener("request-header-changed",this._headerChangedHandler);node.addEventListener("query-parameter-changed",this._parameterChangedHandler)}_detachListeners(node){node.removeEventListener("request-header-changed",this._headerChangedHandler);node.removeEventListener("query-parameter-changed",this._parameterChangedHandler)}ready(){super.ready();Polymer.RenderStatus.afterNextRender(this,()=>{this._initialized=!0})}/**
     * Validates the form.
     *
     * @return {Boolean} `true` if valid, `false` otherwise.
     */validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_schemeChanged(){if(this.__schemeChangeDebouncer){return}this.__schemeChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__schemeChangeDebouncer=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;this.__schemeChanged(this.amfSettings)})}__schemeChanged(model){const prefix=this.ns.raml.vocabularies.security;this.headers=void 0;this.queryParameters=void 0;this._clearDocs();if(!this._hasType(model,this.ns.raml.vocabularies.security+"ParametrizedSecurityScheme")){return}const shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}if(!type||0!==type.indexOf("x-")){return}const hKey=this._getAmfKey(this.ns.raml.vocabularies.http+"header"),pKey=this._getAmfKey(this.ns.raml.vocabularies.http+"parameter");this._createViewModel("header",this._ensureArray(scheme[hKey]));this._createViewModel("parameter",this._ensureArray(scheme[pKey]));this._setSchemeName(this._getValue(model,prefix+"name"));this._setSchemeDescription(this._getValue(scheme,this.ns.schema.desc))}/**
     * Generates view model using the tranformer.
     *
     * @param {String} type Param type. Either `header` or `parameter`.
     * @param {Array} model
     * @return {Promise}
     */_createViewModel(type,model){if(!model){return}const factory=document.createElement("api-view-model-transformer");factory.amfModel=this.amfModel;const data=factory.computeViewModel(model);if(!data){return}if("header"===type){this._setHeaders(data)}else if("parameter"===type){this._setQueryParameters(data)}}_computeHasData(data){return!!(data&&data.length)}_settingsChanged(record){if(!this.shadowRoot||this.__cancelChangeEvent||!this._initialized){return}if(!record||!record.path){this._debounceNotify();return}const path=record.path;switch(path){case"headers":case"headers.splices":case"headers.length":case"queryParameters":case"queryParameters.splices":case"queryParameters.length":return this._debounceNotify();default:if(/[headers|queryParameters]\.\d+\.[name|value]/.test(path)){this._debounceNotify();return}}}/**
     * Returns current configuration of the OAuth2.
     *
     * @return {Object} Current OAuth2 configuration.
     */getSettings(){if(!this.shadowRoot){return{}}const form=this.shadowRoot.querySelector("iron-form");return form.serializeForm()}/**
     * Restores settings from stored value.
     * For custom methods this is dummy function.
     */restore(){}_debounceNotify(){if(this.__notifyingChange){return}this.__notifyingChange=!0;setTimeout(()=>{this._notifySettingsChanged();this.__notifyingChange=!1},25)}/**
     * Notifies about settings change.
     */_notifySettingsChanged(){const detail={settings:this.getSettings(),type:"x-custom",name:this.schemeName,valid:this.validate()};this.dispatchEvent(new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0}))}/**
     * Dispatches headers change event on user input.
     */_headerValueChanged(e){this._propertyValueChanged("header",e)}/**
     * Dispatches query parameter change event on user input.
     */_queryValueChanged(e){this._propertyValueChanged("parameter",e)}/**
     * Dispatches change event for headers and query parameters.
     *
     * @param {String} type Change type. `header` or `parameter`.
     * @param {CustomEvent} e Custom event dispatched by the form control.
     */_propertyValueChanged(type,e){const model=e.model.get("item"),eventType="header"===type?"request-header-changed":"query-parameter-changed";this.dispatchEvent(new CustomEvent(eventType,{detail:{name:model.name,value:e.detail.value},bubbles:!0,composed:!0}))}/**
     * Handler for the `request-header-changed` event.
     * It updates value for a single header if this header is already on the list.
     */_headerChangedHandler(e){this._updateEventValue("headers",e)}/**
     * Handler for the `query-parameter-changed` event.
     * It updates value for a single parameter if this parameter is already on the list.
     */_parameterChangedHandler(e){this._updateEventValue("queryParameters",e)}/**
     * Update array value for given type (`headers` or `queryParameters`) for given event.
     */_updateEventValue(target,e){if(e.target===this||e.defaultPrevented){return}let name=e.detail.name;if(!name){return}// Headers are case insensitive.
name="headers"===target?name.toLowerCase():name;const parameters=this[target];if(!parameters||!parameters.length){return}for(let i=0,len=parameters.length,pName;i<len;i++){pName=parameters[i].name;if(!pName){continue}pName="headers"===target?pName.toLowerCase():pName;if(pName===name){this.set([target,i,"value"],e.detail.value);return}}}/**
     * Toggles documentartion for custom property.
     *
     * @param {CustomEvent} e
     */_toggleDocumentation(e){const target=e.target,source=target.dataset.source;if(!source){throw new Error("Could not find source of the event.")}const repeater=this.shadowRoot.querySelector("[data-repeater=\""+source+"\"]");if(!repeater){throw new Error("Could not find repeater for the item.")}const model=repeater.modelForElement(target).get("item");let selector=".data-docs[data-source=\""+source+"\"]";selector+="[data-key=\""+model.name+"\"]";const docsContainer=this.shadowRoot.querySelector(selector);if(!docsContainer){throw new Error("Could not find documentation container.")}if(!docsContainer.children[0]){this._createDocsElements(model,docsContainer)}else{docsContainer.children[0].opened=!docsContainer.children[0].opened}}/**
     * Creates a documentation element.
     *
     * @param {Object} model
     * @param {Object} appendTo
     */_createDocsElements(model,appendTo){const collapse=document.createElement("iron-collapse"),marked=document.createElement("marked-element"),wrapper=document.createElement("div");collapse.dataset.docsCollapse=!0;wrapper.className="markdown-html markdown-body";marked.appendChild(wrapper);collapse.appendChild(marked);appendTo.appendChild(collapse);marked.markdown=model.description;collapse.opened=!0}/**
     * Clears all custom data documention nodes.
     */_clearDocs(){const nodes=this.shadowRoot.querySelectorAll("[data-docs-collapse=\"true\"]");if(!nodes||!nodes.length){return}nodes.forEach(node=>node.parentNode.removeChild(node))}/**
     * Toggles docs opened state
     */toggleSchemeDocumentation(){this.documentationOpened=!this.documentationOpened}/**
     * Fired when the any of the auth method settings has changed.
     * This event will be fired quite frequently - each time anything in the text field changed.
     * With one exception. This event will not be fired if the validation of the form didn't passed.
     *
     * @event auth-settings-changed
     * @param {Object} settings Current settings containing hash, password
     * and username.
     * @param {String} type The authorization type - x-custom
     * @param {Boolean} valid True if the form has been validated.
     * @param {String} name Name of the custom method to differeciante them if many.
     */ /**
     * Fired when the header value has changed.
     *
     * @event request-header-changed
     * @param {String} name Name of the header
     * @param {String} value Value of the header
     */ /**
     * Fired when the header value has changed.
     *
     * @event query-parameter-changed
     * @param {String} name Name of the parameter
     * @param {String} value Value of the parameter
     */}window.customElements.define(AuthMethodCustom.is,AuthMethodCustom);</script></dom-module><dom-module id="authorization-panel" assetpath="bower_components/authorization-panel/"><template><style>:host{display:block;@apply --authorization-panel;}.auth-container{position:relative;}.no-method-info{@apply --arc-font-body1;@apply --empty-info;}paper-item:hover{@apply --paper-item-hover;}</style><div class="auth-container"><template is="dom-if" if="[[!hasAuthMethods]]"><p class="no-method-info">Authorization method for current endpoint is not supported.</p></template><auth-method-step step-start-index="0" step="1" no-steps="[[noSteps]]" inactive="[[isSelected]]" on-inactive-tap="_clearSelection"><span slot="title">Authorization method</span> <span slot="inactive-title">[[_computeSelectedLabel(selected)]]</span><paper-dropdown-menu label="Authorization method"><paper-listbox slot="dropdown-content" selected="{{selected}}"><template is="dom-repeat" items="[[authMethods]]"><paper-item>[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu></auth-method-step><section class="auth-panel"></section></div></template><script>/**
   * Authorization panel used in the request panel to get user authorization information.
   *
   * It is a set of forms that allow set up the authorization method for a HTTP request.
   *
   * The element do not perform authorization. Depending on selected method there
   * are different ways of dealing with the authorization.
   *
   * ## Auth methods availability
   *
   * By default the element renders all authorization methods available to it.
   *
   * Currently these are:
   * - none (auth is optional)
   * - basic
   * - digest
   * - ntlm
   * - OAuth 2.0
   * - OAuth 1.0
   *
   * The list can be changed by setting the `securedBy` property to the
   * [AMF](https://github.com/mulesoft/amf) security description.
   *
   * Alternatively, use `iron-meta` element with `key` property set to `auth-methods`
   * and `value` property set to list of suppored methods.
   *
   * #### Example
   *
   * ```html
   * <iron-meta key="auth-methods" value='[null, "basic", "oauth1", "oauth2"]'></iron-meta>
   * ```
   *
   * Keys can be any of `none`, `basic`, `ntlm`, `digest`, `oauth1` and `oauth2`.
   *
   * Note, that if you set meta data and `securedBy` property it will use combination
   * of both. The base list of rendered methods is meta data list and then reduced to
   * defined in RAML methods. Also note, that custom auth methods are always rendered.
   *
   * ## Supported methods
   *
   * Detailed information about authorization methods can be find in the
   * [auth-methods documentation page]
   * (https://elements.advancedrestclient.com/elements/auth-methods).
   *
   * ### Basic Authentication
   *
   * The element sends the `request-header-changed` custom event to inform any other
   * element that is listening to this event that header value has changed
   * (Authorization in this case). The `raml-headers-form` is an example of an
   * element that is listening for this event and change request headers value
   * when auth data change.
   *
   * ### OAuth 2.0
   *
   * The [Oauth 2 form]
   * (https://elements.advancedrestclient.com/elements/auth-methods?active=auth-method-oauth2)
   * sends the `oauth2-token-requested` custom event with the OAuth settings provided
   * by the user.
   * Any element / hosting app can handle this event and perform authorization.
   * ARC elements provides the
   * [oauth2-authorization](https://elements.advancedrestclient.com/elements/oauth-authorization)
   * element (from the `oauth-authorization` package) that can be placed anywhere
   * in the DOM (from current element where `authorization-panel` is attached up
   * to the body) and perform OAuth athorization.
   *
   * However it can be also done by any other element / app  or even server.
   * See `<oauth2-authorization>` for detailed documentation.
   *
   *
   * Note: OAuth 2.0 server flow probably will not work in regular browser
   * environment because main providers aren't setting CORS headers. Therefore the
   * request will be canceled by the browser.
   *
   * To make it work, handle the `oauth2-token-requested` fired from the inside of this element.
   * If it's browser flow type (implicit) then the `oauth2-authorization` element can be used.
   * For other other types, handle and cancel the event and use server to handle token exchange.
   * The ARC elements offers a
   * [Chrome extension](https://github.com/advanced-rest-client/api-console-extension)
   * that once installed will propxy auth requests and made the exchange even for
   * the server flow. The application should use
   * [api-console-ext-comm](https://github.com/advanced-rest-client/api-console-ext-comm)
   * element to communicate with the extension.
   *
   * #### `redirect-url` property for OAuth 2.0
   *
   * OAuth protocol requires to define a redirect URL that is registered in the
   * OAuth provider. The redirect URL should point to a page that will pass the URL
   * parameters to the opener page (OAuth 2 panel).
   * If you application uses the
   * [oauth-authorization](https://elements.advancedrestclient.com/elements/oauth-authorization)
   * element then it provides a popup that pases the data back to the application.
   * In this case your redirect URL would be
   * `https://your.domain.com/bower_components/oauth-authorization/oauth-popup.html`.
   * User have to change OAuth provider's settings and adjust the redirect URL to
   * point to this page.
   *
   * You can also use the
   * [oauth-popup.html]
   * (https://github.com/advanced-rest-client/oauth-authorization/blob/stage/oauth-popup.html)
   * to build your own page.
   *
   * ### OAuth 1.0a
   *
   * Oauth 1a is not currently supported. However, it uses obsolite hashing
   * algorithms and should not be used.
   *
   * ### Digest Authentication
   *
   * When the user provide all required information for Digest authorization then
   * this element will fire `request-header-changed` custom event which will do the
   * same thing as in case of Basic authentication.
   *
   * ### Example
   *
   * ```
   * <authorization-panel
   *  redirect-url="http://domain.com/bower_components/oauth-authorization/oauth-popup.html"
   *  ></authorization-panel>
   * ```
   *
   * ### Styling
   *
   * `<authorization-panel>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--authorization-panel` | Mixin applied to the element | `{}`
   * `--arc-font-body1` | Theme mixin, Mixin applied to the elements that are containg text | `{}`
   * `--empty-info` | Mixin applied to the element that renders no methods availability message | `{}`
   *
   * Also check [auth-methods documentation page]
   * (https://elements.advancedrestclient.com/elements/auth-methods)
   * for methods styling instructions.
   *
   * ## Changes in version 2
   *
   * - Renamed properties:
   *  - `redirectUrl` -> `redirectUri`
   *  - `_restoreSettings()` is not `restore()` function
   * - `auth-settings-changed` custom event is stopped from bubbling. Listen for
   * `authorization-settings-changed` event instead.
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ApiElements.AmfHelperMixin
   * @demo demo/basic.html Basic element
   * @demo demo/meta-data.html IronMeta defined methods
   * @demo demo/amf.html RAML or OAS data from AMF model
   * @demo demo/amf-meta.html RAML or OAS data from AMF model and IronMeta
   */class AuthorizationPanel extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"authorization-panel"}static get properties(){return{/**
         * Selected authorization type. It is one of the types supported by
         * `advanced-rest-client/auth-methods` component.
         *
         * This corresponds to the index of `authMethods` array.
         */selected:{type:Number,notify:!0/* ignoreName */ /* skipSlots */,observer:"_selectedChanged"},/**
         * Computed value. `true` when authorization method is selected.
         */isSelected:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeIsSelected(selected)"},/**
         * Computed value from the AMF model.
         * If authorization is required by endpoint defined in the model,
         * then internally this property is set to `true`.
         *
         * It can be `false` if `selected` is `none`, meaning RAML spec
         * allows no authorization.
         */authRequired:{type:Boolean,value:!1,notify:!0},/**
         * Determines if the user propertly provided authorization data into the
         * authorization form.
         *
         * For OAuth 1/2 authorization token must be set for this to be computed
         * to `true`.
         *
         * This property is only relevant when `authRequired` is set to true.
         * This status can be cancelled by setting `authRequired` to false.
         */authValid:{type:Boolean,value:!0,notify:!0,computed:"_computeAuthValid(settings.valid, selected, authRequired)"},/**
         * Current settings of selected auth type.
         *
         * Can be `undefined` if the user hasn't filled all required fields in the
         * form.
         */settings:{type:Object,notify:!0},/**
         * Security definition for an endpoint in AMF json/ld model.
         * It is `http://raml.org/vocabularies/security#security`
         * property of the `http://www.w3.org/ns/hydra/core#supportedOperation`
         * property of an endpoint.
         */securedBy:{type:Array},/**
         * The OAuth2 redirect URL to be set in the OAuth2 form pane.
         */redirectUri:{type:Boolean,observer:"_redirectUriChanged"},/**
         * List of currently rendered authorization methods.
         * This value changes when `securedBy` changes to reflect number of
         * authorization methods supported by current endpoint.
         */authMethods:Array,/**
         * Computed value, `true` if any method is rendered.
         */hasAuthMethods:{type:Boolean,value:!1,computed:"_computeHasAuthMethods(authMethods)"},/**
         * If true then the numbered steps aren't rendered.
         */noSteps:{type:Boolean,value:!1,observer:"_nostepChanged"},/**
         * List of currently available custom security schemes declared in
         * the AMF
         */customSchemes:Array,// If true then the ripple effect on step title is disabled.
noink:{type:Boolean,observer:"_noinkChanged"},/**
         * If true the panels won't render inline documentation if
         * the information is available.
         */noDocs:{type:Boolean,observer:"_noDocsChanged"},// Current HTTP method. Passed to digest method.
httpMethod:{type:String,observer:"_requestMethodChanged"},// Current request URL. Passed to digest method.
requestUrl:{type:String,observer:"_requestUrlChanged"},// Current request body. Passed to digest method.
requestBody:{type:String,observer:"_requestBodyChanged"},/**
         * If set, automatically selects first authorization method from
         * the `amfSettings`.
         */autoSelect:Boolean,/**
         * When set, changes in the auth panels are not propagated through
         * the application.
         */readonly:Boolean}}/**
     * List of authorization methods supported by this element.
     * Each item has `id` and `name` property. The `id` is internal ID for
     * authorization methods. Can be any of: `none`, `basic`, `ntlm`, `digest`,
     * `oauth1` and `oauth2`. The `name` property is a lable for the method
     * used in UI.
     * @return {Array<Object>}
     */get supportedMethods(){return[{type:"none",name:"No authorization"},{type:"Basic Authentication",name:"Basic authentication"},{type:"ntlm",name:"NTLM"},{type:"Digest Authentication",name:"Digest authentication"},{type:"OAuth 2.0",name:"OAuth 2.0"},{type:"OAuth 1.0",name:"OAuth 1.0"}]}static get observers(){return["_authSettingsUpdated(settings.*)","_passEventsTarget(eventsTarget)","_securedByChanged(securedBy, amfModel)","_amfModelChanged(amfModel)"]}/**
     * @return {HTMLElement} Currently rendered authorization panel.
     */get currentPanel(){if(!this.shadowRoot){return}const selector="[data-auth-panel]";return this.shadowRoot.querySelector(selector)}constructor(){super();this._authSettingsHandler=this._authSettingsHandler.bind(this);this._onAuthSettingsChanged=this._onAuthSettingsChanged.bind(this)}_attachListeners(){if(!this.authMethods){this.set("authMethods",this._listAuthMethods())}this.addEventListener("auth-settings-changed",this._authSettingsHandler);this.addEventListener("authorization-settings-changed",this._onAuthSettingsChanged)}_detachListeners(){this.removeEventListener("auth-settings-changed",this._authSettingsHandler);this.removeEventListener("authorization-settings-changed",this._onAuthSettingsChanged)}ready(){super.ready();Polymer.RenderStatus.afterNextRender(this,()=>{if(0<=this.selected){this._selectedChanged(this.selected,this.selected);this._updateValidationState()}if(this.selected===void 0&&this.settings){this.restore(this.settings)}})}/**
     * Clears the state of the panel.
     */clear(){this.selected=-1;this.settings={}}/**
     * Replaces active panel with new one and dipatches
     * `authorization-type-changed` event.
     *
     * If the event is canceled it restores previous value in the selector.
     *
     * @param {Number} selected
     * @param {Number} oldValue
     */_selectedChanged(selected,oldValue){this._ensureAuthHeaderRemoved(oldValue);if(-1===selected||selected===void 0){this.__removeExistingPanel();this._notifySettings();return}const methods=this.authMethods;if(!methods){return}const item=methods[selected];if(!item){this.set("settings",void 0);return}if(oldValue!==void 0){this._analyticsEvent("authorization-panel","usage-auth-method",item.type)}if(!this._cancelSettingsProcessing&&!this.__notifySelectionChanged(item.type)){this.set("selected",oldValue);return}if(selected!==oldValue){this.set("settings",void 0);this.__removeExistingPanel();this.__createAuthPanel(item)}this.__latestSelected=selected}/**
     * Ensures that the authorization header is removed if previously
     * selected (and now deselected) type is one of using Authorization
     * header.
     * @param {Number} oldSelected Previously selected auth method
     */_ensureAuthHeaderRemoved(oldSelected){const methods=this.authMethods;if(oldSelected===void 0||!methods){return}const oldMethod=methods[oldSelected],type=oldMethod&&this._panelTypeToRamType(oldMethod.type);if(type&&-1!==["Basic Authentication","OAuth 1.0","OAuth 2.0"].indexOf(type)){this._clearAuthHeader()}}/**
     * Dispatches `request-header-deleted` custom event to inform listeners
     * that `authorization` header should not be used.
     */_clearAuthHeader(){this.dispatchEvent(new CustomEvent("request-header-deleted",{bubbles:!0,cancelable:!0,composed:!0,detail:{name:"authorization"}}))}/**
     * Dispatches `authorization-type-changed`.
     *
     * @param {String} selected Current selection of the auth method
     * @return {Boolean} Whether selectoin was cancelled.
     */__notifySelectionChanged(selected){const e=this.fire("authorization-type-changed",{type:selected},{cancelable:!0});return!e.defaultPrevented}/**
     * Removes any existing authorization panel from local DOM.
     */__removeExistingPanel(){const panel=this.currentPanel;if(!panel){return}panel.parentNode.removeChild(panel)}/**
     * Creates an authorization panel described as a `selected`.
     *
     * @param {Object} selected Model from `authMethods`
     */__createAuthPanel(selected){switch(selected.type){case"none":this.set("settings",{valid:!0,type:"none"});this._clearAuthHeader();break;case"Basic Authentication":this.__createBasicAuth();break;case"Digest Authentication":this.__createDigestAuth();break;case"ntlm":this.__createNtlmAuth();break;case"OAuth 1.0":this.__createOauth1Auth(selected);break;case"OAuth 2.0":this.__createOauth2Auth(selected);break;case"x-custom":this.__createCustomAuth(selected);break;default:this.__createUnsupportedAuth(selected);break;}Polymer.RenderStatus.afterNextRender(this,()=>{let settings;if("none"===selected.type){settings={valid:!0}}else{const panel=this.currentPanel;settings=panel&&panel.getSettings?panel.getSettings():void 0}this._notifySettings(settings)})}/**
     * Adds shared properties for all panels.
     *
     * @param {HTMLElement} panel
     * @param {String} type Authorization type.
     */__addCommonProperties(panel,type){panel.eventsTarget=this.eventsTarget;panel.dataset.type=type;panel.dataset.authPanel=!0;panel.noSteps=this.noSteps;panel.noink=this.noink;panel.readonly=this.readonly;panel.amfModel=this.amfModel;panel.noDocs=this.noDocs}/**
     * Creates instance of Basic auth panel and adds it to local DOM.
     */__createBasicAuth(){const panel=document.createElement("auth-method-basic");this.__addCommonProperties(panel,"basic");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates instance of Digest auth panel and adds it to local DOM.
     */__createDigestAuth(){const panel=document.createElement("auth-method-digest");this.__addCommonProperties(panel,"digest");panel.httpMethod=this.httpMethod;panel.requestUrl=this.requestUrl;panel.requestBody=this.requestBody;this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates instance of NTLM auth panel and adds it to local DOM.
     */__createNtlmAuth(){const panel=document.createElement("auth-method-ntlm");this.__addCommonProperties(panel,"ntlm");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates instance of OAuth1 auth panel and adds it to local DOM.
     *
     * @param {Object} selected Selected item from `authMethods`
     */__createOauth1Auth(selected){const panel=document.createElement("auth-method-oauth1");this.__addCommonProperties(panel,"oauth1");panel.redirectUrl=this.redirectUri;panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates instance of OAuth2 auth panel and adds it to local DOM.
     *
     * @param {Object} selected Selected item from `authMethods`
     */__createOauth2Auth(selected){const panel=document.createElement("auth-method-oauth2");this.__addCommonProperties(panel,"oauth2");panel.redirectUri=this.redirectUri;panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates instance of custom auth panel and adds it to local DOM.
     *
     * @param {Object} selected Selected item from `authMethods`
     */__createCustomAuth(selected){const panel=document.createElement("auth-method-custom");this.__addCommonProperties(panel,"custom");panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Creates "unsuppoerted method" panel.
     *
     * @param {Object} selected Selected item from `authMethods`
     */__createUnsupportedAuth(selected){const panel=document.createElement("div"),info=document.createElement("p");info.innerText=`Method ${selected.type} is not yet supported.`;info.className="no-method-info";panel.appendChild(info);this.__addCommonProperties(panel,"unsupported");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}/**
     * Searches for AMF security description in the AMF model.
     *
     * @param {String} type Security scheme type as defined in RAML spec.
     * @param {?String} name Display name of the security scheme
     * @return {[type]} [description]
     */_computeAmfSettings(type,name){const model=this.securedBy;if(!model){return}if(name===type){name=void 0}const secPrefix=this.ns.raml.vocabularies.security;for(let i=0,len=model.length;i<len;i++){const item=model[i],shKey=this._getAmfKey(secPrefix+"scheme");let scheme=item[shKey];if(!scheme){continue}if(scheme instanceof Array){scheme=scheme[0]}const modelType=this._getValue(scheme,secPrefix+"type");if(!modelType){continue}if(modelType===type){if(!name){return item}let modelName=this._getValue(scheme,this.ns.schema.displayName);if(!modelName){modelName=this._getValue(item,secPrefix+"name")}if(modelName===name){return item}}}}/**
     * Changes property value on the panel, if any panel exists.
     * @param {String} prop The property name to set value on.
     * @param {any} value The value
     */_changePanelValue(prop,value){const panel=this.currentPanel;if(!panel){return}panel[prop]=value}/**
     * Updates `noSteps` property on current panel.
     *
     * @param {String} value New value to set
     */_nostepChanged(value){this._changePanelValue("noSteps",value)}/**
     * Updates events target property on current panel.
     *
     * @param {HTMLElement} target New target
     */_passEventsTarget(target){this._changePanelValue("eventsTarget",target)}/**
     * Updates `noink` property on panels.
     *
     * @param {Boolean} value Current value.
     */_noinkChanged(value){this._changePanelValue("noink",value)}/**
     * Updates `noDocs` property on panels.
     *
     * @param {Boolean} value Current value.
     */_noDocsChanged(value){this._changePanelValue("noDocs",value)}/**
     * Updates `redirectUri` property on oauth panels.
     *
     * @param {String} uri New value to set
     */_redirectUriChanged(uri){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"OAuth 1.0"!==selected.type&&"OAuth 2.0"!==selected.type){return}this._changePanelValue("redirectUri",uri)}/**
     * Updates `httpMethod` property on Digest panel.
     *
     * @param {String} method
     */_requestMethodChanged(method){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("httpMethod",method)}/**
     * Updates `requestUrl` property on Digest panel.
     *
     * @param {String} url
     */_requestUrlChanged(url){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("requestUrl",url)}/**
     * Updates `requestBody` property on Digest panel.
     *
     * @param {String} body
     */_requestBodyChanged(body){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("requestBody",body)}_amfModelChanged(amfModel){this._changePanelValue("amfModel",amfModel)}/**
     * Lists available authorization methods.
     * By default it returns list from `supportedMethods` property which is the
     * list of all supported methods by this element.
     * If `iron-meta` element with key `auth-methods` is set then it will use
     * this information to compute list of auth methods.
     * See element description for more information.
     *
     * @return {Array<Object>} See `supportedMethods` property for data model.
     */_listAuthMethods(){const meta=this._listMetaAuthMethods();if(meta){return meta}return this.supportedMethods}/**
     * Creates a listing of methods from `iron-meta` definition.
     *
     * @return {Array|undefined} List of methods defined in `iron-meta`
     * or undefined if not set.
     */_listMetaAuthMethods(){let meta=document.createElement("iron-meta").byKey("auth-methods");if(!meta){return}if("string"===typeof meta){try{meta=JSON.parse(meta)}catch(e){return}}if(!(meta instanceof Array)){return}const result=[];meta.forEach(key=>{let name;switch(key){case null:name="No authorization";key="none";break;case"ntlm":name="NTLM";break;case"basic":name="Basic Authentication";key=name;break;case"digest":name="Digest Authentication";key=name;break;case"oauth1":name="OAuth 1.0";key=name;break;case"oauth2":name="OAuth 2.0";key=name;break;}if(name){result.push({type:key,name:name})}});return result}/**
     * Updates validation state for the selected form.
     * When element is initializing and RAML's `securedBy` property is set
     * during the initialization time, events with settings are fired before the form
     * is ready.
     */_updateValidationState(){if(!this.selected||-1===this.selected||!this.settings){this.set("settings.valid",!0);return}const selected=this.authMethods[this.selected];if(!selected||"none"===selected.type){this.set("settings",{valid:!0});return}let panel=this.currentPanel;if(!panel){console.warn("The auth panel for %s not set",selected.type);return}let state;try{// In case when the validation is called when the auth panel is still
// initializing
state=panel.validate()}catch(_){state=!0}if(state&&"OAuth 2.0"===selected.type){if(this.settings&&!this.settings.settings.tokenValue){state=!1}}this.set("settings.valid",state)}/**
     * Handler for `auth-settings-changed` custom event.
     * Sets up `settings` property from the event.
     *
     * @param {CustomEvent} e
     */_authSettingsHandler(e){e.stopPropagation();e.stopImmediatePropagation();if(this.readonly){return}this.settings=e.detail;this._processPanelSettings(e.detail)}/**
     * Finds a RAML method name from both RAML type or auth panel type.
     * @param {String} type
     * @return {String|undefined} RAML type name
     */_panelTypeToRamType(type){switch(type){case"none":case"No authorization":return"none";case"ntlm":case"NTLM":return"ntlm";case"basic":case"Basic Authentication":return"Basic Authentication";case"digest":case"Digest Authentication":return"Digest Authentication";case"oauth1":case"OAuth 1.0":return"OAuth 1.0";case"oauth2":case"OAuth 2.0":return"OAuth 2.0";}}/**
     * Notifies about changes to authorization settings object.
     *
     * @param {Object} record Change record
     */_authSettingsUpdated(record){if(this.readonly||"settings"!==record.path||-1!==record.path.indexOf(".splices")){return}if(this._cancelSettingsProcessing){return}let base=record.base;if(!base||!base.type){this.restore();return}const type=this._panelTypeToRamType(base.type);if(!type){return}if(this.selected===void 0||-1===this.selected){base.type=type;this.restore(base);return}const selected=this.authMethods&&this.authMethods[this.selected];if(selected&&selected.type!==type){base.type=type;this.restore(base);return}if(this.__notyfyingSettings){return}this.__notyfyingSettings=!0;setTimeout(()=>{this._notifySettings(base);this.__notyfyingSettings=!1},25)}/**
     * Restores settings to a panel including selection and data.
     *
     * @param {Object} settings The same settings object as dispatched in
     * `detail` object from this element.
     */restore(settings){if(!settings){if(this.selected||0===this.selected){this.selected=void 0}return}const methods=this.authMethods;if(!methods){return}const index=methods.findIndex(item=>item.type===settings.type);if(-1===index){return}if(this.selected!==index){this._cancelSettingsProcessing=!0;this.selected=index;this._cancelSettingsProcessing=!1}const panel=this.currentPanel;if(panel){// Can be no-auth panel
panel.restore(settings.settings)}if(this.settings!==settings){this._cancelSettingsProcessing=!0;this.settings=settings;this._cancelSettingsProcessing=!1}}/**
     * Notifies settings change if currently selected method is the same as
     * `settings.type`.
     *
     * @param {Object} settings Authorization settings to notify.
     * @param {Object} selected Selected model.
     */_notifySettings(settings,selected){if(this.readonly){return}if(!selected){selected=this.authMethods&&this.authMethods[this.selected]}let valid=!1,type;if(selected){type=selected.type;if("none"===selected.type){valid=!0}else if(settings){valid=settings.valid||!1}else if(this.authVaid){valid=!0}}else{if(!this.authRequired){valid=!0}}this.fire("authorization-settings-changed",{settings:settings,valid:valid,type:type})}/**
     * A handler called when the `securedBy` property changes.
     * It sets up the list of available auth methods
     *
     * @param {Array<Object>} secured List of AMF security definitions
     */_securedByChanged(secured){if(!secured||!secured.length){this.selected=-1;this.set("authRequired",!1);this.set("authMethods",this._listAuthMethods());return}if(this.__secChangeDebouncer){return}this.__secChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__secChangeDebouncer=!1;this.__securedByChanged(this.securedBy)})}/**
     * A handler called when the `securedBy` property changes.
     * It sets up the list of available auth methods
     *
     * @param {Array<Object>} secured List of AMF security definitions
     */__securedByChanged(secured){this.selected=-1;if(!secured||!secured.length){this.set("authRequired",!1);this.set("authMethods",this._listAuthMethods());return}const supported=[],secPrefix=this.ns.raml.vocabularies.security;let hasNull=!1;for(let i=0,len=secured.length;i<len;i++){const item=secured[i];if(!this._hasType(item,secPrefix+"ParametrizedSecurityScheme")){continue}const shKey=this._getAmfKey(secPrefix+"scheme");let scheme=item[shKey];if(!scheme){hasNull=!0;continue}if(scheme instanceof Array){scheme=scheme[0]}const type=this._getValue(scheme,secPrefix+"type");if(!type){hasNull=!0;continue}let name=this._getValue(scheme,this.ns.schema.displayName);if(!name){if("x-custom"===type){name=this._getValue(item,secPrefix+"name");if(!name){name="Custom authorization"}}else{name=type}}supported[supported.length]={name:name,type:type}}if(hasNull){supported.unshift({name:"No authorization",type:"none"})}this.set("authMethods",supported);if(1===supported.length){this.selected=0}this._updateValidationState();const isRequired=!!supported.length&&!hasNull;this.set("authRequired",isRequired);this._analyticsEvent("authorization-panel","usage-amf","loaded");if(this.__latestSelected!==void 0){if(supported.length>this.__latestSelected){this.selected=this.__latestSelected}}else if(isRequired&&this.autoSelect){Polymer.RenderStatus.afterNextRender(this,()=>{this.selected=0})}}// Computes value for `isSelected` property.
_computeIsSelected(selected){return selected!==void 0&&-1!==selected}/**
     * Computes label for step title.
     * @param {String} selected ID of selected method.
     * @return {String} Label for selection.
     */_computeSelectedLabel(selected){const methods=this.authMethods;if(!methods){return}const info=methods[selected];if(!info){return}return info.name}// Resets `selected` property.
_clearSelection(){this.selected=-1}/**
     * Computes value for the `authValid` property.
     * Authorization is valid when form panel reports it is valid and
     * an auth method is selected.
     *
     * @param {Boolean} formValid Reported state
     * @param {String} selected Selected auth method
     * @param {Boolean} authRequired Value of `authRequired` property
     * @return {Boolean} True if is valid and selected
     */_computeAuthValid(formValid,selected,authRequired){if((selected===void 0||-1===selected)&&authRequired){return!1}if((selected===void 0||-1===selected)&&!authRequired){return!0}if(formValid===void 0&&!authRequired){return!0}if(!formValid){return!1}return!0}/**
     * Rstores authorization settings if event is external.
     *
     * @param {CustomEvent} e
     */_onAuthSettingsChanged(e){if(this.readonly||e.composedPath()[0]===this){return}this.restore(e.detail)}/**
     * Processes incomming settings and acts if any action needed to authorize
     * the use has to be performed.
     *
     * @param {Object} settings Current settings.
     */_processPanelSettings(settings){switch(settings.type){case"oauth2":this._handleOauth2Settings(settings);break;case"digest":this._handleDigestSettings(settings);break;}}/**
     * Handles the case when OAuth2 settings changed.
     *
     * @param {Object} settings Oauth2 auth settings object
     */_handleOauth2Settings(settings){settings=settings||{};settings=settings.settings||{};const token=settings.accessToken;if(!token){this.set("settings.valid",!1);return}let type,value;if("header"===settings.deliveryMethod){type="request-header-changed";value=settings.tokenType+" "+token}else{type="query-parameter-changed";value=token}this.fire(type,{name:settings.deliveryName,value:value},{cancelable:!0})}/**
     * Handles the case when digest auth method settings changed.
     *
     * @param {Object} settings Digest auth method settings object
     * It can be either username and password (that will be passed to
     * transport method) then this function do nothing or list of Authorization
     * header parameters.
     */_handleDigestSettings(settings){if(!settings.valid){this.fire("request-header-changed",{name:"authorization",value:""});return}settings=settings.settings;if(!settings){return}const data=settings.settings;if(!data||!(data.username&&data.password)){return}let value="Digest ";Object.keys(data).forEach(name=>{value+=name+"=\""+data[name]+"\", "});value=value.substr(0,value.length-2);this.fire("request-header-changed",{name:"authorization",value:value},{cancelable:!0})}fire(type,detail,options){const defaults={bubbles:!0,composed:!0,cancelable:!1};if(!options){options=defaults}else{options=Object.assign(defaults,options)}options.detail=detail;const e=new CustomEvent(type,options);this.dispatchEvent(e);return e}/**
     * If selected authorization type is `oauth1` or `oauth2` it calls
     * `authorize()` function of selected panel.
     * If other method is selected it does nothing.
     *
     * @return {Boolean} True if the panel received intent to authorize and
     * `false` otherwise
     */forceTokenAuthorization(){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected){return!1}if(-1===["OAuth 2.0","OAuth 1.0"].indexOf(selected.type)){return!1}const panel=this.currentPanel;if(!panel){return!0}return panel.authorize()}/**
     * Computes value for `hasAuthMethods` property.
     *
     * @param {Array} authMethods List of current methods.
     * @return {Boolean} True if at leas one methos is available to select.
     */_computeHasAuthMethods(authMethods){return!!(authMethods&&authMethods.length)}/**
     * Dispatches analytics event.
     *
     * @param {String} category Event category
     * @param {String} action Event action
     * @param {String} label Event label
     */_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}/**
     * Fired when auth settings change.
     *
     * It will be fired when any of types is currently selected and
     * any value of any property has changed.
     *
     * @event authorization-settings-changed
     * @param {?Object} settings Current auth settings. It depends on enabled `type`.
     * It might be undefined if the user unselected a method (if possible). This
     * means that there's no selection at the moment.
     * @param {?String} type Enabled auth type. For example `basic`, `ntlm` or `oauth2`.
     * It may be `undefined` if the user deselected current method and none is selected.
     * @param {Boolean} valid Flag determining if current settings are valid.
     * This property depends on `null` security scheme when scheme is unselected
     * (`settings` and `type` are `undefined`). If `null` security is set then
     * it is valid when methos is unselected. `false` otherise.
     */ /**
     * Fired when the authorization type changed.
     * Note that the `settings` property may not be updated at the moment of of
     * firing the event.
     *
     * This event is cancelable. If handler cancels the event the operation
     * is stopped and selection is set to previous value.
     *
     * @event authorization-type-changed
     * @param {String} type Current auth type
     */ /**
     * Fired when the request header changed and all listeners should update
     * header value.
     *
     * @event request-header-changed
     * @param {String} name Name of the header that has changed
     * @param {String} value Header new value
     */ /**
     * Fired when the query param changed and all listeners should update
     * parameters / URL value.
     *
     * @event query-parameter-changed
     * @param {String} name Name of the header that has changed
     * @param {String} value Header new value
     */}window.customElements.define(AuthorizationPanel.is,AuthorizationPanel);</script></dom-module><dom-module id="arc-definitions" assetpath="bower_components/arc-definitions/"><template><style>:host{display:none;}</style><script id="content" type="application/json">{
     "requests":[
      {"key":"Accept","desc":"Content-Types that are acceptable.","example":"Accept: text/plain","autocomplete":["application/json","application/xml","text/plain","application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/x-shockwave-flash, application/msword, */*","text/html, application/xhtml+xml, image/jxr, */*","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1","*/*","image/webp,image/*,*/*;q=0.8", "image/png,image/svg+xml,image/*;q=0.8, */*;q=0.5","audio/webm, audio/ogg, audio/wav, audio/*;q=0.9, application/ogg;q=0.7, video/*;q=0.6;*/*;q=0.5","audio/webm,audio/ogg,audio/wav,audio/*;q=0.9,application/ogg;q=0.7,video/*;q=0.6,*/*;q=0.5", "application/javascript, */*;q=0.8","text/css,*/*;q=0.1"]},
      {"key":"Accept-Charset","desc":"Character sets that are acceptable","example":"Accept-Charset: utf-8", "autocomplete": ["utf-8"]},
      {"key":"Accept-Encoding","desc":"Acceptable encodings","example":"Accept-Encoding: &lt;compress | gzip | deflate | identity&gt;","autocomplete":["compress","gzip","deflate"]},
      {"key":"Accept-Language","desc":"Acceptable languages for response","example":"Accept-Language: en-US","autocomplete":["en-US","en-GB, en;q=0.5","hin","jpn","zh-CN","es","ru"]},
      {"key":"Authorization","desc":"Authentication credentials for HTTP authentication","example":"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="},
      {"key":"Cache-Control","desc":"Used to specify directives that MUST be obeyed by all caching mechanisms along the request/response chain","example":"Cache-Control: no-cache","autocomplete":["no-cache","no-store","max-age=3600","max-stale","min-fresh=3600","no-transform","only-if-cached"]},
      {"key":"Connection","desc":"What type of connection the user-agent would prefer","example":"Connection: close","autocomplete": ["keep-alive","close"]},
      {"key":"Cookie","desc":"an HTTP cookie previously sent by the server with Set-Cookie","example":"Cookie: $Version=1; Skin=new;","autocomplete":["name=value","name=value; name2=value2; name3=value3"]},
      {"key":"Content-Length","desc":"The length of the request body in octets (8-bit bytes)","example":"Content-Length: 348"},
      {"key":"Content-Type","desc":"The mime type of the body of the request (used with POST and PUT requests)","example":"Content-Type: application/x-www-form-urlencoded","autocomplete":["application/json","application/xml","application/atom+xml","multipart/form-data","multipart/alternative","multipart/mixed","application/x-www-form-urlencoded","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"]},
      {"key":"Date","desc":"The date and time that the message was sent","example":"Date: Tue, 15 Nov 1994 08:12:31 GMT"},
      {"key":"Expect","desc":"Indicates that particular server behaviors are required by the client","example":"Expect: 100-continue","autocomplete":["100-continue"]},
      {"key":"From","desc":"The email address of the user making the request","example":"From: user@example.com","autocomplete":["webmaster@example.org"]},
      {"key":"Host","desc":"The domain name of the server (for virtual hosting), mandatory since HTTP/1.1","example":"Host: en.wikipedia.org","autocomplete":["advancedrestclient.com"]},
      {"key":"If-Match","desc":"Only perform the action if the client supplied entity matches the same entity on the server. This is mainly for methods like PUT to only update a resource if it has not been modified since the user last updated it.","example":"If-Match: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Modified-Since","desc":"Allows a 304 Not Modified to be returned if content is unchanged","example":"If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT"},
      {"key":"If-None-Match","desc":"Allows a 304 Not Modified to be returned if content is unchanged, see HTTP ETag","example":"If-None-Match: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Range","desc":"If the entity is unchanged, send me the part(s) that I am missing; otherwise, send me the entire new entity","example":"If-Range: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Unmodified-Since","desc":"Only send the response if the entity has not been modified since a specific time.","example":"If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT"},
      {"key":"Max-Forwards","desc":"Limit the number of times the message can be forwarded through proxies or gateways.","example":"Max-Forwards: 10"},
      {"key":"Pragma","desc":"Implementation-specific headers that may have various effects anywhere along the request-response chain","example":"Pragma: no-cache","autocomplete":["no-cache"]},
      {"key":"Proxy-Authorization","desc":"Authorization credentials for connecting to a proxy.","example":"Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="},
      {"key":"Range","desc":"Request only part of an entity. Bytes are numbered from 0.","example":"Range: bytes=500-999","autocomplete":["bytes=0-999","bytes=200-1000, 2000-6576","bytes=200-1000, 2000-6576, 19000-"]},
      {"key":"Referer","desc":"This is the address of the previous web page from which a link to the currently requested page was followed.","example":"Referer: http://en.wikipedia.org/wiki/Main_Page","autocomplete":["https://advancedrestclient.com/"]},
      {"key":"TE","desc":"The transfer encodings the user agent is willing to accept: the same values as for the response header Transfer-Encoding can be used, plus the \"trailers\" value (related to the \"chunked\" transfer method) to notify the server it accepts to receive additional headers (the trailers) after the last, zero-sized, chunk.","example":"TE: trailers, deflate","autocomplete":["compress","deflate","gzip","trailers","gzip, deflate;q=0.5"]},
      {"key":"Upgrade","desc":"Ask the server to upgrade to another protocol","example":"Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11","autocomplete":["h2c","websocket","TLS/1.0","TLS/1.0, HTTP/1.1"]},
      {"key":"User-Agent","desc":"The user agent string of the user agent","example":"User-Agent: Mozilla/5.0 (Linux; X11)","autocomplete":["Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0","Mozilla/5.0 (Macintosh; Intel Mac OS X x.y; rv:42.0) Gecko/20100101 Firefox/42.0","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36 OPR/38.0.2220.41","Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","Mozilla/5.0 (compatible; MSIE 9.0; Windows Phone OS 7.5; Trident/5.0; IEMobile/9.0)","Googlebot/2.1 (+http://www.google.com/bot.html)"]},
      {"key":"Via","desc":"Informs the server of proxies through which the request was sent.","example":"Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)","autocomplete":["1.1 vegur","HTTP/1.1 GWA","1.0 fred, 1.1 p.example.net"]},
      {"key":"Warning","desc":"A general warning about possible problems with the entity body.","example":"Warning: 199 Miscellaneous warning","autocomplete":["110 anderson/1.3.37 \"Response is stale\"","112 - \"cache down\" \"Wed, 21 Oct 2015 07:28:00 GMT\""]}
     ],
     "responses": [
      {"key":"Accept-Ranges","desc":"What partial content range types this server supports","example":"Accept-Ranges: bytes"},
      {"key":"Age","desc":"The age the object has been in a proxy cache in seconds","example":"Age: 12"},
      {"key":"Allow","desc":"Valid actions for a specified resource. To be used for a 405 Method not allowed","example":"Allow: GET, HEAD"},
      {"key":"Cache-Control","desc":"Tells all caching mechanisms from server to client whether they may cache this object","example":"Cache-Control: max-age"},
      {"key":"Content-Encoding","desc":"The type of encoding used on the data","example":"Content-Encoding: gzip"},
      {"key":"Content-Language","desc":"The language the content is in","example":"Content-Language: da"},
      {"key":"Content-Length","desc":"The length of the response body in octets (8-bit bytes)","example":"Content-Length: 348"},
      {"key":"Content-Location","desc":"An alternate location for the returned data","example":"Content-Location: /index.htm"},
      {"key":"Content-Disposition","desc":"An opportunity to raise a \"File Download\" dialogue box for a known MIME type","example":"Content-Disposition: attachment; filename=fname.ext"},
      {"key":"Content-MD5","desc":"A Base64-encoded binary MD5 sum of the content of the response","example":"Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ=="},
      {"key":"Content-Range","desc":"Where in a full body message this partial message belongs","example":"Content-Range: bytes 21010-47021/47022"},
      {"key":"Content-Type","desc":"The mime type of this content","example":"Content-Type: text/html; charset=utf-8"},
      {"key":"Date","desc":"The date and time that the message was sent","example":"Date: Tue, 15 Nov 1994 08:12:31 GMT"},
      {"key":"ETag","desc":"An identifier for a specific version of a resource, often a Message Digest, see ETag","example":"ETag: \"737060cd8c284d8af7ad3082f209582d\""},
      {"key":"Expires","desc":"Gives the date/time after which the response is considered stale","example":"Expires: Thu, 01 Dec 1994 16:00:00 GMT"},
      {"key":"Last-Modified","desc":"The last modified date for the requested object, in RFC 2822 format","example":"Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT"},
      {"key":"Link","desc":"Used to express a typed relationship with another resource, where the relation type is defined by RFC 5988","example":"Link: &lt;/feed&gt;; rel=\"alternate\""},
      {"key":"Location","desc":"Used in redirection, or when a new resource has been created.","example":"Location: http://www.w3.org/pub/WWW/People.html"},
      {"key":"P3P","desc":"This header is supposed to set P3P policy, in the form of P3P:CP=\"your_compact_policy\". However, P3P did not take off[2], most browsers have never fully implemented it, a lot of websites set this header with fake policy text, that was enough to fool browsers the existence of P3P policy and grant permissions for third party cookies.","example":"P3P: CP=\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\""},
      {"key":"Pragma","desc":"Implementation-specific headers that may have various effects anywhere along the request-response chain.","example":"Pragma: no-cache"},
      {"key":"Proxy-Authenticate","desc":"Request authentication to access the proxy.","example":"Proxy-Authenticate: Basic"},
      {"key":"Refresh","desc":"Used in redirection, or when a new resource has been created. This refresh redirects after 5 seconds.(This is a proprietary/non-standard header extension introduced by Netscape and supported by most web browsers.)","example":"Refresh: 5; url=http://www.w3.org/pub/WWW/People.html"},
      {"key":"Retry-After","desc":"If an entity is temporarily unavailable, this instructs the client to try again after a specified period of time.","example":"Retry-After: 120"},
      {"key":"Server","desc":"A name for the server","example":"Server: Apache/1.3.27 (Unix) (Red-Hat/Linux)"},
      {"key":"Set-Cookie","desc":"an HTTP cookie","example":"Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1"},
      {"key":"Trailer","desc":"The Trailer general field value indicates that the given set of header fields is present in the trailer of a message encoded with chunked transfer-coding.","example":"Trailer: Max-Forwards"},
      {"key":"Transfer-Encoding","desc":"The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity.","example":"Transfer-Encoding: chunked"},
      {"key":"Vary","desc":"Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server.","example":"Vary: *"},
      {"key":"Via","desc":"Informs the client of proxies through which the response was sent.","example":"Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)"},
      {"key":"Warning","desc":"A general warning about possible problems with the entity body.","example":"Warning: 199 Miscellaneous warning"},
      {"key":"WWW-Authenticate","desc":"Indicates the authentication scheme that should be used to access the requested entity.","example":"WWW-Authenticate: Basic"}
     ],
     "codes":[
      {"key":100, "label":"Continue","desc":"This means that the server has received the request headers, and that the client should proceed to send the request body (in the case of a request for which a body needs to be sent; for example, a POST request). If the request body is large, sending it to a server when a request has already been rejected based upon inappropriate headers is inefficient. To have a server check if the request could be accepted based on the request's headers alone, a client must send Expect: 100-continue as a header in its initial request and check if a 100 Continue status code is received in response before continuing (or receive 417 Expectation Failed and not continue)."},
      {"key":101, "label":"Switching Protocols","desc":"This means the requester has asked the server to switch protocols and the server is acknowledging that it will do so"},
      {"key":102, "label":"Processing","desc":"As a WebDAV request may contain many sub-requests involving file operations, it may take a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet. This prevents the client from timing out and assuming the request was lost."},
      {"key":200, "label":"OK","desc":"Standard response for successful HTTP requests. The actual response will depend on the request method used. In a GET request, the response will contain an entity corresponding to the requested resource. In a POST request the response will contain an entity describing or containing the result of the action."},
      {"key":201, "label":"Created","desc":"The request has been fulfilled and resulted in a new resource being created."},
      {"key":202, "label":"Accepted","desc":"The request has been accepted for processing, but the processing has not been completed. The request might or might not eventually be acted upon, as it might be disallowed when processing actually takes place."},
      {"key":203, "label":"Non-Authoritative Information (since HTTP/1.1)","desc":"The server successfully processed the request, but is returning information that may be from another source."},
      {"key":204, "label":"No Content","desc":"The server successfully processed the request, but is not returning any content."},
      {"key":205, "label":"Reset Content","desc":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view."},
      {"key":206, "label":"Partial Content","desc":"The server is delivering only part of the resource due to a range header sent by the client. The range header is used by tools like wget to enable resuming of interrupted downloads, or split a download into multiple simultaneous streams."},
      {"key":207, "label":"Multi-Status (WebDAV) (RFC 4918)","desc":"The message body that follows is an XML message and can contain a number of separate response codes, depending on how many sub-requests were made."},
      {"key":300, "label":"Multiple Choices","desc":"Indicates multiple options for the resource that the client may follow. It, for instance, could be used to present different format options for video, list files with different extensions, or word sense disambiguation."},
      {"key":301, "label":"Moved Permanently","desc":"This and all future requests should be directed to the given URI."},
      {"key":302, "label":"Found","desc":"This is an example of industrial practice contradicting the standard. HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was \"Moved Temporarily\"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours. However, the majority of Web applications and frameworks still use the 302 status code as if it were the 303."},
      {"key":303, "label":"See Other (since HTTP/1.1)","desc":"The response to the request can be found under another URI using a GET method. When received in response to a PUT, it should be assumed that the server has received the data and the redirect should be issued with a separate GET message."},
      {"key":304, "label":"Not Modified","desc":"Indicates the resource has not been modified since last requested. Typically, the HTTP client provides a header like the If-Modified-Since header to provide a time against which to compare. Using this saves bandwidth and reprocessing on both the server and client, as only the header data must be sent and received in comparison to the entirety of the page being re-processed by the server, then sent again using more bandwidth of the server and client."},
      {"key":305, "label":"Use Proxy (since HTTP/1.1)","desc":"Many HTTP clients (such as Mozilla and Internet Explorer) do not correctly handle responses with this status code, primarily for security reasons."},
      {"key":306, "label":"Switch Proxy","desc":"No longer used."},
      {"key":307, "label":"Temporary Redirect (since HTTP/1.1)","desc":"In this occasion, the request should be repeated with another URI, but future requests can still use the original URI. In contrast to 303, the request method should not be changed when reissuing the original request. For instance, a POST request must be repeated using another POST request."},
      {"key":400, "label":"Bad Request","desc":"The request cannot be fulfilled due to bad syntax."},
      {"key":401, "label":"Unauthorized","desc":"Similar to 403 Forbidden, but specifically for use when authentication is possible but has failed or not yet been provided. The response must include a WWW-Authenticate header field containing a challenge applicable to the requested resource. See Basic access authentication and Digest access authentication."},
      {"key":402, "label":"Payment Required","desc":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, but that has not happened, and this code is not usually used. As an example of its use, however, Apple's MobileMe service generates a 402 error (\"httpStatusCode:402\" in the Mac OS X Console log) if the MobileMe account is delinquent."},
      {"key":403, "label":"Forbidden","desc":"The request was a legal request, but the server is refusing to respond to it. Unlike a 401 Unauthorized response, authenticating will make no difference."},
      {"key":404, "label":"Not Found","desc":"The requested resource could not be found but may be available again in the future. Subsequent requests by the client are permissible."},
      {"key":405, "label":"Method Not Allowed","desc":"A request was made of a resource using a request method not supported by that resource; for example, using GET on a form which requires data to be presented via POST, or using PUT on a read-only resource."},
      {"key":406, "label":"Not Acceptable","desc":"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request."},
      {"key":407, "label":"Proxy Authentication Required","desc":"This code is similar to 401 (Unauthorized), but indicates that the client must first authenticate itself with the proxy."},
      {"key":408, "label":"Request Timeout","desc":"The client did not produce a request within the time that the server was prepared to wait. The client MAY repeat the request without modifications at any later time."},
      {"key":409, "label":"Conflict","desc":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict."},
      {"key":410, "label":"Gone","desc":"Indicates that the resource requested is no longer available and will not be available again.[2] This should be used when a resource has been intentionally removed and the resource should be purged. Upon receiving a 410 status code, the client should not request the resource again in the future."},
      {"key":411, "label":"Length Required","desc":"The request did not specify the length of its content, which is required by the requested resource."},
      {"key":412, "label":"Precondition Failed","desc":"The server does not meet one of the preconditions that the requester put on the request."},
      {"key":413, "label":"Request Entity Too Large","desc":"The request is larger than the server is willing or able to process."},
      {"key":414, "label":"Request-URI Too Long","desc":"The URI provided was too long for the server to process."},
      {"key":415, "label":"Unsupported Media Type","desc":"The request entity has a media type which the server or resource does not support.[2] For example, the client uploads an image as image/svg+xml, but the server requires that images use a different format."},
      {"key":416, "label":"Requested Range Not Satisfiable","desc":"The client has asked for a portion of the file, but the server cannot supply that portion. For example, if the client asked for a part of the file that lies beyond the end of the file."},
      {"key":417, "label":"Expectation Failed","desc":"The server cannot meet the requirements of the Expect request-header field."},
      {"key":418, "label":"I'm a teapot","desc":"This code was defined in 1998 as one of the traditional IETF April Fools' jokes, in RFC 2324, Hyper Text Coffee Pot Control Protocol, and is not expected to be implemented by actual HTTP servers."},
      {"key":422, "label":"Unprocessable Entity (WebDAV) (RFC 4918)","desc":"The request was well-formed but was unable to be followed due to semantic errors."},
      {"key":423, "label":"Locked (WebDAV) (RFC 4918)","desc":"The resource that is being accessed is locked."},
      {"key":424, "label":"Failed Dependency (WebDAV) (RFC 4918)","desc":"The request failed due to failure of a previous request (e.g. a PROPPATCH)."},
      {"key":425, "label":"Unordered Collection (RFC 3648)","desc":"Defined in drafts of \"WebDAV Advanced Collections Protocol\", but not present in \"Web Distributed Authoring and Versioning (WebDAV) Ordered Collections Protocol\""},
      {"key":426, "label":"Upgrade Required (RFC 2817)","desc":"The client should switch to a different protocol such as TLS/1.0."},
      {"key":444, "label":"No Response","desc":"An Nginx HTTP server extension. The server returns no information to the client and closes the connection (useful as a deterrent for malware)."},
      {"key":449, "label":"Retry With","desc":"A Microsoft extension. The request should be retried after performing the appropriate action."},
      {"key":450, "label":"Blocked by Windows Parental Controls","desc":"A Microsoft extension. This error is given when Windows Parental Controls are turned on and are blocking access to the given webpage."},
      {"key":499, "label":"Client Closed Request","desc":"An Nginx HTTP server extension. This code is introduced to log the case when the connection is closed by client while HTTP server is processing its request, making server unable to send the HTTP header back."},
      {"key":500, "label":"Internal Server Error","desc":"A generic error message, given when no more specific message is suitable."},
      {"key":501, "label":"Not Implemented","desc":"The server either does not recognise the request method, or it lacks the ability to fulfill the request."},
      {"key":502, "label":"Bad Gateway","desc":"The server was acting as a gateway or proxy and received an invalid response from the upstream server."},
      {"key":503, "label":"Service Unavailable","desc":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state."},
      {"key":504, "label":"Gateway Timeout","desc":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server."},
      {"key":505, "label":"HTTP Version Not Supported","desc":"The server does not support the HTTP protocol version used in the request"},
      {"key":506, "label":"Variant Also Negotiates","desc":"Transparent content negotiation for the request results in a circular reference."},
      {"key":507, "label":"Insufficient Storage (WebDAV) (RFC 4918)","desc":"The 507 status code means the method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."},
      {"key":509, "label":"Bandwidth Limit Exceeded (Apache bw/limited extension)","desc":"This status code, while used by many servers, is not specified in any RFCs."},
      {"key":510, "label":"Not Extended (RFC 2774)","desc":"Further extensions to the request are required for the server to fulfill it."}
     ]
    }</script></template><script>class ArcDefinitions extends Polymer.Element{static get is(){return"arc-definitions"}static get properties(){return{/**
         * A list of request headers.
         *
         * Each object contains a `key`, `desc` and `example` property. `key` is a header name,
         * `desc` is a description of the header and `example` is an example of usage.
         *
         * ### Example
         * ```
         * [{
         *  "key": "Accept",
         *  "desc": "Content-Types that are acceptable.",
         *  "example": "Accept: text/plain"
         * }],
         * ```
         */requestHeaders:{type:Array,notify:!0/* ignoreName */ /* skipSlots */,readOnly:!0},/**
         * A list of response headers.
         *
         * Each object contains a `key`, `desc` and `example` property. `key` is a header name,
         * `desc` is a description of the header and `example` is an example of usage.
         *
         * ### Example
         * ```
         * [{
         *  "key": "Age",
         *  "desc": "The age the object has been in a proxy cache in seconds",
         *  "example": "Age: 12"
         * }],
         * ```
         */responseHeaders:{type:Array,notify:!0,readOnly:!0},/**
         * A list of status codes definitions.
         *
         * Each object contains a `key`, `label` and `desc` property. `key` is a status code (as
         * a number), `label` is a status code message and `desc` is description for the status
         * code.
         *
         * ### Example
         * ```
         * [{
         *  "key": 306,
         *  "label": "Switch Proxy",
         *  "desc": "No longer used."
         * }]
         */statusCodes:{type:Array,notify:!0,readOnly:!0},/**
         * If set the element will not load definitions into the memory when it's
         * created but rather when any data access function is called.
         *
         * This roperty is deprecated and will be removed in next major release
         * version. New behavior will always prohibit loading definitions
         * when component is ready.
         * @deprecated
         */loadOnDemand:Boolean}}/**
     * @constructor
     */constructor(){super();this._queryHeadersHandler=this._queryHeadersHandler.bind(this);this._queryCodesHandler=this._queryCodesHandler.bind(this)}ready(){super.ready();if(!this.loadOnDemand){this._setDefinitions()}}connectedCallback(){super.connectedCallback();window.addEventListener("query-headers",this._queryHeadersHandler);window.addEventListener("query-status-codes",this._queryCodesHandler)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("query-headers",this._queryHeadersHandler);window.removeEventListener("query-status-codes",this._queryCodesHandler)}_setDefinitions(){var defs=JSON.parse(this.$.content.textContent);this._setRequestHeaders(defs.requests);this._setResponseHeaders(defs.responses);this._setStatusCodes(defs.codes);this._definitionsReady=!0}/**
     * Queries for request headers that containins a `query`. If query is
     * not set (value is falsy) then it returns all headers definitions array.
     *
     * @param {String} name A header name to look for. It will match a header
     * where the header name contains the `name` param.
     * @return {Array<Object>} Array of the request headers matched `name` in
     * the header's `key` field.
     */queryRequestHeaders(name){return this.queryHeaders(name,"request")}/**
     * Queries for response headers that containins a `query`. If query is
     * not set (value is falsy) then it returns all headers definitions array.
     *
     * @param {String} name A header name to look for. It will match a header where the header
     * name contains the `name` param.
     * @return {Array<Object>} Array of the response headers matched `name`
     * in the header's `key` field.
     */queryResponseHeaders(name){return this.queryHeaders(name)}/**
     * Queries for headers containin a `query`. If query is not set
     * (value is falsy) then it returns all headers definitions array.
     *
     * @param {String} query A query to search for in the `key` field of the
     * headers array.
     * @param {String} type If this equals `request` then it will look in the
     * request headers array. In the response headers list otherwise.
     * @return {Array<Object>} Array of the headers of selected `type`
     * matched a `query` in a header's `key` field.
     */queryHeaders(query,type){if(!this._definitionsReady){this._setDefinitions()}var headers="request"===type?this.requestHeaders:this.responseHeaders;if(!headers||!headers.length){return[]}if(!query){return headers}query=query.trim().toLowerCase();if(!query){return headers}return headers.filter(function(item){return-1!==item.key.toLowerCase().indexOf(query)})}/**
     * Convinient function to look for a status code in the array.
     *
     * @param {Number} code The status code to look for.
     * @return {Object|null} Status code definition or null if not found.
     */getStatusCode(code){if(!this._definitionsReady){this._setDefinitions()}var codes=this.statusCodes;if(!codes||!codes.length){return null}if(!code){return codes}code=+code;if(code!==code){console.warn("Passed code is not a number.");return null}var res=codes.filter(item=>item.key===code);if(!res.length){return null}return res[0]}/**
     * A handler for the status headers query event
     *
     * @param {CustomEvent} e
     */_queryHeadersHandler(e){if(e.defaultPrevented){return}this._stopEvent(e);var type=e.detail.type;if(!type){e.detail.headers=[];return}e.detail.headers=this.queryHeaders(e.detail.query,type)}/**
     * A handler for the status code query event
     *
     * @param {CustomEvent} e
     */_queryCodesHandler(e){if(e.defaultPrevented){return}this._stopEvent(e);e.detail.statusCode=this.getStatusCode(e.detail.code)}_stopEvent(e){e.stopImmediatePropagation();e.preventDefault()}}window.customElements.define(ArcDefinitions.is,ArcDefinitions);</script></dom-module><dom-module id="api-headers-form-item" assetpath="bower_components/api-headers-form/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles">:host{display:block;@apply --api-headers-form-item;}.form-row{@apply --layout-horizontal;@apply --layout-center;@apply --layout-flex;}.value-field,
    .name-field{position:relative;}.name-field,
    .value-field{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-start;}.param-name,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.param-name{margin-right:12px;@apply --api-headers-form-name-input;}:host([narrow]) .form-row{display:block;}:host([narrow]) .param-name{margin-right:0;@apply --api-headers-form-name-input-narrow;}[hidden]{display:none !important;}:host([is-array]) .value-field{@apply --layout-start;@apply --api-headers-form-array-parameter;}paper-icon-button{margin-top:var(--api-headers-editore-hint-icon-margin-top, 16px);}:host([narrow]) paper-icon-button{margin-top:var(--api-headers-editore-hint-icon-margin-top-narrow, 16px);}.custom-wrapper{@apply --layout-horizontal;@apply --layout-start;}.docs{margin-right:0;}</style><template is="dom-if" if="[[!isCustom]]" restamp=""><div class="value-field api-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="typed" required$="[[required]]" on-focus="_customChangeFocus" on-blur="_closeAutocomplete" readonly="[[readonly]]"></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-click="toggleDocs"></paper-icon-button></template><slot name="suffix"></slot></div></template><template is="dom-if" if="[[isCustom]]" restamp=""><div class="custom-wrapper"><div class="form-row custom-field"><div class="name-field"><paper-input value="{{name}}" label="Header name" class="param-name" on-focus="_headerNameFocus" type="text" pattern="\S*" error="Header name is not valid" readonly="[[readonly]]" on-input="_queryHeaderName" required=""></paper-input><template is="dom-if" if="[[_renderAutocomplete(_nameInput, _nameSuggestions)]]"><paper-autocomplete class="name-suggestions" dynamic-align="" vertical-align="bottom" horizontal-align="left" vertical-offset="56" target="[[_nameInput]]" source="[[_nameSuggestions]]" on-selected="_onHeaderNameSelected" opened="{{_nameSuggestionsOpened}}"></paper-autocomplete></template></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="custom" on-focus="_customChangeFocus" readonly="[[readonly]]"></api-property-form-item></div></div><div class="actions"><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-click="toggleDocs"></paper-icon-button></template><slot name="suffix"></slot></div></div></template><template is="dom-if" restamp="" id="docsIf" on-dom-change="_docsRendered"><div class="docs"><iron-collapse opened="[[docsOpened]]" on-transitionend="_docsAnimated"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template><template is="dom-if" if="[[_renderAutocomplete(_valueInput, _valueSuggestions)]]"><paper-autocomplete class="value-autocomplete" on-selected="_onHeaderValueSelected" position-target="[[_valueInput]]" dynamic-align="" vertical-align="bottom" horizontal-align="left" vertical-offset="56" target="[[_valueInput]]" source="[[_valueSuggestions]]"></paper-autocomplete></template></template><script>/**
   * Headers form item.
   *
   * Provides UI to enter headers data and autocomplete function for both header
   * names and values.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.IronValidatableBehavior
   */class ApiHeadersFormItem extends Polymer.mixinBehaviors(Polymer.IronValidatableBehavior,Polymer.Element){static get is(){return"api-headers-form-item"}static get properties(){return{/**
         * View model for the headers.
         */model:Object,/**
         * The name of this element.
         */name:{notify:!0/* ignoreName */ /* skipSlots */,type:String,observer:"_nameChanged"},/**
         * The value of this element.
         */value:{notify:!0,type:String},/**
         * If set it renders a narrow layout
         */narrow:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,reflectToAttribute:!0},/**
         * True to render documentation (if set in model)
         */docsOpened:Boolean,/**
         * Set if the header is not specified in the RAML type (is a custom
         * header).
         */isCustom:{type:Boolean,value:!1},/**
         * If set it is render the item control as an array item (adds more
         * spacing to the element)
         */isArray:{type:Boolean,reflectToAttribute:!0},/**
         * List of value suggestion for current header. The list is updated
         * automatically when header name changes
         */_valueSuggestions:Array,_nameSuggestions:Array,// Reference to header value input.
_valueInput:Object,// Reference to the name input field
_nameInput:Object,// True when this model is required
required:Boolean,/**
         * True when suggestions popover is opened
         */_nameSuggestionsOpened:Boolean,/**
         * Prohibits rendering of the documentation (the icon and the
         * description).
         * Note, Set is separately for `api-view-model-transformer`
         * component as this only affects "custom" items.
         */noDocs:Boolean,/**
         * When set the editor is in read only mode.
         */readonly:Boolean}}// Toggles documentation (if available)
toggleDocs(){if(!this.docsOpened){this.$.docsIf.if=!0}else{this.docsOpened=!1}}_docsRendered(e){if(!e.target.if){return}if(!this.docsOpened){this.docsOpened=!0}}_docsAnimated(){if(!1===this.docsOpened){this.$.docsIf.if=!1}}// Handler for header name field focus
_headerNameFocus(e){if(this.readonly||this._nameInput){return}this._nameInput=e.currentTarget||e.target}/**
     * A handler called when the user selects a suggestion.
     * @param {CustomEvent} e
     */_onHeaderNameSelected(e){this.set("name",e.detail.value)}/**
     * Handler for autocomplete element. Query the datastore for suggestions.
     *
     * @param {Event} e Autocomplete event
     */_queryHeaderName(e){const suggestions=this._queryHeaderNameSuggestions(e.detail.value);if(!suggestions||!suggestions.length){this._nameSuggestions=void 0;this._nameSuggestionsOpened=!1;return}this._nameSuggestions=suggestions.map(item=>{return{value:item.key,display:item.key}});const ac=this.shadowRoot.querySelector(".name-suggestions");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged()}/**
     * Dispatches `query-headers` custom event to retreive from the application
     * headers definition.
     *
     * `api-headers-form` element contains `arc-definitions` element that
     * listens for this event.
     *
     * @param {String} q Header name to query for
     * @return {Array} Headers definition or empty array
     */_queryHeaderNameSuggestions(q){const ev=new CustomEvent("query-headers",{detail:{type:"request",query:q},cancelable:!0,bubbles:!0,composed:!0});this.dispatchEvent(ev);return ev.detail.headers}_getValidity(){let selector="api-property-form-item[data-type=\"";selector+=this.isCustom?"custom":"typed";selector+="\"]";const input=this.shadowRoot.querySelector(selector);return input.validate()}/**
     * Updates value suggestions for custom values.
     *
     * @param {String} name Header name
     */_nameChanged(name){const model=this.model;if(!name||!model||!model.schema||model.schema.isEnum){this._updateValueAutocomplete();if(!this.noDocs){this._updateHeaderDocs()}return}Polymer.RenderStatus.afterNextRender(this,()=>{const info=this._queryHeaderNameSuggestions(name);this._updateValueAutocomplete(info);if(!this.noDocs){this._updateHeaderDocs(info)}})}/**
     * Handler for custom value focus event.
     * Sets the `_valueInput` proeprty for value autosugession
     */_customChangeFocus(){if(this.readonly){return}if(this._valueInput){const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged();return}if(this.__customChangeFocus){return}this.__customChangeFocus=!0;this._valueInput=this.shadowRoot.querySelector("api-property-form-item");Polymer.RenderStatus.afterNextRender(this,()=>{const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged()})}/**
     * Updates header value autocomplete if header definition contains
     * the `autocomplete` entry. It only sets the autocomplete value when
     * only one header has been found for current input.
     *
     * @param {Array<Object>} headers List of received headers from headers query
     */_updateValueAutocomplete(headers){if(!headers||!headers.length){if(this._valueSuggestions){this._valueSuggestions=void 0}return}let header;for(let i=0,len=headers.length;i<len;i++){if(headers[i].key.toLowerCase()===this.name.toLowerCase()){header=headers[i];break}}if(header){this._valueSuggestions=header.autocomplete}else{this._valueSuggestions=void 0}}/**
     * Updates header description if the header doesn't contain a description
     * already.
     */_updateHeaderDocs(info){if(this._nameSuggestionsOpened||this.noDocs){return}const model=this.model;if(!model){return}if(!info||1!==info.length){if(model.hasDescription&&model.__ownDescription){this.set("model.description",void 0);this.set("model.hasDescription",!1);this.model.__ownDescription=!1}return}if(model.hasDescription){return}this.set("model.description",info[0].desc);this.set("model.hasDescription",!0);this.model.__ownDescription=!0}/**
     * A handler called when the user selects a value suggestion.
     */_onHeaderValueSelected(e){this.set("value",e.detail.value)}/**
     * Closes autocomplete for value when inpur looses focus.
     */_closeAutocomplete(){if(!this._valueInput){return}if(this.__closingAutocomplete){return}this.__closingAutocomplete=!0;setTimeout(()=>{this.__closingAutocomplete=!1;const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!1},250)}_renderAutocomplete(input,suggestions){return!!(input&&suggestions&&suggestions.length)}}window.customElements.define(ApiHeadersFormItem.is,ApiHeadersFormItem);</script></dom-module><dom-module id="api-headers-form" assetpath="bower_components/api-headers-form/"><template><style include="api-form-styles">:host{display:block;@apply --api-headers-form;}api-headers-form-item{@apply --layout-flex;}.delete-icon{margin-top:var(--api-headers-form-delete-icon-margin-top, 16px);}.enable-checkbox{margin-top:var(--api-headers-form-enable-checkbox-margin-top, 32px);margin-right:8px;}:host([narrow]) .delete-icon{margin-top:var(--api-headers-form-delete-icon-margin-top-narrow, 16px);}:host([narrow]) .enable-checkbox{margin-top:var(--api-headers-form-enable-checkbox-margin-top-narrow, 32px);}[hidden]{display:none !important;}.empty-info{@apply --no-info-message;}</style><arc-definitions id="definitions"></arc-definitions><template is="dom-if" if="[[renderEmptyMessage]]"><p class="empty-info">Headers are not defined for this endpoint</p></template><iron-form><form enctype="application/json"><template is="dom-if" if="[[renderOptionalCheckbox]]"><div class="optional-checkbox"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional parameters">Show optional headers</paper-checkbox></div></template><dom-repeat items="{{model}}"><template><div class="form-item" data-optional$="[[computeIsOptional(hasOptional, item)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" checked="{{item.schema.enabled}}" title="Enable or disable this header" disabled="[[readonly]]"></paper-checkbox></template><api-headers-form-item name="{{item.name}}" value="{{item.value}}" model="[[item]]" required$="[[item.required]]" readonly="[[readonly]]" is-custom="[[item.schema.isCustom]]" is-array="[[item.schema.isArray]]" narrow="[[narrow]]" no-docs="[[noDocs]]"><paper-icon-button title="Removes header from the form" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom" slot="suffix" disabled="[[readonly]]"></paper-icon-button></api-headers-form-item></div></template></dom-repeat></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds new header to the form" disabled="[[readonly]]"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add header icon"></iron-icon>Add header</paper-button></div></template></template><script>/**
   * HTTP headers form build from AMF json/ld model.
   * The form is pre-populated with predefined values from the AMF model
   * using `api-view-model-transformer` element. This element is included in
   * `api-headers-editor`.
   *
   * **This API component replaces `raml-headers-form` component**. Old
   * component uses RAML data model generated by raml JS parser only.
   * If you need RAML form only or component that works with Polymer 1.0
   * use `raml-headers-form` instead.
   *
   * ## Building the view model
   *
   * For practical reasons this element consumes different data model than the
   * one used in AMF. Use `api-view-model-transformer` element to generate
   * data view model from AMF JSON ld schema. See demo page for example of
   * use.
   *
   * ### Generating view model from AMF
   *
   * ```html
   * <api-view-model-transformer on-view-model-changed="_updateView"></api-view-model-transformer>
   * <api-headers-form model="{{viewModel}}" value="{{headers}}"></api-headers-form>
   * <script>
   * const amfModel = getAmfFromRamlOrOas();
   * const processor = document.querySelector('api-view-model-transformer');
   * if (amfModel['@context']) {
   *  processor.amfContext = amfModel['@context'];
   * }
   * processor.amfModel = extractHeadersForMethod(amfModel);
   * processor.addEventListener('view-model-changed', (e) => {
   *  document.querySelector('api-headers-form') = e.detail.value;
   * });
   * < /script>
   * ```
   *
   * This example uses `getAmfFromRamlOrOas()` function where you implement
   * the logic of getting AMF json/ld data. It can be stored in file or parsed
   * using AMF parsers. The `extractHeadersForMethod()` function implements a
   * logic of extracting headers definition from a method (for example).
   *
   * ### Manually generating view model
   *
   * You can use `api-view-model-transformer` and `buildProperty()` function
   * to generate basic view model. You can also construct it on your own.
   * See `api-view-model-transformer` element documentation for model schema.
   *
   * ## Changes in v2
   *
   * The component won't listen for `headers-value-changed` custom event.
   * Components / applications using this element should handle headers change
   * event in the application and generate new model for the view.
   * Setting `value` makes no effect on the element. Only way to change
   * generated UI is to change the model.
   *
   * ## Styling
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-headers-form` | Mixin applied to this element | `{}`
   * `--api-headers-form-delete-icon-margin-top` | Margin top of the delete button | `16px`
   * `--api-headers-form-delete-icon-margin-top-narrow` | Margin top of the delete button in narrow layout | `16px`
   * `--api-headers-form-enable-checkbox-margin-top` | Margin top of the enable checkbox | `32px`
   * `--api-headers-form-enable-checkbox-margin-top` | Margin top of the enable checkbox in narrow layout | `32px`
   * `--api-headers-form-item` | Mixin applied to each form item. Each for item is separate element. | `{}`
   * `--api-headers-editore-hint-icon-margin-top` | Margin top of help icon. | `16px`
   * `--api-headers-editore-hint-icon-margin-top-narrow` | Margin top of help icon in narrow layout. | `16px`
   * `--api-headers-form-name-input` | Mixin applied to header name input | `{}`
   * `--api-headers-form-name-input-narrow` | Mixin applied to header name input in narrow layout | `{}`
   * `--api-headers-form-array-parameter` | Mixin applied to the value input when the input is an array | `{}`
   *
   * See `api-headers-form-item` and `api-form-mixin/api-form-styles` for more styling API.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin ArcBehaviors.ApiFormMixin
   */class ApiHeadersForm extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"api-headers-form"}static get properties(){return{/**
         * Current value of the headers. Changing the value will update the list
         * of the headers.
         */value:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
         * Prohibits rendering of the documentation (the icon and the
         * description).
         * Note, Set is separately for `api-view-model-transformer`
         * component as this only affects "custom" items.
         */noDocs:Boolean,/**
         * When set the editor is in read only mode.
         */readonly:Boolean,autoValidate:Boolean}}static get observers(){return["_modelChanged(model.*, readonly)"]}// Appends an empty header to the list.
add(){if(!this.allowCustom){return}this.addCustom("header")}_modelChanged(record,readonly){if(readonly){return}if("model"===record.path&&this.invalid){this.invalid=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}if(-1!==["model","model.splices"].indexOf(record.path)){this._updateValue();if("model"===record.path&&record.value){this._autoDescribeModel(record.value)}}else if(record.path.match(/model.\d+.(name|value|schema\.enabled)/)){this._updateValue(this.autoValidate)}}/**
     * Updates value of the element when model change.
     * @param {Boolean} validate When true then it performs validation after setting
     * the value.
     */_updateValue(validate){if(this.__updatingModelValue||this.readonly){return}this.__updatingModelValue=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__updateValue(validate);this.__updatingModelValue=!1})}/**
     * Creates a header value for current model.
     * @param {Boolean} validate When true then it performs validation after setting
     * the value.
     */__updateValue(validate){const h=this.model;if(!h||!h.length){this.value="";if(this.invalid){this.invalid=!1}return}let value="";for(let i=0,len=h.length;i<len;i++){const item=h[i];if(item.schema&&!1===item.schema.enabled){continue}let n=item.name||"",v=item.value||"";if(!n&&!v){continue}if(v instanceof Array){v=v.join(",")}if(!v&&!item.required){continue}if(value[0]){value+="\n"}value+=n+": "+v}this.set("value",value);if(validate){this.validate()}}/**
     * Adds documentation for headers that doesn't have it already.
     *
     * @param {Array} model View model
     */_autoDescribeModel(model){if(this.noDocs){return}model.forEach((item,index)=>this._fillModelDescription(item,index))}/**
     * Queries for header information and updates header info if needed.
     *
     * @param {Object} item View model item
     * @param {Number} index Position of the item in `model` array
     */_fillModelDescription(item,index){if(item.hasDescription||item.isCustom){return}const type=this._queryHeaderData(item.name);if(!type){return}this.set(["model",index,"description"],type.desc);this.set(["model",index,"hasDescription"],!0);this.set(["model",index,"schema","examples"],[type.example])}/**
     * Queries for a header definition.
     *
     * @param {String} name header name to query
     * @return {Object|undefined} Header definition or undefined.
     */_queryHeaderData(name){const suggestions=this.$.definitions.queryHeaders(name,"request");if(!suggestions){return}name=name.toLowerCase();return suggestions.find(i=>i.key.toLowerCase()===name)}_getValidity(){const form=this.shadowRoot&&this.shadowRoot.querySelector("iron-form");return form?form.validate():!0}}window.customElements.define(ApiHeadersForm.is,ApiHeadersForm);</script></dom-module><dom-module id="codemirror" assetpath="bower_components/code-mirror/"><template><style>.CodeMirror{font-family:monospace;height:var(--code-mirror-width, 300px);color:black;background:var(--code-mirror-background-color, white);direction:var(--code-mirror-direction, ltr);}.CodeMirror-lines{padding:var(--code-mirror-line-padding, 4px 0);}.CodeMirror pre.CodeMirror-line{color:var(--code-mirror-punctuation-color, inherit);}.CodeMirror pre{padding:var(--code-mirror-pre-padding, 0 4px);}.CodeMirror-scrollbar-filler,
    .CodeMirror-gutter-filler{background-color:var(--code-mirror-background-color, white);}.CodeMirror-gutters{border-right:1px solid var(--code-mirror-gutters-border-right-color, #ddd);background-color:var(--code-mirror-gutters-background-color, #f7f7f7);white-space:nowrap;}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:var(--code-mirror-line-number-color, #999);white-space:nowrap;}.CodeMirror-guttermarker{color:black;}.CodeMirror-guttermarker-subtle{color:#999;}.CodeMirror div.CodeMirror-cursor{border-left:1px solid var(--code-mirror-cursor-color, black);}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid var(--code-mirror-secondary-cursor-color, silver);}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7;}.cm-fat-cursor div.CodeMirror-cursors{z-index:1;}.cm-fat-cursor-mark{background-color:rgba(20, 255, 20, 0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7;}@-moz-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@-webkit-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@keyframes blink{0%{}50%{background-color:transparent;}100%{}}.cm-tab{display:inline-block;text-decoration:inherit;}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute;}.cm-header{font-weight:bold;color:var(--code-mirror-header-color, inherit);}.cm-quote{color:var(--code-mirror-quote-color, #090);}.cm-negative{color:var(--code-mirror-negative-color, #d44);}.cm-positive{color:var(--code-mirror-positive-color, #292);}.cm-em{font-style:italic;}.cm-link{text-decoration:underline;}.cm-strikethrough{text-decoration:line-through;}.cm-invalidchar{color:var(--code-mirror-invalidchar-color, #f00);}.cm-keyword{line-height:1em;font-weight:bold;color:var(--code-mirror-keyword-color, #5A5CAD);}.cm-atom{color:var(--code-mirror-atom-color, #6C8CD5);}.cm-number{color:var(--code-mirror-number-color, #164);}.cm-def{text-decoration:underline;color:var(--code-mirror-def-color, inherit);}.cm-variable{color:var(--code-mirror-variable-color, black);}.cm-variable-2{color:var(--code-mirror-variable2-color, black);}.cm-variable-3{color:var(--code-mirror-variable3-color, black);}.cm-punctuation{color:var(--code-mirror-punctuation-color, inherit);}.cm-property{color:var(--code-mirror-property-color, inherit);}.cm-operator{color:var(--code-mirror-operator-color, inherit);}.cm-comment{color:var(--code-mirror-comment-color, #0080FF);font-style:italic;}.cm-string{color:var(--code-mirror-string-color, #6C8CD5);}.cm-string-2{color:var(--code-mirror-string-color, #f50);}.cm-meta{color:var(--code-mirror-meta-color, #9e9e9e);}.cm-qualifier{color:var(--code-mirror-qualifier-color, grey);}.cm-builtin{color:var(--code-mirror-builtin-color, #7EA656);}.cm-bracket{color:var(--code-mirror-bracket-color, #cc7);}.cm-tag{color:var(--code-mirror-tag-color, #3F7F7F);}.cm-attribute{color:var(--code-mirror-attribute-color, #7F007F);}.cm-error{color:var(--code-mirror-error-color, #f00);}.CodeMirror-composing{border-bottom:2px solid;}.CodeMirror-activeline-background{background:var(--code-mirror-active-line-background-color, #e8f2ff);}div.CodeMirror span.CodeMirror-matchingbracket{outline:1px solid grey;color:var(--code-mirror-active-match-bracked-color, black);background:var(--code-mirror-active-match-bracked-background-color, yellow);}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22;}.CodeMirror-matchingtag{background:var(--code-mirror-matches-background-color, rgba(255, 150, 0, .3));}.CodeMirror-lint-mark-error,
    .CodeMirror-lint-mark-warning{background-position:left bottom;background-repeat:repeat-x;}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");}.CodeMirror{position:relative;overflow:hidden;}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative;}.CodeMirror-sizer{position:relative;border-right:30px solid transparent;}.CodeMirror-vscrollbar,
    .CodeMirror-hscrollbar,
    .CodeMirror-scrollbar-filler,
    .CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll;}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll;}.CodeMirror-scrollbar-filler{right:0;bottom:0;}.CodeMirror-gutter-filler{left:0;bottom:0;}.CodeMirror-gutters{position:absolute;left:0;top:0;z-index:3;}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;margin-bottom:-30px;*zoom:1;*display:inline;}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;height:100%;}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4;}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;user-select:none;}.CodeMirror-lines{cursor:text;min-height:1px;}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal;}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto;}.CodeMirror-widget{}.CodeMirror-code{outline:none;}.CodeMirror-scroll,
    .CodeMirror-sizer,
    .CodeMirror-gutter,
    .CodeMirror-gutters,
    .CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box;}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden;}.CodeMirror-measure pre{position:static;}.CodeMirror div.CodeMirror-cursor{position:absolute;border-right:none;width:0;}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3;}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible;}.CodeMirror-selected{background:var(--code-mirror-selected-background-color, #d9d9d9);}.CodeMirror-focused .CodeMirror-selected{background:var(--code-mirror-focused-selected-background-color, #d7d4f0);}.CodeMirror-crosshair{cursor:crosshair;}.CodeMirror ::selection{background:var(--code-mirror-selection-background-color, #d7d4f0);}.CodeMirror ::-moz-selection{background:var(--code-mirror-selection-background-color, #d7d4f0);}.cm-searching{background:#ffa;background:rgba(255, 255, 0, .4);}.CodeMirror span{*vertical-align:text-bottom;}.cm-force-border{padding-right:.1px;}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden;}}.cm-tab-wrap-hack:after{content:'';}span.CodeMirror-selectedtext{background:none;}.hints ::slotted(.CodeMirror-hints){position:absolute;z-index:10;background:white;overflow:hidden;overflow-y:auto;max-height:20em;margin-left:20px;}</style></template></dom-module><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
// This is CodeMirror (https://codemirror.net), a code editor
// implemented in JavaScript on top of the browser's DOM.
//
// You can find some technical background for some of the code below
// at http://marijnhaverbeke.nl/blog/#cm-internals .
(function(global,factory){"object"===typeof exports&&"undefined"!==typeof module?module.exports=factory():"function"===typeof define&&define.amd?define(factory):global.CodeMirror=factory()})(this,function(){'use strict';// Kludges for bugs and behavior differences that can't be feature
// detected are enabled based on userAgent etc sniffing.
var userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\/\d/i.test(userAgent),ie_upto10=/MSIE \d/.test(userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent),edge=/Edge\/(\d+)/.exec(userAgent),ie=ie_upto10||ie_11up||edge,ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit=!edge&&/WebKit\//.test(userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent),chrome=!edge&&/Chrome\//.test(userAgent),presto=/Opera\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent),android=/Android/.test(userAgent),mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),chromeOS=/\bCrOS\b/.test(userAgent),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=+presto_version[1]}if(presto_version&&15<=presto_version){presto=/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;webkit=!0/* skipSlots */}// Some browsers use the wrong event properties to signal cmd/ctrl on OS X
var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||12.11>presto_version)),captureRightClick=gecko||ie&&9<=ie_version;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;0<count;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if("string"==typeof content){e.appendChild(document.createTextNode(content))}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}return e}// wrapper for elt, which removes the elt from the accessibility tree
function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(!0);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(3==child.nodeType)// Android browser always returns false when child is a textnode
{child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(11==child.nodeType){child=child.host}if(child==parent){return!0}}while(child=child.parentNode)}function activeElt(){// IE and Edge may throw an "Unspecified Error" when accessing document.activeElement.
// IE < 10 will throw when accessed while the page is loading or in an iframe.
// IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.
var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement){activeElement=activeElement.shadowRoot.activeElement}return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios)// Mobile Safari apparently has a bug where select() is broken.
{selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else if(ie)// Suppress mysterious IE10 errors
{selectInput=function(node){try{node.select()}catch(_e){}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(!1!==overwrite||!target.hasOwnProperty(prop))){target[prop]=obj[prop]}}return target}// Counts the column offset in a string, taking tabs into account.
// Used mostly to find indentation.
function countColumn(string,end,tabSize,startIndex,startValue){if(null==end){end=string.search(/[^\s\u00a0]/);if(-1==end){end=string.length}}for(var i=startIndex||0,n=startValue||0,nextTab;;){nextTab=string.indexOf("\t",i);if(0>nextTab||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}var Delayed=function(){this.id=null};Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return-1}// Number of pixels added to scroller and sizer to hide scrollbar
var scrollerGap=30,Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};// Returned or thrown by various protocols to signal 'I'm not
// handling this'.
// The inverse of countColumn -- find the offset that corresponds to
// a particular column.
function findColumn(string,goal,tabSize){for(var pos=0,col=0,nextTab;;){nextTab=string.indexOf("\t",pos);if(-1==nextTab){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+Math.min(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){for(var out=[],i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return /\w/.test(ch)||"\x80"<ch&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)}if(-1<helper.source.indexOf("\\w")&&isWordCharBasic(ch)){return!0}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return!1}}return!0}// Extending unicode characters. A series of a non-extending char +
// any number of extending chars is treated as a single unit as far
// as editing and measuring is concerned. This is not fully correct,
// since some scripts/fonts/browsers also treat other configurations
// of code points as a group.
var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return 768<=ch.charCodeAt(0)&&extendingChars.test(ch)}// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.
function skipExtendingChars(str,pos,dir){while((0>dir?0<pos:pos<str.length)&&isExtendingChar(str.charAt(pos))){pos+=dir}return pos}// Returns the value from the range [`from`; `to`] that satisfies
// `pred` and is closest to `from`. Assumes that at least `to`
// satisfies `pred`. Supports `from` being greater than `to`.
function findFirst(pred,from,to){// At any point we are certain `to` satisfies `pred`, don't know
// whether `from` does.
var dir=from>to?-1:1;for(;;){if(from==to){return from}var midF=(from+to)/2,mid=0>dir?Math.ceil(midF):Math.floor(midF);if(mid==from){return pred(mid)?from:to}if(pred(mid)){to=mid}else{from=mid+dir}}}// BIDI HELPERS
function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr",0)}for(var found=!1,i=0,part;i<order.length;++i){part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),1==part.level?"rtl":"ltr",i);found=!0}}if(!found){f(from,to,"ltr")}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0,cur;i<order.length;++i){cur=order[i];if(cur.from<ch&&cur.to>ch){return i}if(cur.to==ch){if(cur.from!=cur.to&&"before"==sticky){found=i}else{bidiOther=i}}if(cur.from==ch){if(cur.from!=cur.to&&"before"!=sticky){found=i}else{bidiOther=i}}}return null!=found?found:bidiOther}// Bidirectional ordering algorithm
// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
// that this (partially) implements.
// One-char codes used for character types:
// L (L):   Left-to-Right
// R (R):   Right-to-Left
// r (AL):  Right-to-Left Arabic
// 1 (EN):  European Number
// + (ES):  European Number Separator
// % (ET):  European Number Terminator
// n (AN):  Arabic Number
// , (CS):  Common Number Separator
// m (NSM): Non-Spacing Mark
// b (BN):  Boundary Neutral
// s (B):   Paragraph Separator
// t (S):   Segment Separator
// w (WS):  Whitespace
// N (ON):  Other Neutrals
// Returns null if characters are ordered as they appear
// (left-to-right), or an array of sections ({from, to, level}
// objects) in the order in which they occur visually.
var bidiOrdering=function(){// Character types for codepoints 0 to 0xff
var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";// Character types for codepoints 0x600 to 0x6f9
function charType(code){if(247>=code){return lowTypes.charAt(code)}else if(1424<=code&&1524>=code){return"R"}else if(1536<=code&&1785>=code){return arabicTypes.charAt(code-1536)}else if(1774<=code&&2220>=code){return"r"}else if(8192<=code&&8203>=code){return"w"}else if(8204==code){return"b"}else{return"L"}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str,direction){var outerType="ltr"==direction?"L":"R";if(0==str.length||"ltr"==direction&&!bidiRE.test(str)){return!1}for(var len=str.length,types=[],i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}// W1. Examine each non-spacing mark (NSM) in the level run, and
// change the type of the NSM to the type of the previous
// character. If the NSM is at the start of the level run, it will
// get the type of sor.
for(var i$1=0,prev=outerType,type;i$1<len;++i$1){type=types[i$1];if("m"==type){types[i$1]=prev}else{prev=type}}// W2. Search backwards from each instance of a European number
// until the first strong type (R, L, AL, or sor) is found. If an
// AL is found, change the type of the European number to Arabic
// number.
// W3. Change all ALs to R.
for(var i$2=0,cur=outerType,type$1;i$2<len;++i$2){type$1=types[i$2];if("1"==type$1&&"r"==cur){types[i$2]="n"}else if(isStrong.test(type$1)){cur=type$1;if("r"==type$1){types[i$2]="R"}}}// W4. A single European separator between two European numbers
// changes to a European number. A single common separator between
// two numbers of the same type changes to that type.
for(var i$3=1,prev$1=types[0],type$2;i$3<len-1;++i$3){type$2=types[i$3];if("+"==type$2&&"1"==prev$1&&"1"==types[i$3+1]){types[i$3]="1"}else if(","==type$2&&prev$1==types[i$3+1]&&("1"==prev$1||"n"==prev$1)){types[i$3]=prev$1}prev$1=type$2}// W5. A sequence of European terminators adjacent to European
// numbers changes to all European numbers.
// W6. Otherwise, separators and terminators change to Other
// Neutral.
for(var i$4=0,type$3;i$4<len;++i$4){type$3=types[i$4];if(","==type$3){types[i$4]="N"}else if("%"==type$3){var end=void 0;for(end=i$4+1;end<len&&"%"==types[end];++end){}for(var replace=i$4&&"!"==types[i$4-1]||end<len&&"1"==types[end]?"1":"N",j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}// W7. Search backwards from each instance of a European number
// until the first strong type (R, L, or sor) is found. If an L is
// found, then change the type of the European number to L.
for(var i$5=0,cur$1=outerType,type$4;i$5<len;++i$5){type$4=types[i$5];if("L"==cur$1&&"1"==type$4){types[i$5]="L"}else if(isStrong.test(type$4)){cur$1=type$4}}// N1. A sequence of neutrals takes the direction of the
// surrounding strong text if the text on both sides has the same
// direction. European and Arabic numbers act as if they were R in
// terms of their influence on neutrals. Start-of-level-run (sor)
// and end-of-level-run (eor) are used at level run boundaries.
// N2. Any remaining neutrals take the embedding direction.
for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}for(var before="L"==(i$6?types[i$6-1]:outerType),after="L"==(end$1<len?types[end$1]:outerType),replace$1=before==after?before?"L":"R":outerType,j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}// Here we depart from the documented algorithm, in order to avoid
// building up an actual levels array. Since there are only three
// levels (0, 1, 2) in an implementation that doesn't take
// explicit embedding into account, we can build up the order on
// the fly, without following the level-based algorithm.
for(var order=[],m,i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&"L"!=types[i$7];++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if("ltr"==direction){if(1==order[0].level&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(1==lst(order).level&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return"rtl"==direction?order.reverse():order}}();// Get the bidi ordering for the given line (and cache it). Returns
// false for lines that are fully left-to-right, and an array of
// BidiSpan objects otherwise.
function getOrder(line,direction){var order=line.order;if(null==order){order=line.order=bidiOrdering(line.text,direction)}return order}// EVENT HANDLING
// Lightweight event framework. on/off also work on DOM nodes,
// registering native DOM handlers.
var noHandlers=[],on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,!1)}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,!1)}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);if(-1<index){map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}}function signal(emitter,type/*, values...*/){var handlers=getHandlers(emitter,type);if(!handlers.length){return}for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}// The DOM events that CodeMirror handles can be overridden by
// registering a (non-DOM) handler on the editor for the event name,
// and preventDefault-ing the event in that handler.
function signalDOMEvent(cm,e,override){if("string"==typeof e){e={type:e,preventDefault:function(){this.defaultPrevented=!0}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i){if(-1==indexOf(set,arr[i])){set.push(arr[i])}}}function hasHandler(emitter,type){return 0<getHandlers(emitter,type).length}// Add on and off methods to a constructor's prototype, to make
// registering events on such objects more convenient.
function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}// Due to the fact that we still support jurassic IE versions, some
// compatibility wrappers are needed.
function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=!1}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=!0}}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:!1==e.returnValue}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(null==b){if(1&e.button){b=1}else if(2&e.button){b=3}else if(4&e.button){b=2}}if(mac&&e.ctrlKey&&1==b){b=3}return b}// Detect drag-and-drop
var dragAndDrop=function(){// There is *some* kind of drag-and-drop support in IE6-8, but I
// couldn't get it to work yet.
if(ie&&9>ie_version){return!1}var div=elt("div");return"draggable"in div||"dragDrop"in div}(),zwspSupported;function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","\u200B");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(0!=measure.firstChild.offsetHeight){zwspSupported=1>=test.offsetWidth&&2<test.offsetHeight&&!(ie&&8>ie_version)}}var node=zwspSupported?elt("span","\u200B"):elt("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}// Feature-detect IE's crummy client rect reporting for bidi text
var badBidiRects;function hasBadBidiRects(measure){if(null!=badBidiRects){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062EA")),r0=range(txt,0,1).getBoundingClientRect(),r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return!1}// Safari returns null in some cases (#2780)
return badBidiRects=3>r1.right-r0.right}// See if "".split is the broken IE version, if so, provide an
// alternative way to split lines.
var splitLinesAuto=3!="\n\nb".split(/\n/).length?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(-1==nl){nl=string.length}var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");if(-1!=rt){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}if(!range$$1||range$$1.parentElement()!=te){return!1}return 0!=range$$1.compareEndPoints("StartToEnd",range$$1)},hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return!0}e.setAttribute("oncopy","return;");return"function"==typeof e.oncopy}(),badZoomedRects=null;function hasBadZoomedRects(measure){if(null!=badZoomedRects){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=1<Math.abs(normal.left-fromRange.left)}// Known modes, by name and by MIME
var modes={},mimeModes={};// Extra arguments are stored as the mode's dependencies, which is
// used by (legacy) mechanisms like loadmode.js to automatically
// load a mode. (Preferred mechanism is the require/define calls.)
function defineMode(name,mode){if(2<arguments.length){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}// Given a MIME type, a {name, ...options} config object, or a name
// string, return a mode config object.
function resolveMode(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if("string"==typeof found){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}if("string"==typeof spec){return{name:spec}}else{return spec||{name:"null"}}}// Given a mode spec (anything that resolveMode accepts), find and
// initialize an actual mode object.
function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}// This can be used to attach properties to mode objects from
// outside the actual mode definition.
var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(!0===state){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}// Given a mode and a state (for that mode), find the inner mode and
// state at the position that the state refers to.
function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):!0}// STRING STREAM
// Fed to the mode parsers, provides helper functions to make
// parsers more succinct.
var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};StringStream.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos),ok;if("string"==typeof match){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start};StringStream.prototype.eatSpace=function(){var this$1=this,start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(-1<found){this.pos=found;return!0}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if("string"==typeof pattern){var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(!1!==consume){this.pos+=pattern.length}return!0}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&0<match.index){return null}if(match&&!1!==consume){this.pos+=match[0].length}return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};// Find the line object corresponding to the given line number.
function getLine(doc,n){n-=doc.first;if(0>n||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}// Get the part of a document between two positions, as an array of
// strings.
function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}// Get the lines between from and to, as array of strings.
function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});// iter aborts when callback returns truthy value
return out}// Update the height of a line, propagating the height change
// upwards to parent nodes.
function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}// Given a line object, find its line number by walking up through
// its parent links.
function lineNo(line){if(null==line.parent){return null}for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}// Find the line at the given vertical position, using the height
// information in the document tree.
function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return options.lineNumberFormatter(i+options.firstLineNumber)+""}// A Pos instance represents a position within the text.
function Pos(line,ch,sticky){if(void 0===sticky)sticky=null;if(!(this instanceof Pos)){return new Pos(line,ch,sticky)}this.line=line;this.ch=ch;this.sticky=sticky}// Compare two positions, return 0 if they are the same, a negative
// number when a is less, and a positive number otherwise.
function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&0==cmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return 0>cmp(a,b)?b:a}function minPos(a,b){return 0>cmp(a,b)?a:b}// Most of the external API clips given positions to make sure they
// actually exist within the document.
function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(null==ch||ch>linelen){return Pos(pos.line,linelen)}else if(0>ch){return Pos(pos.line,0)}else{return pos}}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var SavedContext=function(state,lookAhead){this.state=state;this.lookAhead=lookAhead},Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(null!=line&&n>this.maxLookAhead){this.maxLookAhead=n}return line};Context.prototype.baseToken=function(n){var this$1=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=n){this$1.baseTokenPos+=2}var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(0<this.maxLookAhead){this.maxLookAhead--}};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext){return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead)}else{return new Context(doc,copyState(doc.mode,saved),line)}};Context.prototype.save=function(copy){var state=!1!==copy?copyState(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new SavedContext(state,this.maxLookAhead):state};// Compute a style array (an array starting with a mode generation
// -- for invalidation -- followed by pairs of end positions and
// style strings), which is used to highlight the tokens on the
// line.
function highlightLine(cm,line,context,forceToEnd){// A styles array always starts with a number identifying the
// mode/overlays that it is based on (for easy invalidation).
var st=[cm.state.modeGen],lineClasses={};// Compute the base array of styles
runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);for(var state=context.state,loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=!0;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;// Ensure there's a token end at the current position, and that i points at it
while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=Math.min(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1},o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line)),resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state),result=highlightLine(cm,line,context);if(resetState){context.state=resetState}line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else if(line.styleClasses){line.styleClasses=null}if(updateFrontier===cm.doc.highlightFrontier){cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return new Context(doc,!0,n)}var start=findStartLine(cm,n,precise),saved=start>doc.first&&getLine(doc,start-1).stateAfter,context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||0==pos%5||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise){doc.modeFrontier=context.line}return context}// Lightweight form of highlight -- proceed over this line and
// update state, but don't save a style array. Used for lines that
// aren't currently visible.
function processLine(cm,text,context,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(""==text){callBlankLine(mode,context.state)}while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;10>i;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};// Utility for getTokenAt and getLineTokens
function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray){tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(null==output[prop]){output[prop]=lineClass[2]}else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])){output[prop]+=" "+lineClass[2]}}}return type}// Run the given mode's parser over a line, calling f for each token.
function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(null==flattenSpans){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize,context),style,inner=cm.options.addModeClass&&[null];if(""==text){extractLineClasses(callBlankLine(mode,context.state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=!1;if(forceToEnd){processLine(cm,text,context,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5e3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){// Webkit seems to refuse to render text nodes longer than 57444
// characters, and returns inaccurate measurements in nodes
// starting around 5000 chars.
var pos=Math.min(stream.pos,curStart+5e3);f(pos,curStyle);curStart=pos}}// Finds the line to start with when starting a parse. Tries to
// find a line with a stateAfter, so that it can start with a
// valid state. If that fails, it returns the line with the
// smallest indentation, which tends to need the least context to
// parse correctly.
function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(null==minline||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10){return}for(var start=doc.first,line=n-1,saved;line>start;line--){saved=getLine(doc,line).stateAfter;// change is on 3
// state on line 1 looked ahead 2 -- so saw 3
// test 1 + 2 < 3 should cover this
if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}// Optimize some code when these features are not used.
var sawReadOnlySpans=!1,sawCollapsedSpans=!1;function seeReadOnlySpans(){sawReadOnlySpans=!0}function seeCollapsedSpans(){sawCollapsedSpans=!0}// TEXTMARKER SPANS
function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}// Search an array of spans for a span matching the given marker.
function getMarkedSpanFor(spans,marker){if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(span.marker==marker){return span}}}}// Remove a span from an array, returning undefined if no spans are
// left (we don't store arrays for lines without spans).
function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}// Add a span to a line.
function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}// Used for the algorithm that adjusts markers for a change in the
// document. These functions cut an array of spans at a given
// character position, returning an array of remaining chunks (or
// undefined if nothing remains).
function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}}return nw}// Given a change object, compute the new set of marker spans that
// cover the line in which the change took place. Removes spans
// entirely within the change, reconnects spans belonging to the
// same marker that appear on both sides of the change, and cuts off
// spans partially within the change. Returns an array of span
// arrays with one element for each line in (after) the change.
function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);// Get the spans that 'stick out' on both sides
if(first){// Fix up .to properties of first
for(var i=0,span;i<first.length;++i){span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else if(sameLine){span.to=null==found.to?null:found.to+offset}}}}if(last){// Fix up .from in last (or move them into first in case of sameLine)
for(var i$1=0,span$1;i$1<last.length;++i$1){span$1=last[i$1];if(null!=span$1.to){span$1.to+=offset}if(null==span$1.from){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}// Make sure we didn't create any zero-length spans
if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){// Fill gap with whole-line-spans
var gap=change.text.length-2,gapMarkers;if(0<gap&&first){for(var i$2=0;i$2<first.length;++i$2){if(null==first[i$2].to){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}// Remove spans that are empty and don't have a clearWhenEmpty
// option of false.
function clearEmptySpans(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty){spans.splice(i--,1)}}if(!spans.length){return null}return spans}// Used to 'clip' out readOnly ranges when making a change.
function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0,mark;i<line.markedSpans.length;++i){mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||-1==indexOf(markers,mark))){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i){for(var mk=markers[i],m=mk.find(0),j=0,p;j<parts.length;++j){p=parts[j];if(0>cmp(p.to,m.from)||0<cmp(p.from,m.to)){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(0>dfrom||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(0<dto||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-3}}return parts}// Connect or disconnect spans from a line.
function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}// Helpers used when computing which overlapping collapsed span
// counts as the larger one.
function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}// Returns a number indicating which of two overlapping collapsed
// spans is larger (and thus includes the other). Falls back to
// comparing ids when the spans cover exactly the same range.
function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff){return lenDiff}var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}// Find out whether a line ends or starts in a collapsed span. If
// so, return the marker for that span.
function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(null==sp.from||sp.from<ch)&&(null==sp.to||sp.to>ch)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}// Test whether there exists a collapsed span that partially
// overlaps (covers the start or end, but not both) of a new span.
// Such overlap is not allowed.
function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1),sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(0<=fromCmp&&0>=toCmp||0>=fromCmp&&0<=toCmp){continue}if(0>=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0<=cmp(found.to,from):0<cmp(found.to,from))||0<=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0>=cmp(found.from,to):0>cmp(found.from,to))){return!0}}}}// A visual line is a line as drawn on the screen. Folding, for
// example, can cause multiple logical lines to appear on the same
// visual line. This finds the start of the visual line that the
// given line is part of (usually that is the line itself).
function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,!0).line}return line}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return line}// Returns an array of logical lines that continue the visual line
// started by the argument, or undefined if there are no such lines.
function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line;(lines||(lines=[])).push(line)}return lines}// Get the line number of the start of the visual line that the
// given line number is part of.
function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}// Get the line number of the start of the next visual line after
// the given line.
function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return lineNo(line)+1}// Compute whether a line is hidden. Lines count as hidden when they
// are part of a visual line that starts with another line, or when
// they are entirely covered by collapsed, non-widget span.
function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(null==sp.from){return!0}if(sp.marker.widgetNode){continue}if(0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return!0}}}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return!0}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return!0}}}// Find the height above the given line.
function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0,line;i<chunk.lines.length;++i){line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0,cur;i$1<p.children.length;++i$1){cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}// Compute the character length of a line, taking into account
// collapsed ranges (see markText) that might hide parts, and join
// other lines onto it.
function lineLength(line){if(0==line.height){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,!0);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,!0);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}// Find the longest line in the document.
function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=!0;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}// LINE DATA STRUCTURE
// Line objects. These hold state related to a line, including
// highlighting info (the styles array).
var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)};eventMixin(Line);// Change the content (text, markers) of a line. Automatically
// invalidates cached information and tries to re-estimate the
// line's height.
function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(null!=line.order){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}// Detach a line from the document tree and its markers.
function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}// Convert a style as returned by a mode (either null, or a string
// containing one or more styles) to a CSS style. This is cached,
// and also looks for line-wide styles.
var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}// Render the DOM representation of the text of a line. Also builds
// up a 'line map', which points at the DOM nodes that represent
// specific stretches of text, and is used by the measuring code.
// The returned object contains the DOM node, this map, and
// information about line-wide styles that were set by the mode.
function buildLineContent(cm,lineView){// The padding-right forces the element to have a 'border', which
// is needed on Webkit to be able to get line-level bounding
// rectangles for it (in measureChar).
var content=eltP("span",null,null,webkit?"padding-right: .1px":null),builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:!1,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};// Iterate over the logical lines that make up this visual line.
for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;// Optionally wire in some hacks into the token-rendering
// algorithm, to deal with browser quirks.
if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}// Ensure at least a single node is present, for measuring.
if(0==builder.map.length){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}// Store the map and a cache object for the current logical line
if(0==i){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}// See issue #2901
if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}// Build up the DOM representation for a single token, and add it to
// the line map. Takes care to render special characters separately.
function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text,special=builder.cm.state.specialChars,mustWrap=!1,content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&9>ie_version){mustWrap=!0}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(!0){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&9>ie_version){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=void 0;if("\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if("\r"==m[0]||"\n"==m[0]){txt$1=content.appendChild(elt("span","\r"==m[0]?"\u240D":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&9>ie_version){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=32==displayText.charCodeAt(text.length-1);if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(attributes){for(var attr in attributes){if(attributes.hasOwnProperty(attr)&&"style"!=attr&&"class"!=attr){token.setAttribute(attr,attributes[attr])}}}return builder.content.appendChild(token)}builder.content.appendChild(content)}// Change some spaces to NBSP to prevent the browser from collapsing
// trailing spaces at the end of a line when rendering text (issue #1362).
function splitSpaces(text,trailingBefore){if(1<text.length&&!/  /.test(text)){return text}for(var spaceBefore=trailingBefore,result="",i=0,ch;i<text.length;i++){ch=text.charAt(i);if(" "==ch&&spaceBefore&&(i==text.length-1||32==text.charCodeAt(i+1))){ch="\xA0"}result+=ch;spaceBefore=" "==ch}return result}// Work around nonsense dimensions being reported for stretches of
// right-to-left text.
function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){// Find the part that overlaps with the start of this text
for(var part=void 0,i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,css,attributes)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=!1}// Outputs a number of spans to make up a line, taking highlighting
// and marked text into account.
function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css,nextChange=0,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes;for(;;){if(nextChange==pos){// Update current marker set
spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=1/0;for(var foundBookmarks=[],endStyles=void 0,j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if("bookmark"==m.type&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else if(sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(null!=sp.to&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}// support for the old title property
// https://github.com/codemirror/CodeMirror/pull/5673
if(m.title){(attributes||(attributes={})).title=m.title}if(m.attributes){for(var attr in m.attributes){(attributes||(attributes={}))[attr]=m.attributes[attr]}}if(m.collapsed&&(!collapsed||0>compareCollapsedMarkers(collapsed.marker,m))){collapsed=sp}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from);if(null==collapsed.to){return}if(collapsed.to==pos){collapsed=!1}}}if(pos>=len){break}var upto=Math.min(len,nextChange);while(!0){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}// These objects are used to represent the visible (currently drawn)
// part of the document. A LineView may correspond to multiple
// logical lines, if those are connected by collapsed ranges.
function LineView(doc,line,lineN){// The starting line
this.line=line;// Continuing lines, if any
this.rest=visualLineContinued(line);// Number of logical lines in this visual line
this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}// Create a range of LineView objects for the given lines.
function buildViewArray(cm,from,to){for(var array=[],nextPos,pos=from,view;pos<to;pos=nextPos){view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){// Calls delayed callbacks and cursorActivity handlers until no
// new ones appear
var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0,op;j<group.ops.length;j++){op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;// Often, we want to signal events at a point where we are in the
// middle of some work, but don't want the handler to start calling
// other methods on the editor, which might be in an inconsistent
// state or simply not expect any other events to happen.
// signalLater looks whether there are any handlers, and schedules
// them to be executed when the last operation ends, or, if no
// operation is active, when a timeout fires.
function signalLater(emitter,type/*, values...*/){var arr=getHandlers(emitter,type);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}for(var loop=function(i){list.push(function(){return arr[i].apply(null,args)})},i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}// When an aspect of a line changes, a string is added to
// lineView.changes. This updates the relevant part of the line's
// DOM structure.
function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0,type;j<lineView.changes.length;j++){type=lineView.changes[j];if("text"==type){updateLineText(cm,lineView)}else if("gutter"==type){updateLineGutter(cm,lineView,lineN,dims)}else if("class"==type){updateLineClasses(cm,lineView)}else if("widget"==type){updateLineWidgets(cm,lineView,dims)}}lineView.changes=null}// Lines with gutter elements, widgets or a background class need to
// be wrapped, and have the extra elements added to the wrapper div
function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&8>ie_version){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}// Wrapper around buildLineContent which will reuse the structure
// in display.externalMeasured when possible.
function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}// Redraw the line's text. Interacts with the background and text
// classes because the mode may output tokens that influence these
// classes.
function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else if(lineView.node!=lineView.text){lineView.node.className=""}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))}if(markers){for(var k=0;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className,found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if("CodeMirror-linewidget"==node.className){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}// Build a line's DOM representation from scratch
function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}// A lineView may contain multiple logical lines (when merged by
// collapsed spans). The widgets for all of them need to be drawn.
function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(null!=widget.height){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}// Return true when the given mouse event happened in a widget
function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover){return!0}}}// POSITION MEASUREMENT
function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}// Ensure the lineView.wrapping.heights array is populated. This is
// an array of bottom offsets for the lines that make up a drawn
// line. When lineWrapping is on, there might be more than one
// height.
function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(2<Math.abs(cur.bottom-next.bottom)){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}// Find a line map (mapping character offsets to text nodes) and a
// measurement cache for the given line number. (A line view might
// contain multiple lines when collapsed ranges are present.)
function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:!0}}}}// Render a line into the hidden node display.externalMeasured. Used
// when measurement is needed for a line that's not in the viewport.
function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}// Get a {top, bottom, left, right} box (in line-local coordinates)
// for a given character.
function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}// Find a line view that corresponds to the given line number.
function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}// Measurement can be split in two steps, the set-up work that
// applies to the whole line, and the measurement of the actual
// character. Functions like coordsChar, that need to do a lot of
// measurements in a row, can thus ensure that the set-up work is
// only done once.
function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=!0}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}// Given a prepared measurement object, measures the position of an
// actual character (or fetches it from the cache).
function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=!0}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){// First, search the line map for the text node corresponding to,
// or closest to, the target character.
for(var node,start,end,collapse,mStart,mEnd,i=0;i<map$$1.length;i+=3){mStart=map$$1[i];mEnd=map$$1[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}if(null!=start){node=map$$1[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if("left"==bias&&0==start){while(i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft){node=map$$1[(i-=3)+2];collapse="left"}}if("right"==bias&&start==mEnd-mStart){while(i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft){node=map$$1[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if("left"==bias){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;0<=i$1;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse,rect;if(3==node.nodeType){// If it is a text node, use a range to retrieve the coordinates.
for(var i$1=0;4>i$1;i$1++){// Retry a maximum of 4 times when nonsense rectangles are returned
while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&9>ie_version&&0==start&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||0==start){break}end=start;start=start-1;collapse="right"}if(ie&&11>ie_version){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{// If it is a widget, simply get the box for the whole widget.
if(0<start){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&1<(rects=node.getClientRects()).length){rect=rects["right"==bias?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&9>ie_version&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=!0}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}// Work around problem with bounding client rects on ranges being
// returned incorrectly when zoomed on IE10 and below.
function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=!0}cm.display.lineNumChars=null}function pageScrollX(){// Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206
// which causes page_Offset and bounding client rects to use
// different reference viewports and invalidate our calculations.
if(chrome&&android){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){height+=widgetHeight(lineObj.widgets[i])}}}return height}// Converts a {top, bottom, left, right} box from line-local
// coordinates into another coordinate system. Context may be one of
// "line", "div" (display.lineDiv), "local"./null (editor), "window",
// or "page".
function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if("line"==context){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if("local"==context){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if("page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}// Coverts a box from "div" coords to another coordinate system.
// Context may be "window", "page", "div", or "local"./null.
function fromCoordSystem(cm,coords,context){if("div"==context){return coords}var left=coords.left,top=coords.top;// First move into "page" coordinate system
if("page"==context){left-=pageScrollX();top-=pageScrollY()}else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}// Returns a box for a given cursor position, which may have an
// 'other' property containing the position of the secondary cursor
// on a bidi boundary.
// A cursor Pos(line, char, "before") is on the same visual line as `char - 1`
// and after `char - 1` in writing order of `char - 1`
// A cursor Pos(line, char, "after") is on the same visual line as `char`
// and before `char` in writing order of `char`
// Examples (upper-case letters are RTL, lower-case are LTR):
//     Pos(0, 1, ...)
//     before   after
// ab     a|b     a|b
// aB     a|B     aB|
// Ab     |Ab     A|b
// AB     B|A     B|A
// Every position after the last character on a line is considered to stick
// to the last character on the line.
function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(0>=ch){ch=0;sticky="after"}if(!order){return get("before"==sticky?ch-1:ch,"before"==sticky)}function getBidi(ch,partPos,invert){var part=order[partPos],right=1==part.level;return get(invert?ch-1:ch,right!=invert)}var partPos=getBidiPartAt(order,ch,sticky),other=bidiOther,val=getBidi(ch,partPos,"before"==sticky);if(null!=other){val.other=getBidi(ch,other,"before"!=sticky)}return val}// Used to cheaply estimate the coordinates for a position. Used for
// intermediate scroll updates.
function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}// Positions returned by coordsChar contain some extra information.
// xRel is the relative x position of the input coordinates compared
// to the found position (so xRel > 0 means the coordinates are to
// the right of the character position, for example). When outside
// is true, that means the coordinates lie outside the line's
// vertical range.
function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside){pos.outside=!0}return pos}// Compute the character position closest to the given coordinates.
// Input must be lineSpace-local ("div" coordinate system).
function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(0>y){return PosWithInfo(doc.first,0,null,!0,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,!0,1)}if(0>x){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y),collapsed=collapsedSpanAround(lineObj,found.ch+(0<found.xRel?1:0));if(!collapsed){return found}var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN){return rangeEnd}lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length,begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}// Returns true if the given side of a box is after the given
// coordinates, in top-to-bottom, left-to-right order.
function boxIsAfter(box,x,y,left){return box.bottom<=y?!1:box.top>y?!0:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){// Move y into line-local coordinate space
y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj),widgetHeight$$1=widgetTopHeight(lineObj),begin=0,end=lineObj.text.length,ltr=!0,order=getOrder(lineObj,cm.doc.direction);// When directly calling `measureCharPrepared`, we have to adjust
// for the widgets at this line.
// If the line isn't plain left-to-right text, first figure out
// which bidi section the coordinates fall into.
if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);ltr=1!=part.level;// The awkward -1 offsets are needed because findFirst (called
// on these below) will treat its first bound as inclusive,
// second as exclusive, but we want to actually address the
// characters in the part's range
begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}// A binary search to find the first character whose bounding box
// starts after the coordinates. If we run across any whose box wrap
// the coordinates, store that.
var chAround=null,boxAround=null,ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight$$1;box.bottom+=widgetHeight$$1;if(!boxIsAfter(box,x,y,!1)){return!1}if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return!0},begin,end),baseX,sticky,outside=!1;// If a box around the coordinates was found, use that
if(boxAround){// Distinguish coordinates nearer to the left or right side of the box
var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{// (Adjust for extended bound, if necessary.)
if(!ltr&&(ch==end||ch==begin)){ch++}// To determine which side to associate with, get the box to the
// left of the character and compare it's vertical position to the
// coordinates
sticky=0==ch?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y==ltr?"after":"before";// Now get accurate coordinates for this place, in order to get a
// base X position
var coords=cursorCoords(cm,Pos(lineNo$$1,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top||y>=coords.bottom}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo$$1,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){// Bidi parts are sorted left-to-right, and in a non-line-wrapping
// situation, we can take this ordering to correspond to the visual
// ordering. This finds the first part whose end is after the given
// coordinates.
var index=findFirst(function(i){var part=order[i],ltr=1!=part.level;return boxIsAfter(cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,!0)},0,order.length-1),part=order[index];// If this isn't the first part, the part's start is also after
// the coordinates, and the coordinates aren't on the same line as
// that start, move one part back.
if(0<index){var ltr=1!=part.level,start=cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,!0)&&start.top>y){part=order[index-1]}}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){// In a wrapped line, rtl text on wrapping boundaries can do things
// that don't correspond to the ordering in our `order` array at
// all, so a binary search doesn't work, and we want to return a
// part that only spans one line so that the binary search in
// coordsCharInner is safe. As such, we first find the extent of the
// wrapped line, and then do a flat search in which we discard any
// spans that aren't on the line.
var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y),begin=ref.begin,end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1))){end--}for(var part=null,closestDist=null,i=0,p;i<order.length;i++){p=order[i];if(p.from>=end||p.to<=begin){continue}var ltr=1!=p.level,endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right,dist=endX<x?x-endX+1e9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part){part=order[order.length-1]}// Clip the part to the wrapped line.
if(part.from<begin){part={from:begin,to:part.to,level:part.level}}if(part.to>end){part={from:part.from,to:end,level:part.level}}return part}var measureText;// Compute the default text height.
function textHeight(display){if(null!=display.cachedTextHeight){return display.cachedTextHeight}if(null==measureText){measureText=elt("pre");// Measure a bunch of lines, for browsers that compute
// fractional heights.
for(var i=0;49>i;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(3<height){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}// Compute the default character width.
function charWidth(display){if(null!=display.cachedCharWidth){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(2<width){display.cachedCharWidth=width}return width||10}// Do a bulk-read of the DOM positions and sizes needed to draw the
// view, so that we don't interleave reading and writing to the DOM.
function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0,id;n;n=n.nextSibling,++i){id=cm.display.gutterSpecs[i].className;left[id]=n.offsetLeft+n.clientLeft+gutterLeft;width[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
// but using getBoundingClientRect to get a sub-pixel-accurate
// result.
function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}// Returns a function that estimates the height of a line, to use as
// first approximation until the line becomes visible (and is thus
// properly measurable).
function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}// Given a mouse event, find the corresponding position. If liberal
// is false, it checks whether a gutter or scrollbar was clicked,
// and returns null if it was. forRect is used by rectangular
// selections, and tries to estimate a character position even for
// coordinates beyond the right of the text.
function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content")){return null}var x,y,space=display.lineSpace.getBoundingClientRect();// Fails unpredictably on IE[67] when mouse is dragged around quickly.
try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}// Find the view element corresponding to a given line. Return null
// when the line isn't visible.
function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(0>n){return null}for(var view=cm.display.view,i=0;i<view.length;i++){n-=view[i].size;if(0>n){return i}}}// Updates the display.view data structure for a given change to the
// document. From and to are in pre-change coordinates. Lendiff is
// the amount of lines added or subtracted by the change. This is
// used for changes that span multiple lines, or change the way
// lines are divided into visual lines. regLineChange (below)
// registers single-line changes.
function regChange(cm,from,to,lendiff){if(null==from){from=cm.doc.first}if(null==to){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=!0;if(from>=display.viewTo){// Change after
if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else if(to<=display.viewFrom){// Change before
if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){// Full overlap
resetView(cm)}else if(from<=display.viewFrom){// Top overlap
var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){// Bottom overlap
var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{// Gap in the middle
var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else if(from<ext.lineN+ext.size){display.externalMeasured=null}}}// Register a change to a single line. Type must be one of "text",
// "gutter", "class", "widget"
function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(null==lineView.node){return}var arr=lineView.changes||(lineView.changes=[]);if(-1==indexOf(arr,type)){arr.push(type)}}// Clear the view.
function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}for(var n=cm.display.viewFrom,i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(0<dir){if(index==view.length-1){return null}diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(0>dir?0:view.length-1)){return null}newN+=dir*view[index-(0>dir?1:0)].size;index+=dir}return{index:index,lineN:newN}}// Force the view to cover a given range, adding empty view element
// or clipping off existing ones as needed.
function adjustView(cm,from,to){var display=cm.display,view=display.view;if(0==view.length||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}display.viewTo=to}// Count the number of lines in the view whose DOM representation is
// out of date (or nonexistent).
function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0,lineView;i<view.length;i++){lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(void 0===primary)primary=!0;for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex){continue}var range$$1=doc.sel.ranges[i];if(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom){continue}var collapsed=range$$1.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range$$1.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range$$1,selFragment)}}return result}// Draws a cursor for the given range
function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){// Secondary cursor, shown when on a 'jump' in bi-directional text
var otherCursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}// Draws the given range as a highlighted selection
function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,docLTR="ltr"==doc.direction;function add(left,top,width,bottom){if(0>top){top=0}top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line),lineLen=lineObj.text.length,start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos),prop="ltr"==dir==("after"==side)?"left":"right",ch="after"==side?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir,i){var ltr="ltr"==dir,fromPos=coords(from,ltr?"left":"right"),toPos=coords(to-1,ltr?"right":"left"),openStart=null==fromArg&&0==from,openEnd=null==toArg&&to==lineLen,first=0==i,last=!order||i==order.length-1;if(3>=toPos.top-fromPos.top){// Single line
var openLeft=(docLTR?openStart:openEnd)&&first,openRight=(docLTR?openEnd:openStart)&&last,left=openLeft?leftSide:(ltr?fromPos:toPos).left,right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{// Multiple lines
var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top){add(leftSide,fromPos.bottom,null,toPos.top)}add(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}if(!start||0>cmpCoords(fromPos,start)){start=fromPos}if(0>cmpCoords(toPos,start)){start=toPos}if(!end||0>cmpCoords(fromPos,end)){end=fromPos}if(0>cmpCoords(toPos,end)){end=toPos}});return{start:start,end:end}}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}// Cursor-blinking
function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="";if(0<cm.options.cursorBlinkRate){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else if(0>cm.options.cursorBlinkRate){display.cursorDiv.style.visibility="hidden"}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1}if("nocursor"==cm.options.readOnly){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=!0;addClass(cm.display.wrapper,"CodeMirror-focused");// This test prevents this from firing when a context
// menu is closed (since the input reset would kill the
// select-all detection hack)
if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(!0)},20)}// Issue #1730
}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=!1;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=!1}},150)}// Read the actual heights of the rendered lines, and update their
// stored heights to match.
function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping,height=void 0,width=0;if(cur.hidden){continue}if(ie&&8>ie_version){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;// Check that lines don't extend past the right of the current
// editor width
if(!wrapping&&cur.text.firstChild){width=cur.text.firstChild.getBoundingClientRect().right-box.left-1}}var diff=cur.line.height-height;if(.005<diff||-.005>diff){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=!0}}}}// Read and store the height of line widgets associated with the
// given line.
function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent){w.height=parent.offsetHeight}}}}// Compute the lines that are visible in a given viewport (defaults
// the the current scroll position). viewport may contain top,
// height, and ensure (see op.scrollToPos) properties.
function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);// Ensure is a {from: {line, ch}, to: {line, ch}} object, and
// forces those lines into the viewport (if possible).
if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}// SCROLLING THINGS INTO VIEW
// If an editor sits on the top or bottom of the window, partially
// scrolled out of view, this ensures that the cursor is visible.
function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(0>rect.top+box.top){doScroll=!0}else if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=!1}if(null!=doScroll&&!phantom){var scrollNode=elt("div","\u200B",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}// Scroll a given position into view (immediately), verifying that
// it actually became visible (as line heights are accurately
// measured, the position of something may 'drift' during drawing).
function scrollPosIntoView(cm,pos,end,margin){if(null==margin){margin=0}var rect;if(!cm.options.lineWrapping&&pos==end){// Set pos and end to the cursor positions around the character pos sticks to
// If pos.sticky == "before", that is around pos.ch - 1, otherwise around pos.ch
// If pos == Pos(_, 0, "before"), pos and end are unchanged
pos=pos.ch?Pos(pos.line,"before"==pos.sticky?pos.ch-1:pos.ch,"after"):pos;end="before"==pos.sticky?Pos(pos.line,pos.ch+1,"before"):pos}for(var limit=0;5>limit;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:Math.min(coords.left,endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop);if(1<Math.abs(cm.doc.scrollTop-startTop)){changed=!0}}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft);if(1<Math.abs(cm.doc.scrollLeft-startLeft)){changed=!0}}if(!changed){break}}return rect}// Scroll a given set of coordinates into view (immediately).
function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop)}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft)}}// Calculate a new scroll position needed to scroll the given
// rectangle into view. Returns an object with scrollTop and
// scrollLeft properties. When these are undefined, the
// vertical/horizontal position does not need to be adjusted.
function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(0>rect.top){rect.top=0}var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen){rect.bottom=rect.top+screen}var docBottom=cm.doc.height+paddingVert(display),atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop){result.scrollTop=atTop?0:rect.top}else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop){result.scrollTop=newTop}}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=rect.right-rect.left>screenw;if(tooWide){rect.right=rect.left+screenw}if(10>rect.left){result.scrollLeft=0}else if(rect.left<screenleft){result.scrollLeft=Math.max(0,rect.left-(tooWide?0:10))}else if(rect.right>screenw+screenleft-3){result.scrollLeft=rect.right+(tooWide?0:10)-screenw}return result}// Store a relative adjustment to the scroll position in the current
// operation (to be applied when the operation finishes).
function addToScrollTop(cm,top){if(null==top){return}resolveScrollToPos(cm);cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top}// Make sure that at the end of the operation the current cursor is
// shown.
function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(null!=x||null!=y){resolveScrollToPos(cm)}if(null!=x){cm.curOp.scrollLeft=x}if(null!=y){cm.curOp.scrollTop=y}}function scrollToRange(cm,range$$1){resolveScrollToPos(cm);cm.curOp.scrollToPos=range$$1}// When an operation has its scrollToPos property set, and another
// scroll action is applied before the end of the operation, this
// 'simulates' scrolling that position into view in a cheap way, so
// that the effect of intermediate scroll commands is not ignored.
function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}// Sync the scrollable area and scrollbars, ensure the viewport
// covers the visible area.
function updateScrollTop(cm,val){if(2>Math.abs(cm.doc.scrollTop-val)){return}if(!gecko){updateDisplaySimple(cm,{top:val})}setScrollTop(cm,val,!0);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val);if(cm.display.scroller.scrollTop==val&&!forceScroll){return}cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}}// Sync scroller and scrollbar, ensure the gutter elements are
// aligned.
function setScrollLeft(cm,val,isScroller,forceScroll){val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);if((isScroller?val==cm.doc.scrollLeft:2>Math.abs(cm.doc.scrollLeft-val))&&!forceScroll){return}cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}// SCROLLBARS
// Prepare DOM reads needed to update the scrollbars. Done in one
// shot to minimize update/measure roundtrips.
function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=!1;// Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
if(ie&&8>ie_version){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);// A bug in IE8 can cause this value to be negative, so guard it.
this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&0<measure.clientHeight){if(0==sWidth){this.zeroWidthHack()}this.checkedZeroWidth=!0}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents="auto";function maybeDisable(){// To find out whether the scrollbar is still visible, we
// check whether the element under the pixel in the bottom
// right corner of the scrollbar box is the scrollbar box
// itself (when the bar is still visible) or its filler child
// (when the bar is hidden). If it is still visible, we keep
// it enabled, if it's hidden, we disable pointer events.
var box=bar.getBoundingClientRect(),elt$$1="vert"==type?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt$$1!=bar){bar.style.pointerEvents="none"}else{delay.set(1e3,maybeDisable)}}delay.set(1e3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;4>i&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}// Re-synchronize the fake scrollbars with the actual size of the
// content.
function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);// Prevent clicks in the scrollbars from killing focus
on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if("horizontal"==axis){setScrollLeft(cm,pos)}else{updateScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}// Operations are used to wrap a series of changes to the editor
// state in such a way that each change won't have to update the
// cursor and display (which would be awkward, slow, and
// error-prone). Instead, display updates are batched and then all
// combined and executed at once.
var nextOpId=0;// Start a new operation.
function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,// Flag that indicates that lines might need to be redrawn
startHeight:cm.doc.height,// Used to detect need to update scrollbar
forceUpdate:!1,// Used to force a redraw
updateInput:0,// Whether to reset the input textarea
typing:!1,// Whether this reset should be careful to leave existing text (for compositing)
changeObjs:null,// Accumulated changes, for firing change events
cursorActivityHandlers:null,// Set of handlers to fire cursorActivity on
cursorActivityCalled:0,// Tracks which cursorActivity handlers have been called already
selectionChanged:!1,// Whether the selection needs to be redrawn
updateMaxLine:!1,// Set when the widest line needs to be determined anew
scrollLeft:null,scrollTop:null,// Intermediate scroll position, not pushed to DOM yet
scrollToPos:null,// Used to scroll to a specific position
focus:!1,id:++nextOpId// Unique ID
};pushOperation(cm.curOp)}// Finish an operation, updating the display and signalling delayed events
function endOperation(cm){var op=cm.curOp;if(op){finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}}// The DOM updates done when an operation finishes are batched so
// that the minimum number of relayouts are required.
function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++)// Read DOM
{endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++)// Write DOM (maybe)
{endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++)// Read DOM
{endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++)// Write DOM (maybe)
{endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++)// Read DOM
{endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);// If the max line changed since it was last measured, measure it,
// and ensure the document's width matches it.
// updateDisplay_W2 will use these properties to do the actual resizing
if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection()}}function endOperation_W2(op){var cm=op.cm;if(null!=op.adjustWidthTo){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0)}cm.display.maxLineChanged=!1}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}// Abort mouse wheel delta measurement, when scrolling explicitly
if(null!=display.wheelStartX&&(null!=op.scrollTop||null!=op.scrollLeft||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}// Propagate the scroll position to the actual DOM scroller
if(null!=op.scrollTop){setScrollTop(cm,op.scrollTop,op.forceScroll)}if(null!=op.scrollLeft){setScrollLeft(cm,op.scrollLeft,!0,!0)}// If we need to scroll a specific position into view, do so.
if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}// Fire events for markers that are hidden/unidden by editing or
// undoing
var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}// Fire change events, and delayed event handlers
if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}// Run the given function in an operation
function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}// Wraps a function in an operation. Returns the wrapped function.
function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}// Used to add methods to editor and doc instances, wrapping them in
// operations.
function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}// HIGHLIGHT WORKER
function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime,context=getContextBefore(cm,doc.highlightFrontier),changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){// Visible
var oldStyles=line.styles,resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted=highlightLine(cm,line,context,!0);if(resetState){context.state=resetState}line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else if(oldCls){line.styleClasses=null}for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(context.line)}line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,context)}line.stateAfter=0==context.line%5?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return!0}});doc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text")}})}}// DISPLAY DRAWING
var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;// Store some values that we'll need later (but don't want to force a relayout for)
this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){for(var this$1=this,i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=!0}}function selectionSnapshot(cm){if(cm.hasFocus()){return null}var active=activeElt();if(!active||!contains(cm.display.lineDiv,active)){return null}var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt()){return}snapshot.activeElt.focus();if(snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range$$1.collapse(!1);sel.removeAllRanges();sel.addRange(range$$1);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}// Does the actual updating of the line display. Bails out
// (returning false) when there is nothing to be done and forced is
// false.
function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return!1}// Bail out if the visible area is already rendered and nothing changed.
if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm)){return!1}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}// Compute a suitable new viewport (from & to)
var end=doc.first+doc.size,from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first),to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&20>from-display.viewFrom){from=Math.max(doc.first,display.viewFrom)}if(display.viewTo>to&&20>display.viewTo-to){to=Math.min(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));// Position the mover div to align with the current scroll position
cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)){return!1}// For big changes, we hide the enclosing element during the
// update, since that speeds up the operations on most browsers.
var selSnapshot=selectionSnapshot(cm);if(4<toUpdate){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(4<toUpdate){display.lineDiv.style.display=""}display.renderedView=display.view;// There might have been a widget with a focused element that got
// hidden or updated, if so re-focus it.
restoreSelection(selSnapshot);// Prevent selection and cursors from interfering with the scroll
// width and height.
removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;;first=!1){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){// Clip forced viewport to actual scrollable area.
if(viewport&&null!=viewport.top){viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}}// Updated line heights might result in the drawn area not
// actually covering the viewport. Keep looping until it does.
update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=!1}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}// Sync the actual display DOM structure with display.view, removing
// nodes for lines that are no longer in view, and creating the ones
// that are not there yet, and updating the ones that are out of
// date.
function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;// Works around a throw-scroll bug in OS X Webkit
if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}// Loop over the elements in the view, syncing cur (the DOM nodes
// in display.lineDiv) with the view as we go.
for(var view=display.view,lineN=display.viewFrom,i=0,lineView;i<view.length;i++){lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){// Not drawn yet
var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{// Already drawn
while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(-1<indexOf(lineView.changes,"gutter")){updateNumber=!1}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}// Re-align line numbers and gutter marks to compensate for
// horizontal scrolling.
function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px"}}// Used to ensure that the line number gutter is still the right
// size for the current document size. Returns true when an update
// is needed.
function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return!1}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return!0}return!1}function getGutters(gutters,lineNumbers){for(var result=[],sawLineNumbers=!1,i=0;i<gutters.length;i++){var name=gutters[i],style=null;if("string"!=typeof name){style=name.style;name=name.className}if("CodeMirror-linenumbers"==name){if(!lineNumbers){continue}else{sawLineNumbers=!0}}result.push({className:name,style:style})}if(lineNumbers&&!sawLineNumbers){result.push({className:"CodeMirror-linenumbers",style:null})}return result}// Rebuild the gutter elements, ensure the margin to the left of the
// code matches their width.
function renderGutters(display){var gutters=display.gutters,specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;for(var i=0;i<specs.length;++i){var ref=specs[i],className=ref.className,style=ref.style,gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style){gElt.style.cssText=style}if("CodeMirror-linenumbers"==className){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px"}}gutters.style.display=specs.length?"":"none";updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm)}// The display handles the DOM integration, both for input reading
// and content drawing. It holds references to DOM nodes and
// display-related state.
function Display(place,doc,input,options){var d=this;this.input=input;// Covers bottom-right square when both scrollbars are present.
d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");// Covers bottom of gutter when coverGutterNextToScrollbar is on
// and h scrollbar is present.
d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");// Will contain the actual code, positioned to cover the viewport.
d.lineDiv=eltP("div",null,"CodeMirror-code");// Elements are added to these to represent selection and cursors.
d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");// A visibility: hidden element used to find the size of things.
d.measure=elt("div",null,"CodeMirror-measure");// When lines outside of the viewport are measured, they are drawn in this.
d.lineMeasure=elt("div",null,"CodeMirror-measure");// Wraps everything that needs to exist inside the vertically-padded coordinate system
d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");// Moved around its parent to cover visible view.
d.mover=elt("div",[lines],null,"position: relative");// Set to the height of the document, allowing scrolling.
d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;// Behavior of elts with overflow: auto and padding is
// inconsistent across browsers. This is used to ensure the
// scrollable area is big enough.
d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");// Will contain the gutters, if any.
d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;// Actual scrollable element.
d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");// The element in which the editor lives.
d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");// Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
if(ie&&8>ie_version){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=!0}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}// Current rendered range (may be bigger than the view window).
d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;// Information about the rendered lines.
d.view=[];d.renderedView=null;// Holds info about a single rendered line when it was rendered
// for measurement, while not in view.
d.externalMeasured=null;// Empty space (in pixels) above the view
d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=!1;// Used to only resize the line number gutter when necessary (when
// the amount of lines crosses a boundary that makes its width change)
d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;// Set to true when a non-horizontal-scrolling line widget is
// added. As an optimization, line widget aligning is skipped when
// this is false.
d.alignWidgets=!1;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;// Tracks the maximum line length so that the horizontal scrollbar
// can be kept static when scrolling.
d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=!1;// Used for measuring wheel scrolling granularity
d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;// True when shift is held down.
d.shift=!1;// Used to track whether anything happened since the context menu
// was opened.
d.selForContextMenu=null;d.activeTouch=null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d)}// Since the delta values reported on mouse wheel events are
// unstandardized between browsers and even browser versions, and
// generally horribly unpredictable, this code starts by measuring
// the scroll effect that the first few mouse wheel events have,
// and, from that, detects the way it can convert deltas to pixel
// offsets afterwards.
//
// The reason we want to know the amount a wheel event will scroll
// is that it gives us a chance to update the display before the
// actual scrolling happens, reducing flickering.
var wheelSamples=0,wheelPixelsPerUnit=null;// Fill in a browser-detected starting value on browsers where we
// know one. These don't have to be accurate -- the result of them
// being wrong would just be a slight flicker on the first wheel
// scroll (if it is large enough).
if(ie){wheelPixelsPerUnit=-.53}else if(gecko){wheelPixelsPerUnit=15}else if(chrome){wheelPixelsPerUnit=-.7}else if(safari){wheelPixelsPerUnit=-1/3}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else if(null==dy){dy=e.wheelDelta}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollX=scroll.scrollWidth>scroll.clientWidth,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}// Webkit browsers on OS X abort momentum scrolls when the target
// of the scroll event is removed from the scrollable element.
// This hack (see related code in patchDisplay) makes sure the
// element is kept around.
if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}// On some browsers, horizontal scrolling will cause redraws to
// happen before the gutter has been realigned, causing it to
// wriggle around in a most unseemly way. When we have an
// estimated pixels/delta value, we just handle horizontal
// scrolling entirely here. It'll be slightly off from native, but
// better than glitching out.
if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit){if(dy&&canScrollY){updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*wheelPixelsPerUnit))}setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*wheelPixelsPerUnit));// Only prevent default scrolling if vertical scrolling is
// actually possible. Otherwise, it causes vertical scroll
// jitter on OSX trackpads when deltaX is small and deltaY
// is large (issue #3579)
if(!dy||dy&&canScrollY){e_preventDefault(e)}display.wheelStartX=null;// Abort measurement, if in progress
return}// 'Project' the visible viewport to cover the area that is being
// scrolled into view (if we know enough to estimate it).
if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(0>pixels){top=Math.max(0,top+pixels-50)}else{bot=Math.min(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(20>wheelSamples){if(null==display.wheelStartX){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(null==display.wheelStartX){return}var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}// Selection objects are immutable. A new one is created every time
// the selection changes. A selection is one or more non-overlapping
// (and non-touching) ranges, sorted, and an integer that indicates
// which one is the primary selection (the one that's scrolled into
// view, that getCursor returns, etc).
var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){var this$1=this;if(other==this){return!0}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return!1}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head)){return!1}}return!0};Selection.prototype.deepCopy=function(){for(var this$1=this,out=[],i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))}return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){for(var this$1=this,i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return!0}}return!1};Selection.prototype.contains=function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0,range;i<this.ranges.length;i++){range=this$1.ranges[i];if(0<=cmp(end,range.from())&&0>=cmp(pos,range.to())){return i}}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};// Take an unsorted, potentially overlapping set of ranges, and
// build a selection out of it. 'Consumes' ranges array (modifying
// it).
function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch,prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1],diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?0<diff:0<=diff){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}// Compute the position of the end of a change (its 'to' property
// refers to the pre-change end).
function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0))}// Adjust a position to refer to the post-change position of the
// same text, or the end of the change if the change covers it.
function adjustForChange(pos,change){if(0>cmp(pos,change.from)){return pos}if(0>=cmp(pos,change.to)){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0,range;i<doc.sel.ranges.length;i++){range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}// Used by replaceSelections to allow moving the selection to the
// start or around the replaced test. Hint may be "start" or "around".
function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if("around"==hint){var range=doc.sel.ranges[i],inv=0>cmp(range.head,range.anchor);out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}// Used to get the editor into a consistent state again when options change.
function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}// DOCUMENT DATA STRUCTURE
// By default, updates that start and end at the beginning of a line
// are treated specially, in order to make the association of line
// widgets and marker elements with the text behave more intuitive.
function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}// Perform a change on the document data structure.
function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1);signalLater(line,"change",line,change)}function linesFor(start,end){for(var result=[],i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight$$1))}return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;// Adjust the line structure
if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){// This is a whole-line replace. Treated specially to make
// sure line objects move the way they are supposed to.
var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)}if(added.length){doc.insert(from.line,added)}}else if(firstLine==lastLine){if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(1<nlines){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}// Call f for all linked documents.
function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0,rel;i<doc.linked.length;++i){rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,!0)}// Attach a document to an editor.
function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){("rtl"==cm.doc.direction?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(startGen){// Arrays of change events and selections. Doing something adds an
// event to done and clears undo. Undoing moves events from done
// to undone, redoing moves them in the other direction.
this.done=[];this.undone=[];this.undoDepth=1/0;// Used to track when changes can be merged into a single undo
// event
this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;// Used by the isClean() method
this.generation=this.maxGeneration=startGen||1}// Create a history change event from an updateDoc-style change
// object.
function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0);return histChange}// Pop all selection events off the end of a history array. Stop at
// a change event.
function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}// Find the top change event in the history. Pop off selection
// events that are in the way.
function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(1<hist.done.length&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}// Register a change in the history. Merges changes that are within
// a single operation, or are close together with an origin that
// allows merging (starting with "+") into a single event.
function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur,last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){// Merge this change into the last event
last=lst(cur.changes);if(0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)){// Optimized case for simple insertion -- don't want to add
// new changesets for every character typed
last.to=changeEnd(change)}else{// Add new sub-event
cur.changes.push(historyChangeFromChange(doc,change))}}else{// Can not be merged, start a new event.
var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}// Called whenever the selection changes, sets the new selection as
// the pending selection in the history, and pushes the old pending
// selection into the 'done' array when it was significantly
// different (in number of selected ranges, emptiness, or time).
function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;// A new event is started when the previous origin does not match
// the current, or the origins don't allow matching. Origins
// starting with * are always merged, those starting with + are
// merged when similar and close together in time.
if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&!1!==options.clearRedo){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}// Used to store marked span information in the history.
function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}// When un/re-doing restores text containing marked spans, those
// that have been explicitly cleared should not be restored.
function removeClearedSpans(spans){if(!spans){return null}for(var out,i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else if(out){out.push(spans[i])}}return!out?spans:out.length?out:null}// Retrieve and filter the old marked spans stored in a change event.
function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}for(var nw=[],i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}// Used for un/re-doing changes from the history. Combines the
// result of computing the existing spans with the set of spans that
// existed in the history (so that deleting around a span and then
// undoing brings back the span).
function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0,span;j<stretchCur.length;++j){span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}// Used both to provide a JSON-safe object in .getHistory, and, when
// detaching a document, to split the history in two
function copyHistoryArray(events,newGroup,instantiateSel){for(var copy=[],i=0,event;i<events.length;++i){event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(-1<indexOf(newGroup,+m[1])){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}// The 'scroll' parameter given to many of these indicated whether
// the new cursor position should be scrolled into view after
// modifying the selection.
// If shift is held or the extend flag is set, extends a range to
// include a given position (and optionally a second position).
// Otherwise, simply returns the range between the given positions.
// Used for cursor motion and such.
function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=0>cmp(head,anchor);if(posBefore!=0>cmp(other,anchor)){anchor=head;head=other}else if(posBefore!=0>cmp(head,other)){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}// Extend the primary selection range, discard the rest.
function extendSelection(doc,head,other,options,extend){if(null==extend){extend=doc.cm&&(doc.cm.display.shift||doc.extend)}setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}// Extend all selections (pos is an array of selections with length
// equal the number of selections)
function extendSelections(doc,heads,options){for(var out=[],extend=doc.cm&&(doc.cm.display.shift||doc.extend),i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend)}var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}// Updates a single range in the selection.
function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}// Reset the selection to a single range.
function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}// Give beforeSelectionChange handlers a change to influence a
// selection update.
function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}// Set a new selection.
function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(0>cmp(sel.primary().head,doc.sel.primary().head)?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0));if(!(options&&!1===options.scroll)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=1;doc.cm.curOp.selectionChanged=!0;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}// Verify that the selection does not partially select any atomic
// marked ranges.
function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}// Return a selection that does not partially select any atomic
// ranges.
function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(0>dir?1:-1),diff=void 0;if(0>dir?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(0>dir?0>diff:0<diff)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(0>dir?-1:1);if(0>dir?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}// Ensure a given position is not inside an atomic range.
function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1,found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0);if(!found){doc.cantEdit=!0;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(0>dir&&0==pos.ch){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else if(0<dir&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}// UPDATING
// Allow "beforeChange" event handlers to influence a change
function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=!0}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==void 0){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){if(doc.cm){doc.cm.curOp.updateInput=2}return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}// Apply a change to a document, and add it to the document's
// history, and propagating it to all linked documents.
function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,!0);if(!change){return}}// Possibly split or suppress the update based on the presence
// of read-only spans in its range.
var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;0<=i;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1==change.text.length&&""==change.text[0]&&0==cmp(change.from,change.to)){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}// Revert a change stored in a document's history.
function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:!1});return}selAfter=event}else if(suppress){source.push(event);return}else{break}}// Build up a reverse change object to add to the opposite history
// stack (redo when undoing, and vice versa).
var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,!1)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];// Propagate to the linked documents
linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})},i$1=event.changes.length-1,returned;0<=i$1;--i$1){returned=loop(i$1);if(returned)return returned.v}}// Sub-views need their line numbers shifted when text is added
// above or below them in the parent document.
function shiftDoc(doc,distance){if(0==distance){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}// More lower-level change function, handling only a single document
// (not linked ones).
function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}// Clip the change to the size of this doc
if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}// Handle the interaction of a change to a document with the editor
// that this document is part of.
function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=!0;return!0}})}if(-1<doc.sel.contains(change.from,change.to)){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=!0;recomputeMaxLength=!1}});if(recomputeMaxLength){cm.curOp.updateMaxLine=!0}}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;// Remember that these lines changed, for updating the display
if(change.full){regChange(cm)}else if(from.line==to.line&&1==change.text.length&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to){to=from}if(0>cmp(to,from)){assign=[to,from],from=assign[0],to=assign[1]}if("string"==typeof code){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}// Rebasing/resetting history to deal with externally-sourced changes
function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}// Tries to rebase an array of history events given a change in the
// document. If the change touches the same lines as the event, the
// event, and everything 'behind' it, is discarded. If the change is
// before the event, the event's positions are updated. Uses a
// copy-on-write scheme for the positions, to avoid having to
// reallocate them all on every rebase, but also avoid problems with
// shared position objects being unsafely updated.
function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=!0}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0,cur;j$1<sub.changes.length;++j$1){cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=!1;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}// Utility for applying a change to a line by handle or number,
// returning the number and optionally registering the line as
// changed.
function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if("number"==typeof handle){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(null==no){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}// The document is represented as a BTree consisting of leaves, with
// chunk of lines in them, and branches, with up to ten leaves or
// other branch nodes below them. The top node is always a branch
// node, and is the document object itself (meaning it has
// additional methods and properties).
//
// All nodes have parent links. The tree is used both to go from
// line numbers to line objects, and to go from objects to numbers.
// It also indexes by height, and is used to convert between height
// and line object, and to find the total height of the document.
//
// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html
function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;for(var height=0,i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},// Remove the n lines at offset 'at'.
removeInner:function(at,n){for(var this$1=this,i=at,e=at+n,line;i<e;++i){line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},// Helper used to collapse a small branch into a single leaf.
collapse:function(lines){lines.push.apply(lines,this.lines)},// Insert the given array of lines at offset 'at', count them as
// having the given height.
insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},// Used to iterate over a part of the tree.
iterN:function(at,n,op){for(var this$1=this,e=at+n;at<e;++at){if(op(this$1.lines[at])){return!0}}}};function BranchChunk(children){var this$1=this;this.children=children;for(var size=0,height=0,i=0,ch;i<children.length;++i){ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null}if(0==(n-=rm)){break}at=0}else{at-=sz}}// If the result is smaller than 25 lines, ensure that it is a
// single leaf node.
if(25>this.size-n&&(1<this.children.length||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){for(var this$1=this,i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&50<child.lines.length){// To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.
// Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.
for(var remaining=child.lines.length%25+25,pos=remaining,leaf;pos<child.lines.length;){leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},// When a node has grown, check whether it should be split.
maybeSpill:function(){if(10>=this.children.length){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(!me.parent){// Become the parent node
var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(10<me.children.length);me.parent.maybeSpill()},iterN:function(at,n,op){for(var this$1=this,i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op)){return!0}if(0==(n-=used)){break}at=0}else{at-=sz}}}};// Line widgets are block elements displayed above or below a line.
var LineWidget=function(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var this$1=this,cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null==no||!ws){return}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this,oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}if(!lineIsHidden(this.doc,line)){updateLineHeight(line,line.height+diff)}if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=!0;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})}};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollTop(cm,diff)}}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=!0}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt){widgets.push(widget)}else{widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollTop(cm,widget.height)}cm.curOp.forceUpdate=!0}return!0});if(cm){signalLater(cm,"lineWidgetAdded",cm,widget,"number"==typeof handle?handle:lineNo(handle))}return widget}// TEXTMARKERS
// Created with markText and setBookmark methods. A TextMarker is a
// handle that can be used to clear or find a marked position in the
// document. Line objects hold arrays (markedSpans) containing
// {from, to, marker} object pointing to such marker objects, and
// indicating that such a marker is present on that line. Multiple
// lines may point to the same marker when it spans across lines.
// The spans will have null for their from/to properties when the
// marker continues beyond the start/end of the line. Markers have
// links back to the lines they currently touch.
// Collapsed markers have unique ids, in order to be able to order
// them, which is needed for uniquely determining an outer marker
// when they overlap (they may nest, but not partially overlap).
var nextMarkerId=0,TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId};// Clear the marker.
TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)}}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else if(cm){if(null!=span.to){max=lineNo(line)}if(null!=span.from){min=lineNo(line)}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(null==span.from&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=!0}}}if(null!=min&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=!0;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=!1;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this,min,max)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};// Find the position of the marker in the document. Returns a {from,
// to} object by default. Side can be passed to get a specific side
// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
// Pos objects returned contain a line object, rather than a line
// number (used to prevent looking up the same line twice).
TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(null==side&&"bookmark"==this.type){side=1}for(var from,to,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(null!=span.from){from=Pos(lineObj?line:lineNo(line),span.from);if(-1==side){return from}}if(null!=span.to){to=Pos(lineObj?line:lineNo(line),span.to);if(1==side){return to}}}return from&&{from:from,to:to}};// Signals that the marker's widget changed, and surrounding layout
// should be recomputed.
TextMarker.prototype.changed=function(){var this$1=this,pos=this.find(-1,!0),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0}cm.curOp.updateMaxLine=!0;if(!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight)}}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||-1==indexOf(op.maybeHiddenMarkers,this)){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);// Create a marker, wire it up to the right lines, and
function markText(doc,from,to,options,type){// Shared markers (across linked documents) are handled separately
// (markTextShared will call out to this again, once per
// document).
if(options&&options.shared){return markTextShared(doc,from,to,options,type)}// Ensure we are in an operation.
if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,!1)}// Don't connect empty markers unless clearWhenEmpty is false
if(0<diff||0==diff&&!1!==marker.clearWhenEmpty){return marker}if(marker.replacedWith){// Showing up as a widget implies collapsed (widget replaces text)
marker.collapsed=!0;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=!0}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=!0}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});// lineIsHidden depends on the presence of the spans, so needs a second pass
if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=!0}if(cm){// Sync editor state
if(updateMaxLine){cm.curOp.updateMaxLine=!0}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}// SHARED TEXTMARKERS
// A shared marker spans multiple linked documents. It is
// implemented as a meta-marker-object controlling multiple normal
// markers.
var SharedTextMarker=function(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}};SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(!0)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){for(var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0,subMarker;j<marker.markers.length;j++){subMarker=marker.markers[j];if(-1==indexOf(linked,subMarker.doc)){subMarker.parent=null;marker.markers.splice(j--,1)}}},i=0;i<markers.length;i++)loop(i)}var nextDocId=0,Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep,direction)}if(null==firstLine){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction="rtl"==direction?"rtl":"ltr";this.extend=!1;if("string"==typeof text){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,// Iterate over the document. Supports two forms -- with only one
// argument, it calls that for each line in the document. With
// three, it iterates over the range given by the first two (with
// the second being non-inclusive).
iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},// Non-public interface for adding and removing lines.
insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},// From here, the methods are part of the public interface. Most
// are also available from CodeMirror (editor) instances.
getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0);if(this.cm){scrollToCoords(this.cm,0,0)}setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if("number"==typeof line){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range$$1=this.sel.primary(),pos;if(null==start||"head"==start){pos=range$$1.head}else if("anchor"==start){pos=range$$1.anchor}else if("end"==start||"to"==start||!1===start){pos=range$$1.to()}else{pos=range$$1.from()}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return}for(var out=[],i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(null==primary){primary=Math.min(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var this$1=this,ranges=this.sel.ranges,lines,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(!1===lineSep){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){for(var this$1=this,parts=[],ranges=this.sel.ranges,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(!1!==lineSep){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var this$1=this,changes=[],sel=this.sel,i=0,range$$1;i<sel.ranges.length;i++){range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i$1=changes.length-1;0<=i$1;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else if(this.cm){ensureCursorVisible(this.cm)}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0);hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return!0})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}return!0})}})}),lineInfo:function(line){var n;if("number"==typeof line){if(!isLine(this,line)){return null}n=line;line=getLine(this,line);if(!line){return null}}else{n=lineNo(line);if(null==n){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls}else if(classTest(cls).test(line[prop])){return!1}else{line[prop]+=" "+cls}return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur){return!1}else if(null==cls){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return!1}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return!0})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if((null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo$$1=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0,span;i<spans.length;i++){span=spans[i];if(!(null!=span.to&&lineNo$$1==from.line&&from.ch>=span.to||null==span.from&&lineNo$$1!=from.line||null!=span.from&&lineNo$$1==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)}}}++lineNo$$1});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(null!=sps[i].from){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return!0}off-=sz;++lineNo$$1});return clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||0>coords.ch){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){// iter aborts when callback returns a truthy value
index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=!1;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(null!=options.from&&options.from>from){from=options.from}if(null!=options.to&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc}if(this.linked){for(var i=0,link;i<this.linked.length;++i){link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}// If the histories were shared, split them again
if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},!0);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if("rtl"!=dir){dir="ltr"}if(dir==this.direction){return}this.direction=dir;this.iter(function(line){return line.order=null});if(this.cm){directionChanged(this.cm)}})});// Public alias.
Doc.prototype.eachLine=Doc.prototype.iter;// Kludge to work around strange IE behavior where it'll sometimes
// re-fire a series of drag-related events right after the drop (#1551)
var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}// Might be a file drop, in which case we simply extract the text
// and insert it.
if(files&&files.length&&window.FileReader&&window.File){for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(cm.options.allowDropFileTypes&&-1==indexOf(cm.options.allowDropFileTypes,file.type)){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)},i=0;i<n;++i){loadFile(files[i],i)}}else{// Normal drop
// Don't do a replace if the drop happened inside of the selected text.
if(cm.state.draggingText&&-1<cm.doc.sel.contains(pos)){cm.state.draggingText(e);// Ensure the editor is re-focused
setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||100>+new Date-lastDrop)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";// Use dummy image instead of default browsers image.
// Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);// Force a relayout, or Opera won't use our image for some obscure reason
img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}// These must be handled carefully, because naively registering a
// handler for each editor will cause the editors to never be
// garbage collected.
function forEachCodeMirror(f){if(!document.getElementsByClassName){return}for(var byClass=document.getElementsByClassName("CodeMirror"),editors=[],i=0,cm;i<byClass.length;i++){cm=byClass[i].CodeMirror;if(cm){editors.push(cm)}}if(editors.length){editors[0].operation(function(){for(var i=0;i<editors.length;i++){f(editors[i])}})}}var globalsRegistered=!1;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=!0}function registerGlobalHandlers(){// When the window resizes, we need to refresh active editors.
var resizeTimer;on(window,"resize",function(){if(null==resizeTimer){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});// When the window loses focus, we want to show the editor as blurred
on(window,"blur",function(){return forEachCodeMirror(onBlur)})}// Called when the window resizes
function onResize(cm){var d=cm.display;// Might be a text scaling operation, clear size caches.
d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=!1;cm.setSize()}// Number keys
for(var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;10>i;i++){keyNames[i+48]=keyNames[i+96]=i+""}// Alphabetic keys
for(var i$1=65;90>=i$1;i$1++){keyNames[i$1]=String.fromCharCode(i$1)}// Function keys
for(var i$2=1;12>=i$2;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;// KEYMAP DISPATCH
function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];for(var alt,ctrl,shift,cmd,i=0,mod;i<parts.length-1;i++){mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=!0}else if(/^a(lt)?$/i.test(mod)){alt=!0}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=!0}else if(/^s(hift)?$/i.test(mod)){shift=!0}else{throw new Error("Unrecognized modifier name: "+mod)}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}// This is a kludge to keep keymaps mostly working as raw objects
// (backwards compatibility) while at the same time support features
// like normalization and multi-stroke key bindings. It compiles a
// new normalized keymap, and then updates the old object to reflect
// this.
function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(!1===found){return"nothing"}if("..."===found){return"multi"}if(null!=found&&handle(found)){return"handled"}if(map$$1.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map$$1.fallthrough)){return lookupKey(key,map$$1.fallthrough,handle,context)}for(var i=0,result;i<map$$1.fallthrough.length;i++){result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result){return result}}}}// Modifier key presses don't count as 'real' key presses for the
// purpose of keymap fallthrough.
function isModifierKey(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&"Alt"!=base){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base){name="Cmd-"+name}if(!noShift&&event.shiftKey&&"Shift"!=base){name="Shift-"+name}return name}// Look up the name of a key as indicated by an event object.
function keyName(event,noShift){if(presto&&34==event.keyCode&&event.char){return!1}var name=keyNames[event.keyCode];if(null==name||event.altGraphKey){return!1}// Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,
// so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)
if(3==event.keyCode&&event.code){name=event.code}return addModifierNames(name,event,noShift)}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}// Helper for deleting text near the selection(s), used to implement
// backspace, delete, and similar functionality.
function deleteNearSelection(cm,compute){// Build up a set of ranges to kill first, merging overlapping
// ranges.
for(var ranges=cm.doc.sel.ranges,kill=[],i=0,toKill;i<ranges.length;i++){toKill=compute(ranges[i]);while(kill.length&&0>=cmp(toKill.from,lst(kill).to)){var replaced=kill.pop();if(0>cmp(replaced.from,toKill.from)){toKill.from=replaced.from;break}}kill.push(toKill)}// Next, remove those actual ranges.
runInOp(cm,function(){for(var i=kill.length-1;0<=i;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return 0>target||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return null==ch?null:new Pos(start.line,ch,0>dir?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=0>dir?lst(order):order[0],moveInStorageOrder=0>dir==(1==part.level),sticky=moveInStorageOrder?"after":"before",ch;// With a wrapped rtl chunk (possibly spanning multiple bidi parts),
// it could be that the last bidi part is not on the last visual line,
// since visual lines contain content order-consecutive chunks.
// Thus, in rtl, we are looking for the first (content-order) character
// in the rtl chunk that is on the last line (that is, the same line
// as the last (content-order) character).
if(0<part.level||"rtl"==cm.doc.direction){var prep=prepareMeasureForLine(cm,lineObj);ch=0>dir?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},0>dir==(1==part.level)?part.from:part.to-1,ch);if("before"==sticky){ch=moveCharLogically(lineObj,ch,1)}}else{ch=0>dir?part.to:part.from}return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,0>dir?lineObj.text.length:0,0>dir?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi){return moveLogically(line,start,dir)}if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before"}else if(0>=start.ch){start.ch=0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if("ltr"==cm.doc.direction&&0==part.level%2&&(0<dir?part.to>start.ch:part.from<start.ch)){// Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,
// nothing interesting happens.
return moveLogically(line,start,dir)}var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},prep,getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping){return{begin:0,end:line.text.length}}prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)},wrappedLineExtent=getWrappedLineExtent("before"==start.sticky?mv(start,-1):start.ch);if("rtl"==cm.doc.direction||1==part.level){var moveInStorageOrder=1==part.level==0>dir,ch=mv(start,moveInStorageOrder?1:-1);if(null!=ch&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){// Case 2: We move within an rtl part or in an rtl editor on the same visual line
var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}// Case 3: Could not move within this bidi part in this visual line, so leave
// the current bidi part
var searchInVisualLine=function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;0<=partPos&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos],moveInStorageOrder=0<dir==(1!=part.level),ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to){return getRes(ch,moveInStorageOrder)}ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end){return getRes(ch,moveInStorageOrder)}}},res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);// Case 3a: Look for other bidi parts on the same visual line
if(res){return res}// Case 3b: Look for other bidi parts on the next visual line
var nextCh=0<dir?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(null!=nextCh&&!(0<dir&&nextCh==line.text.length)){res=searchInVisualLine(0<dir?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res){return res}}// Case 4: Nowhere to move
return null}// Commands are parameter-less actions that can be performed on an
// editor, mostly used for keybindings.
var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},// Swap the two chars left and right of each selection's head.
// Move cursor behind the two swapped characters afterwards.
//
// Doesn't consider line feeds a character.
// Doesn't scan more than one line above to find a character.
// Doesn't do anything on an empty line.
// Doesn't do anything with non-empty selections.
transposeChars:function(cm){return runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(0<cur.ch){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){for(var sels=cm.listSelections(),i=sels.length-1;0<=i;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,!0)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLineEnd(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line,cm.doc.direction);if(!order||0==order[0].level){var firstNonWS=Math.max(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}// Run a handler that was bound to a key.
function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound){bound=commands[bound];if(!bound){return!1}}// Ensure previous input has been read, so that the handler sees a
// consistent view of the document
cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}if(dropShift){cm.display.shift=!1}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0,result;i<cm.state.keyMaps.length;i++){result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}// Note that, despite the name, this function is also used to check
// for bound mouse clicks.
var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}if(/\'$/.test(name)){cm.state.keySeq=null}else{stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}})}if(dispatchKeyInner(cm,seq+" "+name,e,handle)){return!0}}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if("multi"==result){cm.state.keySeq=name}if("handled"==result){signalLater(cm,"keyHandled",cm,name,e)}if("handled"==result||"multi"==result){e_preventDefault(e);restartBlink(cm)}return!!result}// Handle a key from the keydown event.
function handleKeyBinding(cm,e){var name=keyName(e,!0);if(!name){return!1}if(e.shiftKey&&!cm.state.keySeq){// First try to resolve full name (including 'Shift-'). Failing
// that, see if there is a cursor-motion command (starting with
// 'go') bound to the keyname without 'Shift-'.
return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}// Handle a key from the keypress event
function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}// IE does strange things with escape.
if(ie&&11>ie_version&&27==e.keyCode){e.returnValue=!1}var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;// Opera has no cut event... we try to at least catch the key combo
if(!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}// Turn mouse into crosshair when Alt is held on Mac.
if(18==code&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(18==e.keyCode||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(16==e.keyCode){this.doc.sel.shift=!1}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||10>e.which)&&handleKeyBinding(cm,e)){return}var ch=String.fromCharCode(null==charCode?keyCode:charCode);// Some browsers fire keypress events for backspace
if("\b"==ch){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}var DOUBLECLICK_DELAY=400,PastClick=function(time,pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&0==cmp(pos,this.pos)&&button==this.button};var lastClick,lastDoubleClick;function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}// A mouse down can be a single click, double click, triple click,
// start of selection drag, start of text drag, new cursor
// (ctrl-click), rectangle drag (alt-drag), or xwin
// middle-click-paste. Or it might be a click on something we should
// not interfere with, such as a scrollbar or widget.
function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){// Briefly turn off draggability, to allow widgets to do
// normal dragging things.
display.scroller.draggable=!1;setTimeout(function(){return display.scroller.draggable=!0},100)}return}if(clickInGutter(cm,e)){return}var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();// #3261: make sure, that we're not starting a second selection
if(1==button&&cm.state.selectingText){cm.state.selectingText(e)}if(pos&&handleMappedButton(cm,button,pos,repeat,e)){return}if(1==button){if(pos){leftButtonDown(cm,pos,repeat,e)}else if(e_target(e)==display.scroller){e_preventDefault(e)}}else if(2==button){if(pos){extendSelection(cm.doc,pos)}setTimeout(function(){return display.input.focus()},20)}else if(3==button){if(captureRightClick){cm.display.input.onContextMenu(e)}else{delayBlurEvent(cm)}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if("double"==repeat){name="Double"+name}else if("triple"==repeat){name="Triple"+name}name=(1==button?"Left":2==button?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if("string"==typeof bound){bound=commands[bound]}if(!bound){return!1}var done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=!1}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse"),value=option?option(cm,repeat,event):{};if(null==value.unit){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":"single"==repeat?"char":"double"==repeat?"word":"line"}if(null==value.extend||cm.doc.extend){value.extend=cm.doc.extend||event.shiftKey}if(null==value.addNew){value.addNew=mac?event.metaKey:event.ctrlKey}if(null==value.moveOnDrag){value.moveOnDrag=!(mac?event.altKey:event.ctrlKey)}return value}function leftButtonDown(cm,pos,repeat,event){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var behavior=configureMouse(cm,repeat,event),sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&"single"==repeat&&-1<(contained=sel.contains(pos))&&(0>cmp((contained=sel.ranges[contained]).from(),pos)||0<pos.xRel)&&(0<cmp(contained.to(),pos)||0>pos.xRel)){leftButtonStartDrag(cm,event,pos,behavior)}else{leftButtonSelect(cm,event,pos,behavior)}}// Start a text drag. When it ends, see if any dragging actually
// happen, and treat as a click if it didn't.
function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=!1,dragEnd=operation(cm,function(e){if(webkit){display.scroller.draggable=!1}cm.state.draggingText=!1;off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew){extendSelection(cm.doc,pos,null,null,behavior.extend)}// Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)
if(webkit||ie&&9==ie_version){setTimeout(function(){display.wrapper.ownerDocument.body.focus();display.input.focus()},20)}else{display.input.focus()}}}),mouseMove=function(e2){moved=moved||10<=Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)},dragStart=function(){return moved=!0};// Let the drag handler handle this.
if(webkit){display.scroller.draggable=!0}cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;// IE's approach to draggable
if(display.scroller.dragDrop){display.scroller.dragDrop()}on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);delayBlurEvent(cm);setTimeout(function(){return display.input.focus()},20)}function rangeForUnit(cm,pos,unit){if("char"==unit){return new Range(pos,pos)}if("word"==unit){return cm.findWordAt(pos)}if("line"==unit){return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}var result=unit(cm,pos);return new Range(result.from,result.to)}// Normal selection, as opposed to text dragging.
function leftButtonSelect(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(-1<ourIndex){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if("rectangle"==behavior.unit){if(!behavior.addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,event,!0,!0);ourIndex=-1}else{var range$$1=rangeForUnit(cm,start,behavior.unit);if(behavior.extend){ourRange=extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend)}else{ourRange=range$$1}}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(-1==ourIndex){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})}else if(1<ranges.length&&ranges[ourIndex].empty()&&"char"==behavior.unit&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}var lastPos=start;function extendTo(pos){if(0==cmp(lastPos,pos)){return}lastPos=pos;if("rectangle"==behavior.unit){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=Math.min(startCol,posCol),right=Math.max(startCol,posCol),line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1});cm.scrollIntoView(pos)}else{var oldRange=ourRange,range$$1=rangeForUnit(cm,pos,behavior.unit),anchor=oldRange.anchor,head;if(0<cmp(range$$1.anchor,anchor)){head=range$$1.head;anchor=minPos(oldRange.from(),range$$1.anchor)}else{head=range$$1.anchor;anchor=maxPos(oldRange.to(),range$$1.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect(),counter=0;// Used to ensure timeout re-tries don't fire when another extend
// happened in the meantime (clearTimeout isn't reliable -- at
// least on Chrome, the timeouts still happen even when cleared,
// if the clear happens after their scheduled firing time).
function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rectangle"==behavior.unit);if(!cur){return}if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=!1;counter=1/0;// If e is null or undefined we interpret this as someone trying
// to explicitly cancel the selection rather than the user
// letting go of the mouse button.
if(e){e_preventDefault(e);display.input.focus()}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(0===e.buttons||!e_button(e)){done(e)}else{extend(e)}}),up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}// Used when mouse-selecting to adjust the anchor to the proper side
// of a bidi jump depending on the visual position of the head.
function bidiSimplify(cm,range$$1){var anchor=range$$1.anchor,head=range$$1.head,anchorLine=getLine(cm.doc,anchor.line);if(0==cmp(anchor,head)&&anchor.sticky==head.sticky){return range$$1}var order=getOrder(anchorLine);if(!order){return range$$1}var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch){return range$$1}var boundary=index+(part.from==anchor.ch==(1!=part.level)?0:1);if(0==boundary||boundary==order.length){return range$$1}// Compute the relative visual position of the head compared to the
// anchor (<0 is to the left, >0 to the right)
var leftSide;if(head.line!=anchor.line){leftSide=0<(head.line-anchor.line)*("ltr"==cm.doc.direction?1:-1)}else{var headIndex=getBidiPartAt(order,head.ch,head.sticky),dir=headIndex-index||(head.ch-anchor.ch)*(1==part.level?-1:1);if(headIndex==boundary-1||headIndex==boundary){leftSide=0>dir}else{leftSide=0<dir}}var usePart=order[boundary+(leftSide?-1:0)],from=leftSide==(1==usePart.level),ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head)}// Determines whether an event happened in the gutter, and fires the
// handlers for the corresponding event.
function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY}else{try{mX=e.clientX;mY=e.clientY}catch(e){return!1}}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right)){return!1}if(prevent){e_preventDefault(e)}var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0,g;i<cm.display.gutterSpecs.length;++i){g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0)}// CONTEXT MENU HANDLING
// To make the context menu work, we need to briefly unhide the
// textarea (making it as unobtrusive as possible) to let the
// right-click take effect on it.
function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return}if(signalDOMEvent(cm,e,"contextmenu")){return}if(!captureRightClick){cm.display.input.onContextMenu(e)}}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return!1}return gutterEvent(cm,e,"gutterContextMenu",!1)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}},defaults={},optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;// Passed to option handlers when there is no old value.
CodeMirror.Init=Init;// These two are, on init, called from the constructor because they
// have to be initialized before the editor can start at all.
option("value","",function(cm,val){return cm.setValue(val)},!0);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},!0);option("indentUnit",2,loadMode,!0);option("indentWithTabs",!1);option("smartIndent",!0);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},!0);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0,found;;){found=line.text.indexOf(val,pos);if(-1==found){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;0<=i;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},!0);option("electricChars",!0);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");// FIXME
},!0);option("spellcheck",!1,function(cm,val){return cm.getInputField().spellcheck=val},!0);option("autocorrect",!1,function(cm,val){return cm.getInputField().autocorrect=val},!0);option("autocapitalize",!1,function(cm,val){return cm.getInputField().autocapitalize=val},!0);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",!0);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm)},!0);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",!1,wrappingChanged,!0);option("gutters",[],function(cm,val){cm.display.gutterSpecs=getGutters(val,cm.options.lineNumbers);updateGutters(cm)},!0);option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},!0);option("coverGutterNextToScrollbar",!1,function(cm){return updateScrollbars(cm)},!0);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0);option("lineNumbers",!1,function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val);updateGutters(cm)},!0);option("firstLineNumber",1,updateGutters,!0);option("lineNumberFormatter",function(integer){return integer},updateGutters,!0);option("showCursorWhenSelecting",!1,updateSelection,!0);option("resetSelectionOnContextMenu",!0);option("lineWiseCopyCut",!0);option("pasteLinesPerSelection",!0);option("selectionsMayTouch",!1);option("readOnly",!1,function(cm,val){if("nocursor"==val){onBlur(cm);cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("disableInput",!1,function(cm,val){if(!val){cm.display.input.reset()}},!0);option("dragDrop",!0,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,!0);option("singleCursorHeightPerLine",!0,updateSelection,!0);option("workTime",100);option("workDelay",100);option("flattenSpans",!0,resetModeState,!0);option("addModeClass",!1,resetModeState,!0);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},!0);option("maxHighlightLength",1e4,resetModeState,!0);option("moveInputWithCursor",!0,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},!0);option("phrases",null)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}// A CodeMirror instance represents an editor. This is the object
// that user code is usually dealing with.
function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options)}this.options=options=options?copyObj(options):{};// Determine effective options based on given values and defaults.
copyObj(defaults,options,!1);var doc=options.value;if("string"==typeof doc){doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction)}else if(options.mode){doc.modeOption=options.mode}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}initScrollbars(this);this.state={keyMaps:[],// stores maps added by addKeyMap
overlays:[],// highlighting overlays, as added by addOverlay
modeGen:0,// bumped when mode/overlay changes, used to invalidate highlighting info
overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,// used to disable editing during key handlers when in readOnly mode
pasteIncoming:-1,cutIncoming:-1,// help recognize paste/cut edits in input.poll
selectingText:!1,draggingText:!1,highlight:new Delayed,// stores highlight worker timeout
keySeq:null,// Unfinished key sequence
specialChars:null};if(options.autofocus&&!mobile){display.input.focus()}// Override magic textarea content restore that IE sometimes does
// on our hidden textarea on reload
if(ie&&11>ie_version){setTimeout(function(){return this$1.display.input.reset(!0)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=!0;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);// Suppress optimizelegibility in Webkit, since it breaks text
// measuring on line wrapping boundaries.
if(webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering){display.lineDiv.style.textRendering="auto"}}// The default configuration options.
CodeMirror.defaults=defaults;// Functions to run when options are changed.
CodeMirror.optionHandlers=optionHandlers;// Attach the necessary event handlers when initializing the editor
function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));// Older IE's will not fire a second mousedown for a double click
if(ie&&11>ie_version){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}// Some browsers fire contextmenu *after* opening the menu, at
// which point we can't mess with it anymore. Context menu is
// handled in onMouseDown for these browsers.
on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});// Used to suppress mouse event handling when a touch happens
var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1e3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(1!=e.touches.length){return!1}var touch=e.touches[0];return 1>=touch.radiusX&&1>=touch.radiusY}function farAway(touch,other){if(null==other.left){return!0}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:300>=now-prevTouch.end?prevTouch:null};if(1==e.touches.length){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=!0}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&300>new Date-touch.start){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev))// Single tap
{range=new Range(pos,pos)}else if(!touch.prev.prev||farAway(touch,touch.prev.prev))// Double tap
{range=cm.findWordAt(pos)}else// Triple tap
{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);// Sync scrolling between fake scrollbars and real scrollable
// area, ensure viewport is updated when scrolling.
on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,!0);signal(cm,"scroll",cm)}});// Listen to wheel events in order to try and update the viewport on time.
on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});// Prevent wrapper from ever scrolling
on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};// Indent the given line. The how parameter can be "smart",
// "add"/null, "subtract", or "prev". When aggressive is false
// (typically set to true for forced single-line indents), empty
// lines are not indented, and places where the mode returns Pass
// are left alone.
function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(null==how){how="add"}if("smart"==how){// Fall back to "prev" when the mode doesn't have an indentation
// method.
if(!doc.mode.indent){how="prev"}else{state=getContextBefore(cm,n).state}}var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if("smart"==how){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||150<indentation){if(!aggressive){return}how="prev"}}if("prev"==how){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else if("add"==how){indentation=curSpace+cm.options.indentUnit}else if("subtract"==how){indentation=curSpace-cm.options.indentUnit}else if("number"==typeof how){indentation=curSpace+how}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return!0}else{// Ensure that, if the cursor was in the whitespace at the start
// of the line, it is moved to the end of that space.
for(var i$1=0,range;i$1<doc.sel.ranges.length;i$1++){range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}// This will be set to a {lineWise: bool, text: [string]} object, so
// that, when pasting, we know what kind of selections the copied
// text was made out of.
var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1;if(!sel){sel=doc.sel}var recent=+new Date-200,paste="paste"==origin||cm.state.pasteIncoming>recent,textLines=splitLinesAuto(inserted),multiPaste=null;// When pasting N lines into N selections, insert one line per selection
if(paste&&1<sel.ranges.length){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(0==sel.ranges.length%lastCopied.text.length){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection){multiPaste=map(textLines,function(l){return[l]})}}// Normal behavior is to insert the new text into every selection
for(var updateInput=cm.curOp.updateInput,i$1=sel.ranges.length-1;0<=i$1;i$1--){var range$$1=sel.ranges[i$1],from=range$$1.from(),to=range$$1.to();if(range$$1.empty()){if(deleted&&0<deleted)// Handle deletion
{from=Pos(from.line,from.ch-deleted)}else if(cm.state.overwrite&&!paste)// Handle overwrite
{to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);if(2>cm.curOp.updateInput){cm.curOp.updateInput=updateInput}cm.curOp.typing=!0;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return!0}}function triggerElectric(cm,inserted){// When an 'electric' character is inserted, immediately trigger a reindent
if(!cm.options.electricChars||!cm.options.smartIndent){return}for(var sel=cm.doc.sel,i=sel.ranges.length-1,range$$1;0<=i;i--){range$$1=sel.ranges[i];if(100<range$$1.head.ch||i&&sel.ranges[i-1].head.line==range$$1.head.line){continue}var mode=cm.getModeAt(range$$1.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(-1<inserted.indexOf(mode.electricChars.charAt(j))){indented=indentLine(cm,range$$1.head.line,"smart");break}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))){indented=indentLine(cm,range$$1.head.line,"smart")}}if(indented){signalLater(cm,"electricInput",cm,range$$1.head.line)}}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");// The textarea is kept positioned near the cursor to prevent the
// fact that it'll be scrolled into view on input from scrolling
// our fake cursor out of view. On webkit, when wrap=off, paste is
// very slow. So make the area wide instead.
if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}// If border: 0; -- iOS fails to open keyboard (issue #1287)
if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}// The publicly visible API. Note that methodOp(f) means
// 'wrap f in an operation, performed on its `this` parameter'.
// This is not the complete set of editor methods. Most of the
// methods defined on the Doc type are also injected into
// CodeMirror.prototype, for backwards compatibility and
// convenience.
function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers,helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&"mode"!=option){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1))},removeKeyMap:function(map$$1){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i){if(maps[i]==map$$1||maps[i].name==map$$1){maps.splice(i,1);return!0}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){for(var this$1=this,overlays=this.state.overlays,i=0,cur;i<overlays.length;++i){cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if("string"!=typeof dir&&"number"!=typeof dir){if(null==dir){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){for(var this$1=this,ranges=this.doc.sel.ranges,end=-1,i=0,range$$1;i<ranges.length;i++){range$$1=ranges[i];if(!range$$1.empty()){var from=range$$1.from(),to=range$$1.to(),start=Math.max(end,from.line);end=Math.min(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(0==from.ch&&ranges.length==newRanges.length&&0<newRanges[i].from().ch){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else if(range$$1.head.line>end){indentLine(this$1,range$$1.head.line,how,!0);end=range$$1.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}),// Fetch the parser token for a given character. Useful for hacks
// that want to inspect the mode state (say, for completion).
getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch,type;if(0==ch){type=styles[2]}else{for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch){after=mid}else if(styles[2*mid+1]<ch){before=mid+1}else{type=styles[2*mid+2];break}}}var cut=type?type.indexOf("overlay "):-1;return 0>cut?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this,found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type]){if(help[mode[type]]){found.push(help[mode[type]])}}else if(mode[type]){for(var i=0,val;i<mode[type].length;i++){val=help[mode[type][i]];if(val){found.push(val)}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i$1=0,cur;i$1<help._global.length;i$1++){cur=help._global[i$1];if(cur.pred(mode,this$1)&&-1==indexOf(found,cur.val)){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,null==line?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,mode){var pos,range$$1=this.doc.sel.primary();if(null==start){pos=range$$1.head}else if("object"==typeof start){pos=clipPos(this.doc,start)}else{pos=start?range$$1.from():range$$1.to()}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=!1,lineObj;if("number"==typeof line){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else if(line>last){line=last;end=!0}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if("over"==vert){top=pos.top}else if("above"==vert||"near"==vert){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);// Default to positioning above (if specified and possible); otherwise default to positioning below
if(("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}node.style.top=top+"px";node.style.left=node.style.right="";if("right"==horiz){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if("left"==horiz){left=0}else if("middle"==horiz){left=(display.sizer.clientWidth-node.offsetWidth)/2}node.style.left=left+"px"}if(scroll){scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this,dir=1;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){if(this$1.display.shift||this$1.doc.extend||range$$1.empty()){return findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually)}else{return 0>dir?range$$1.from():range$$1.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range$$1){var other=findPosH(doc,range$$1.head,dir,unit,!1);return 0>dir?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this,dir=1,x=goalColumn;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0,coords;i<amount;++i){coords=cursorCoords(this$1,cur,"div");if(null==x){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this,doc=this.doc,goals=[],collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range$$1){if(collapse){return 0>dir?range$$1.from():range$$1.to()}var headPos=cursorCoords(this$1,range$$1.head,"div");if(null!=range$$1.goalColumn){headPos.left=range$$1.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if("page"==unit&&range$$1==doc.sel.primary()){addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),// Find the word at the given position (as returned by coordsChar).
findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if(("before"==pos.sticky||end==line.length)&&start){--start}else{++end}var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return /\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(0<start&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(null!=value&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range$$1,margin){if(null==range$$1){range$$1={from:this.doc.sel.primary().head,to:null};if(null==margin){margin=this.options.cursorScrollMargin}}else if("number"==typeof range$$1){range$$1={from:Pos(range$$1,0),to:null}}else if(null==range$$1.from){range$$1={from:range$$1,to:null}}if(!range$$1.to){range$$1.to=range$$1.from}range$$1.margin=margin||0;if(null!=range$$1.from.line){scrollToRange(this,range$$1)}else{scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin)}}),setSize:methodOp(function(width,height){var this$1=this,interpret=function(val){return"number"==typeof val||/^\d+$/.test(val+"")?val+"px":val};if(null!=width){this.display.wrapper.style.width=interpret(width)}if(null!=height){this.display.wrapper.style.height=interpret(height)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break}}}++lineNo$$1});this.curOp.forceUpdate=!0;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=!0;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(null==oldHeight||.5<Math.abs(oldHeight-textHeight(this.display))){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;// Cancel the current text selection if any (#5821)
if(this.state.selectingText){this.state.selectingText()}attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=!0;signalLater(this,"swapDoc",this,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}// Used for horizontal relative motion. Dir is -1 or 1 (left or
// right), unit can be "char", "column" (like char, but doesn't
// cross line boundaries), "word" (across next word), or "group" (to
// the start of next group of word or non-word-non-whitespace
// chars). The visually param controls whether, in right-to-left
// text, direction 1 means to move towards the next index in the
// string, or towards the character to the right of the current
// position. The resulting position will have a hitSide=true
// property if it reached the end of the document.
function findPosH(doc,pos,dir,unit,visually){var oldPos=pos,origDir=dir,lineObj=getLine(doc,pos.line);function findNextLine(){var l=pos.line+dir;if(l<doc.first||l>=doc.first+doc.size){return!1}pos=new Pos(l,pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(visually){next=moveVisually(doc.cm,lineObj,pos,dir)}else{next=moveLogically(lineObj,pos,dir)}if(null==next){if(!boundToLine&&findNextLine()){pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir)}else{return!1}}else{pos=next}return!0}if("char"==unit){moveOnce()}else if("column"==unit){moveOnce(!0)}else if("word"==unit||"group"==unit){for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;;first=!1){if(0>dir&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(pos.ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(0>dir){dir=1;moveOnce();pos.sticky="after"}break}if(type){sawType=type}if(0<dir&&!moveOnce(!first)){break}}}var result=skipAtomic(doc,pos,oldPos,origDir,!0);if(equalCursorPos(oldPos,result)){result.hitSide=!0}return result}// For relative vertical movement. Dir may be -1 or 1. Unit can be
// "page" or "line". The resulting position will have a hitSide=true
// property if it reached the end of the document.
function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if("page"==unit){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(0<dir?pos.bottom:pos.top)+dir*moveAmount}else if("line"==unit){y=0<dir?pos.bottom+3:pos.top-3}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(0>dir?0>=y:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}// CONTENTEDITABLE INPUT STYLE
var ContentEditableInput=function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){var this$1=this,input=this,cm=input.cm,div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}// IE doesn't fire input events, so we schedule a read for the pasted content in this way
if(11>=ie_version){setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)}});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:!1}});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data,done:!1}}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon()}this$1.composing.done=!0}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon()}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()});if("cut"==e.type){cm.replaceSelection("",null,"cut")}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");// iOS exposes the clipboard API, but seems to discard content inserted into it
e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}// Old-fashioned briefly-focus-a-textarea hack
var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,!1);result.focus=this.cm.state.focused;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary(),from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&0==cmp(minPos(curAnchor,curFocus),from)&&0==cmp(maxPos(curAnchor,curFocus),to)){return}var view=cm.display.view,start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0},end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure,map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}// Our model of the DOM might be outdated, in which case the range we try to set can be impossible
if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&null==sel.anchorNode){sel.addRange(old)}else if(gecko){this.startGracePeriod()}}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=!1;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=!0})}},20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount){return!1}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),!0)}this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=function(){return!0};ContentEditableInput.prototype.receivedFocus=function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=!0})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(null!=this.readDOMTimeout||this.gracePeriod||!this.selectionChanged()){return}var sel=this.getSelection(),cm=this.cm;// On Android Chrome (version 56, at least), backspacing into an
// uneditable block element will put the cursor in that element,
// and then, because it's not editable, hide the virtual keyboard.
// Because Android doesn't allow us to actually detect backspace
// presses in a sane way, this code checks for when that happens
// and simulates a backspace press in this case.
if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=!0}})}};ContentEditableInput.prototype.pollContent=function(){if(null!=this.readDOMTimeout){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(0==from.ch&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0)}if(from.line<display.viewFrom||to.line>display.viewTo-1){return!1}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line))){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line),toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode){return!1}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(1<newText.length&&1<oldText.length){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=Math.min(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}// Try to move start of change to start of selection if ambiguous
if(1==newText.length&&1==oldText.length&&fromLine==from.line){while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){cutFront--;cutEnd++}}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(1<newText.length||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return!0}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(null!=this.readDOMTimeout){return}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){if(this$1.composing.done){this$1.composing=null}else{return}}this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(this$1.cm)})}};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(0==e.charCode||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)}};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=("nocursor"!=val)+""};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=!0;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line,cm.doc.direction),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset="right"==result.collapse?result.end:result.start;return result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode){if(/CodeMirror-gutter-wrapper/.test(scan.className)){return!0}}return!1}function badPos(pos,bad){if(bad){pos.bad=!0}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=!1,lineSep=cm.doc.lineSeparator(),extraLinebreak=!1;function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text+=lineSep;if(extraLinebreak){text+=lineSep}closing=extraLinebreak=!1}}function addText(str){if(str){close();text+=str}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range$$1=found[0].find(0))){addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep))}return}if("false"==node.getAttribute("contenteditable")){return}var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&0==node.textContent.length){return}if(isBlock){close()}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|p)$/i.test(node.nodeName)){extraLinebreak=!0}if(isBlock){closing=!0}}else if(3==node.nodeType){addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}for(;;){walk(from);if(from==to){break}from=from.nextSibling;extraLinebreak=!1}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0,lineView;i<cm.display.view.length;i++){lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),!0)}if(node==wrapper){bad=!0;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=3==node.nodeType?node:null,topNode=node;if(!textNode&&1==node.childNodes.length&&3==node.firstChild.nodeType){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1,map$$1;i<(maps?maps.length:0);i++){map$$1=0>i?measure.map:maps[i];for(var j=0,curNode;j<map$$1.length;j+=3){curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(0>i?lineView.line:lineView.rest[i]),ch=map$$1[j]+offset;if(0>offset||curNode!=textNode){ch=map$$1[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}// FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}// TEXTAREA INPUT STYLE
var TextareaInput=function(cm){this.cm=cm;// See input.poll and input.reset
this.prevInput="";// Flag that indicates whether we expect input to appear real soon
// now (after some event like 'keypress' or 'input') and are
// polling intensively.
this.pollingFast=!1;// Self-resetting timeout for the poller
this.polling=new Delayed;// Used to work around IE issue with selection being forgotten when focus moves away from textarea
this.hasSelection=!1;this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this,input=this,cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);// Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)
if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&9<=ie_version&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=+new Date;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()})}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if("cut"==e.type){cm.state.cutIncoming=+new Date}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}// Pass the `paste` event to the textarea so it's handled by its event listener.
var event=new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});// Prevent normal selection in the editor (we handle our own)
on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})};TextareaInput.prototype.createField=function(_display){// Wraps and hides input textarea
this.wrapper=hiddenTextarea();// The semihidden textarea that is focused when the editor is
// focused, and receives input.
this.textarea=this.wrapper.firstChild};TextareaInput.prototype.prepareSelection=function(){// Redraw the selection and/or cursor
var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);// Move the hidden textarea near the cursor to prevent scrolling artifacts
if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(null!=drawn.teTop){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};// Reset the input to correspond to the selection (or to be empty,
// when not typing and nothing is selected)
TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing){return}var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&9<=ie_version){this.hasSelection=content}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&9<=ie_version){this.hasSelection=null}}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return!1};TextareaInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}// IE8 will throw if the textarea is display: none or not in DOM
}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};// Poll for input changes, using the normal rate of polling. This
// runs as long as the editor is focused.
TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})};// When an event has just come in that is likely to add or change
// something in the input textarea, we poll faster, to ensure that
// the change appears on the screen quickly.
TextareaInput.prototype.fastPoll=function(){var missed=!1,input=this;input.pollingFast=!0;function p(){var changed=input.poll();if(!changed&&!missed){missed=!0;input.polling.set(60,p)}else{input.pollingFast=!1;input.slowPoll()}}input.polling.set(20,p)};// Read input from the textarea, and update the document to match.
// When something is selected, it is present in the textarea, and
// selected (unless it is huge, in which case a placeholder is
// used). When nothing is selected, the cursor sits after previously
// seen text (can be empty), which is stored in prevInput (we must
// not reset the textarea when typing, because that breaks IME).
TextareaInput.prototype.poll=function(){var this$1=this,cm=this.cm,input=this.textarea,prevInput=this.prevInput;// Since this is called a *lot*, try to bail out as cheaply as
// possible when it is clear that nothing happened. hasSelection
// will be the case when there is a lot of text in the textarea,
// in which case reading its value would be expensive.
if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return!1}var text=input.value;// If nothing changed, bail.
if(text==prevInput&&!cm.somethingSelected()){return!1}// Work around nonsensical selection resetting in IE9/10, and
// inexplicable appearance of private area unicode characters on
// some key combos in Mac (#2689).
if(ie&&9<=ie_version&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return!1}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203==first&&!prevInput){prevInput="\u200B"}if(8666==first){this.reset();return this.cm.execCommand("undo")}}// Find the part of the input that is actually new
var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);// Don't leave long text in the textarea, since it makes further polling slow
if(1e3<text.length||-1<text.indexOf("\n")){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return!0};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=!1}};TextareaInput.prototype.onKeyPress=function(){if(ie&&9<=ie_version){this.hasSelection=null}this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;if(input.contextMenuPending){input.contextMenuPending()}var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}// Opera is difficult.
// Reset the current text selection only if the click is done outside of the selection
// and 'resetSelectionOnContextMenu' option is true.
var reset=cm.options.resetSelectionOnContextMenu;if(reset&&-1==cm.doc.sel.contains(pos)){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText,wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY}// Work around Chrome issue (#2712)
display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();// Adds "Select all" to context menu in FF
if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=rehide;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);// Select-all will be greyed out if there's nothing to select, so
// this adds a zero-width space so that we can later check whether
// it got selected.
function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval="\u200B"+(selected?te.value:"");te.value="\u21DA";// Used to catch context-menu undo
te.value=extval;input.prevInput=selected?"":"\u200B";te.selectionStart=1;te.selectionEnd=extval.length;// Re-set this, in case some other handler touched the
// selection in the meantime.
display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide){return}input.contextMenuPending=!1;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&9>ie_version){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}// Try to detect the user choosing select-all
if(null!=te.selectionStart){if(!ie||ie&&9>ie_version){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&0<te.selectionEnd&&"\u200B"==input.prevInput){operation(cm,selectAll)(cm)}else if(10>i++){display.detectingSelectAll=setTimeout(poll,500)}else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&9<=ie_version){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}};TextareaInput.prototype.readOnlyChanged=function(val){if(!val){this.reset()}this.textarea.disabled="nocursor"==val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=!1;function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}// Set autofocus to true if this textarea is focused, or if it has
// autofocus and no other element is focused.
if(null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);// Deplorable hack to make the submit method do the right thing.
if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;// Prevent this from being ran twice
save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if("function"==typeof textarea.form.submit){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}// EDITOR CONSTRUCTOR
defineOptions(CodeMirror);addEditorMethods(CodeMirror);// Set up methods on CodeMirror's prototype to redirect to the editor's document.
var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&0>indexOf(dontDelegate,prop)){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput};// Extra arguments are stored as the mode's dependencies, which is
// used by (legacy) mechanisms like loadmode.js to automatically
// load a mode. (Preferred mechanism is the require/define calls.)
CodeMirror.defineMode=function(name/*, mode, …*/){if(!CodeMirror.defaults.mode&&"null"!=name){CodeMirror.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;// Minimal default mode.
CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");// EXTENSIONS
CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.46.0";return CodeMirror});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"),"cjs");else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],function(CM){mod(CM,"amd")});else// Plain browser env
mod(CodeMirror,"plain")})(function(CodeMirror,env){if(!CodeMirror.modeURL)CodeMirror.modeURL="../mode/%N/%N.js";var loading={};function splitCallback(cont,n){var countDown=n;return function(){if(0==--countDown)cont()}}function ensureDeps(mode,cont){var deps=CodeMirror.modes[mode].dependencies;if(!deps)return cont();for(var missing=[],i=0;i<deps.length;++i){if(!CodeMirror.modes.hasOwnProperty(deps[i]))missing.push(deps[i])}if(!missing.length)return cont();for(var split=splitCallback(cont,missing.length),i=0;i<missing.length;++i)CodeMirror.requireMode(missing[i],split)}CodeMirror.requireMode=function(mode,cont){if("string"!=typeof mode)mode=mode.name;if(CodeMirror.modes.hasOwnProperty(mode))return ensureDeps(mode,cont);if(loading.hasOwnProperty(mode))return loading[mode].push(cont);var file=CodeMirror.modeURL.replace(/%N/g,mode);if("plain"==env){var script=document.createElement("script");script.src=file;var others=document.getElementsByTagName("script")[0],list=loading[mode]=[cont];CodeMirror.on(script,"load",function(){ensureDeps(mode,function(){for(var i=0;i<list.length;++i)list[i]()})});others.parentNode.insertBefore(script,others)}else if("cjs"==env){require(file);cont()}else if("amd"==env){requirejs([file],cont)}};CodeMirror.autoLoadMode=function(instance,mode){if(!CodeMirror.modes.hasOwnProperty(mode))CodeMirror.requireMode(mode,function(){instance.setOption("mode",instance.getOption("mode"))})}});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];// Ensure all modes have a mime property for backwards compatibility
for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.mimes)info.mime=info.mimes[0]}CodeMirror.findModeByMIME=function(mime){mime=mime.toLowerCase();for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.mime==mime)return info;if(info.mimes)for(var j=0;j<info.mimes.length;j++)if(info.mimes[j]==mime)return info}if(/\+xml$/.test(mime))return CodeMirror.findModeByMIME("application/xml");if(/\+json$/.test(mime))return CodeMirror.findModeByMIME("application/json")};CodeMirror.findModeByExtension=function(ext){for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.ext)for(var j=0;j<info.ext.length;j++)if(info.ext[j]==ext)return info}};CodeMirror.findModeByFileName=function(filename){for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.file&&info.file.test(filename))return info}var dot=filename.lastIndexOf("."),ext=-1<dot&&filename.substring(dot+1,filename.length);if(ext)return CodeMirror.findModeByExtension(ext)};CodeMirror.findModeByName=function(name){name=name.toLowerCase();for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.name.toLowerCase()==name)return info;if(info.alias)for(var j=0;j<info.alias.length;j++)if(info.alias[j].toLowerCase()==name)return info}}});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),D=kw("keyword d"),operator=kw("operator"),atom={type:"atom",style:"atom"};return{if:kw("if"),while:A,with:A,else:B,do:B,try:B,finally:B,return:D,break:D,continue:D,new:kw("new"),delete:C,void:C,throw:C,debugger:kw("debugger"),var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw("this"),class:kw("class"),super:kw("atom"),yield:C,export:kw("export"),import:kw("import"),extends:C,await:C}}(),isOperatorChar=/[+\-*&%=<>!?|~^@]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){var escaped=/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,next,inSet=!1;while(null!=(next=stream.next())){if(!escaped){if("/"==next&&!inSet)return;if("["==next)inSet=!0/* skipSlots */;else if(inSet&&"]"==next)inSet=!1}escaped=!escaped&&"\\"==next}}// Used as scratch variables to communicate multiple values without
// consing up tons of objects.
var type,content;function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if("\""==ch||"'"==ch){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if("."==ch&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ret("number","number")}else if("."==ch&&stream.match("..")){return ret("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(ch)){return ret(ch)}else if("="==ch&&stream.eat(">")){return ret("=>","operator")}else if("0"==ch&&stream.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i)){return ret("number","number")}else if(/\d/.test(ch)){stream.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/);return ret("number","number")}else if("/"==ch){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return ret("regexp","string-2")}else{stream.eat("=");return ret("operator","operator",stream.current())}}else if("`"==ch){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if("#"==ch){stream.skipToEnd();return ret("error","error")}else if(isOperatorChar.test(ch)){if(">"!=ch||!state.lexical||">"!=state.lexical.type){if(stream.eat("=")){if("!"==ch||"="==ch)stream.eat("=")}else if(/[<>*+\-]/.test(ch)){stream.eat(ch);if(">"==ch)stream.eat(ch)}}return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if("."!=state.lastType){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if("async"==word&&stream.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=!1,next;if(jsonldMode&&"@"==stream.peek()&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}while(null!=(next=stream.next())){if(next==quote&&!escaped)break;escaped=!escaped&&"\\"==next}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=!1,ch;while(ch=stream.next()){if("/"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd="*"==ch}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=!1,next;while(null!=(next=stream.next())){if(!escaped&&("`"==next||"$"==next&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==next}return ret("quasi","string-2",stream.current())}var brackets="([{}])";// This is a crude lookahead trick to try and notice that we're
// parsing the argument patterns for a fat-arrow function before we
// actually hit the arrow token. It only works if the arrow is on
// the same line as the arguments and there's no strange noise
// (comments) in between. Fallback is to only notice when we hit the
// arrow, and not declare the arguments as locals for the arrow
// body.
function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(0>arrow)return;if(isTS){// Try to skip TypeScript return type declarations after the arguments
var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}for(var depth=0,sawSomething=!1,pos=arrow-1;0<=pos;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(0<=bracket&&3>bracket){if(!depth){++pos;break}if(0==--depth){if("("==ch)sawSomething=!0;break}}else if(3<=bracket&&6>bracket){++depth}else if(wordRE.test(ch)){sawSomething=!0}else if(/["'\/]/.test(ch)){return}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}// Parser
var atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(null!=align)this.align=align}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev){for(var v=cx.vars;v;v=v.next)if(v.name==varname)return!0}}function parseJS(state,style,type,content,stream){var cc=state.cc;// Communicate our context to the combinators.
// (Less wasteful than consing up a hundred closures on every call.)
cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=!0;while(!0){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex)cc.pop()();if(cx.marked)return cx.marked;if("variable"==type&&inScope(state,content))return"variable-2";return style}}}// Combinator utils
var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;0<=i;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return!0}function inList(name,list){for(var v=list;v;v=v.next)if(v.name==name)return!0;return!1}function register(varname){var state=cx.state;cx.marked="def";if(state.context){if("var"==state.lexical.info&&state.context&&state.context.block){// FIXME function decls are also not block scoped
var newContext=registerVarScoped(varname,state.context);if(null!=newContext){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return}}// Fall through means this is global
if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars)}function registerVarScoped(varname,context){if(!context){return null}else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,!0)}else if(inList(varname,context.vars)){return context}else{return new Context(context.prev,new Var(varname,context.vars),!1)}}function isModifier(name){return"public"==name||"private"==name||"protected"==name||"abstract"==name||"readonly"==name}// Combinators
function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block}function Var(name,next){this.name=name;this.next=next}var defaultVars=new Var("this",new Var("arguments",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!1);cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!0);cx.state.localVars=null}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}popcontext.lex=!0;function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if("stat"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&")"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};result.lex=!0;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(")"==state.lexical.type)state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}poplex.lex=!0;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(";"==wanted||"}"==type||")"==type||"]"==type)return pass();else return cont(exp)};return exp}function statement(type,value){if("var"==type)return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if("keyword a"==type)return cont(pushlex("form"),parenExpr,statement,poplex);if("keyword b"==type)return cont(pushlex("form"),statement,poplex);if("keyword d"==type)return cx.stream.match(/^\s*$/,!1)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if("debugger"==type)return cont(expect(";"));if("{"==type)return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(";"==type)return cont();if("if"==type){if("else"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if("function"==type)return cont(functiondef);if("for"==type)return cont(pushlex("form"),forspec,statement,poplex);if("class"==type||isTS&&"interface"==value){cx.marked="keyword";return cont(pushlex("form","class"==type?type:value),className,poplex)}if("variable"==type){if(isTS&&"declare"==value){cx.marked="keyword";return cont(statement)}else if(isTS&&("module"==value||"enum"==value||"type"==value)&&cx.stream.match(/^\s*\w/,!1)){cx.marked="keyword";if("enum"==value)return cont(enumdef);else if("type"==value)return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)}else if(isTS&&"namespace"==value){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex)}else if(isTS&&"abstract"==value){cx.marked="keyword";return cont(statement)}else{return cont(pushlex("stat"),maybelabel)}}if("switch"==type)return cont(pushlex("form"),parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if("case"==type)return cont(expression,expect(":"));if("default"==type)return cont(expect(":"));if("catch"==type)return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if("export"==type)return cont(pushlex("stat"),afterExport,poplex);if("import"==type)return cont(pushlex("stat"),afterImport,poplex);if("async"==type)return cont(statement);if("@"==value)return cont(expression,statement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type){if("("==type)return cont(funarg,expect(")"))}function expression(type,value){return expressionInner(type,value,!1)}function expressionNoComma(type,value){return expressionInner(type,value,!0)}function parenExpr(type){if("("!=type)return pass();return cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if("variable"==type)return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if("function"==type)return cont(functiondef,maybeop);if("class"==type||isTS&&"interface"==value){cx.marked="keyword";return cont(pushlex("form"),classExpression,poplex)}if("keyword c"==type||"async"==type)return cont(noComma?expressionNoComma:expression);if("("==type)return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if("operator"==type||"spread"==type)return cont(noComma?expressionNoComma:expression);if("["==type)return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if("{"==type)return contCommasep(objprop,"}",null,maybeop);if("quasi"==type)return pass(quasi,maybeop);if("new"==type)return cont(maybeTarget(noComma));if("import"==type)return cont(expression);return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expression)}function maybeoperatorComma(type,value){if(","==type)return cont(expression);return maybeoperatorNoComma(type,value,!1)}function maybeoperatorNoComma(type,value,noComma){var me=!1==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=!1==noComma?expression:expressionNoComma;if("=>"==type)return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if("operator"==type){if(/\+\+|--/.test(value)||isTS&&"!"==value)return cont(me);if(isTS&&"<"==value&&cx.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if("?"==value)return cont(expression,expect(":"),expr);return cont(expr)}if("quasi"==type){return pass(quasi,me)}if(";"==type)return;if("("==type)return contCommasep(expressionNoComma,")","call",me);if("."==type)return cont(property,me);if("["==type)return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&"as"==value){cx.marked="keyword";return cont(typeexpr,me)}if("regexp"==type){cx.state.lastType=cx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr)}}function quasi(type,value){if("quasi"!=type)return pass();if("${"!=value.slice(value.length-2))return cont(quasi);return cont(expression,continueQuasi)}function continueQuasi(type){if("}"==type){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass("{"==type?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,cx.state);return pass("{"==type?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if("."==type)return cont(noComma?targetNoComma:target);else if("variable"==type&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if("target"==value){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if("target"==value){cx.marked="keyword";return cont(maybeoperatorNoComma)}}function maybelabel(type){if(":"==type)return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if("variable"==type){cx.marked="property";return cont()}}function objprop(type,value){if("async"==type){cx.marked="property";return cont(objprop)}else if("variable"==type||"keyword"==cx.style){cx.marked="property";if("get"==value||"set"==value)return cont(getterSetter);var m;// Work around fat-arrow-detection complication for detecting typescript typed arrow params
if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,!1)))cx.state.fatArrowAt=cx.stream.pos+m[0].length;return cont(afterprop)}else if("number"==type||"string"==type){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if("jsonld-keyword"==type){return cont(afterprop)}else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop)}else if("["==type){return cont(expression,maybetype,expect("]"),afterprop)}else if("spread"==type){return cont(expressionNoComma,afterprop)}else if("*"==value){cx.marked="keyword";return cont(objprop)}else if(":"==type){return pass(afterprop)}}function getterSetter(type){if("variable"!=type)return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(":"==type)return cont(expressionNoComma);if("("==type)return pass(functiondef)}function commasep(what,end,sep){function proceed(type,value){if(sep?-1<sep.indexOf(type):","==type){var lex=cx.state.lexical;if("call"==lex.info)lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},proceed)}if(type==end||value==end)return cont();if(sep&&-1<sep.indexOf(";"))return pass(what);return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if("}"==type)return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(":"==type||"in"==value)return cont(typeexpr);if("?"==value)return cont(maybetype)}}function mayberettype(type){if(isTS&&":"==type){if(cx.stream.match(/^\s*\w+\s+is\b/,!1))return cont(expression,isKW,typeexpr);else return cont(typeexpr)}}function isKW(_,value){if("is"==value){cx.marked="keyword";return cont()}}function typeexpr(type,value){if("keyof"==value||"typeof"==value||"infer"==value){cx.marked="keyword";return cont("typeof"==value?expressionNoComma:typeexpr)}if("variable"==type||"void"==value){cx.marked="type";return cont(afterType)}if("|"==value||"&"==value)return cont(typeexpr);if("string"==type||"number"==type||"atom"==type)return cont(afterType);if("["==type)return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if("{"==type)return cont(pushlex("}"),commasep(typeprop,"}",",;"),poplex,afterType);if("("==type)return cont(commasep(typearg,")"),maybeReturnType,afterType);if("<"==type)return cont(commasep(typeexpr,">"),typeexpr)}function maybeReturnType(type){if("=>"==type)return cont(typeexpr)}function typeprop(type,value){if("variable"==type||"keyword"==cx.style){cx.marked="property";return cont(typeprop)}else if("?"==value||"number"==type||"string"==type){return cont(typeprop)}else if(":"==type){return cont(typeexpr)}else if("["==type){return cont(expect("variable"),maybetype,expect("]"),typeprop)}else if("("==type){return pass(functiondecl,typeprop)}}function typearg(type,value){if("variable"==type&&cx.stream.match(/^\s*[?:]/,!1)||"?"==value)return cont(typearg);if(":"==type)return cont(typeexpr);if("spread"==type)return cont(typearg);return pass(typeexpr)}function afterType(type,value){if("<"==value)return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if("|"==value||"."==type||"&"==value)return cont(typeexpr);if("["==type)return cont(typeexpr,expect("]"),afterType);if("extends"==value||"implements"==value){cx.marked="keyword";return cont(typeexpr)}if("?"==value)return cont(typeexpr,expect(":"),typeexpr)}function maybeTypeArgs(_,value){if("<"==value)return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if("="==value)return cont(typeexpr)}function vardef(_,value){if("enum"==value){cx.marked="keyword";return cont(enumdef)}return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern)}if("variable"==type){register(value);return cont()}if("spread"==type)return cont(pattern);if("["==type)return contCommasep(eltpattern,"]");if("{"==type)return contCommasep(proppattern,"}")}function proppattern(type,value){if("variable"==type&&!cx.stream.match(/^\s*:/,!1)){register(value);return cont(maybeAssign)}if("variable"==type)cx.marked="property";if("spread"==type)return cont(pattern);if("}"==type)return pass();if("["==type)return cont(expression,expect("]"),expect(":"),proppattern);return cont(expect(":"),pattern,maybeAssign)}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if("="==value)return cont(expressionNoComma)}function vardefCont(type){if(","==type)return cont(vardef)}function maybeelse(type,value){if("keyword b"==type&&"else"==value)return cont(pushlex("form","else"),statement,poplex)}function forspec(type,value){if("await"==value)return cont(forspec);if("("==type)return cont(pushlex(")"),forspec1,poplex)}function forspec1(type){if("var"==type)return cont(vardef,forspec2);if("variable"==type)return cont(forspec2);return pass(forspec2)}function forspec2(type,value){if(")"==type)return cont();if(";"==type)return cont(forspec2);if("in"==value||"of"==value){cx.marked="keyword";return cont(expression,forspec2)}return pass(expression,forspec2)}function functiondef(type,value){if("*"==value){cx.marked="keyword";return cont(functiondef)}if("variable"==type){register(value);return cont(functiondef)}if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,statement,popcontext);if(isTS&&"<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type,value){if("*"==value){cx.marked="keyword";return cont(functiondecl)}if("variable"==type){register(value);return cont(functiondecl)}if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&"<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type,value){if("keyword"==type||"variable"==type){cx.marked="type";return cont(typename)}else if("<"==value){return cont(pushlex(">"),commasep(typeparam,">"),poplex)}}function funarg(type,value){if("@"==value)cont(expression,funarg);if("spread"==type)return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg)}if(isTS&&"this"==type)return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){// Class expressions may have an optional name.
if("variable"==type)return className(type,value);return classNameAfter(type,value)}function className(type,value){if("variable"==type){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if("<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if("extends"==value||"implements"==value||isTS&&","==type){if("implements"==value)cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter)}if("{"==type)return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if("async"==type||"variable"==type&&("static"==value||"get"==value||"set"==value||isTS&&isModifier(value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)){cx.marked="keyword";return cont(classBody)}if("variable"==type||"keyword"==cx.style){cx.marked="property";return cont(isTS?classfield:functiondef,classBody)}if("number"==type||"string"==type)return cont(isTS?classfield:functiondef,classBody);if("["==type)return cont(expression,maybetype,expect("]"),isTS?classfield:functiondef,classBody);if("*"==value){cx.marked="keyword";return cont(classBody)}if(isTS&&"("==type)return pass(functiondecl,classBody);if(";"==type||","==type)return cont(classBody);if("}"==type)return cont();if("@"==value)return cont(expression,classBody)}function classfield(type,value){if("?"==value)return cont(classfield);if(":"==type)return cont(typeexpr,maybeAssign);if("="==value)return cont(expressionNoComma);var context=cx.state.lexical.prev,isInterface=context&&"interface"==context.info;return pass(isInterface?functiondecl:functiondef)}function afterExport(type,value){if("*"==value){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if("default"==value){cx.marked="keyword";return cont(expression,expect(";"))}if("{"==type)return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement)}function exportField(type,value){if("as"==value){cx.marked="keyword";return cont(expect("variable"))}if("variable"==type)return pass(expressionNoComma,exportField)}function afterImport(type){if("string"==type)return cont();if("("==type)return pass(expression);return pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){if("{"==type)return contCommasep(importSpec,"}");if("variable"==type)register(value);if("*"==value)cx.marked="keyword";return cont(maybeAs)}function maybeMoreImports(type){if(","==type)return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if("as"==value){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if("from"==value){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if("]"==type)return cont();return pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return"operator"==state.lastType||","==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||"quasi"==state.lastType&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}// Interface
return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,!1),indented:basecolumn||0};if(parserConfig.globalVars&&"object"==typeof parserConfig.globalVars)state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=!1;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"==type)return style;state.lastType="operator"==type&&("++"==content||"--"==content)?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;// Kludge to prevent 'maybelse' from blocking lexical scope pops
if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1,c;0<=i;--i){c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}while(("stat"==lexical.type||"form"==lexical.type)&&("}"==firstChar||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter)))lexical=lexical.prev;if(statementIndent&&")"==lexical.type&&"stat"==lexical.prev.type)lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if("vardef"==type)return lexical.indented+("operator"==state.lastType||","==state.lastType?lexical.info.length+1:0);else if("form"==type&&"{"==firstChar)return lexical.indented;else if("form"==type)return lexical.indented+indentUnit;else if("stat"==type)return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if("switch"==lexical.info&&!closing&&!1!=parserConfig.doubleIndentSwitch)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];if(top==expression||top==expressionNoComma)state.cc.pop()}}});CodeMirror.registerHelper("wordChars","javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";var htmlConfig={autoSelfClosers:{area:!0/* ignoreName */ /* skipSlots */,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};CodeMirror.defineMode("xml",function(editorConf,config_){var indentUnit=editorConf.indentUnit,config={},defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];// Return variables for tokenizers
var type,setStyle;function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if("<"==ch){if(stream.eat("!")){if(stream.eat("[")){if(stream.match("CDATA["))return chain(inBlock("atom","]]>"));else return null}else if(stream.match("--")){return chain(inBlock("comment","-->"))}else if(stream.match("DOCTYPE",!0,!0)){stream.eatWhile(/[\w\._\-]/);return chain(doctype(1))}else{return null}}else if(stream.eat("?")){stream.eatWhile(/[\w\._\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}}else if("&"==ch){var ok;if(stream.eat("#")){if(stream.eat("x")){ok=stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";")}else{ok=stream.eatWhile(/[\d]/)&&stream.eat(";")}}else{ok=stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";")}return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);return null}}inText.isInText=!0;function inTag(stream,state){var ch=stream.next();if(">"==ch||"/"==ch&&stream.eat(">")){state.tokenize=inText;type=">"==ch?"endTag":"selfcloseTag";return"tag bracket"}else if("="==ch){type="equals";return null}else if("<"==ch){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/[\'\"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,state)}else{stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){while(!stream.eol()){if(stream.next()==quote){state.tokenize=inTag;break}}return"string"};closure.isInAttribute=!0;return closure}function inBlock(style,terminator){return function(stream,state){while(!stream.eol()){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;while(null!=(ch=stream.next())){if("<"==ch){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(">"==ch){if(1==depth){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context;this.tagName=tagName;this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)this.noIndent=!0}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;while(!0){if(!state.context){return}parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)){return}popContext(state)}}function baseState(type,stream,state){if("openTag"==type){state.tagStart=stream.column();return tagNameState}else if("closeTag"==type){return closeTagNameState}else{return baseState}}function tagNameState(type,stream,state){if("word"==type){state.tagName=stream.current();setStyle="tag";return attrState}else if(config.allowMissingTagName&&"endTag"==type){setStyle="tag bracket";return attrState(type,stream,state)}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if("word"==type){var tagName=stream.current();if(state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName))popContext(state);if(state.context&&state.context.tagName==tagName||!1===config.matchClosing){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else if(config.allowMissingTagName&&"endTag"==type){setStyle="tag bracket";return closeState(type,stream,state)}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if("endTag"!=type){setStyle="error";return closeState}popContext(state);return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if("word"==type){setStyle="attribute";return attrEqState}else if("endTag"==type||"selfcloseTag"==type){var tagName=state.tagName,tagStart=state.tagStart;state.tagName=state.tagStart=null;if("selfcloseTag"==type||config.autoSelfClosers.hasOwnProperty(tagName)){maybePopContext(state,tagName)}else{maybePopContext(state,tagName);state.context=new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if("equals"==type)return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if("string"==type)return attrContinuedState;if("word"==type&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,stream,state){if("string"==type)return attrContinuedState;return attrState(type,stream,state)}return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(null!=baseIndent)state.baseIndent=baseIndent;return state},token:function(stream,state){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&"comment"!=style){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style="error"==setStyle?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;// Indent multi-line strings (e.g. css).
if(state.tokenize.isInAttribute){if(state.tagStart==state.indented)return state.stringStartCol+1;else return state.indented+indentUnit}if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;// Indent the starts of attribute names.
if(state.tagName){if(!1!==config.multilineTagIndentPastTag)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1)}if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1]){// Closing tag spotted
while(context){if(context.tagName==tagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(context.tagName)){context=context.prev}else{break}}}else if(tagAfter){// Opening tag spotted
while(context){var grabbers=config.contextGrabbers[context.tagName];if(grabbers&&grabbers.hasOwnProperty(tagAfter[2]))context=context.prev;else break}}while(context&&context.prev&&!context.startOfLine)context=context.prev;if(context)return context.indent+indentUnit;else return state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0})});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";var defaultTags={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function maybeBackup(stream,pat,style){var cur=stream.current(),close=cur.search(pat);if(-1<close){stream.backUp(cur.length-close)}else if(cur.match(/<\/?$/)){stream.backUp(cur.length);if(!stream.match(pat,/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */))stream.match(cur)}return style}var attrRegexpCache={};function getAttrRegexp(attr){var regexp=attrRegexpCache[attr];if(regexp)return regexp;return attrRegexpCache[attr]=new RegExp("\\s+"+attr+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function getAttrValue(text,attr){var match=text.match(getAttrRegexp(attr));return match?/^\s*(.*?)\s*$/.exec(match[2])[1]:""}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</s*"+tagName+"s*>","i")}function addTags(from,to){for(var tag in from){for(var dest=to[tag]||(to[tag]=[]),source=from[tag],i=source.length-1;0<=i;i--)dest.unshift(source[i])}}function findMatchingMode(tagInfo,tagText){for(var i=0,spec;i<tagInfo.length;i++){spec=tagInfo[i];if(!spec[0]||spec[1].test(getAttrValue(tagText,spec[0])))return spec[2]}}CodeMirror.defineMode("htmlmixed",function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:!0/* skipSlots */,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag}),tags={},configTags=parserConfig&&parserConfig.tags,configScript=parserConfig&&parserConfig.scriptTypes;addTags(defaultTags,tags);if(configTags)addTags(configTags,tags);if(configScript)for(var i=configScript.length-1;0<=i;i--)tags.script.unshift(["type",configScript[i].matches,configScript[i].mode]);function html(stream,state){var style=htmlMode.token(stream,state.htmlState),tag=/\btag\b/.test(style),tagName;if(tag&&!/[<>\s\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&tags.hasOwnProperty(tagName)){state.inTag=tagName+" "}else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=">"==stream.current()&&findMatchingMode(tags[inTag[1]],inTag[2]),mode=CodeMirror.getMode(config,modeSpec),endTagA=getTagRegexp(inTag[1],!0),endTag=getTagRegexp(inTag[1],!1);state.token=function(stream,state){if(stream.match(endTagA,!1)){state.token=html;state.localState=state.localMode=null;return null}return maybeBackup(stream,endTag,state.localMode.token(stream,state.localState))};state.localMode=mode;state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,"",""))}else if(state.inTag){state.inTag+=stream.current();if(stream.eol())state.inTag+=" "}return style};return{startState:function(){var state=CodeMirror.startState(htmlMode);return{token:html,inTag:null,localMode:null,localState:null,htmlState:state}},copyState:function(state){var local;if(state.localState){local=CodeMirror.copyState(state.localMode,state.localState)}return{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter,line){if(!state.localMode||/^\s*<\//.test(textAfter))return htmlMode.indent(state.htmlState,textAfter,line);else if(state.localMode.indent)return state.localMode.indent(state.localState,textAfter,line);else return CodeMirror.Pass},innerMode:function(state){return{state:state.localState||state.htmlState,mode:state.localMode||htmlMode}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed")});</script><dom-module id="code-mirror" assetpath="bower_components/code-mirror/"><template strip-whitespace=""><style include="codemirror">:host{display:block;position:relative;@apply --code-mirror;}#content{display:none;}#wrapper{@apply --code-mirror-wrapper;}#wrapper .CodeMirror{@apply --code-mirror-editor;}</style><div id="wrapper"></div><div id="content"><slot></slot></div><div class="hints"><slot name="hints"></slot></div></template><script>/**
   * [![Published on webcomponents.org](https://img.shields.io/badge/webcomponents.org-published-blue.svg)](https://www.webcomponents.org/element/owner/my-element)
   * Web component wrapping for [CodeMirror](http://codemirror.net)
   *
   * ```
   * <custom-element-demo>
   *  <template>
   *    <link rel="import" href="code-mirror.html">
   *    <next-code-block></next-code-block>
   *  </template>
   * </custom-element-demo>
   * ```
   * ```html
   * <code-mirror required></code-mirror>
   * ```
   *
   * ## What is this?
   *
   * Code-Mirror is a Web Component made with [Polymer](https://www.polymer-project.org/)
   * that wraps a default text-area with CodeMirror's highlight syntax, plugins and options.
   *
   * ### Example:
   *
   * ```html
   * ...
   * <head>
   *  <link rel="import" href="bower_components/code-mirror/code-mirror.html"/>
   * </head>
   * <body>
   *  <code-mirror mode="javascript" on-change="valueChanged">
   *    function myScript() {
   *      return 100;
   *    }
   *  </code-mirror>
   * </body>
   * ```
   *
   * The `<code-mirror>` element must be initialized with the `mode` property.
   * Otherwise it will initialize itself without any syntaxt highlighting,
   * indent and autofill support.
   *
   * ## Accessing options
   *
   * The element exposes `setOption()` function that should be used to set
   * editor options.
   *
   * ```javascript
   * this.$.cm.setOption('extraKeys', {
   *  'Ctrl-Space': (cm) => {
   *    CodeMirror.showHint(cm, CodeMirror.hint['http-headers'], {
   *      container: this.shadowRoot
   *    });
   *  }
   * });
   * ```
   * Additionaly the element has the `editor` property which is a refferene to CodeMirror instance.
   *
   * ## Rendering hidden element
   *
   * CodeMirror has issues with rendering while the element is hidden.
   * If the element is active but not visible (e.g. in `<iron-pages>` element)
   * then you may want to call `refresh()` function on a CodeMirror instance
   * after showing the element.
   *
   * ## Changes in version 2
   *
   * - Theming is made exclusively by CSS variables. `theme` property has been
   * re moved and the component doesn't contain any theme definition.
   * - Property change observers will not set option on the editor if not the
   * value is not set by calling `setAttribute()` or `removeAttribute`.
   * The element uses `attributeChanged()` callback which only works when element
   * attribute change. Exception is `lint` property wich require to pass
   * complex object.
   * - Hints can now be appended as a child of this element with `slot="hints"`
   * attribute. The element handles styling of hints. Use `code-mirror-hints`
   * module for hints support and example implementation.
   * - lineNumber has been removed since setting this option render the editor
   * incorrectly. It is a problem with CM library and not tthe element.
   *
   * ## Styling
   *
   * `<code-mirror>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--code-mirror` | Mixin applied to the element | `{}`
   * `--code-mirror-wrapper` | Mixin applied to the wrapper element (where the CM is rendered) | `{}`
   * `--code-mirror-editor` | Mixin applied to the editor element  | `{}`
   *
   * See `codemirror-styles.html` file for detailed theme instruction.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin Polymer.IronFormElementBehavior
   */class CodeMirrorElement extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior,Polymer.IronFormElementBehavior],Polymer.Element){static get is(){return"code-mirror"}static get properties(){return{/**
         * An array of options to set after the editor has been created.
         *
         * @type {Array}
         */_pendingOptions:{type:Array},/**
         * Editor's value.
         * If set at initialization time any content inside this element will be replaced by this
         * value.
         *
         * @type {String}
         */value:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"},/**
         * The mode to use. When not given, this will default to the first mode that was loaded.
         * It may be a string, which either simply names the mode or is a MIME type associated with
         * the mode.
         * Alternatively, it may be an object containing configuration options for the mode, with
         * a name property that names the mode. For example
         * <code>{name: "javascript", json: true}</code>
         *
         * @type {String}
         */mode:{type:String,value:function(){return{name:"javascript",json:!0}},observer:"_modeChanged"},/**
         * Explicitly set the line separator for the editor. By default (value null), the document
         * will be split on CRLFs as well as lone CRs and LFs, and a single LF will be used as line
         * separator in all output.
         *
         * @type {String}
         */lineSeparator:{type:String,observer:"_lineSeparatorChanged"},/**
         * The width of a tab character.
         * Defaults to 2.
         *
         * @type {Number}
         */tabSize:{type:Number,observer:"_tabSizeChanged"},/**
         * Whether to use the context-sensitive indentation that the mode provides (or just indent
         * the same as the line before).
         *
         * @type {Boolean}
         */smartIndent:{type:Boolean,observer:"_smartIndentChanged"},/**
         * Configures the key map to use. The default is "default", which is the only key map
         * defined in codemirror.js itself.
         *
         * @type {String}
         */keyMap:{type:String,observer:"_keyMapChanged"},/**
         * Whether CodeMirror should scroll or wrap for long lines. Defaults to false (scroll).
         *
         * @type {Boolean}
         */lineWrapping:{type:Boolean,observer:"_lineWrappingChanged"},/**
         * This disables editing of the editor content by the user. If the special value "nocursor"
         * is given (instead of simply true), focusing of the editor is also disallowed.
         *
         * @type {Boolean}
         */readOnly:{type:Boolean,observer:"_readOnlyChanged"},/**
         * Whether the cursor should be drawn when a selection is active.
         *
         * @type {Boolean}
         */showCursorWhenSelecting:{type:Boolean,observer:"_showCursorWhenSelectingChanged"},/**
         * When enabled, which is the default, doing copy or cut when there is no selection will
         * copy or cut the whole lines that have cursors on them.
         *
         * @type {Boolean}
         */lineWiseCopyCut:{type:Boolean,observer:"_lineWiseCopyCutChanged"},/**
         * The maximum number of undo levels that the editor stores. Note that this includes
         * selection change events. Defaults to 200.
         *
         * @type {Boolean}
         */undoDepth:{type:Number,observer:"_undoDepthChanged"},/**
         * The period of inactivity (in milliseconds) that will cause a new history event to be
         * started when typing or deleting. Defaults to 1250.
         *
         * @type {Number}
         */historyEventDelay:{type:Number,observer:"_historyEventDelayChanged"},/**
         * Can be used to make CodeMirror focus itself on initialization. Defaults to off.
         *
         * @type {Boolean}
         */autofocus:{type:Boolean,observer:"_autofocusChanged"},/**
         * An option for CodeMirror's gutters.
         * For example `['CodeMirror-lint-markers']`
         */gutters:{type:Array,observer:"_guttersChanged"},/**
         * Lint option. It should be a linter object used to lint the
         * value.
         *
         * This option works when `../codemirror/addon/lint.lint.js` is
         * imcluded into the document.
         */lint:{type:Object,observer:"_lintChanged"},/**
         * A reference to the CodeMirror instance.
         *
         * @type {Object}
         */editor:{type:Object,readOnly:!0},/**
         * Location of codemirror directory where CM's assests are located
         * If not set it will use `../codemirror` as a default location
         */importLocation:String}}/**
     * @constructor
     */constructor(){super();this._onChangeHandler=this._onChangeHandler.bind(this);this._onBeforeChangeHnalder=this._onBeforeChangeHnalder.bind(this)}ready(){super.ready();const defaultPath=this.importLocation||"../codemirror",resolved=this.resolveUrl(defaultPath+"/");/* global CodeMirror*/CodeMirror.modeURL=resolved+"mode/%N/%N.js";if(!this.value){this.value=this.textContent.trim()}try{const editor=CodeMirror(this.$.wrapper,{value:this.value,mode:this.mode});this._setEditor(editor);Polymer.RenderStatus.afterNextRender(this,()=>this._setPendingOptions())}catch(e){console.error("Unable to initialize CodeMirror.",e);this.fire("error",e)}}/**
     * Sets options to an editor that has been set before the editor was created
     */_setPendingOptions(){if(!this._pendingOptions){return}this._pendingOptions.forEach(item=>{this.setOption(item.option,item.value);if(item.post){try{item.post()}catch(e){}}});this._pendingOptions=void 0}connectedCallback(){super.connectedCallback();if(!this.editor){return}this.editor.on("change",this._onChangeHandler);this.editor.on("beforeChange",this._onBeforeChangeHnalder);this.editor.refresh()}disconnectedCallback(){super.disconnectedCallback();if(!this.editor){return}this.editor.off("change",this._onChangeHandler);this.editor.off("beforeChange",this._onBeforeChangeHnalder)}/**
     * Focus cursor on an editor.
     */focus(){if(!this.editor){return}this.editor.focus()}/**
     * Set option on an editor.
     *
     * @param {String} option An option name to setOption
     * @param {Any} value A value to be set.
     */setOption(option,value){if(!this.editor){if(!this._pendingOptions){this._pendingOptions=[]}this._pendingOptions.push({option:option,value:value});return}this.editor.setOption(option,value)}/**
     * Handler for the `lint` property change.
     *
     * @param {Object} value Linter to use with the editor.
     */_lintChanged(value){this.setOption("lint",value)}/**
     * Set an editor value when `value` property changed.
     */_valueChanged(value){if(!this.editor){return}if(this.editor.getValue()!==value&&value!==void 0&&null!==value){if("string"!==typeof value){value=value+""}this.editor.setValue(value)}else if(value===void 0||null===value){this.editor.setValue("")}}/** Auto-called when mode has changed */_modeChanged(val){if(!val||val.indexOf&&0===val.indexOf("application/json")){this.set("mode",{name:"javascript",json:!0});return}let mode,spec,info;const m=/.+\.([^.]+)$/.exec(val);if(m){info=CodeMirror.findModeByExtension(m[1]);if(info){mode=info.mode;spec=info.mime}}else if(/\//.test(val)){info=CodeMirror.findModeByMIME(val);if(info){mode=info.mode;spec=val}}else{mode=spec=val}if(!this.editor){if(!this._pendingOptions){this._pendingOptions=[]}this._pendingOptions.push({option:"mode",value:mode,post:function(){CodeMirror.autoLoadMode(this.editor,mode)}.bind(this)});return}if(!mode){// spec = 'text/html';
// mode = 'htmlmixed';
// disable CM
this.setOption("mode",null);return}this.setOption("mode",spec);CodeMirror.autoLoadMode(this.editor,mode)}_onChangeHandler(){this.set("value",this.editor.getValue())}_onBeforeChangeHnalder(instance,changeObj){const ev=new CustomEvent("before-change",{detail:{change:changeObj},cancelable:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,bubbles:!1,composed:!1});this.dispatchEvent(ev);if(ev.detail.change.canceled){this.set("value",this.editor.getValue())}}_getValidity(){if(this.required&&!this.value){return!1}return!0}_smartIndentChanged(value){this.setOption("smartIndent",value)}_readOnlyChanged(value){this.setOption("readOnly",value)}_showCursorWhenSelectingChanged(value){this.setOption("showCursorWhenSelecting",value)}_lineWiseCopyCutChanged(value){this.setOption("lineWiseCopyCut",value)}_autofocusChanged(value){this.setOption("autofocus",value)}_guttersChanged(value){this.setOption("gutters",value)}_historyEventDelayChanged(value){this.setOption("historyEventDelay",value)}_undoDepthChanged(value){this.setOption("undoDepth",value)}_lineWrappingChanged(value){this.setOption("lineWrapping",value)}_tabSizeChanged(value){this.setOption("tabSize",value)}_lineSeparatorChanged(value){this.setOption("lineSeparator",value)}_keyMapChanged(value){this.setOption("keyMap",value)}/**
     * Fired before a change is applied, and its handler may choose to modify or
     * cancel the change.
     *
     * @event before-change
     * @param {Object} change It has `from`, `to`, and `text` properties, as with the `change`
     * event.
     *
     *    It also has a `cancel()` method, which can be called to cancel the change, and, if the
     *  change isn't coming from an undo or redo event, an `update(from, to, text)` method, which
     *  may be used to modify the change.
     */}window.customElements.define(CodeMirrorElement.is,CodeMirrorElement);</script></dom-module><dom-module id="code-mirror-hint-container" assetpath="bower_components/code-mirror-hint/"><template><style>:host{@apply --shadow-elevation-4dp;}</style><div class="container"><slot></slot></div></template><script>/**
     * `code-mirror-hint-container`
     * UI element for hint display.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */class CodeMirrorHintContainer extends Polymer.Element{static get is(){return"code-mirror-hint-container"}}window.customElements.define(CodeMirrorHintContainer.is,CodeMirrorHintContainer);</script></dom-module><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
(function(mod){if("object"===typeof exports&&"object"===typeof module){// CommonJS
mod(require("../../lib/codemirror"))}else if("function"===typeof define&&define.amd){// AMD
define(["../../lib/codemirror"],mod)}else{// Plain browser env
mod(CodeMirror)}})(function(CodeMirror){'use strict';CodeMirror.defineMode("http-headers",function(){function failRest(stream,state){stream.skipToEnd();state.cur=failRest;return"error"}function header(stream){if(stream.sol()&&!stream.eat(/[ \t]/)){if(stream.match(/^.*?:/)){return"atom"}else{stream.skipToEnd();return"error"}}else{stream.skipToEnd();return"string"}}return{token:function(stream,state){var cur=state.cur;if(!cur||cur!==header&&stream.eatSpace()){return null}return cur(stream,state)},blankLine:function(state){state.cur=failRest},startState:function(){return{cur:header}}}});CodeMirror.defineMIME("message/http-headers","http-headers")});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module){// CommonJS
mod(require("./../lib/codemirror"))}else if("function"==typeof define&&define.amd){// AMD
define(["../../lib/codemirror"],mod)}else{// Plain browser env
mod(CodeMirror)}})(function(CodeMirror){'use strict';var HINT_ELEMENT_CLASS="CodeMirror-hint",ACTIVE_HINT_ELEMENT_CLASS="iron-selected";// This is the old interface, kept around for now to stay
// backwards-compatible.
CodeMirror.showHint=function(cm,getHints,options){if(!getHints){return cm.showHint(options)}if(options&&options.async){getHints.async=!0/* ignoreName */ /* skipSlots */}var newOpts={hint:getHints};if(options){for(var prop in options){newOpts[prop]=options[prop]}}return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){// We want a single cursor position.
if(1<this.listSelections().length||this.somethingSelected()){return}if(this.state.completionActive){this.state.completionActive.close()}var completion=this.state.completionActive=new Completion(this,options);if(!completion.options.hint){return}CodeMirror.signal(this,"startCompletion",this);completion.update(!0)});function Completion(cm,options){this.cm=cm;this.options=this.buildOptions(options);this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor();this.startLen=this.cm.getLine(this.startPos.line).length;var self=this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active()){return}this.cm.state.completionActive=null;this.tick=null;this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data){CodeMirror.signal(this.data,"close")}if(this.widget){this.widget.close()}CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i];if(completion.hint){completion.hint(this.cm,data,completion)}else{this.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete")}CodeMirror.signal(data,"pick",completion);this.close()},cursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var pos=this.cm.getCursor(),line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<this.startPos.ch||this.cm.somethingSelected()||pos.ch&&this.options.closeCharacters.test(line.charAt(pos.ch-1))){this.close()}else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});if(this.widget){this.widget.disable()}}},update:function(first){if(null==this.tick){return}if(this.data){CodeMirror.signal(this.data,"update")}if(!this.options.hint.async){this.finishUpdate(this.options.hint(this.cm,this.options),first)}else{var myTick=++this.tick,self=this;this.options.hint(this.cm,function(data){if(self.tick==myTick){self.finishUpdate(data,first)}},this.options)}},finishUpdate:function(data,first){this.data=data;var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget){this.widget.close()}if(data&&data.list.length){if(picked&&1==data.list.length){this.pick(data,0)}else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}},buildOptions:function(options){var editor=this.cm.options.hintOptions,out={};for(var prop in defaultOptions){out[prop]=defaultOptions[prop]}if(editor){for(var prop in editor){if(editor[prop]!==void 0){out[prop]=editor[prop]}}}if(options){for(var prop in options){if(options[prop]!==void 0){out[prop]=options[prop]}}}return out}};function getText(completion){if("string"===typeof completion){return completion}else{return completion.text}}function buildKeyMap(completion,handle){var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,!0)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,!0)},Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close},custom=completion.options.customKeys,ourMap=custom?{}:baseMap;function addBinding(key,val){var bound;if("string"!==typeof val){bound=function(cm){return val(cm,handle)};// This mechanism is deprecated
}else if(baseMap.hasOwnProperty(val)){bound=baseMap[val]}else{bound=val}ourMap[key]=bound}if(custom){for(var key in custom){if(custom.hasOwnProperty(key)){addBinding(key,custom[key])}}}var extra=completion.options.extraKeys;if(extra){for(var key in extra){if(extra.hasOwnProperty(key)){addBinding(key,extra[key])}}}return ourMap}function getHintElement(hintsElement,el){while(el&&el!=hintsElement){if("LI"===el.nodeName.toUpperCase()&&el.parentNode===hintsElement){return el}el=el.parentNode}}function Widget(completion,data){this.completion=completion;this.data=data;this.picked=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;var widget=this,cm=completion.cm,hints=this.hints=document.createElement("code-mirror-hint-container");hints.slot="hints";hints.className="CodeMirror-hints";this.selectedHint=data.selectedHint||0;var container=document.createElement("paper-listbox");container.selected=0;hints.appendChild(container);for(var completions=data.list,i=0;i<completions.length;++i){var elt=container.appendChild(document.createElement("paper-item")),cur=completions[i],className=HINT_ELEMENT_CLASS+(i!==this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);if(null!==cur.className){className=cur.className?cur.className+" "+className:className}elt.className=className;if(cur.render){cur.render(elt,data,cur)}else{elt.appendChild(document.createTextNode(cur.displayText||getText(cur)))}elt.hintId=i}if("DIV"===hints.children[0].children[0].nodeName){this._indexOffset=1}else{this._indexOffset=0}var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null,"local"),left=pos.left,top=pos.bottom,below=!0;hints.style.left=left+"px";hints.style.top=top+"px";// If we're at the edge of the screen, then we want the menu to appear on the left of the
// cursor.
var winW=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),winH=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(completion.options.container||document.body).appendChild(hints);var box=hints.getBoundingClientRect(),overlapY=box.bottom-winH;if(0<overlapY){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(0<curTop-height){// Fits above cursor
hints.style.top=(top=pos.top-height)+"px";below=!1}else if(height>winH){hints.style.height=winH-5+"px";hints.style.top=(top=pos.bottom-box.top)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(0<overlapX){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX-=box.right-box.left-winW}hints.style.left=(left=pos.left-overlapX)+"px"}cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}var startScroll=cm.getScrollInfo();cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo(),editor=cm.getWrapperElement().getBoundingClientRect(),newTop=top+startScroll.top-curScroll.top,point=newTop-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(!below){point+=hints.offsetHeight}if(point<=editor.top||point>=editor.bottom){return completion.close()}hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints.children[0],e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints.children[0],e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick){widget.pick()}}});CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});CodeMirror.signal(data,"select",completions[0],hints.children[0].firstChild);return!0}Widget.prototype={close:function(){if(this.completion.widget!=this){return}this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var widget=this;this.keyMap={Enter:function(){widget.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,avoidWrap){// i += this._indexOffset;
if(i>=this.data.list.length){i=avoidWrap?this.data.list.length-1:0}else if(0>i){i=avoidWrap?0:this.data.list.length-1}if(this.selectedHint===i){return}var selectedHint=this.selectedHint+this._indexOffset,node=this.hints.children[0].children[selectedHint];node.classList.remove(ACTIVE_HINT_ELEMENT_CLASS);selectedHint=i+this._indexOffset;this.selectedHint=i;node=this.hints.children[0].children[selectedHint];node.classList.add(ACTIVE_HINT_ELEMENT_CLASS);if(node.offsetTop<this.hints.scrollTop){this.hints.scrollTop=node.offsetTop-3}else if(node.offsetTop+node.offsetHeight>this.hints.scrollTop+this.hints.clientHeight){this.hints.scrollTop=node.offsetTop+node.offsetHeight-this.hints.clientHeight+3}CodeMirror.signal(this.data,"select",this.data.list[selectedHint],node)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.children[0].children[0].offsetHeight)||1}};CodeMirror.registerHelper("hint","auto",function(cm,options){var helpers=cm.getHelpers(cm.getCursor(),"hint"),words;if(helpers.length){for(var i=0,cur;i<helpers.length;i++){cur=helpers[i](cm,options);if(cur&&cur.list.length){return cur}}}else if(words=cm.getHelper(cm.getCursor(),"hintWords")){if(words){return CodeMirror.hint.fromList(cm,{words:words})}}else if(CodeMirror.hint.anyword){return CodeMirror.hint.anyword(cm,options)}});CodeMirror.registerHelper("hint","fromList",function(cm,options){for(var cur=cm.getCursor(),token=cm.getTokenAt(cur),found=[],i=0,word;i<options.words.length;i++){word=options.words[i];if(word.slice(0,token.string.length)===token.string){found.push(word)}}if(found.length){return{list:found,from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)}}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};CodeMirror.defineOption("hintOptions",null)});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module){// CommonJS
mod(require("../../lib/codemirror"))}else if("function"==typeof define&&define.amd){// AMD
define(["../../lib/codemirror"],mod)}else{// Plain browser env
mod(CodeMirror)}})(function(CodeMirror){'use strict';var Pos=CodeMirror.Pos,accept=["*/*","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, "+"application/x-ms-xbap, application/x-shockwave-flash, application/msword, */*","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg,"+" image/gif, image/x-xbitmap, */*;q=0.1","image/png,image/*;q=0.8,*/*;q=0.5","audio/webm, audio/ogg, audio/wav, audio/*;q=0.9, application/ogg;q=0.7, video/*;q=0.6; "+"*/*;q=0.5","video/webm, video/ogg, video/*;q=0.9, application/ogg=0.7, audio/*;q=0.6; */*;q=0.5","application/javascript, */*;q=0.8","text/css,*/*;q=0.1","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg"+", image/gif, image/x-xbitmap, */*;q=0.1"],contentTypes=["application/json","application/xml","application/atom+xml","multipart-form-data","application/x-www-form-urlencoded","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"],authorizationHeaders=["Basic {base64 of user:password}","Bearer {OAuth2 bearer}"],authorizationParams={"base64 of user:password":{type:String,call:"authorizationBasic"},"OAuth2 bearer":{type:String,call:"authorizationGoogleOauth2"}},headersStructure=[{key:"Accept",values:accept},{key:"Accept-Charset",values:["UTF-8","UTF-16","ISO-8859-1","ISO-8859-1,utf-8;q=0.7,*;q=0.7"]},{key:"Accept-Encoding",values:["compress","gzip","deflate","identity","br","*","gzip, deflate, sdch"]},{key:"Accept-Language",values:["en-US","cad","en-gb;q=0.8, en;q=0.7"]},{key:"Authorization",values:authorizationHeaders,params:authorizationParams},{key:"Access-Control-Request-Method",values:["GET","POST","PUT","DELETE"]},{key:"Access-Control-Request-Headers",values:["{list-of-headers}"],params:{"list-of-headers":{type:String}}},{key:"Cache-Control",values:["no-cache","no-store","max-age={seconds}","max-stale={seconds}","min-fresh={seconds}","no-transform","only-if-cached"],params:{seconds:{type:Number}}},{key:"Connection",values:["close","keep-alive"]},{key:"Content-MD5",values:["{md5-of-message}"],params:{"length-in-bytes":{type:String}}},{key:"Content-Length",values:["{length-in-bytes}"],params:{"length-in-bytes":{type:Number}}},{key:"Content-Type",values:contentTypes/*,
    params: {
      '*': {
        type: String,
        call: 'contentType'
      }
    }*/},{key:"Cookie",values:["{cookie name}={cookie value}","{cookie name}={cookie value}; expires={insert GMT date here}; domain={domain.com}; "+"path=/; secure"],params:{"*":{type:String,call:"cookie"}}},{key:"Date",values:["{insert GMT date here}"]},{key:"DNT",values:[0,1]},{key:"Expect",values:["200-OK","100-continue"]},{key:"From",values:["user@domain.com"]},{key:"Front-End-Https",values:["on","off"]},{key:"Host",values:["www.domain.com","www.domain.com:80"]},{key:"If-Match",values:["{insert entity tag}"]},{key:"If-Modified-Since",values:["{insert GMT date here}"]},{key:"If-None-Match",values:["{insert entity tag}"]},{key:"If-Range",values:["{insert entity tag}","{insert GMT date here}"]},{key:"If-Unmodified-Since",values:["{insert GMT date here}"]},{key:"Max-Forwards",values:["{number of forwards}"],params:{"number of forwards":{type:Number}}},{key:"Origin",values:[]},{key:"Pragma",values:["no-cache"]},{key:"Proxy-Authorization",values:authorizationHeaders,params:authorizationParams},{key:"Proxy-Connection",values:["close","keep-alive"]},{key:"Range",values:["bytes={from bytes}-{to bytes}","bytes=-{final bytes}"]},{key:"Referer",values:["{http://www.domain.com/}"]},{key:"TE",values:["{header name}","trailers, deflate;q=0.5"]},{key:"Upgrade",values:["HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11"]},{key:"User-Agent",values:[navigator.userAgent,"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20120101 Firefox/33.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:33.0) Gecko/20100101 Firefox/33.0","Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.75.14 (KHTML, like Gecko)"+" Version/7.0.3 Safari/7046A194A","Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; WOW64; Trident/4.0; SLCC1)","Mozilla/5.0 (MSIE 10.0; Windows NT 6.1; Trident/5.0)","Mozilla/5.0 (iPhone; CPU iPhone OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gec"+"ko) Version/6.0 Mobile/10A5376e Safari/8536.25","Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) "+"Version/6.0 Mobile/10A5376e Safari/8536.25","Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, "+"like Gecko) Chrome/34.0.1847.114 Mobile Safari/537.36","Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM;"+" Touch; NOKIA; Lumia 920)"]},{key:"Via",values:[]},{key:"Warning",values:["{code} {agent} {message} {date}"],properties:{code:{type:Number},agent:{type:String},message:{type:String},date:{type:Date}}},{key:"X-ATT-DeviceId",values:[]},{key:"X-Forwarded-For",values:[]},{key:"X-Forwarded-Proto",values:["http","https"]},{key:"X-Requested-With",values:["XMLHttpRequest"]},{key:"X-Wap-Profile",values:[]}];function getToken(editor,cur){return editor.getTokenAt(cur)}/**
   * Get all keywords (headers names).
   * @param {Array} headersStructure List of possible headers
   * @return {Array} Array of founded header names.
   */var getKeywords=function(headersStructure){for(var keywords=[],clb=function(header,cm,data,completion){cm.replaceRange(completion.text+": ",data.from,data.to);CodeMirror.signal(cm,"header-key-selected",completion.text)},i=0;i<headersStructure.length;i++){keywords.push({text:headersStructure[i].key,hint:clb.bind(this,headersStructure[i])})}return keywords},getHeaderValuesFor=function(headersStructure,key){for(var keywords=[],clb=function(header,cm,data,completion){cm.replaceRange(completion.text,data.from,data.to);CodeMirror.signal(cm,"header-value-selected",completion.text);if(header.params&&header.params["*"]&&header.params["*"].call){var fromChar=Math.min(data.from.ch,data.to.ch),charTo=fromChar+completion.text.length,line=data.from.line;cm.setSelection({line:line,ch:fromChar},{line:line,ch:charTo});CodeMirror.signal(cm,"header-value-support",{type:header.params["*"],key:header.key,value:completion.text})}else{var match=completion.text.match(/\{(.*?)\}/);if(match){if(header.params&&(match[1]in header.params)){var fromChar=Math.min(data.from.ch,data.to.ch),line=data.from.line;fromChar+=completion.text.indexOf("{");var charTo=fromChar+match[1].length+2;cm.setSelection({line:line,ch:fromChar},{line:line,ch:charTo});CodeMirror.signal(cm,"header-value-support",{type:header.params[match[1]],key:header.key,value:completion.text})}}}},i=0;i<headersStructure.length;i++){if(headersStructure[i].key.toLowerCase()===key){for(var valuesLenght=headersStructure[i].values&&headersStructure[i].values.length||0,j=0;j<valuesLenght;j++){var item=headersStructure[i].values[j],completion={text:item,hint:clb.bind(this,headersStructure[i])};keywords.push(completion)}break}}return keywords},cleanResults=function(text,keywords){var results=[],i=0;for(i=0;i<keywords.length;i++){if(keywords[i].text){if(keywords[i].text.toLowerCase().substring(0,text.length)===text){results.push(keywords[i])}}else{if(keywords[i].toLowerCase().substring(0,text.length)===text){results.push(keywords[i])}}}return results};function getHints(editor){var cur=editor.getCursor(),token=getToken(editor,cur),tokenString=!!token.string?"":token.string.trim(),keywords=[],i=0,fromCur={line:cur.line,ch:cur.ch+2},toCur={line:cur.line,ch:cur.ch},flagClean=!0/* ignoreName */ /* skipSlots */,last=editor.getRange({line:cur.line,ch:cur.ch-1},cur),last2=editor.getRange({line:cur.line,ch:cur.ch-2},cur);if(":"===last||": "===last2||","===last||", "===last2){var key=editor.getRange({line:cur.line,ch:0},cur);if(!key){key=""}key=key.substr(0,key.indexOf(":")).trim().toLowerCase();keywords=getHeaderValuesFor(headersStructure,key)}else if(""!==editor.getRange({line:cur.line,ch:0},cur).trim()){var prev=editor.getRange({line:cur.line,ch:0},cur).trim();if(-1<prev.indexOf(":")){//looking for value
tokenString=prev.substr(prev.indexOf(":")+1).trim().toLowerCase();keywords=getHeaderValuesFor(headersStructure,key)}else{//looking for header name starting with...
tokenString=prev.toLowerCase();keywords=getKeywords(headersStructure)}fromCur.ch=token.start}else{for(i=0;i<headersStructure.length;i++){keywords=getKeywords(headersStructure)}}if(!0===flagClean&&""===tokenString.trim()){flagClean=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}if(flagClean){keywords=cleanResults(tokenString,keywords)}/*
     * from: replaceToken ? Pos(cur.line, tagStart == null ? token.start : tagStart) : cur,
     to: replaceToken ? Pos(cur.line, token.end) : cur
     */return{list:keywords,from:fromCur,to:toCur}}CodeMirror.registerHelper("hint","http-headers",getHints)});</script><script>(function(global){'use strict';if(!global.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */global.ArcBehaviors={}}const ERROR_MESSAGES={CONTENT_TYPE_MISSING:"Content-Type header is not defined",HEADER_NAME_EMPTY:"Header name can't be empty",HEADER_NAME_WHITESPACES:"Header name should not contain whitespaces",HEADER_VALUE_EMPTY:"Header value should not be empty"};/**
 * Headers parser behavior to be impplemented with elements that needs to parse headers data.
 *
 * In most cases function defined in this behavior can work with the headers defined as a string,
 * array of objects (name, value keys) or as Header object.
 *
 * To calculate errors properly, set `isPayload` property when current request can carry a
 * payload.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.HeadersParserBehavior=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class HPBmixin extends base{static get properties(){return{/**
         * Set to true when the request can carry a payload.
         * It's required for calculating headers errors.
         */isPayload:Boolean}}/**
     * Filter array of headers and return not duplicated array of the same headers.
     * Duplicated headers should be appended to already found one using coma separator.
     *
     * @param {Array} headers
     *                Headers array to filter. All objects in headers array must have "name"
     *                and "value" keys.
     * @return {Array} An array of filtered headers.
     */filterHeaders(headers){const _tmp={};headers.forEach(function(header){if(header.name in _tmp){if(!!header.value){_tmp[header.name]+=", "+header.value}}else{_tmp[header.name]=header.value}});const result=[];for(let _key in _tmp){result[result.length]={name:_key,value:_tmp[_key]}}return result}/**
     * Parse headers array to Raw HTTP headers string.
     *
     * @param {Array|String|Headers} headersArray List of objects with "name" and "value"
     * properties.
     * @returns {String} A HTTP representation of the headers.
     */headersToString(headersArray){if("string"===typeof headersArray){return headersArray}if(!(headersArray instanceof Array)){headersArray=this.headersToJSON(headersArray)}if(0===headersArray.length){return""}headersArray=this.filterHeaders(headersArray);return headersArray.map(header=>this.headerItemToString(header)).join("\n")}/**
     * Transforms a header model item to a string.
     * Array values are supported.
     *
     * @param {Object} header Object with name and value.
     * @return {String} Generated headers line
     */headerItemToString(header){const key=header.name;let value=header.value;if(value instanceof Array){value=value.join(",")}let result="";if(key&&""!==key.trim()){result+=key+": ";if(value){result+=value}}return result}/**
     * Parse HTTP headers input from string to array of objects containing `name` and `value`
     * properties.
     *
     * @param {String|Headers} headers Raw HTTP headers input or Headers object
     * @return {Array<Object>} The array of objects where properties are `name` as a header
     * name and `value` as a header content.
     */headersToJSON(headers){if("string"===typeof headers){return this._headersStringToJSON(headers)}return this._hedersToJSON(headers)}/**
     * Parse headers string to array of objects.
     * See `#toJSON` for more info.
     * @param {String} headersString
     * @return {Array<Object>}
     */_headersStringToJSON(headersString){const result=[];if(!headersString){return result}if("string"!==typeof headersString){throw new Error("Headers must be an instance of String.")}if(""===headersString.trim()){return result}const headers=headersString.split(/\n(?=[^ \t]+)/gim);for(let i=0,len=headers.length;i<len;i++){const line=headers[i].trim();if(""===line){continue}const sepPosition=line.indexOf(":");if(-1===sepPosition){result[result.length]={name:line,value:""};continue}const name=line.substr(0,sepPosition),value=line.substr(sepPosition+1).trim(),obj={name:name,value:value};result.push(obj)}return result}/**
     * Parse Headers object to array of objects.
     * See `#toJSON` for more info.
     *
     * @param {Headers|Object} headers
     * @return {Array<Object>}
     */_hedersToJSON(headers){const result=[];if(!headers){return result}headers=new Headers(headers);const _tmp={};headers.forEach(function(value,name){if(_tmp[name]){_tmp[name]+=", "+value}else{_tmp[name]=value}});return Object.keys(_tmp).map(function(key){let value=_tmp[key];if(value&&-1!==value.indexOf(",")){value=value.split(",").map(part=>part.trim()).join(", ")}return{name:key,value:value}})}/**
     * Helper method for old system: combine headers list with encoding value.
     * Note that this function will update the original array.
     *
     * @param {Array} headers An array of headers
     * @param {String} encoding An encoding string from the old request.
     * @return {Boolean} True if encoding has been added to the array.
     */_oldCombine(headers,encoding){if(!(headers instanceof Array)){throw new Error("Headers must be an array")}encoding=encoding+"";const ct=headers.filter(item=>"content-type"===item.name.toLowerCase());if(0===ct.length){headers.push({name:"Content-Type",value:encoding.trim()});return!0/* ignoreName */ /* skipSlots */}return(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}/**
     * Get the Content-Type value from the headers.
     *
     * @param {Array|String} headers Either HTTP headers string or list of headers.
     * @return {String|null} A content-type header value or null if not found
     */getContentType(headers){if("string"!==typeof headers){headers=this.headersToString(headers)}headers=headers.trim();if(""===headers){return null}const re=/^content-type:\s?(.*)$/im,match=headers.match(re);if(!match){return null}let ct=match[1].trim();if(-1===ct.indexOf("multipart")){const index=ct.indexOf("; ");if(0<index){ct=ct.substr(0,index)}}return ct}/**
     * Replace value for given header in the headers list.
     *
     * @param {Array|String|Object} headers A headers object. Can be string, array of objects or
     * Headers object.
     * @param {String} name Header name to be replaced.
     * @param {String} value Header value to be repleced.
     * @return {Array} Updated headers.
     */replaceHeaderValue(headers,name,value){let origType="headers";if(headers instanceof Array){origType="array"}else if("string"===typeof headers){origType="string"}if("array"!==origType){headers=this.headersToJSON(headers)}const _name=name.toLowerCase();let found=!1;headers.forEach(function(header){if(header.name.toLowerCase()===_name){header.value=value;found=!0}});if(!found){headers.push({name:name,value:value})}if("array"===origType){return headers}else if("string"===origType){return this.headersToString(headers)}const obj={};headers.forEach(function(header){obj[header.name]=header.value});return new Headers(obj)}/**
     * Get error message for given header string.
     * @param {Header|Array|String} input A headers to check.
     * @return {?String} An error message or null if the headers are valid.
     */getHeaderError(input){if(!input){if(this.isPayload){return ERROR_MESSAGES.CONTENT_TYPE_MISSING}return null}if(!(input instanceof Array)){input=this.headersToJSON(input)}const msg=[];let hasContentType=!1;for(let i=0,len=input.length;i<len;i++){const name=input[i].name,value=input[i].value;if("content-type"===name.toLowerCase()){hasContentType=!0}if(!name||!name.trim()){msg[msg.length]=ERROR_MESSAGES.HEADER_NAME_EMPTY}else if(/\s/.test(name)){msg[msg.length]=ERROR_MESSAGES.HEADER_NAME_WHITESPACES}if(!value||!value.trim()){msg[msg.length]=ERROR_MESSAGES.HEADER_VALUE_EMPTY}}if(this.isPayload&&!hasContentType){msg[msg.length]=ERROR_MESSAGES.CONTENT_TYPE_MISSING}if(0<msg.length){return msg.join("\n")}return null}}return HPBmixin})})(window);</script><dom-module id="api-headers-editor" assetpath="bower_components/api-headers-editor/"><template><style include="api-form-styles">:host{display:block;position:relative;@apply --api-headers-editor;}paper-icon-button[active]{background-color:var(--api-headers-editor-panel-button-active-background-color, var(--raml-body-editor-panel-button-active-background-color, #e0e0e0));border-radius:50%;@apply --raml-body-editor-panel-button-active;@apply --api-headers-editor-panel-button-active;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-view-model-transformer amf-model="[[amfModel]]" shape="[[amfHeaders]]" view-model="{{viewModel}}" id="transformer" events-target="[[_transformerTarget]]" no-docs="[[noDocs]]"></api-view-model-transformer><div class="content"><div class="editor-actions"><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-tap="_copyToClipboard" title="Copy headers value to clipboard"></paper-icon-button><paper-icon-button class="action-icon" icon="arc:code" toggles="" active="{{sourceMode}}" title="Toggle source edit mode"></paper-icon-button><slot name="content-actions"></slot></div><div id="editor"><template is="dom-if" if="[[!sourceMode]]" restamp="true"><api-headers-form model="{{viewModel}}" narrow="[[narrow]]" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" data-headers-panel="" on-value-changed="_editorValueChanged" invalid="{{invalid}}" no-docs="[[noDocs]]" readonly="[[readonly]]"></api-headers-form></template></div></div><clipboard-copy content="[[value]]"></clipboard-copy></template><script>/**
     * `api-headers-editor`
     * An element to render headers edior based on AMF data model.
     *
     * By default it renders headers form. The user has an option to switch to
     * source editing mode. `code-mirror` element is used in the later case.
     *
     * ## AMF data model
     *
     * This element renders pre-configured form of headers based on
     * [AMF's](https://github.com/mulesoft/amf) json/ld data model.
     * From the model select `http://raml.org/vocabularies/http#header`
     * node which contains list of headers defined for current object
     * (it can be method, trait, security scheme etc).
     * The model is resolved to internal data model by `api-view-model-transformer`
     * element.
     *
     * If the element is used without AMF model `allowCustom` property must be
     * set or otherwise user won't be able to add new header to the editor.
     *
     * ### Example
     *
     * ```html
     * <api-headers-editor id="editor" allow-disable-params></api-headers-editor>
     * <script>
     * let data = await getAmfModel();
     * editor.amfModel = data;
     * data = data[0]['http://raml.org/vocabularies/document#encodes'][0];
     * data = data['http://raml.org/vocabularies/http#endpoint'][0];
     * data = data['http://www.w3.org/ns/hydra/core#supportedOperation'][0];
     * data = data['http://www.w3.org/ns/hydra/core#expects'][0];
     * data = data['http://raml.org/vocabularies/http#header'];
     * (first endpoint, first method, headers array)
     * editor.amfHeaders = data;
     * editor.addEventListener('value-changed', (e) => console.log(e.detail.value));
     * < /script>
     * ```
     *
     * ### Example without AMF
     *
     * ```html
     * <api-headers-editor id="editor" allow-disable-params allow-custom></api-headers-editor>
     * <script>
     * editor.addEventListener('value-changed', (e) => console.log(e.detail.value));
     * < /script>
     * ```
     *
     * ## Setting value when model is set
     *
     * Model values has priority over value set on the editor.
     * If `amfModel` is set and value has been altered programatically there
     * are two possible outcomes:
     *
     * 1) If `allowDisableParams` is set, model values are automatically
     * disabled if model item is not in the value
     * 2) If `allowDisableParams` is not set, model values are always
     * added to generated values. Or rather new value is added to the existing
     * model as custom values.
     *
     * @customElement
     * @memberof ApiElements
     * @demo demo/simple.html Simple headers editor
     * @demo demo/raml.html With AMF model
     * @appliesMixin ArcBehaviors.HeadersParserBehavior
     * @appliesMixin ArcBehaviors.EventsTargetBehavior
     * @appliesMixin ArcBehaviors.ApiFormMixin
     * @appliesMixin Polymer.IronValidatableBehavior
     * @appliesMixin ApiElements.AmfHelperMixin
     */class ApiHeadersEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(ArcBehaviors.EventsTargetBehavior(ArcBehaviors.HeadersParserBehavior(ApiElements.AmfHelperMixin(Polymer.Element))))){static get is(){return"api-headers-editor"}static get properties(){return{/**
           * `raml-aware` scope property to use.
           */aware:String,/**
           * Generated AMF json/ld model form the API spec.
           * The element assumes the object of the first array item to be a
           * type of `"http://raml.org/vocabularies/document#Document`
           * on AMF vocabulary.
           *
           * @type {Object|Array}
           */amfModel:Object,/**
           * List of headers defined in AMF model to render.
           */amfHeaders:Array,/**
           * Headers value.
           */value:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"},/**
           * Generated view model fore the headers from `amfModel`.
           * This is automatically set when `amfModel` is set.
           */viewModel:Array,/**
           * Value of a Content-Type header.
           * When this value change then editor update the value for the content type. However,
           * to change a single header value, please, use `request-headers-changed` event with `name`
           * and `value` properties set on the detail object.
           *
           * @type {Stirng}
           */contentType:{type:String,notify:!0,observer:"_onContentTypeChanged"},// When set to true then the source edit mode is enabled
sourceMode:{type:Boolean,observer:"_sourceModeChanged"},// Events target for tranformer
_transformerTarget:{type:Object,value:function(){return this}},// Regexp to search for content type value
_contentTypeRe:{type:Object,value:function(){return /^[\t\r]*content\-type[\t\r]*:[\t\r]*([^\n]*)$/gim}},/**
           * Prohibits rendering of the documentation (the icon and the
           * description).
           * Note, Set is separately for `api-view-model-transformer`
           * component as this only affects "custom" items.
           */noDocs:Boolean,/**
           * When set the editor is in read only mode.
           */readonly:{type:Boolean,observer:"_readonlyChanged"},/**
           * Automatically validates headers agains AMF model when value change.
           * Note, it only works with form editor.
           */autoValidate:Boolean}}/**
       * Reference to currently rendered headers editor.
       * @return {HTMLElement}
       */get currentPanel(){if(!this.shadowRoot){return}const panel=this.shadowRoot.querySelector("code-mirror");if(panel){return panel}return this.shadowRoot.querySelector("api-headers-form")}/**
       * @constructor
       */constructor(){super();this._editorValueChanged=this._editorValueChanged.bind(this);this._cmKeysHandler=this._cmKeysHandler.bind(this);this._headersChangedHandler=this._headersChangedHandler.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this);this._contentTypeChangedHandler=this._contentTypeChangedHandler.bind(this);this._headerDeletedHandler=this._headerDeletedHandler.bind(this)}_attachListeners(node){node.addEventListener("request-headers-changed",this._headersChangedHandler);node.addEventListener("request-header-changed",this._headerChangedHandler);node.addEventListener("content-type-changed",this._contentTypeChangedHandler);node.addEventListener("request-header-deleted",this._headerDeletedHandler)}_detachListeners(node){node.removeEventListener("request-headers-changed",this._headersChangedHandler);node.removeEventListener("request-header-changed",this._headerChangedHandler);node.removeEventListener("content-type-changed",this._contentTypeChangedHandler);node.removeEventListener("request-header-deleted",this._headerDeletedHandler)}/**
       * Handler for `sourceMode` change.
       *
       * Opens desired editr.
       *
       * @param {Boolean} isSource
       */_sourceModeChanged(isSource){if(isSource){this._attachSourceEditor();setTimeout(()=>{const panel=this.currentPanel;panel.setOption("extraKeys",{"Ctrl-Space":this._cmKeysHandler});panel.value=this.modelToValue(this.viewModel)},50)}else{const panel=this.currentPanel;if(panel){panel.removeEventListener("value-changed",this._editorValueChanged);panel.parentNode.removeChild(panel)}this._modelFromValue()}const ev=new CustomEvent("send-analytics",{detail:{type:"event",category:"Usage",action:"Click",label:"Toggle source mode "+(isSource+"")},bubbles:!0,composed:!0});this.dispatchEvent(ev)}_attachSourceEditor(){const cm=document.createElement("code-mirror");cm.mode="http-headers";cm.setAttribute("data-headers-panel",!0);cm.addEventListener("value-changed",this._editorValueChanged);if(this.readonly){cm.readOnly=!0}this.$.editor.appendChild(cm)}/**
       * Sets current value of `readonly` on the source editor.
       * @param {Boolean} value
       */_readonlyChanged(value){if(!this.sourceMode){return}const panel=this.currentPanel;if(!panel){return}panel.readOnly=value}/**
       * Updates the value when current editor's value change.
       *
       * @param {CustomEvent} e
       */_editorValueChanged(e){const value=e.detail.value;if(value!==this.value){this._innerEditorValueChanged=!0;this.set("value",value);this._innerEditorValueChanged=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}}/**
       * Creates a headers string from a model.
       *
       * @param {?Array} model Optional, model to process. If not set it uses
       * `this.viewModel`
       * @return {String} Generated headers
       */modelToValue(model){if(!model){model=this.viewModel}if(!model||!model.length){return""}const data=[],disbleAllowed=this.allowDisableParams;model.forEach(item=>{if(!item||disbleAllowed&&item.schema&&!1===item.schema.enabled){return}data.push({name:item.name,value:item.value})});return this.headersToString(data)}/**
       * Code mirror's ctrl+space key handler.
       * Opens headers fill support.
       *
       * @param {Object} cm Code mirror instance.
       */_cmKeysHandler(cm){/* global CodeMirror */CodeMirror.showHint(cm,CodeMirror.hint["http-headers"],{container:this.currentPanel})}/**
       * Called when switching from source view to form view.
       * Updates view model with values defined in text editor.
       *
       * Only headers existing in `value` are going to be present in the model.
       * Otherwise headers will be disabled.
       *
       * It does nothing if `value` or `viewModel` is not defined.
       *
       * @param {?String} value
       */_modelFromValue(value){value=value||this.value;if(value===void 0){if(!this.model){return}else{value=""}}let model=this.viewModel;if(!model){model=[]}const parsedValue=this.filterHeaders(this.headersToJSON(value+"")),tmp={},appendCustom=[],disbleAllowed=this.allowDisableParams;// updates model value
for(let i=0,len=parsedValue.length;i<len;i++){const item=parsedValue[i],index=this._findModelIndex(model,item.name);if(-1===index){appendCustom.push(this.createCustom(item))}else{tmp[item.name]=!0;if(model[index].value!==item.value){if(model[index].schema.isArray){this.set(["viewModel",index,"value"],item.value.split(","))}else{this.set(["viewModel",index,"value"],item.value)}}if(!model[index].schema.enabled){this.set(["viewModel",index,"schema","enabled"],!0)}}}// Disables / removes not existing values.
for(let i=model.length-1;0<=i;i--){if(model[i].name in tmp){continue}if(model[i].schema.isCustom){this.splice("viewModel",i,1)}else if(disbleAllowed){this.set(["viewModel",i,"schema","enabled"],!1)}else{if(model[i].schema.isArray){this.set(["viewModel",i,"value"],[])}else{this.set(["viewModel",i,"value"],"")}}}if(!this.viewModel||!this.viewModel.length){this.viewModel=appendCustom}else{appendCustom.forEach(item=>this.push("viewModel",item))}}/**
       * Finds item position in model by name.
       *
       * @param {Array} model Model items
       * @param {String} name Header name to search for
       * @return {Number} Items position or `-1` if not found.
       */_findModelIndex(model,name){for(let i=0,len=model.length;i<len;i++){if(model[i].name===name){return i}}return-1}/**
       * Creates a custom header model item.
       *
       * @param {Object} defaults Default data
       * @return {Object} View model item
       */createCustom(defaults){const data=Object.assign({},defaults);if(!data.schema){data.schema={}}data.schema.isCustom=!0;if(!data.schema.type){data.schema.type="string"}if(!data.schema.enabled){data.schema.enabled=!0}if(!data.schema.inputLabel){data.schema.inputLabel="Header value"}this.$.transformer.buildProperty(data);return data}/**
       * Handler tor the `request-headers-changed` event.
       * Updates the editor value to the value of the event detail object.
       * @param {CustomEvent} e
       */_headersChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const value=e.detail.value;this._setValues(value)}/**
       * Handler for the `request-header-changed` event.
       * It updates value for a single header.
       * @param {CustomEvent} e
       */_headerChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const name=e.detail.name;if(!name){console.warn("request-header-changed fired without the name.");return}const value=e.detail.value,arr=this.headersToJSON(this.value);let updated=!1;for(let i=0,len=arr.length;i<len;i++){if(arr[i].name.toLowerCase()===name.toLowerCase()){arr[i].value=value;updated=!0;break}}if(!updated){arr.push({name:name,value:value})}const headers=this.headersToString(arr);this._setValues(headers)}/**
       * Handler for `content-type-changed` event.
       * Uppdates it's value if from external source.
       *
       * @param {CustomEvent} e
       */_contentTypeChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}this.__cancelContentTypeNotification=!0;this.set("contentType",e.detail.value);this.__cancelContentTypeNotification=!1}/**
       * Handler for `request-header-deleted` custom event.
       * Deletes header from the editor.
       * @param {CustomEvent} e
       */_headerDeletedHandler(e){if(e.defaultPrevented){return}const name=e.detail.name;if(!name){console.warn("request-header-deleted fired without the name.");return}const arr=this.headersToJSON(this.value);let updated=!1;for(let i=arr.length-1;0<=i;i--){if(arr[i].name.toLowerCase()===name.toLowerCase()){arr.splice(i,1);updated=!0;break}}if(!updated){return}const headers=this.headersToString(arr);this._setValues(headers)}/**
       * Detects and sets content type value from changed headers value.
       *
       * @param {String} value Headers new value.
       */_detectContentType(value){if(!value){value=""}this._contentTypeRe.lastIndex=0;const matches=this._contentTypeRe.exec(value);let ctValue;if(!matches){ctValue=""}else{ctValue=matches[1]}if(!ctValue){if(this.contentType){this.set("contentType",void 0)}}else{ctValue=ctValue.trim();if(this.contentType!==ctValue){this.set("contentType",ctValue)}}}/**
       * Called by CodeMirror editor.
       * When something change n the headers list, detect content type header.
       * @param {String} value
       */_valueChanged(value){if(this.autoValidate){this.validate()}this._detectContentType(value);if(this._cacncelChangeEvent){if(!this._innerEditorValueChanged){this._modelFromValue(value)}return}if(this._innerEditorValueChanged){if(this.readonly){return}this.dispatchEvent(new CustomEvent("request-headers-changed",{detail:{value:value},cancelable:!0,bubbles:!0,composed:!0}))}else{this._modelFromValue(value)}}_onContentTypeChanged(currentCt){if(this.readonly){return}if(!currentCt){this._notifyContentType("");return}const arr=this.headersToJSON(this.value);let updated=!1;for(let i=0,len=arr.length;i<len;i++){if("content-type"!==arr[i].name.toLowerCase()){continue}updated=!0;if(arr[i].value!==currentCt){arr[i].value=currentCt}break}if(!updated){arr.push({name:"Content-Type",value:currentCt})}const headers=this.headersToString(arr);if(!this._innerEditorValueChanged){this._setValues(headers);this._modelFromValue(headers)}this._notifyContentType(currentCt)}_notifyContentType(type){if(this.__cancelContentTypeNotification){return}const ev=new CustomEvent("content-type-changed",{detail:{value:type},cancelable:!1,bubbles:!0,composed:!0});this.dispatchEvent(ev)}/**
       * Updates `value` when new value is computed by the editor.
       *
       * @param {String} value A value to set.
       */_setValues(value){this._cacncelChangeEvent=!0;this.set("value",value);this._cacncelChangeEvent=!1;if(!this._innerEditorValueChanged&&this.sourceMode){const panel=this.currentPanel;if(panel){panel.value=value}}}/**
       * Coppies current response text value to clipboard.
       */_copyToClipboard(){const button=this.shadowRoot.querySelector(".copy-icon"),copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{this._resetCopyButtonState(button)},1e3);const ev=new CustomEvent("send-analytics",{detail:{type:"event",category:"Usage",action:"Click",label:"Headers editor clipboard copy"},bubbles:!0,composed:!0});this.dispatchEvent(ev)}_resetCopyButtonState(button){button.icon="arc:content-copy"}// Overidden from Polymer.IronValidatableBehavior. Will set the `invalid`
// attribute automatically, which should be used for styling.
_getValidity(){if(this.sourceMode||!this.shadowRoot){return!0}const form=this.shadowRoot.querySelector("api-headers-form");return form?form.validate():!0}/**
       * Refreshes the CodeMirror editor when in `sourceMode`.
       */refresh(){if(!this.sourceMode){return}const panel=this.currentPanel;panel.editor.refresh()}}window.customElements.define(ApiHeadersEditor.is,ApiHeadersEditor);</script></dom-module><script>(function(global){'use strict';if(!global.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */global.ArcBehaviors={}}/**
 * A behavior to be implemented to elements that needs to parse
 * request / response body.
 * It contains functions to encode / decode form data and to escape HTML.
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */ArcBehaviors.PayloadParserBehavior=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class PPBmixin extends base{static get properties(){return{// Regexp to search for the `&` character
AMP_RE:{type:RegExp,readOnly:!0/* ignoreName */ /* skipSlots */,value:function(){return new RegExp(/&/g)}},// Regexp to search for the `>` character
GT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/>/g)}},// Regexp to search for the `<` character
LT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/</g)}},// Regexp to search for the `'` character
SQUOT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/'/g)}},// Regexp to search for the `"` character
QUOT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/"/g)}}}}/**
     * Escape HTML to save HTML text.
     *
     * @param {String} html A HTML string to be escaped.
     * @return {String}
     */htmlEscape(html){if(-1!==html.indexOf("&")){html=html.replace(this.AMP_RE,"&amp;")}if(-1!==html.indexOf("<")){html=html.replace(this.LT_RE,"&lt;")}if(-1!==html.indexOf(">")){html=html.replace(this.GT_RE,"&gt;")}if(-1!==html.indexOf("\"")){html=html.replace(this.QUOT_RE,"&quot;")}if(-1!==html.indexOf("'")){html=html.replace(this.SQUOT_RE,"&apos;")}return html}/**
     * Parse input array to string x-www-form-urlencoded.
     *
     * Note that this function doesn't encodes the name and value. Use
     * `this.formArrayToString(this.encodeUrlEncoded(arr))`
     * to create a encoded string from the array.
     *
     * @param {Array<Object>} arr Input array. Each element must contain an
     * object with `name` and `value` keys.
     * @return {String} A parsed string of `name`=`value` pairs of the input objects.
     */formArrayToString(arr){if(!arr){return[]}const result=[];arr.forEach(item=>{const data=this._modelItemToFormDataString(item);if(data){result[result.length]=data}});return result.join("&")}/**
     * Creates a form data string for a single item.
     * @param {Object} model The model with `name` and `value` properties.
     * @return {String} Generated value string for x-www-form-urlencoded form.
     */_modelItemToFormDataString(model){if(model.schema&&/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */===model.schema.enabled){return}const name=this._paramValue(model.name);let value=model.value;if(value&&value instanceof Array){return value.map(item=>name+"="+this._paramValue(item)).join("&")}value=this._paramValue(value);if(!name&&!value){return}if(!value&&!1===model.required){return}return name+"="+value}/**
     * Parse input string to array of x-www-form-urlencoded form parameters.
     *
     * This function will not url-decode names and values. Please, use
     * `this.decodeUrlEncoded(this.stringToArray(str))` to create an array
     * of decoded parameters.
     *
     * @param {String} input A string of HTTP x-www-form-urlencoded parameters
     * @return {Array<Object>} An array of params with `name` and `value` keys.
     */stringToArray(input){if("string"!==typeof input||!input.trim()){return[]}// Chrome inspector has FormData output in format: `param-name`:`param-value`
// When copying from inspector the ':' must be replaced with '='
const htmlInputCheck=/^([^\\=]{1,})=(.*)$/m;if(!htmlInputCheck.test(input)){// replace chome inspector data.
input=input.replace(/^([^\\:]{1,}):(.*)$/gm,"$1=$2&").replace(/\n/gm,"");input=input.substr(0,input.length-1)}return this._createParamsArray(input)}/**
     * Converts a string to an array with objects containing name and value keys
     * @param {String} input An input string
     * @return {Array.<Object>} An array of params with `name` and `value` keys.
     */_createParamsArray(input){let result=[];if(!input){return result}let state=0,i=0,_tmpName="",_tmpValue="";// 0 - reading name, 1 - reading value
while(!0){const ch=input[i++];if(ch===void 0){if(_tmpValue||_tmpName){result=this._appendArrayResult(result,_tmpName,_tmpValue)}break}if("="===ch){if(1!==state){state=1;continue}}if("&"===ch){state=0;result=this._appendArrayResult(result,_tmpName,_tmpValue);_tmpName="";_tmpValue="";continue}if(0===state){_tmpName+=ch}else if(1===state){_tmpValue+=ch}}return result}/**
     * Appends form data parameter to an array.
     * If the parameter already exists in the array it creates an array for
     * the value onstead of appending the same parameter.
     *
     * @param {Array} array An array to append the parameter
     * @param {String} name Name of the form data parameter
     * @param {String} value Value of the form data parameter
     * @return {Array} Updated array
     */_appendArrayResult(array,name,value){for(let i=0,len=array.length;i<len;i++){if(array[i].name===name){if(array[i].value instanceof Array){array[i].value.push(value)}else{array[i].value=[array[i].value,value]}return array}}array.push({name:name,value:value});return array}/**
     * Encode payload to x-www-form-urlencoded string.
     *
     * @param {Array<object>|String} input An input data.
     * @return {Array<object>|String}
     */encodeUrlEncoded(input){if(!input||!input.length){return input}const isArray=input instanceof Array;if(!isArray){input=this.stringToArray(input)}input.forEach(obj=>{obj.name=this.encodeQueryString(obj.name);obj.value=this._encodeValue(obj.value)});if(isArray){return input}return this.formArrayToString(input)}/**
     * URL encodes a value.
     *
     * @param {String|Array<String>} value Value to encode. Either string or
     * array of strings.
     * @return {String|Array<String>} Encoded value. The same type as the input.
     */_encodeValue(value){if(value instanceof Array){for(let i=0,len=value.length;i<len;i++){value[i]=this.encodeQueryString(value[i])}return value}return this.encodeQueryString(value)}/**
     * Decode x-www-form-urlencoded data.
     *
     * @param {Array<object>|String} input An input data.
     * @return {Array<object>|String}
     */decodeUrlEncoded(input){if(!input||!input.length){return input}const isArray=input instanceof Array;if(!isArray){input=this.stringToArray(input)}input.forEach(obj=>{obj.name=this.decodeQueryString(obj.name);obj.value=this._decodeValue(obj.value)});if(isArray){return input}return this.formArrayToString(input)}/**
     * URL decodes a value.
     *
     * @param {String|Array<String>} value Value to decode. Either string or
     * array of strings.
     * @return {String|Array<String>} Decoded value. The same type as the input.
     */_decodeValue(value){if(value instanceof Array){for(let i=0,len=value.length;i<len;i++){value[i]=this.decodeQueryString(value[i])}return value}return this.decodeQueryString(value)}/**
     * Parse input string as a payload param key or value.
     *
     * @param {String} input An input to parse.
     * @return {String}
     */_paramValue(input){if(!input){return String()}input=input+"";input=input.trim();return input}/**
     * Parse a line of key=value http params into an object with `name` and `value` keys.
     *
     * @param {String} input A input line of x-www-form-urlencoded text tike `param=value`
     * @return {Object} A parsed object with `name` and `value` keys.
     * @deprecated It's old parser. Use `_createParamsArray` instead.
     */_paramLineToFormObject(input){if(!input){return}const _tmp=input.split("="),name=_tmp[0].trim();if(!name&&1===_tmp.length){return}let value;if(1===_tmp.length){value=""}else{value=_tmp[1].trim()}return{name:name,value:value}}/**
     * Returns a string where all characters that are not valid for a URL
     * component have been escaped. The escaping of a character is done by
     * converting it into its UTF-8 encoding and then encoding each of the
     * resulting bytes as a %xx hexadecimal escape sequence.
     *
     * Note: this method will convert any space character into its escape
     * short form, '+' rather than %20. It should therefore only be used for
     * query-string parts.
     *
     * The following character sets are **not** escaped by this method:
     * - ASCII digits or letters
     * - ASCII punctuation characters: ```- _ . ! ~ * ' ( )</pre>```
     *
     * Notice that this method <em>does</em> encode the URL component delimiter
     * characters:<blockquote>
     *
     * ```
     * ; / ? : & = + $ , #
     * ```
     *
     * @param {String} str A string containing invalid URL characters
     * @return {String} a string with all invalid URL characters escaped
     */encodeQueryString(str){if(!str){return str}const regexp=/%20/g;return encodeURIComponent(str).replace(regexp,"+")}/**
     * Returns a string where all URL component escape sequences have been
     * converted back to their original character representations.
     *
     * Note: this method will convert the space character escape short form, '+',
     * into a space. It should therefore only be used for query-string parts.
     *
     * @param {String} str string containing encoded URL component sequences
     * @return {String} string with no encoded URL component encoded sequences
     */decodeQueryString(str){if(!str){return str}const regexp=/\+/g;return decodeURIComponent(str.replace(regexp,"%20"))}}return PPBmixin})})(window);</script><dom-module id="form-data-editor-item" assetpath="bower_components/form-data-editor/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles"></style><style>:host{display:block;@apply --form-data-editor-item;}.custom-inputs,
    .value-field{@apply --layout-horizontal;@apply --layout-start;}.narrow .custom-inputs{display:block;}.name-field,
    .value-field,
    .param-name,
    .custom-inputs,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.param-name{margin-right:12px;@apply --api-form-name-input;}.narrow .param-name{margin-right:0;@apply --api-form-name-input-narrow;}[hidden]{display:none !important;}.hint-icon{margin-top:16px;}.form-item.narrow{@apply --layout-horizontal;}.form-item.narrow .delete-icon{margin-top:16px;}</style><div class$="form-item [[_computeNarrowClass(narrow)]]"><template is="dom-if" if="[[!isCustom]]"><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="typed" required$="[[required]]"></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-tap="toggleDocumentation"></paper-icon-button></template></div></template><template is="dom-if" if="[[isCustom]]"><div class="custom-inputs"><div class="name-field"><paper-input value="{{name}}" label="Parameter name" class="param-name" no-label-float="[[noLabelFloat]]" required="" auto-validate=""></paper-input></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="custom" required$="[[required]]" no-label-float="[[noLabelFloat]]"></api-property-form-item></div></div><paper-icon-button title="Remove parameter" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_remove"></paper-icon-button></template></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></template><script>/**
   * An element that renders form controls for the editor.
   *
   * ### Styling
   *
   * `<form-data-editor-item>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--form-data-editor-item` | Mixin applied to the element | `{}`
   * `--api-form-name-input` | Mixin applied to custom item name input field | `{}`
   * `--api-form-name-input-narrow` | Mixin applied to custom item name input field when narrow | `{}`
   *
   * Properies inheritet from `api-form-styles`
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-form-row` | Mixin applied to API form rows. Each row already applies `--layout-horizontal` and `--layout-start` | `{}`
   * `--api-form-row-narrow` | Mixin applied to API form rows when `narrow` property is set | `{}`
   * `--api-form-row-optional` | Mixin applied to optional row of the form (not required). By default this form row is hidden from the view | `{}`
   * `--api-form-row-optional-visible` | Mixin applied to optional row of the form when it becomes visible | `{}`
   * `--api-form-action-button-color` | Color of the action button in the form. Action buttons should perform form's primary actions like "submit" or "add new". Use `--api-form-action-icon-*` for icons related styling | `--secondary-button-color` or `--accent-color`
   * `--api-form-action-button-background-color` | Similar to `--api-form-action-button-color` but it's background color | `--secondary-button-background`
   * `--secondary-button` | Mixin applied to the action button. This is more general theme element. This values can be overriten by `--api-form-action-button` | `{}`
   * `--api-form-action-button` | Mixin applied to the action button | `{}`
   * `--api-form-action-button-hover-color` | Color of the action button in the form when hovering. | `--secondary-button-color` or `--accent-color`
   * `--api-form-action-button-hover-background-color` | Similar to `--api-form-action-button-hover-color` but it's background color | `--secondary-button-background`
   * `--secondary-button-hover` | Mixin applied to the action button when hovered. This is more general theme element. This values can be overriten by `--api-form-action-button` | `{}`
   * `--api-form-action-button-hover` | Mixin applied to the action button when hovered. | `{}`
   * `--hint-trigger-color` | Color of the form action icon button to dispay documentation for the item. | `rgba(0, 0, 0, 0.74)`
   * `--icon-button` | Mixin applied to the icon button to dispay documentation for the item | `{}`
   * `--hint-trigger-hover-color` | Color of the form action icon button to dispay documentation for the item when hovered | `rgba(0, 0, 0, 0.74)`
   * `--icon-button-hover` | Mixin applied to the icon button to dispay documentation for the item when hovered | `{}`
   * `--api-form-action-icon-color` | Color of any other than documentation icon button in form row | `--icon-button-color` or `rgba(0, 0, 0, 0.74)`
   * `--api-form-action-icon-hover-color` | Color of any other than documentation icon button in form row when hovering | `--accent-color` or `rgba(0, 0, 0, 0.88)`
   * `--inline-documentation-background-color` | Background color of the documentation element. | `#FFF3E0`
   * `--inline-documentation-color` | Color of the documentation element | `rgba(0, 0, 0, 0.87)`
   * `--inline-documentation-font-size` | Font size of the documentaiton element | `13px`
   *
   * @customElement
   * @polymer
   * @demo demo/simple.html Simple usage
   * @demo demo/raml.html With AMF model from RAML file
   */class FormDataEditorItem extends Polymer.Element{static get is(){return"form-data-editor-item"}static get properties(){return{/**
         * The name of this element.
         */name:{notify:!0/* ignoreName */ /* skipSlots */,type:String},/**
         * The value of this element.
         */value:{notify:!0,type:String},/**
         * A model item
         */model:Object,/**
         * If set it renders a narrow layout
         */narrow:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,reflectToAttribute:!0},/**
         * True to render documentation (if set in model)
         */docsOpened:Boolean,/**
         * Computed value passed to the inputs.
         * If true then floating labels are not displayed.
         * Floating labels are visible only for narrow layout.
         */noLabelFloat:{type:Boolean,value:!0,computed:"_computeNoLabelFloat(narrow)"},/**
         * Set if the header is not specified in the RAML type (is a custom
         * header).
         */isCustom:{type:Boolean,value:!1},/**
         * If set it is render the item control as an array item (adds more
         * spacing to the element)
         */isArray:{type:Boolean,reflectToAttribute:!0},// True when this model is required
required:Boolean}}// Computes css class name for narrow layout
_computeNarrowClass(narrow){return narrow?"narrow":void 0}// Computes `noLabelFloat` property
_computeNoLabelFloat(narrow){return!narrow}// Toggles documentation (if available)
toggleDocumentation(){this.docsOpened=!this.docsOpened}/**
     * Dispatches `remove` custom event that does not bubbles to inform the editor
     * to delete this parameter.
     */_remove(){this.dispatchEvent(new CustomEvent("remove",{bubbles:!1}))}}window.customElements.define(FormDataEditorItem.is,FormDataEditorItem);</script></dom-module><dom-module id="form-data-editor" assetpath="bower_components/form-data-editor/"><template><style include="api-form-styles">:host{display:block;@apply --form-data-editor;}.form-item-row{@apply --layout-horizontal;@apply --layout-start;}form-data-editor-item{@apply --layout-flex;}.option-pane{margin:8px 0;@apply --layout-horizontal;@apply --layout-center;@apply --form-data-editor-encode-buttons;}.option-pane paper-checkbox{margin-left:12px;}.enable-checkbox{margin-top:32px;margin-right:8px;}.form-item-row.is-custom .enable-checkbox{margin-top:16px;}.form-item-row.is-narrow.is-custom paper-icon-button{margin-top:16px;}.form-item-row.is-narrow.is-custom paper-checkbox{margin-top:32px;}</style><div class="option-pane"><paper-button title="Encodes payload to x-www-form-urlencoded data" on-tap="_encodePaylod">Encode payload</paper-button><paper-button title="Decodes payload to human readable form" on-tap="_decodePaylod">Decode payload</paper-button><template is="dom-if" if="[[renderOptionalCheckbox]]"><div class="optional-checkbox"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional properties">Show optional properties</paper-checkbox></div></template></div><iron-form><form enctype="application/json"><template is="dom-repeat" items="{{model}}"><div class$="[[_computeItemClass(item, narrow, allowHideOptional, optionalOpened, allowDisableParams)]]" data-optional$="[[computeIsOptional(hasOptional, item)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" checked="{{item.schema.enabled}}" title="Enable/disable this header"></paper-checkbox></template><form-data-editor-item narrow="[[narrow]]" name="{{item.name}}" value="{{item.value}}" model="[[item]]" required$="[[item.required]]" is-custom="[[item.schema.isCustom]]" is-array="[[item.schema.isArray]]" no-label-float="" on-remove="_removeCustom"></form-data-editor-item></div></template></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds empty parameter to the form"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add parameter icon"></iron-icon>Add parameter</paper-button></div></template></template><script>/**
   * An element to edit form data (x-www-form-urlencoded).
   *
   * Empty values for both name and value inputs are not included in final body value.
   *
   * The element can work as a simple body creation element. Set `allow-custom`
   * to allow the user to add a parameter that hasn been predefined.
   *
   * ```html
   * <form-data-editor allow-custom></form-data-editor>
   * ```
   *
   * The element works with `advanced-rest-client/api-view-model-transformer`
   * that can create view model from default of from AMF json/ld model.
   * [AMF](https://github.com/mulesoft/amf) allows to transform RAML or OAS
   * specification of an API to a common model. The transformer generates
   * view model from api spec. If `allow-custom` is not set, the element
   * allows to define values only for properties defined in the model.
   *
   * ```html
   * <form-data-editor model="[...]"></form-data-editor>
   * ```
   *
   * The element allows to disable form item on the list so the user can
   * remove a property from the generated value without removing it from the
   * form. Use `allow-disable-params` to enable this feature.
   *
   * ```html
   * <form-data-editor allow-disable-params></form-data-editor>
   * ```
   *
   * ### Styling
   *
   * `<form-data-editor>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--form-data-editor` | Mixin applied to the element | `{}`
   * `--form-data-editor-encode-buttons` | Mixin applied to encode / decode buttons container | `{}`
   *
   * Properies included in `form-data-editor-item`:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--form-data-editor-item` | Mixin applied to the element | `{}`
   * `--api-form-name-input` | Mixin applied to custom item name input field | `{}`
   * `--api-form-name-input-narrow` | Mixin applied to custom item name input field when narrow | `{}`
   *
   * Properies inheritet from `api-form-styles`
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-form-row` | Mixin applied to API form rows. Each row already applies `--layout-horizontal` and `--layout-start` | `{}`
   * `--api-form-row-narrow` | Mixin applied to API form rows when `narrow` property is set | `{}`
   * `--api-form-row-optional` | Mixin applied to optional row of the form (not required). By default this form row is hidden from the view | `{}`
   * `--api-form-row-optional-visible` | Mixin applied to optional row of the form when it becomes visible | `{}`
   * `--api-form-action-button-color` | Color of the action button in the form. Action buttons should perform form's primary actions like "submit" or "add new". Use `--api-form-action-icon-*` for icons related styling | `--secondary-button-color` or `--accent-color`
   * `--api-form-action-button-background-color` | Similar to `--api-form-action-button-color` but it's background color | `--secondary-button-background`
   * `--secondary-button` | Mixin applied to the action button. This is more general theme element. This values can be overriten by `--api-form-action-button` | `{}`
   * `--api-form-action-button` | Mixin applied to the action button | `{}`
   * `--api-form-action-button-hover-color` | Color of the action button in the form when hovering. | `--secondary-button-color` or `--accent-color`
   * `--api-form-action-button-hover-background-color` | Similar to `--api-form-action-button-hover-color` but it's background color | `--secondary-button-background`
   * `--secondary-button-hover` | Mixin applied to the action button when hovered. This is more general theme element. This values can be overriten by `--api-form-action-button` | `{}`
   * `--api-form-action-button-hover` | Mixin applied to the action button when hovered. | `{}`
   * `--hint-trigger-color` | Color of the form action icon button to dispay documentation for the item. | `rgba(0, 0, 0, 0.74)`
   * `--icon-button` | Mixin applied to the icon button to dispay documentation for the item | `{}`
   * `--hint-trigger-hover-color` | Color of the form action icon button to dispay documentation for the item when hovered | `rgba(0, 0, 0, 0.74)`
   * `--icon-button-hover` | Mixin applied to the icon button to dispay documentation for the item when hovered | `{}`
   * `--api-form-action-icon-color` | Color of any other than documentation icon button in form row | `--icon-button-color` or `rgba(0, 0, 0, 0.74)`
   * `--api-form-action-icon-hover-color` | Color of any other than documentation icon button in form row when hovering | `--accent-color` or `rgba(0, 0, 0, 0.88)`
   * `--inline-documentation-background-color` | Background color of the documentation element. | `#FFF3E0`
   * `--inline-documentation-color` | Color of the documentation element | `rgba(0, 0, 0, 0.87)`
   * `--inline-documentation-font-size` | Font size of the documentaiton element | `13px`
   *
   * @customElement
   * @polymer
   * @demo demo/simple.html Simple usage
   * @demo demo/raml.html With AMF model from RAML file
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin ArcBehaviors.ApiFormMixin
   * @appliesMixin ArcBehaviors.PayloadParserBehavior
   */class FormDataEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(ArcBehaviors.PayloadParserBehavior(Polymer.Element))){static get is(){return"form-data-editor"}static get properties(){return{value:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"}}}static get observers(){return["_modelChanged(model.*)"]}/**
     * Appends an empty header to the list.
     */add(){if(!this.allowCustom){return}this.addCustom("query",{inputLabel:"Parameter value"})}_modelChanged(record){if(!record||!record.path){return}if("model.length"===record.path){return}this._updateValue(record.base)}/** Encode payload button press handler */_encodePaylod(){this.encodeUrlEncoded(this.model);this.__postEncodeDecode()}/** Decode payload button press handler */_decodePaylod(){this.decodeUrlEncoded(this.model);this.__postEncodeDecode()}/**
     * Notifies paths about a change in the model's name/value properties.
     */__postEncodeDecode(){const model=this.model;if(!model){return}this.__internalChange=!0;for(let i=0,len=model.length;i<len;i++){this.notifyPath(["model",i,"name"]);this.notifyPath(["model",i,"value"])}this.__internalChange=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */}/**
     * Computes for item class.
     *
     * @param {Object} item Model for form item
     * @param {Boolean} narrow
     * @param {Boolean} allowHideOptional
     * @param {Boolean} optionalOpened
     * @param {Boolean} allowDisableParams
     * @return {String}
     */_computeItemClass(item,narrow,allowHideOptional,optionalOpened,allowDisableParams){let cls="form-item form-item-row ";cls+=this.computeFormRowClass(item,allowHideOptional,optionalOpened,allowDisableParams);if(item&&item.schema.isCustom){cls+=" is-custom"}if(narrow){cls+=" is-narrow"}return cls}/**
     * Updates the value when model changes.
     *
     * @param {Array} model Current model
     */_updateValue(model){const hasModel=!!(model&&model.length),value=hasModel?this.formArrayToString(model):"";this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}/**
     * Updates the model from value, if not cause by internal setters.
     *
     * @param {String} value
     */_valueChanged(value){if(this.__internalChange){return}this.model=void 0;const params=this.stringToArray(value);if(!params||!params.length){return}params.forEach(item=>this._paramToModel(item))}/**
     * Creates a model item from parser's name => value pairs.
     *
     * @param {Object} param Object with `value` and `name` properties.
     */_paramToModel(param){const name=this.decodeQueryString(param.name),value=this.decodeQueryString(param.value);this.addCustom("query",{inputLabel:"Parameter value",name:name,value:value})}}window.customElements.define(FormDataEditor.is,FormDataEditor);</script></dom-module><custom-style><style is="custom-style">.CodeMirror-lint-markers{width:16px;}.CodeMirror-lint-tooltip{background-color:infobackground;border:1px solid black;border-radius:4px 4px 4px 4px;color:infotext;font-family:monospace;font-size:10pt;overflow:hidden;padding:2px 5px;position:fixed;white-space:pre;white-space:pre-wrap;z-index:100;max-width:600px;opacity:0;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s;}.CodeMirror-lint-mark-error,
  .CodeMirror-lint-mark-warning{background-position:left bottom;background-repeat:repeat-x;}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");}.CodeMirror-lint-marker-error,
  .CodeMirror-lint-marker-warning{background-position:center center;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;width:16px;vertical-align:middle;position:relative;}.CodeMirror-lint-message-error,
  .CodeMirror-lint-message-warning{padding-left:18px;background-position:top left;background-repeat:no-repeat;}.CodeMirror-lint-marker-error,
  .CodeMirror-lint-message-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");}.CodeMirror-lint-marker-warning,
  .CodeMirror-lint-message-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");}.CodeMirror-lint-marker-multiple{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:right bottom;width:100%;height:100%;}</style></custom-style><script>/* Jison generated parser */var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:// replace escaped characters with actual character
this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\x0B").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=+yytext;break;case 3:this.$=null;break;case 4:this.$=!0/* ignoreName */ /* skipSlots */;break;case 5:this.$=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],// semantic value stack
lstack=[],// location stack
table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;//this.reductionCount = this.shiftCount = 0;
this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;// $end = 1
// if token isn't its numeric value, convert
if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(!0){// retreive state number from top of stack
state=stack[stack.length-1];// use default actions if available
if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null==symbol)symbol=lex();// read action for current state and first input
action=table[state]&&table[state][symbol]}// handle parse error
_handle_error:if("undefined"===typeof action||!action.length||!action[0]){if(!recovering){// Report error
expected=[];for(p in table[state])if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}var errStr="";if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol/*EOF*/?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}// just recovered from another error
if(3==recovering){if(symbol==EOF){throw new Error(errStr||"Parsing halted.")}// discard current lookahead and grab another
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex()}// try to recover from error
while(1){// check for error recovery rule in this state
if(TERROR.toString()in table[state]){break}if(0==state){throw new Error(errStr||"Parsing halted.")}popStack(1);state=stack[stack.length-1]}preErrorSymbol=symbol;// save the lookahead token
symbol=TERROR;// insert generic error symbol as new lookahead
state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3;// allow 3 real symbols to be shifted before reporting a new error
}// this shouldn't happen, unless resolve defaults are off
if(action[0]instanceof Array&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:// shift
//this.shiftCount++;
stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);// push state
symbol=null;if(!preErrorSymbol){// normal execution/no error
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{// error just occurred, resume old lookahead f/ before error
symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:// reduce
//this.reductionCount++;
len=this.productions_[action[1]][1];// perform semantic action
yyval.$=vstack[vstack.length-len];// default to $$ = $1
// default location, uses first token for firsts, last for lasts
yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}// pop off stack
if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);// push nonterminal (reduce)
vstack.push(yyval.$);lstack.push(yyval._$);// goto new state = table[STATE][NONTERMINAL]
newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:// accept
return!0;}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch},unput:function(ch){this._input=ch+this._input;return this},more:function(){this._more=!0;return this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)},options:{},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:/* skip whitespace */break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return"INVALID";break;}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};;return lexer}();/* Jison generated lexer */parser.lexer=lexer;return parser}();if("undefined"!==typeof require&&"undefined"!==typeof exports){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments)};exports.main=function commonjsMain(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");if("undefined"!==typeof process){var source=require("fs").readFileSync(require("path").join(process.cwd(),args[1]),"utf8")}else{var cwd=require("file").path(require("file").cwd()),source=cwd.join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if("undefined"!==typeof module&&require.main===module){exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args)}}</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";var GUTTER_ID="CodeMirror-lint-markers";function showTooltip(e,content){var tt=document.createElement("div");tt.className="CodeMirror-lint-tooltip";tt.appendChild(content.cloneNode(!0/* ignoreName */ /* skipSlots */));document.body.appendChild(tt);function position(e){if(!tt.parentNode)return CodeMirror.off(document,"mousemove",position);tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px";tt.style.left=e.clientX+5+"px"}CodeMirror.on(document,"mousemove",position);position(e);if(null!=tt.style.opacity)tt.style.opacity=1;return tt}function rm(elt){if(elt.parentNode)elt.parentNode.removeChild(elt)}function hideTooltip(tt){if(!tt.parentNode)return;if(null==tt.style.opacity)rm(tt);tt.style.opacity=0;setTimeout(function(){rm(tt)},600)}function showTooltipFor(e,content,node){var tooltip=showTooltip(e,content);function hide(){CodeMirror.off(node,"mouseout",hide);if(tooltip){hideTooltip(tooltip);tooltip=null}}var poll=setInterval(function(){if(tooltip)for(var n=node;;n=n.parentNode){if(n&&11==n.nodeType)n=n.host;if(n==document.body)return;if(!n){hide();break}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,options,hasGutter){this.marked=[];this.options=options;this.timeout=null;this.hasGutter=hasGutter;this.onMouseOver=function(e){onMouseOver(cm,e)};this.waitingFor=0}function parseOptions(_cm,options){if(options instanceof Function)return{getAnnotations:options};if(!options||!0===options)options={};return options}function clearMarks(cm){var state=cm.state.lint;if(state.hasGutter)cm.clearGutter(GUTTER_ID);for(var i=0;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function makeMarker(labels,severity,multiple,tooltips){var marker=document.createElement("div"),inner=marker;marker.className="CodeMirror-lint-marker-"+severity;if(multiple){inner=marker.appendChild(document.createElement("div"));inner.className="CodeMirror-lint-marker-multiple"}if(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */!=tooltips)CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(e,labels,inner)});return marker}function getMaxSeverity(a,b){if("error"==a)return a;else return b}function groupByLine(annotations){for(var lines=[],i=0;i<annotations.length;++i){var ann=annotations[i],line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;if(!severity)severity="error";var tip=document.createElement("div");tip.className="CodeMirror-lint-message-"+severity;if("undefined"!=typeof ann.messageHTML){tip.innerHTML=ann.messageHTML}else{tip.appendChild(document.createTextNode(ann.message))}return tip}function lintAsync(cm,getAnnotations,passOptions){var state=cm.state.lint,id=++state.waitingFor;function abort(){id=-1;cm.off("change",abort)}cm.on("change",abort);getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);if(state.waitingFor!=id)return;if(arg2&&annotations instanceof CodeMirror)annotations=arg2;cm.operation(function(){updateLinting(cm,annotations)})},passOptions,cm)}function startLinting(cm){var state=cm.state.lint,options=state.options,passOptions=options.options||options,getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");/*
     * Passing rules in `options` property prevents JSHint (and other linters) from complaining
     * about unrecognized rules like `onUpdateLinting`, `delay`, `lintOnChange`, etc.
     */if(!getAnnotations)return;if(options.async||getAnnotations.async){lintAsync(cm,getAnnotations,passOptions)}else{var annotations=getAnnotations(cm.getValue(),passOptions,cm);if(!annotations)return;if(annotations.then)annotations.then(function(issues){cm.operation(function(){updateLinting(cm,issues)})});else cm.operation(function(){updateLinting(cm,annotations)})}}function updateLinting(cm,annotationsNotSorted){clearMarks(cm);for(var state=cm.state.lint,options=state.options,annotations=groupByLine(annotationsNotSorted),line=0,anns;line<annotations.length;++line){anns=annotations[line];if(!anns)continue;for(var maxSeverity=null,tipLabel=state.hasGutter&&document.createDocumentFragment(),i=0;i<anns.length;++i){var ann=anns[i],severity=ann.severity;if(!severity)severity="error";maxSeverity=getMaxSeverity(maxSeverity,severity);if(options.formatAnnotation)ann=options.formatAnnotation(ann);if(state.hasGutter)tipLabel.appendChild(annotationTooltip(ann));if(ann.to)state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark-"+severity,__annotation:ann}))}if(state.hasGutter)cm.setGutterMarker(line,GUTTER_ID,makeMarker(tipLabel,maxSeverity,1<anns.length,state.options.tooltips))}if(options.onUpdateLinting)options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;if(!state)return;clearTimeout(state.timeout);state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay||500)}function popupTooltips(annotations,e){for(var target=e.target||e.srcElement,tooltip=document.createDocumentFragment(),i=0,ann;i<annotations.length;i++){ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(!/\bCodeMirror-lint-mark-/.test(target.className))return;for(var box=target.getBoundingClientRect(),x=(box.left+box.right)/2,y=(box.top+box.bottom)/2,spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client")),annotations=[],i=0,ann;i<spans.length;++i){ann=spans[i].__annotation;if(ann)annotations.push(ann)}if(annotations.length)popupTooltips(annotations,e)}CodeMirror.defineOption("lint",!1,function(cm,val,old){if(old&&old!=CodeMirror.Init){clearMarks(cm);if(!1!==cm.state.lint.options.lintOnChange)cm.off("change",onChange);CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver);clearTimeout(cm.state.lint.timeout);delete cm.state.lint}if(val){for(var gutters=cm.getOption("gutters"),hasLintGutter=!1,i=0;i<gutters.length;++i)if(gutters[i]==GUTTER_ID)hasLintGutter=!0;var state=cm.state.lint=new LintState(cm,parseOptions(cm,val),hasLintGutter);if(!1!==state.options.lintOnChange)cm.on("change",onChange);if(!1!=state.options.tooltips&&"gutter"!=state.options.tooltips)CodeMirror.on(cm.getWrapperElement(),"mouseover",state.onMouseOver);startLinting(cm)}});CodeMirror.defineExtension("performLint",function(){if(this.state.lint)startLinting(this)})});</script><script>// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
// Depends on jsonlint.js from https://github.com/zaach/jsonlint
// declare global: jsonlint
(function(mod){if("object"==typeof exports&&"object"==typeof module)// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.registerHelper("lint","json",function(text){var found=[];if(!window.jsonlint){if(window.console){window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.")}return found}// for jsonlint's web dist jsonlint is exported as an object with a single property parser, of which parseError
// is a subproperty
var jsonlint=window.jsonlint.parser||window.jsonlint;jsonlint.parseError=function(str,hash){var loc=hash.loc;found.push({from:CodeMirror.Pos(loc.first_line-1,loc.first_column),to:CodeMirror.Pos(loc.last_line-1,loc.last_column),message:str})};try{jsonlint.parse(text)}catch(e){}return found})});</script><dom-module id="raw-payload-editor" assetpath="bower_components/raw-payload-editor/"><template><style>:host{display:block;@apply --raw-payload-editor;}.action-buttons{margin:8px 0;@apply --raw-payload-editor-encode-buttons;@apply --raw-payload-editor-action-buttons;}*[hidden]{display:none !important;}</style><template is="dom-if" if="[[encodeEnabled]]"><div class="action-buttons" data-type="form"><paper-button on-tap="encodeValue" title="Encodes payload to x-www-form-urlencoded data">Encode payload</paper-button><paper-button on-tap="decodeValue" title="Decodes payload to human readable form">Decode payload</paper-button></div></template><template is="dom-if" if="[[isJson]]"><div class="action-buttons" data-type="json"><paper-button on-tap="formatValue" data-action="format-json" title="Formats JSON input.">Format JSON</paper-button><paper-button on-tap="minifyValue" data-action="minify-json" title="Removed whitespaces from the input">Minify JSON</paper-button></div></template><code-mirror mode="application/json" on-value-changed="_editorValueChanged" on-paste="_onPaste" lint="[[_lintObject]]" gutters="[[_cmGutters]]"></code-mirror><paper-toast id="invalidJsonToast">JSON value is invalid. Cannot parse value.</paper-toast></template><script>/**
   * A raw payload input editor based on CodeMirror.
   *
   * The element additionally shows Encode / Decode buttons if current content type value contains
   * "x-www-form-urlencoded".
   *
   * The element listens for `content-type-changed` custom event and updates the `contentType` property
   * automatically. This event is commonly used in ARC elements.
   *
   * ### Example
   * ```
   * <raw-payload-editor content-type="application/json"></raw-payload-editor>
   * ```
   *
   * ### Styling
   * `<raw-payload-editor>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--raw-payload-editor` | Mixin applied to the element | `{}`
   * `--raw-payload-editor-encode-buttons` | Mixin applied to encode / decode buttons container | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   * @appliesMixin Polymer.IronResizableBehavior
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @appliesMixin ArcBehaviors.PayloadParserBehavior
   */class RawPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronResizableBehavior],ArcBehaviors.PayloadParserBehavior(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"raw-payload-editor"}static get properties(){return{/**
         * Raw payload value
         */value:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"},/**
         * Content-Type header value. Determines current code mirror mode.
         */contentType:{type:String,observer:"_onContentTypeChanged"},// Computed value, true if `contentType` contains `x-www-form-urlencoded`
encodeEnabled:{type:Boolean,computed:"_computeEncodeEnabled(contentType)",value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},// Computed value, true if `contentType` contains `/json`
isJson:{type:Boolean,computed:"_computeIsJson(contentType)",value:!1},_cmGutters:{type:Array,value:["CodeMirror-lint-markers"]},_lintObject:{type:Object,value:function(){return!1}},_customStylesList:Array}}constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this);this._resizeHandler=this._resizeHandler.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler);this.addEventListener("iron-resize",this._resizeHandler)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler);this.removeEventListener("iron-resize",this._resizeHandler)}ready(){super.ready();this.refresh()}/**
     * Forces render code-mirror content.
     * Should be used to when the element becomes visible after being hidden.
     */refresh(){var elm=this.shadowRoot.querySelector("code-mirror");if(!elm){return;// DOM not ready
}elm.editor.refresh()}/**
     * Changes CodeMirror mode when the content type value is updated.
     */_onContentTypeChanged(ct){this._setupLinter(ct);if(!ct){return}if(ct.indexOf&&-1!==ct.indexOf(";")){ct=ct.substr(0,ct.indexOf(";"))}this.shadowRoot.querySelector("code-mirror").mode=ct}// Computes `encodeEnabled` based on content type.
_computeEncodeEnabled(ct){return this.__computeIs(ct,"x-www-form-urlencoded")}_computeIsJson(ct){return this.__computeIs(ct,"/json")}__computeIs(ct,needle){if(!ct){return!1}if(ct.indexOf&&-1!==ct.indexOf(needle)){return!0}return!1}/**
     * Handler for the `content-type-changed` event. Sets the `contentType` property.
     *
     * @param {CustomEvent} e
     */_contentTypeHandler(e){const ct=e.detail.value;this.set("contentType",ct)}/**
     * Handler for value change.
     * If the element is opened then it will fire change event.
     */_valueChanged(value){if(this.__editorValueChange||!this.shadowRoot){return}this.shadowRoot.querySelector("code-mirror").value=value}/**
     * Called when the editor fires change event
     *
     * @param {CustomEvent} e
     */_editorValueChanged(e){e.stopPropagation();this.__editorValueChange=!0;this.set("value",e.detail.value);this.__editorValueChange=!1}/**
     * Formats JSON data on paste.
     * It only formats the input if no selection is applied, whole value
     * is selcted or input is empty.
     */_onPaste(e){if("application/json"!==this.contentType){return}let len;if(this.value){len=this.value.length}if(this._cancelPaste(len)){return}let data=e.clipboardData.getData("text");try{data=JSON.parse(data);data=JSON.stringify(data,null,2);e.preventDefault();this.set("value",data)}catch(e){}}/**
     * Tests if text formatting on paste is allowed
     *
     * @param {Number} inputSize Size of current value
     * @return {Boolean} True to disallow altering the value on paste.
     */_cancelPaste(inputSize){if(!inputSize){return!1}const el=document.activeElement;let start=0,end=0;if(el){if("number"===typeof el.selectionStart){start=el.selectionStart}if("number"===typeof el.selectionEnd){end=el.selectionEnd}}if(0===start&&0===end){const selection=window.getSelection();if(0===selection.rangeCount){return!1}const range=selection.getRangeAt(0);start=range.startOffset;end=range.endOffset}if(0===start&&end===inputSize){return!1}return!0}_setupLinter(ct){/* global CodeMirror */if(!ct||ct.indexOf&&-1===ct.indexOf("/json")){this.set("_lintObject",!1);this.set("_customStylesList",void 0)}else{this.set("_lintObject",CodeMirror.lint.json);this.set("_customStylesList",["code-mirror-lint"])}const editor=this.shadowRoot.querySelector("code-mirror").editor;if(editor){editor.refresh()}}/**
     * Formats current value as it is a JSON object.
     */formatValue(){try{let value=this.value;value=JSON.parse(value);value=JSON.stringify(value,null,2);this.set("value",value);this.refresh()}catch(e){this.$.invalidJsonToast.opened=!0;console.log(e)}}/**
     * Minifies JSON value by removing whitespaces.
     */minifyValue(){try{let value=this.value;value=JSON.parse(value);value=JSON.stringify(value);this.set("value",value);this.refresh()}catch(e){this.$.invalidJsonToast.opened=!0;console.log(e)}}_resizeHandler(){this.refresh()}/**
     * URL encodes payload value and resets the same value property.
     * This should be used only for payloads with x-www-form-urlencoded content-type.
     */encodeValue(){const value=this.encodeUrlEncoded(this.value);this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}/**
     * URL decodes payload value and resets the same value property.
     * This should be used only for payloads with x-www-form-urlencoded content-type.
     */decodeValue(){const value=this.decodeUrlEncoded(this.value);this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}}window.customElements.define(RawPayloadEditor.is,RawPayloadEditor);</script></dom-module><script>/**
 * An element that contains methods to transform FormData object
 * into Multipart message and ArrayBuffer
 *
 * ## Example
 *
 * ```html
 * <multipart-payload-transformer form-data="[[formData]]"></multipart-payload-transformer>
 * ```
 *
 * ## Changes in version 2.0
 * - The element does not includes polyfill by default. Use
 * `advanced-rest-client/fetch-polyfill` and `advanced-rest-client/arc-polyfills`
 * if targeting browsers that does not support Fetch API.
 *
 * @customElement
 * @polymer
 * @memberof ApiElements
 */class MultipartPayloadTransformer extends Polymer.Element{static get is(){return"multipart-payload-transformer"}static get properties(){return{/**
       * A form data object to transform.
       *
       * @type {FormData}
       */formData:Object,/**
       * Latest generated boundary value for the multipart forms.
       * Each call to `generateMessage()` or `generatePreview()` will
       * generate new content type and therefore boundary value.
       */boundary:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
       * Latest generated content-type value for the multipart forms.
       * Each call to `generateMessage()` or `generatePreview()` will
       * generate new content type value.
       */contentType:{type:String,notify:!0}}}/**
   * Generates an ArrayBuffer instance from the FormData object.
   *
   * @return {Promise<String>} A resolved promise when produces ArrayBuffer.
   */generateMessage(){/* global Request */const request=new Request("/",{method:"POST",body:this.formData}),ct=request.headers.get("content-type");this._processContentType(ct);if(!request.arrayBuffer){return Promise.reject(new Error("Your browser do not support this method."))}return request.arrayBuffer()}/**
   * Informs other ARC elements about content type change.
   * If boundary is added to the content type string then it is reported in
   * a separate event.
   *
   * @param {String} contentType New cintent type.
   */_processContentType(contentType){this.set("contentType",contentType);this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,detail:{value:contentType}}));const match=contentType.match(/boundary=(.*)/);if(!match){return}const boundary=match[1];this.set("boundary",boundary);this.dispatchEvent(new CustomEvent("multipart-boundary-changed",{bubbles:!0,composed:!0,detail:{value:boundary}}))}/**
   * Generates a preview of the multipart messgae.
   *
   * @return {Promise<String>} A promise resolved to a string message.
   */generatePreview(){if(!this.formData){return Promise.reject(new Error("The FormData property is not set."))}return this.generateMessage().then(ab=>this.arrayBufferToString(ab))}/**
   * Convert ArrayBuffer to readable form
   * @param {ArrayBuffer} buff
   * @returns {String} Converted string
   */arrayBufferToString(buffer){if(!!buffer.buffer){// Not a ArrayBuffer, need and instance of AB
// It can't just get buff.buffer because it will use original buffer if the buff is a slice
// of it.
const b=buffer.slice(0);buffer=b.buffer}if("TextDecoder"in window){const view=new DataView(buffer),decoder=new TextDecoder("utf-8");return decoder.decode(view)}const array=new Uint8Array(buffer);let str="";for(let i=0;i<array.length;++i){str+=String.fromCharCode(array[i])}return str}/**
   * Dispatched when a message is generated from the FormData. This operation
   * changes boundary added to the header.
   *
   * @event content-type-changed
   * @param {String} value New value of the content type.
   */ /**
   * Dispatched when boundary is generated
   *
   * @event multipart-boundary-changed
   * @param {String} value New value of the boundary
   */}window.customElements.define(MultipartPayloadTransformer.is,MultipartPayloadTransformer);</script><dom-module id="multipart-text-form-item" assetpath="bower_components/multipart-payload-editor/"><template><style include="markdown-styles"></style><style include="api-form-styles"></style><style>:host{display:block;@apply --layout-flex;}.multipart-item{@apply --layout-vertical;@apply --layout-flex;}.mime-selector{position:relative;}.value-selector{@apply --layout-horizontal;@apply --layout-center;}api-property-form-item{@apply --layout-flex;margin-left:12px;}.mime-selector paper-input{max-width:360px;}.name-field{max-width:360px;@apply --layout-flex;}paper-autocomplete{top:34px;}</style><div class="multipart-item"><template is="dom-if" if="[[hasFormData]]"><div class="mime-selector"><paper-input label="Content type (Optional)" value="{{type}}" no-label-float=""></paper-input><paper-autocomplete target="[[_mimeInput]]" source="[[suggestions]]" open-on-focus=""></paper-autocomplete></div></template><div class="value-selector"><paper-input class="name-field" label="Field name" error-message="The name is required" required="" auto-validate="" value="{{name}}" no-label-float=""></paper-input><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" no-label-float=""></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleDocumentation" title="Display documentation"></paper-icon-button></template></div></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></template><script>/**
   * A text form item.
   *
   * If the browser has native support for FormData (and iterators) then it will also render
   * a content type selector for the input field.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.IronValidatableBehavior
   */class MultipartTextFormItem extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"multipart-text-form-item"}static get properties(){return{/**
         * Name of this control
         */name:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
         * Valuie of this control.
         */value:{type:String,notify:!0},/**
         * A view model.
         */model:Object,/**
         * True to render documentation (if set in model)
         */docsOpened:Boolean,/**
         * Reference to the mime type input
         */_mimeInput:{type:HTMLElement},// A content type of the form field to be presented in the Multipart request.
type:{type:String,notify:!0},// List of suggested mime types
suggestions:{type:Array,value:function(){return["multipart-form-data","application/x-www-form-urlencoded","application/json","application/xml","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"]}},// If set it will also renders mime type selector for the input data.
hasFormData:{type:Boolean,observer:"_hasFormDataChanged"}}}/**
     * Toggles documentation (if available)
     */toggleDocumentation(){this.docsOpened=!this.docsOpened}ready(){super.ready();if(this.hasFormData){this._setAutocompleteTarget()}}_getValidity(){return!!(this.name&&this.value)}_hasFormDataChanged(hasFormData){if(hasFormData){this._setAutocompleteTarget()}else{this.set("_mimeInput",void 0)}}_setAutocompleteTarget(){Polymer.RenderStatus.afterNextRender(this,function(){this.set("_mimeInput",this.$$(".mime-selector paper-input"))})}}window.customElements.define(MultipartTextFormItem.is,MultipartTextFormItem);</script></dom-module><dom-module id="multipart-file-form-item" assetpath="bower_components/multipart-payload-editor/"><template><style include="markdown-styles"></style><style include="api-form-styles">:host{display:block;@apply --layout-flex;}*[hidden]{display:none !important;}.file-row{margin:8px 0;}.controls{@apply --layout-horizontal;@apply --layout-flex;@apply --layout-center;}.controls > *:not(:last-child){margin-right:12px;}.file-trigger,
    .param-name{margin-right:12px;}.file-trigger{color:var(--multipart-payload-editor-file-trigger-color, var(--accent-color, #FF5722));}.files-counter-message{color:rgba(0, 0, 0, 0.74);@apply --layout-flex;@apply --arc-font-body1;}.name-field{max-width:360px;@apply --layout-flex;}</style><div class="file-row"><div class="controls"><paper-input error-message="The name is required" label="Field name" required="" auto-validate="" value="{{name}}" class="name-field"></paper-input><paper-button raised="" on-tap="_selectFile" class="file-trigger">Choose file</paper-button><template is="dom-if" if="[[hasFile]]"><span class="files-counter-message" hidden$="[[!hasFile]]">[[value.name]] ([[value.size]] bytes)</span></template><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleDocumentation" title="Display documentation"></paper-icon-button></template></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div><input type="file" hidden="" on-change="_fileObjectChanged" accept$="[[_computeAccept(model)]]"></template><script>/**
   * A file form item.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.IronValidatableBehavior
   */class MultipartFileFormItem extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"multipart-file-form-item"}static get properties(){return{/**
         * Computed value, true if the control has a file.
         */hasFile:{type:Boolean,computed:"_computeHasFile(value)"},/**
         * Name of this control
         */name:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
         * Valuie of this control.
         */value:{type:String,notify:!0},/**
         * A view model.
         */model:Object,/**
         * True to render documentation (if set in model)
         */docsOpened:Boolean}}/**
     * Toggles documentation (if available)
     */toggleDocumentation(){this.docsOpened=!this.docsOpened}_getValidity(){return!!(this.name&&this.value instanceof Blob)}/**
     * Tests if current value is a type of `Blob`.
     *
     * @param {String|Blob|File|undefined} value Value to test
     * @return {Boolean}
     */_computeHasFile(value){return!!(value&&value instanceof Blob)}/**
     * A handler to choose file button click.
     * This function will find a proper input[type="file"] and programatically click on it to open
     * file dialog.
     */_selectFile(){const file=this.shadowRoot.querySelector("input[type=\"file\"]");file.click()}/**
     * A handler to file change event for input[type="file"].
     * This will update files array for corresponding `this.filesList` array object.
     */_fileObjectChanged(e){this.set("value",e.target.files[0])}/**
     * Computes the `accept`attribute for file input.
     */_computeAccept(model){if(!model){return}if(model.fileTypes&&model.fileTypes.length&&"string"===typeof model.fileTypes[0]){return model.fileTypes.join(",")}if(model.fixedFacets){if(model.fixedFacets.fileTypes&&model.fixedFacets.fileTypes.length){return model.fixedFacets.fileTypes.join(",")}}}}window.customElements.define(MultipartFileFormItem.is,MultipartFileFormItem);</script></dom-module><dom-module id="multipart-payload-editor" assetpath="bower_components/multipart-payload-editor/"><template strip-whitespace=""><style include="prism-theme-default"></style><style include="api-form-styles"></style><style>:host{display:block;@apply --multipart-payload-editor;}[hidden]{display:none !important;}.form-item{@apply --layout-horizontal;margin:8px 0;}.delete-action{display:block;margin-top:20px;}.form-item:not([data-file]) .delete-action{margin-top:42px;}multipart-text-form-item,
    multipart-file-form-item{margin-bottom:8px;}code{@apply --arc-font-code1;white-space:pre-line;word-break:break-all;overflow:auto;@apply --multipart-payload-editor-code-preview;}.editor-actions{@apply --layout-horizontal;@apply --layout-center;@apply --view-action-bar;@apply --multipart-payload-editor-action-bar;}paper-icon-button[active]{background-color:var(--body-editor-panel-button-active-background-color, #e0e0e0);border-radius:50%;@apply --body-editor-panel-button-active;}</style><template is="dom-if" if="[[hasFormDataSupport]]"><div class="editor-actions"><paper-icon-button id="previewIcon" icon="[[_computeToggleIcon(previewOpened)]]" class="action-icon" toggles="" active="{{previewOpened}}" disabled="[[generatingPreview]]" title="Toggles generated payload message preview"></paper-icon-button><paper-icon-button id="copyIcon" icon="arc:content-copy" class="action-icon" on-tap="_copyToClipboard" disabled="[[generatingPreview]]" hidden$="[[!previewOpened]]" title="Copy payload message"></paper-icon-button><paper-spinner alt="Loading preview" active="[[generatingPreview]]"></paper-spinner></div></template><section hidden$="[[previewOpened]]"><iron-form><form enctype="multipart/form-data" method="post"><template is="dom-repeat" id="list" items="{{model}}" observe="value"><div class="form-item" data-file$="[[item.schema.isFile]]"><template is="dom-if" if="[[item.schema.isFile]]"><multipart-file-form-item name="{{item.name}}" value="{{item.value}}" model="[[item]]" required="" auto-validate=""></multipart-file-form-item></template><template is="dom-if" if="[[!item.schema.isFile]]"><multipart-text-form-item has-form-data="[[hasFormDataSupport]]" name="{{item.name}}" value="{{item.value}}" type="{{item.contentType}}" model="[[item]]" required="" auto-validate=""></multipart-text-form-item></template><span class="delete-action"><paper-icon-button title="Remove parameter" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom"></paper-icon-button></span></div></template></form></iron-form><div class="add-actions"><paper-button on-tap="addFile" class="action-button">Add file part</paper-button><paper-button on-tap="addText" class="action-button">Add text part</paper-button></div></section><section hidden$="[[!previewOpened]]"><code></code></section><prism-highlighter></prism-highlighter><multipart-payload-transformer></multipart-payload-transformer><clipboard-copy content="[[messagePreview]]"></clipboard-copy><paper-toast horizontal-align="right"></paper-toast></template><script>/**
   * Multipart payload editor for ARC/API Console body editor.
   *
   * On supported browsers (full support for FormData, Iterator and ArrayBuffer) it will render a
   * UI controls to generate payload message preview.
   *
   * It produces a FormData object that can be used in XHR / Fetch or transformed to ArrayBuffer to be
   * used in socket connection.
   *
   * ### Example
   * ```html
   * <multipart-payload-editor value="{{form}}"></multipart-payload-editor>
   * ```
   *
   * ## Data model from FormData
   *
   * The element creates a data model for the form view from FormData object.
   * The limitation of this solution is that the information about initial part type
   * is lost. In case when the user specified the part as a text part but also added
   * part content type it will be recognized as the file part.
   *
   * Note: this only works in browsers that support full FormData spec which rules
   * out any Microsoft product. **You have to include polyfills for the FormData.**
   *
   * ### Styling
   *
   * `<multipart-payload-editor>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--multipart-payload-editor` | Mixin applied to the element | `{}`
   * `--multipart-payload-editor-code-preview` | Mixin applied to a code preview element | `{}`
   * `--view-action-bar` | Theme mixin, applied to the content action bar | `{}`
   * `--multipart-payload-editor-action-bar` | Mixin applied to the content action bar | `{}`
   * `--body-editor-panel-button-active-background-color` | Background color of the active content action button | `#e0e0e0`
   * `--body-editor-panel-button-active` | Mixin applied to active content action button | `{}`
   * `--content-action-icon-color` | Color of the content action icon | `rgba(0, 0, 0, 0.74)`
   * `--content-action-icon-color-hover` | Color of the content action icon when hovered | `--accent-color` or `rgba(0, 0, 0, 0.74)`
   * `--inline-documentation-color` | Color of the description text from a RAML type. | `rgba(0, 0, 0, 0.87)`
   * `--from-row-action-icon-color` | Color of the icon buttons next to the input fields | `--icon-button-color` or `rgba(0, 0, 0, 0.74)`
   * `--from-row-action-icon-color-hover` | Color of the icon buttons next to the input fields when hovering | `--accent-color` or `rgba(0, 0, 0, 0.74)`,
   * `--multipart-payload-editor-file-trigger-color` | Color of the file dialog trigger button. | `--accent-color` or `#FF5722`
   *
   * This element also inherits styles from
   * `advanced-rest-client/api-form-mixin/api-form-styles.html` element to
   * style form controls.
   *
   * @customElement
   * @polymer
   * @demo demo/simple.html Simple usage
   * @demo demo/raml.html With AMF model from RAML file
   * @appliesMixin Polymer.IronValidatableBehavior
   * @appliesMixin ArcBehaviors.ApiFormMixin
   * @memberof ApiComponents
   */class MultipartPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"multipart-payload-editor"}static get properties(){return{/**
         * Value of this form
         *
         * @type {FormData}
         */value:{type:Object,notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"},/**
         * True if the browser has native FormData support.
         */hasFormDataSupport:{type:Boolean,value:function(){try{const fd=new FormData;fd.append("test",new Blob(["."],{type:"image/jpg"}),"test.jpg");return"entries"in fd}catch(e){return(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}}},// true if the message preview is opened
previewOpened:{type:Boolean,value:!1,observer:"_previewOpenedChanged"},// true if the transformer is generating the message
generatingPreview:Boolean,// Generated body message preview
messagePreview:String}}static get observers(){return["_modelChanged(model.*)"]}ready(){super.ready();if(!this.model){this.addFile()}}/**
     * Appends new file form row.
     * This changes `model`.
     */addFile(){this.addCustom("type",{inputLabel:"Property value"});const index=this.model.length-1;this.set(`model.${index}.schema.isFile`,!0);this.set(`model.${index}.schema.type`,"file")}/**
     * Appends empty text field to the form.
     * This changes `model`.
     */addText(){this.addCustom("type",{inputLabel:"Property value"});const index=this.model.length-1;this.set(`model.${index}.schema.isFile`,!1);this.set(`model.${index}.schema.type`,"string");if(this.hasFormDataSupport){this.set(`model.${index}.contentType`,"")}}/**
     * Handler for value change.
     * If the element is opened then it will fire change event.
     */_valueChanged(value){if(!(value instanceof FormData)){return}const currentModel=this.model;if(currentModel){if(!this._modelAndValueMatch(currentModel,value)){this._restoreFormData(value);return}}else if(value){this._restoreFormData(value);return}}/**
     * Transforms FormData into the data model.
     * Sets new model data.
     *
     * @param {FormData} data Form data to be restored.
     */_restoreFormData(data){if(!this.hasFormDataSupport){return}let textParts;if(data._arcMeta&&data._arcMeta.textParts){textParts=data._arcMeta.textParts}const it=data.entries();return this._modelForParts(it,textParts).then(model=>{this._cancelModelChange=!0;this.set("model",model);this._cancelModelChange=!1})}/**
     * @param {Iterator} entries
     * @param {Array} textParts
     * @param {Array} result
     * @return {Promise<Array>}
     */_modelForParts(entries,textParts,result){result=result||[];const item=entries.next();if(item.done){return Promise.resolve(result)}const part=item.value;let modelItem={name:part[0]},restoreBlobValue=!1;if("string"===typeof part[1]){modelItem.type="text"}else{if(textParts&&-1!==textParts.indexOf(modelItem.name)){modelItem.type="text";restoreBlobValue=!0}else{modelItem.type="file"}}let promise;if(restoreBlobValue){promise=this._blobToString(part[1])}else{promise=Promise.resolve({result:part[1]})}return promise.then(value=>{modelItem.value=value.result;modelItem=this._createModelObject(modelItem,{});if(!modelItem.schema){modelItem.schema={}}modelItem.schema.isFile="file"===modelItem.type?!0:!1;if(modelItem.schema.isFile){modelItem.value=part[1]}if(restoreBlobValue){modelItem.contentType=value.type}result.push(modelItem);return this._modelForParts(entries,textParts,result)})}/**
     * It dispatches `api-property-model-build` custom event that is handled by
     * `api-view-model-transformer` to build model item.
     * This assumes that the transformer element is already in the DOM.
     *
     * @param {Object} defs Defaults for model
     * @return {Object} Tranformed object.
     */_createModelObject(defs){const e=new CustomEvent("api-property-model-build",{bubbles:!0,composed:!0,cancelable:!0,detail:defs});this.dispatchEvent(e);return e.detail}/**
     * Transforms `Blob` to string.
     *
     * @param {Blob} blob A blob to read.
     * @return {Promise<String>} Read content.
     */_blobToString(blob){return new Promise(function(resolve){const reader=new FileReader;reader.addEventListener("loadend",function(e){resolve({result:e.target.result,type:blob.type})});reader.addEventListener("error",function(){resolve({result:"Unable to restore part value",type:""})});reader.readAsText(blob)})}/**
     * Tests if current model and FormData object represent the same form data.
     *
     * @param {Array} model Model to test
     * @param {FormData} value Form data with values
     * @return {Boolean} True if model represents data in FormData object
     */_modelAndValueMatch(model,value){if(!this.hasFormDataSupport){return!0}if((!model||!model.length)&&value){return!1}if(!value){return!0}const it=value.keys(),modelSize=model.length;while(!0){const item=it.next();if(item.done){return!0}let fasItem=!1;for(let i=0;i<modelSize;i++){if(model[i].name===item.value){fasItem=!0;break}}if(!fasItem){return!1}}}// Generates a message and displays highlighted content of the message.
_previewOpenedChanged(opened){if(!opened){return}if(!this.value){const toast=this.shadowRoot.querySelector("paper-toast");toast.text="Add a valid form items first";toast.opened=!0;this.previewOpened=!1;return}this._generatePreview().then(preview=>{if(!preview){this.previewOpened=!1;return}const e=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code:preview,lang:"http"}});this.dispatchEvent(e);this.shadowRoot.querySelector("code").innerHTML=e.detail.code||preview})}_computeToggleIcon(previewOpened){return previewOpened?"arc:visibility-off":"arc:visibility"}/**
     * Called when the model chage. Regenerates the FormData object.
     *
     * @param {Object} record Polymer change record
     */_modelChanged(record){if(this._cancelModelChange){return}if(!record||!record.path){return}if("model.splices"===record.path){return}const formData=this.createFormData(record.base);this.set("value",formData)}/**
     * Generates FormData from the model.
     * For the browsers with full FormData support it will generate Form data object from form
     * element. It means that it will have only basic support.
     * For browsers with full FormData support it will contain all properties (including
     * mime types).
     *
     * @param {Array} model View data model.
     */createFormData(model){if(this.hasFormDataSupport){return this._getFormData(model)}else{return this._getLegacyFormData(model)}}/**
     * Generates the FormData object from the model instead of the form.
     *
     * @param {Array} model The model to generate form data from.
     * @return {FormData|undefined} Form data from model or undefined if model is empty.
     */_getFormData(model){if(!model||!model.length){return}const fd=new FormData;let hasValue=!1;model.forEach(item=>{if(!item.name){return}if(item.schema.isFile){if(!item.value){return}fd.append(item.name,item.value);hasValue=!0}else{if(item.contentType){var blob=new Blob([item.value],{type:item.contentType});fd.append(item.name,blob);if(!fd._arcMeta){fd._arcMeta={}}if(!fd._arcMeta.textParts){fd._arcMeta.textParts=[]}fd._arcMeta.textParts.push(item.name)}else{fd.append(item.name,item.value)}hasValue=!0}});return hasValue?fd:void 0}/**
     * Returns a FormData object depending if current form has any value.
     * Text items can be empty.
     *
     * @param {Array} model The model to generate form data from.
     * @return {FormData|undefined} Form data from model or undefined if model
     * is empty.
     */_getLegacyFormData(model){if(!model||!model.length){return}let hasValue=!1;for(var i=0,len=model.length;i<len;i++){if(model[i].value){hasValue=!0}}return hasValue?new FormData(this._getForm()):void 0}/**
     * Generates a preview message from the FormData object.
     *
     * @return {Promise} A promise fulfilled with the content. Content can be undefined
     * if message couldn't be generated because of lack of support.
     */_generatePreview(){this.set("messagePreview",void 0);this.set("generatingPreview",!0);const transformer=this.shadowRoot.querySelector("multipart-payload-transformer");transformer.formData=this.value;return transformer.generatePreview().then(preview=>{this.set("generatingPreview",!1);this.set("messagePreview",preview);return preview}).catch(cause=>{this.set("generatingPreview",!1);const toast=this.shadowRoot.querySelector("paper-toast");toast.text=cause.message;toast.opened=!0})}// Handler for copy to clipboard click.
_copyToClipboard(){const elm=this.shadowRoot.querySelector("clipboard-copy");if(elm.copy()){this.shadowRoot.querySelector("#copyIcon").icon="arc:done"}else{this.shadowRoot.querySelector("#copyIcon").icon="arc:error";const toast=this.shadowRoot.querySelector("paper-toast");toast.text="Copy command is disabled in your browser.";toast.opened=!0}if(this.__copyButtonAsync){clearTimeout(this.__copyButtonAsync)}this.__copyButtonAsync=setTimeout(()=>{this.shadowRoot.querySelector("#copyIcon").icon="arc:content-copy";this.__copyButtonAsync=void 0},1e3)}}window.customElements.define(MultipartPayloadEditor.is,MultipartPayloadEditor);</script></dom-module><dom-module id="files-payload-editor" assetpath="bower_components/files-payload-editor/"><template><style>:host{display:block;padding:12px 0;@apply --files-payload-editor;}.selector{@apply --layout-horizontal;@apply --layout-center;}.list{margin:0 0.29em;display:inline-block;margin-top:12px;}paper-material{padding:0.4em 0.57em;@apply --layout-horizontal;@apply --layout-center;@apply --files-payload-editor-file-item;}.file-trigger{margin-right:12px;color:var(--files-payload-editor-file-trigger-color, var(--accent-color, #FF5722));}.files-counter-message{@apply --layout-flex;@apply --arc-font-body1;color:var(--files-payload-editor-file-summary-color, rgba(0,0,0,0.74));}.file-icon{color:var(--files-payload-editor-selected-file-icon-color, var(--accent-color, #2196F3));}.delete-icon{color:var(--inline-fom-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.2s linear;}.delete-icon:hover{color:var(--inline-fom-action-icon-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}.file-name{@apply --arc-font-body1;margin-left:8px;color:var(--files-payload-editor-selected-file-name-color, rgba(0,0,0,0.74));}.card{@apply --shadow-elevation-2dp;}</style><div class="selector"><paper-button raised="" on-tap="_selectFile" class="file-trigger">Choose a file</paper-button><template is="dom-if" if="[[hasFile]]"><span class="files-counter-message" hidden$="[[!hasFile]]">1 file selected, [[fileSize]] bytes</span></template></div><template is="dom-if" if="[[hasFile]]"><div class="list"><div class="card"><iron-icon class="file-icon" icon="arc:insert-drive-file"></iron-icon><span class="file-name">[[fileName]]</span><paper-icon-button class="action-icon delete-icon" icon="arc:remove-circle-outline" hidden$="[[!hasFile]]" title="Clear file" on-tap="removeFile"></paper-icon-button></div></div></template><input type="file" hidden="" on-change="_fileObjectChanged"></template><script>let latestFile;/**
   * `<files-payload-editor>` A request body editor to add files as a payload.
   *
   * With this element the user can select single file that will be used in the request body.
   *
   * As other payload editors it fires `payload-value-changed` custom event when value change.
   *
   * The element can be used in forms when `iron-form` is used. It contains validation methods to
   * validate user input.
   *
   * ### Example
   *
   * ```html
   * <files-payload-editor></files-payload-editor>
   * ```
   *
   * ### Styling
   * `<files-payload-editor>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--files-payload-editor` | Mixin applied to the element | `{}`
   * `--files-payload-editor-file-item` | Mixin applied to a selected file item | `{}`
   * `--files-payload-editor-file-trigger-color` | Color of the file input | `--accent-color` or `#FF5722`
   * `--files-payload-editor-file-summary-color` | Color of the selected file summary | `rgba(0,0,0,0.74)`
   * `--files-payload-editor-selected-file-name-color` | Selected file name label color | `rgba(0,0,0,0.74)`
   * `--files-payload-editor-selected-file-icon-color` | Color of the icon in the selected file section | `--accent-color` or `#2196F3`
   * `--arc-font-body1` | Theme mixin, applied to text elements | `{}`
   * `--inline-fom-action-icon-color` | Theme variable, color of the delete icon | `rgba(0, 0, 0, 0.74)`
   * `--inline-fom-action-icon-color-hover` | Theme variable, color of the delete icon when hovering | `--accent-color` or `rgba(0, 0, 0, 0.74)`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin Polymer.IronValidatableBehavior
   * @memberof ApiComponents
   */class FilesPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"files-payload-editor"}static get properties(){return{// Computed value, true if the control has files.
hasFile:{type:Boolean,readOnly:!0/* ignoreName */ /* skipSlots */},/**
         * If set the value will be base64 encoded.
         */base64Encode:Boolean,// Selected file name
fileName:String,// Selected file size,
fileSize:Number,/**
         * Value produced by this control.
         *
         * @type {Blob}
         */value:{type:Object,notify:!0,observer:"_valueChnaged"}}}/**
     * Returns a reference to the input element.
     *
     * @return {HTMLElement}
     */_getInput(){return this.shadowRoot.querySelector("input[type=\"file\"]")}_valueChnaged(value){if(!value){return}if(value instanceof Blob){this.set("fileName",value.name||"blob");this.set("fileSize",value.size);this._setHasFile(!0);latestFile=value}else{this._setHasFile(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}if(!this.fileName||!this.fileSize&&0!==this.fileSize){this._updateFileMeta(value);return}let type;if(value.type){type=value.type}else{type="application/octet-stream"}setTimeout(()=>{this._informContentType(type)})}/**
     * Updated `fileName` and `fileSize` from a base64 encoded string value
     *
     * @param {String} value File as base64 string
     */_updateFileMeta(value){if(!value||"string"!==typeof value){if(latestFile){this.value=latestFile;return}this._setHasFile(!1);return}let type;if(0===value.indexOf("data:")){value=value.substr(5);const comaIndex=value.indexOf(",");type=value.substr(0,value.indexOf(";"));value=value.substr(comaIndex+1)}let byteChars;try{byteChars=atob(value);this._setHasFile(!0)}catch(e){if(latestFile){this.value=latestFile;return}this._setHasFile(!1)}type=type||"application/octet-stream";this._informContentType(type);this.set("fileName","blob");this.set("fileSize",byteChars?byteChars.length:-1)}/**
     * Dispatches `content-type-changed` custom event change when a
     * file is selected.
     *
     * @param {String} ct File content type
     */_informContentType(ct){const e=new CustomEvent("content-type-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{value:ct}});this.dispatchEvent(e)}/**
     * A handler to choose file button click.
     * This function will find a proper input[type="file"] and programatically click on it to open
     * file dialog.
     */_selectFile(){const file=this._getInput();file.click()}/**
     * A handler to file change event for input[type="file"].
     * This will update files array for corresponding `this.value` array object.
     *
     * @param {Event} e Input change event
     */_fileObjectChanged(e){this._setFileValue(e.target.files[0]);this._getInput().blur()}/**
     * Sets the `value` depending on `base64Encode` option.
     *
     * @param {Blob} file A file to set as a value.
     */_setFileValue(file){if(!file){this.set("value",void 0);return}if(!this.base64Encode){this.set("value",file);return}const reader=new FileReader,context=this;reader.addEventListener("load",function(){const typed=new Uint8Array(reader.result),result=btoa(String.fromCharCode.apply(null,typed));context.set("value",result);context.__informBase64Conversion()});reader.addEventListener("error",function(){console.warn("File value processing error");context.set("value","Invalid file");context.__informBase64Conversion()});reader.readAsArrayBuffer(file)}// Send an event when base64 conversion ends
__informBase64Conversion(){const e=new CustomEvent("base64-value-set",{bubbles:!1,cancelable:!0});this.dispatchEvent(e)}// Overides Polymer.IronValidatableBehavior
_getValidity(){return this._computeHasFile(this.value)}_computeHasFile(file){if(!file){return!1}const enc=this.base64Encode;if(enc){return!!file}return file instanceof Blob}/**
     * Removed added file from the editor.
     */removeFile(){this.value=void 0;this.fileName=void 0;this.fileSize=void 0;this._setHasFile(!1);const file=this._getInput();file.value=""}/**
     * The element keeps in memory last selected file so it can be restored.
     * This removes reference to the object so it can be GSd.
     */clearCache(){latestFile=void 0}}window.customElements.define(FilesPayloadEditor.is,FilesPayloadEditor);</script></dom-module><dom-module id="content-type-selector" assetpath="bower_components/content-type-selector/"><template><style>:host{display:block;@apply --content-type-selector;}paper-item{@apply --content-type-selector-item;}paper-item:hover{@apply --paper-item-hover;@apply --content-type-selector-item-hover;}</style><paper-dropdown-menu label="Body content type"><paper-listbox slot="dropdown-content" on-iron-select="_contentTypeSelected" selected="[[selected]]" selectable="[data-type]"><paper-item data-type="application/json">application/json</paper-item><paper-item data-type="application/xml">application/xml</paper-item><paper-item data-type="application/atom+xml">application/atom+xml</paper-item><paper-item data-type="multipart/form-data">multipart/form-data</paper-item><paper-item data-type="multipart/alternative">multipart/alternative</paper-item><paper-item data-type="multipart/mixed">multipart/mixed</paper-item><paper-item data-type="application/x-www-form-urlencoded">application/x-www-form-urlencoded</paper-item><paper-item data-type="application/base64">application/base64</paper-item><paper-item data-type="application/octet-stream">application/octet-stream</paper-item><paper-item data-type="text/plain">text/plain</paper-item><paper-item data-type="text/css">text/css</paper-item><paper-item data-type="text/html">text/html</paper-item><paper-item data-type="application/javascript">application/javascript</paper-item><slot name="item"></slot></paper-listbox></paper-dropdown-menu></template><script>/**
   * `<content-type-selector>` is an element that provides an UI for selecting common
   * content type values.
   *
   * The element do not renders a value that is not defined on the list.
   * Instead it shows the default label.
   *
   * If the content type is more complex, mening has additional information like
   * `multipart/form-data; boundary=something` then, in this case` only the
   * `multipart/form-data` is taken into the account when computing selected item.
   *
   * The element fires the `content-type-changed` custom event when the user change
   * the value in the drop down container. It is not fired when the change has not
   * beem cause by the user.
   *
   * ### Example
   * ```
   * <content-type-selector></content-type-selector>
   * ```
   *
   * The list of content type values can be extended by setting child `<paper-item>`
   * elements with the `data-type` attribute set to content type value.
   *
   * ### Example
   * ```
   * <content-type-selector>
   *    <paper-item data-type="application/zip">Zip file</paper-item>
   *    <paper-item data-type="application/7z">7-zip file</paper-item>
   * </content-type-selector>
   * ```
   *
   * ### Listening for content type change event
   *
   * By default the element listens for the `content-type-changed` custom event on
   * global `window` object. This can be controlled by setting the `eventsTarget`
   * property to an element that will be used as an event listeners target.
   * This way the application can scope events accepted by this element.
   *
   * This will not work for events dispatched on this element. The scoped element
   * should handle `content-type-changed` custom event and stop it's propagation
   * if appropriate.
   *
   * Once the `content-type-changed` custom event it changes value of current
   * content type on this element unless the event has been canceled.
   *
   * ### Styling
   * `<content-type-selector>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--content-type-selector` | Mixin applied to the element | `{}`
   * `--content-type-selector-item` | Mixin applied to dropdown items | `{}`
   *
   * The element support styles for `paper-dropdown-menu`, `paper-listbox` and `paper-item`
   *
   * @demo demo/index.html
   * @memberof UiElements
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   */class ContentTypeSelector extends ArcBehaviors.EventsTargetBehavior(Polymer.Element){static get is(){return"content-type-selector"}static get properties(){return{/**
         * A value of a Content-Type header.
         */contentType:{type:String,notify:!0/* ignoreName */ /* skipSlots */,observer:"_contentTypeChanged"},/**
         * Index of currently selected item.
         */selected:Number}}constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler)}/**
     * Handles change of content type value
     *
     * @param {String} contentType New value
     */_contentTypeChanged(contentType){this.__cancelSelectedEvents=!0;if(!contentType){this.set("selected",void 0);this.__cancelSelectedEvents=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;return}const index=contentType.indexOf(";");if(0<index){contentType=contentType.substr(0,index)}contentType=contentType.toLowerCase();const supported=this.__getDropdownChildrenTypes(),selected=supported.findIndex(item=>item.toLowerCase()===contentType);if(-1!==selected){this.set("selected",selected)}else{this.set("selected",void 0)}this.__cancelSelectedEvents=!1}/**
     * If the event comes from different source then this element then it
     * updates `contentType` value.
     *
     * @param {CustomEvent} e
     */_contentTypeHandler(e){if(e.defaultPrevented||e.composedPath()[0]===this){return}const ct=e.detail.value;if(ct!==this.contentType){this.set("contentType",ct)}}/**
     * When chanding the editor it mey require to also change the content type header.
     * This function updates Content-Type.
     */_contentTypeSelected(e){if(this.__cancelSelectedEvents){return}const selected=e.target.selected;if(this.selected!==selected){this.set("selected",selected)}const ct=e.detail.item.dataset.type;if(this.contentType!==ct){this.__cancelSelectedEvents=!0;this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:{value:ct}}));this.set("contentType",ct);this.__cancelSelectedEvents=!1}}/**
     * Creates a list of all content types added to this element.
     * This includes pre-existing onces and any added to loght DOM.
     *
     * @return {Array} Array of ordered content types (values of the
     * `data-type` attribute).
     */__getDropdownChildrenTypes(){let children=Array.from(this.shadowRoot.querySelectorAll("paper-listbox paper-item"));const slot=this.shadowRoot.querySelector("slot[name=\"item\"]"),lightChildren=slot.assignedNodes();children=children.concat(lightChildren);const result=[];children.forEach(item=>{if(!item.dataset||!item.dataset.type){return}result[result.length]=item.dataset.type});return result}/**
     * Dispatched when selected value changes
     *
     * @event content-type-changed
     * @param {String} value New value of the content type.
     */}window.customElements.define(ContentTypeSelector.is,ContentTypeSelector);</script></dom-module><script>(function(global){'use strict';if(!global.ApiElements){/**
   * @namespace ApiElements
   */global.ApiElements={}}/**
 * Adds AMF support to body editor.
 *
 * This mixin's only purpose is to keep AMF support separated from the
 * body editor code so it's clearer to read it.
 *
 * @polymer
 * @mixinFunction
 * @memberof ApiElements
 */ApiElements.ApiBodyEditorAmfOverlay=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class ABEAOmixin extends base{static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * AMF json/ld model for body.
         * When set it resets editor settings and transform it to work with
         * data types defined in AMF only.
         * @type {Object}
         */amfBody:{type:Object},// Computed final model for payload.
_effectiveModel:Object,/**
         * Computed value, `true` when `amfBody` is set.
         * This controls how the view is rendered. AMF model has limited
         * number of media types supported by the API. When not existing
         * the edtior renders all possible types.
         *
         * @type {Object}
         */hasAmfBody:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasAmf(_effectiveModel)"},/**
         * List of supported mime types by this endpoint.
         * This information is read from AMF data model.
         */mimeTypes:{type:Array,readOnly:!0/* skipSlots */},/**
         * Computed value.
         * It's `true` when the endpint supports single mime type.
         * In this case it won't render type selector.
         *
         * @type {Object}
         */singleMimeType:{type:Object,readOnly:!0}}}static get observers(){return["_updatePanelAmf(hasAmfBody, contentType)","_amfChanged(amfBody, amfModel)"]}/**
     * Computes value for `hasAmfBody`.
     * @param {?Object} amf AMF model for body.
     * @return {Boolean}
     */_computeHasAmf(amf){return!!amf}_clearAmfSettings(){this._effectiveModel=void 0}/**
     * Creates a debouncer for body change action so it can be sure that
     * `amfModel` and `amfBody` properties are set.
     *
     * After debouncer timeout `__amfChanged()` is called with current value of
     * `amfBody`
     */_amfChanged(){if(this.__bodyChangeDebouncer){return}this.__bodyChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__bodyChangeDebouncer=!1;this.__amfChanged(this.amfBody)})}/**
     * A handler for `amfBody` property change.
     * Resets `mediaTypes` property as defined in the model.
     *
     * @param {Array|Object} bodyShape Passed model
     */__amfChanged(bodyShape){this._clearAmfSettings();if(!bodyShape||bodyShape instanceof Array&&!bodyShape.length){// Clears view model from the value.
const panel=this.currentPanel;if(panel){panel.model=void 0;panel.value=""}return}bodyShape=this._ensurePayloadModel(bodyShape);if(!bodyShape){return}this._updateAmfMediaTypes(bodyShape);this._selectDefaultMediaType(bodyShape);this._effectiveModel=bodyShape}/**
     * Ensures that the passed model is an array of
     * `http://raml.org/vocabularies/http#Payload`
     * in the AMF vocabulary.
     * The element accepts `http://www.w3.org/ns/hydra/core#Operation`,
     * `http://raml.org/vocabularies/http#Request` or array of
     * `http://raml.org/vocabularies/http#Payload` definitions.
     * It selectes the array from the model.
     *
     * @param {Array|Object} model Passed model
     * @return {Array|undefined} Payload model of undefined if the model
     * is invalid for this element.
     */_ensurePayloadModel(model){if(model instanceof Array){if(this._hasType(model[0],this.ns.raml.vocabularies.http+"Payload")){return model}model=model[0]}if(!this._hasType(model,this.ns.w3.hydra.core+"Operation")){return}const opKey=this._getAmfKey(this.ns.w3.hydra.core+"expects");model=model[opKey];if(model instanceof Array){model=model[0]}if(!this._hasType(model,this.ns.raml.vocabularies.http+"Request")){return}const pKey=this._getAmfKey(this.ns.raml.vocabularies.http+"payload");return this._ensureArray(model[pKey])}/**
     * Creates a list of media types supported by the endpoint as defined in
     * API spec file.
     * @param {Array} model List of `Payload` definitions
     */_updateAmfMediaTypes(model){this._setMimeTypes(void 0);const ns=this.ns.raml.vocabularies,key=ns.http+"mediaType",mediaTypes=model.map(item=>this._getValue(item,key));this._setMimeTypes(mediaTypes);this._setSingleMimeType(mediaTypes&&1===mediaTypes.length)}/**
     * Sets a content type property based on AMF mode's available options.
     * It sets the first defined media type in the model.
     *
     * This function **always** triggers the change by clearing `contentType`
     * first and then assigning new value.
     *
     * If the AMF model is a file model then it sets `fileAccept` property
     *
     * @param {Array} model List of `Payload` definitions
     */_selectDefaultMediaType(model){const types=this.mimeTypes;if(!types||!types[0]){return}const ns=this.ns.raml.vocabularies,schemaKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");// Types corresponds to model array in order.
let shape=model[0][schemaKey];if(shape instanceof Array){shape=shape[0]}this.set("contentType",void 0);let ct;if(this._hasType(shape,ns.shapes+"FileShape")){this.set("fileAccept",types);ct="application/octet-stream"}else{if(this.fileAccept){this.set("fileAccept",void 0)}const index=types.indexOf(this.contentType);ct=-1===index?types[0]:types[index]}this.set("contentType",ct);this._notifyContentTypeChange(ct)}_updatePanelAmf(hasAmfBody,contentType){if(!hasAmfBody||!contentType){return}const panel=this.currentPanel;if(!panel){return}const schema=this._schemaForMedia(contentType);if(!schema){return}this._updatePanelModel(panel,contentType,schema);this._updatePanelValue(panel,contentType,schema)}_schemaForMedia(mediaType){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"mediaType");for(let i=0,len=this._effectiveModel.length;i<len;i++){const payload=this._effectiveModel[i];let itemMedia=payload[key];if(!itemMedia){continue}if(itemMedia instanceof Array){itemMedia=itemMedia[0]}if("string"!==typeof itemMedia){itemMedia=itemMedia["@value"]}if(itemMedia===mediaType){const sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=payload[sKey];if(schema instanceof Array){schema=schema[0]}this._resolve(schema);return schema}}}/**
     * Tests if the panel that supports given content-type supports data model.
     * XML and JSON do not use view data model to render the view.
     * @param {String} contentType A content type value to test
     * @return {Boolean} True if the content type's panel support data model
     */_typeHasModel(contentType){const allowed=["application/x-www-form-urlencoded","multipart/form-data"];return-1!==allowed.indexOf(contentType)}/**
     * Updates view model on panels that support the model.
     *
     * @param {HTMLElement} panel Current panel
     * @param {String} contentType Current content type
     * @param {Object} schema A schema for current payload.
     */_updatePanelModel(panel,contentType,schema){if(!this._typeHasModel(contentType)){return}let data;if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"UnionShape")){data=this._getUnionObjectProperties(schema)}else if(this._hasType(schema,this.ns.w3.shacl.name+"NodeShape")){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");data=this._ensureArray(schema[pKey])}if(!data){// It could be an array but it doesn't make any sens with this
// media types.
return}const model=this.$.transformer.computeViewModel(data);panel.model=model}/**
     * To simplify things, this searches for first **object** from the union type
     * definition and returns its properties.
     *
     * The component do not offer an UI to selected union type.
     *
     * @param {Object} schema Payload's schema definition
     * @return {Array<Object>|undefined} Properies of first object, if any.
     */_getUnionObjectProperties(schema){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(schema[key]);if(!list){return}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");for(let i=0,len=list.length,item;i<len;i++){item=list[i];if(item instanceof Array){item=item[0]}if(this._hasType(item,this.ns.w3.shacl.name+"NodeShape")){item=this._resolve(item);const data=this._ensureArray(item[pKey]);if(data){return data}}}}/**
     * Updates panel value depending on examples or type schema availability.
     *
     * @param {HTMLElement} panel Current panel
     * @param {String} type Current content type
     * @param {Object} schema A schema for current payload.
     */_updatePanelValue(panel,type,schema){const examples=this.$.exampleGenerator.computeExamples(schema,type);if(!examples){return}for(let i=0,len=examples.length;i<len;i++){const item=examples[i];if("undefined"!==typeof item.value){panel.value=item.value;return}if(item.values){panel.value=item.values[0].value}}}}return ABEAOmixin})})(window);</script><dom-module id="api-body-editor" assetpath="bower_components/api-body-editor/"><template><style include="api-form-styles">:host{display:block;@apply --api-body-editor;}[hidden]{display:none !important;}.content-actions{@apply --layout-horizontal;@apply --layout-center;@apply --api-body-editor-content-actions;}paper-dropdown-menu{margin-right:12px;@apply --payload-editor-dropdown;}paper-dropdown-menu.type{margin:0 12px;min-width:280px;@apply --payload-editor-dropdown-type;}.single-ct-label{@apply --arc-font-body1;margin:0;color:var(--api-body-editor-single-media-type-label);}paper-item:hover{@apply --paper-item-hover;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="content-actions"><paper-icon-button icon="arc:content-copy" class="action-icon copy-action" on-click="_copyToClipboard" title="Copy current editor value to clipboard"></paper-icon-button><template is="dom-if" if="[[hasAmfBody]]"><template is="dom-if" if="[[!singleMimeType]]"><paper-dropdown-menu class="amf-types" label="Select content type" no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-mime" selected="{{contentType}}" on-selected-changed="_typeSelectedChanged"><template is="dom-repeat" items="[[mimeTypes]]"><paper-item data-mime$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[singleMimeType]]"><p class="single-ct-label">Media type: [[contentType]]</p></template></template><template is="dom-if" if="[[!hasAmfBody]]"><content-type-selector content-type="{{contentType}}" events-target="[[eventsTarget]]"><paper-item data-type="application/octet-stream">Any file data</paper-item></content-type-selector><paper-dropdown-menu class="type" label="Editor view" hidden$="[[editorSelectorHidden]]"><paper-listbox slot="dropdown-content" selected="{{selected}}"><paper-item data-source="raw" hidden$="[[noTextInput]]">Raw input</paper-item><paper-item data-source="urlencode" hidden$="[[noFormData]]">Form data (www-url-form-encoded)</paper-item><paper-item data-source="multipart" hidden$="[[noMultipart]]">Multipart form data (multipart/form-data)</paper-item><paper-item data-source="file" hidden$="[[noFile]]">Single file</paper-item></paper-listbox></paper-dropdown-menu></template></div><section class="body-panel"></section><clipboard-copy></clipboard-copy><api-view-model-transformer amf-model="[[amfModel]]" id="transformer"></api-view-model-transformer><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>/**
     * `api-body-editor`
     * Renders different types of body editors. It works with AMF data model
     * but can be used separately.
     *
     * ## AMF support
     *
     * The element supports [AMF](https://github.com/mulesoft/amf/)
     * `json-ld` model. The model can be generated from OAS or RAML spec by
     * default and other specs with appropriate plugin.
     *
     * The element accepts `http://www.w3.org/ns/hydra/core#Operation`,
     * `http://raml.org/vocabularies/http#Request` or array of
     * `http://raml.org/vocabularies/http#Payload` definitions in AMF
     * vocabulary.
     *
     * When AMF model is accepted it alters the UI to render only allowed
     * by the spec content types and therefore editors.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     * @memberof ApiElements
     * @appliesMixin ArcBehaviors.EventsTargetBehavior
     * @appliesMixin ApiElements.AmfHelperMixin
     * @appliesMixin ApiElements.ApiBodyEditorAmfOverlay
     */class ApiBodyEditor extends ApiElements.ApiBodyEditorAmfOverlay(ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"api-body-editor"}static get properties(){return{/**
           * Currently selected editor.
           *
           * - 0 for Raw editor
           * - 1 for Form data
           * - 2 for Multipart
           * - 3 for File
           */selected:{type:Number,value:0,observer:"_selectedChanged"},/**
           * A HTTP body.
           *
           * Depending of current editor selection the type can vary.
           *
           * @type {String|FormData|File}
           */value:{type:String,value:"",notify:!0/* ignoreName */ /* skipSlots */,observer:"_valueChanged"},/**
           * When set it attempts to run associated code mirror mode
           * (raw editor).
           * This element listens for the `content-type-changed` event and when
           * handled it will automatically update content type and `mode`.
           */contentType:{type:String,observer:"_contentTypeChanged"},// Computed value, if set then raw text input is hidden
noTextInput:Boolean,// Computed value, if set then form data input is hidden
noFormData:Boolean,// Computed value, if set then multipart input is hidden
noMultipart:Boolean,// Computed value, if set then file input is hidden
noFile:Boolean,// Computed value, true if the editor type selector is hidden.
editorSelectorHidden:{type:Boolean,readOnly:!0,value:!0},/**
           * If set it computes `hasOptional` property and shows checkbox in the
           * form to show / hide optional properties.
           */allowHideOptional:{type:Boolean,observer:"_allowHideOptionalChanged"},/**
           * If set, enable / disable param checkbox is rendered next to each
           * form item.
           */allowDisableParams:{type:Boolean,observer:"_allowDisableParamsChanged"},/**
           * When set, renders "add custom" item button.
           * If the element is to be used withouth AMF model this should always
           * be enabled. Otherwise users won't be able to add a parameter.
           */allowCustom:{type:Boolean,observer:"_allowCustomChanged"},/**
           * Renders items in "narrow" view
           */narrow:{type:Boolean,observer:"_narrowChanged"},/**
           * When set the editor is in read only mode.
           */readonly:{type:Boolean,observer:"_readonlyChanged"}}}/**
       * @return {HTMLElement} Currently rendered body panel.
       */get currentPanel(){if(!this.shadowRoot){return}const selector="[data-body-panel]";return this.shadowRoot.querySelector(selector)}/**
       * @constructor
       */constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this);this._payloadKeyDown=this._payloadKeyDown.bind(this);this._panelValueChanged=this._panelValueChanged.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler);this.addEventListener("keydown",this._payloadKeyDown)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler);this.removeEventListener("keydown",this._payloadKeyDown)}/**
       * Handler for content type changed event.
       * @param {CustomEvent} e
       */_contentTypeHandler(e){if(this.readonly){return}this.set("contentType",e.detail.value)}/**
       * Handler for content type change.
       * Updates state of the UI depending on AMF model.
       *
       * @param {String} contentType New content type value.
       * @param {String} oldValue Previous value
       */_contentTypeChanged(contentType,oldValue){this._updateEditorsState(contentType,oldValue);this._updateEditorSelectorHidden(contentType);this._propertyChangeHandler("contentType",contentType)}_hideAllEditors(){this.noTextInput=!0;this.noFormData=!0;this.noMultipart=!0;this.noFile=!0}_renderAllEditors(){this.noTextInput=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;this.noFormData=!1;this.noMultipart=!1;this.noFile=!1}/**
       * Updates editors availability state depending on content type.
       * @param {String} contentType New content type value.
       * @param {String} oldValue Previous value
       */_updateEditorsState(contentType,oldValue){if(!contentType){this._renderAllEditors();return}const value=this.value;this._hideAllEditors();if(0===contentType.indexOf("multipart/form-data")){this.noTextInput=!1;this.noMultipart=!1;this.selected=2;return}if(oldValue&&0===oldValue.indexOf("multipart/form-data")){this.value=""}if("application/octet-stream"===contentType||value instanceof Blob&&oldValue!==void 0){this.noFile=!1;this.selected=3;return}if(-1!==contentType.indexOf("json")){this.noTextInput=!1;this.selected=0;return}if("application/x-www-form-urlencoded"===contentType){this.noTextInput=!1;this.noFormData=!1;this.selected=1;return}this.noTextInput=!1;this.selected=0}/**
       * Replaces active body editor with new one.
       *
       * @param {Number} selected
       * @param {Number} oldValue
       */_selectedChanged(selected,oldValue){this.__removeExistingPanel();if(-1===selected||selected===void 0||null===selected){this._notifyBodyChanged();return}if(oldValue!==void 0){this._analyticsEvent("api-body-editor","usage-selection",selected)}this.__createBodyPanel(selected)}/**
       * Notifies application about body change.
       *
       * @param {String|FormData|File|undefined} value Value to notify
       */_notifyBodyChanged(value){if(this.readonly){return}const e=new CustomEvent("body-value-changed",{detail:{value:value},bubbles:!0,composed:!0});this.dispatchEvent(e)}/**
       * Removes any existing body panel from local DOM.
       */__removeExistingPanel(){const panel=this.currentPanel;if(!panel){return}const events=this.__currentListeners;if(events&&events.size){for(let[type,fn]of events.entries()){panel.removeEventListener(type,fn);events.delete(type)}this.__currentListeners=void 0}panel.parentNode.removeChild(panel)}__createBodyPanel(selected){switch(selected){case 0:this._createRawPanel();break;case 1:this._createFormDataPanel();break;case 2:this._createMultipartPanel();break;case 3:this._createFilePanel();break;}this._attachValues()}/**
       * Adds shared properties for all panels.
       *
       * @param {HTMLElement} panel
       * @param {String} type Body type.
       */__addCommonProperties(panel,type){panel.eventsTarget=this.eventsTarget;panel.dataset.type=type;panel.dataset.bodyPanel=!0;panel.allowDisableParams=this.allowDisableParams;panel.allowCustom=this.allowCustom;panel.narrow=this.narrow;panel.contentType=this.contentType;panel.allowHideOptional=this.allowHideOptional}/**
       * Creates instance of Raw body panel and adds it to local DOM.
       */_createRawPanel(){const panel=document.createElement("raw-payload-editor");this.__addCommonProperties(panel,"raw");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}/**
       * Creates instance of Raw body panel and adds it to local DOM.
       */_createFormDataPanel(){const panel=document.createElement("form-data-editor");this.__addCommonProperties(panel,"urlencode");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}/**
       * Creates instance of Raw body panel and adds it to local DOM.
       */_createFilePanel(){const panel=document.createElement("files-payload-editor");this.__addCommonProperties(panel,"file");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}/**
       * Creates instance of Raw body panel and adds it to local DOM.
       */_createMultipartPanel(){const panel=document.createElement("multipart-payload-editor");this.__addCommonProperties(panel,"formdata");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}/**
       * Handler for the `value-changed` event dispatched by an editor panel.
       * Updates this element value reported back to the application and
       * dispatches `body-value-changed` custom event so elements without
       * direct access to this element can use this information.
       *
       * @param {CustomEvent} e
       */_panelValueChanged(e){if(this.readonly){return}this._cancelValueSetOnPanel=!0;this.value=e.detail.value;this._cancelValueSetOnPanel=!1;this._notifyBodyChanged(e.detail.value)}/**
       * Attaches value and value change listeners to current editor
       * after it's created.
       */_attachValues(){const panel=this.currentPanel;this.__currentListeners=new Map;this.__currentListeners.set("value-changed",this._panelValueChanged);panel.addEventListener("value-changed",this._panelValueChanged);if(!this.hasAmfBody){panel.value=this.value}}/**
       * Dispatches analytics event.
       *
       * @param {String} category Event category
       * @param {String} action Event action
       * @param {String} label Event label
       */_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}/**
       * Dispatches `send-request` custom event when the user pressed
       * `meta+enter` on Mac or `ctrl+enter` eklsewhere keys combination.
       *
       * @param {CustomEvent} e
       */_payloadKeyDown(e){if("Enter"!==e.key){return}const actionKey="MacIntel"===navigator.platform?"metaKey":"ctrlKey";if(!e[actionKey]){return}this.dispatchEvent(new CustomEvent("send-request",{cancelable:!0,bubbles:!0,composed:!0}))}/**
       * Computes a value of the hidden attribute of the editory type selector.
       * Some content types are supported by only one type of the editor so in
       * this cases the editor should be hidden.
       *
       * @param {String} contentType Current content type.
       */_updateEditorSelectorHidden(contentType){let result;const value=this.value;if(!contentType){result=!1}else if(value instanceof Blob){result=!0}else if(-1!==contentType.indexOf("json")){result=!0}else if(-1!==contentType.indexOf("x-www-form-urlencoded")){result=!1}else if(-1!==contentType.indexOf("multipart/")){result=!1}else{result=!0}this._setEditorSelectorHidden(result)}/**
       * Updates property value on current panel.
       *
       * @param {String} prop Name of the proeprty to set
       * @param {any} value New value to set.
       */_propertyChangeHandler(prop,value){const panel=this.currentPanel;if(!panel){return}panel[prop]=value}/**
       * Updates value of the panel if `value` change and it is not
       * internal change.
       *
       * @param {String|FormData|File} value New value to set.
       */_valueChanged(value){if(this._cancelValueSetOnPanel){return}this._propertyChangeHandler("value",value)}/**
       * Updates `allowHideOptional` on a panel.
       *
       * @param {Boolean} value New value to set.
       */_allowHideOptionalChanged(value){this._propertyChangeHandler("allowHideOptional",value)}/**
       * Updates `allowDisableParams` on a panel.
       *
       * @param {Boolean} value New value to set.
       */_allowDisableParamsChanged(value){this._propertyChangeHandler("allowDisableParams",value)}/**
       * Updates `allowCustom` on a panel.
       *
       * @param {Boolean} value New value to set.
       */_allowCustomChanged(value){this._propertyChangeHandler("allowCustom",value)}/**
       * Updates `narrow` on a panel.
       *
       * @param {Boolean} value New value to set.
       */_narrowChanged(value){this._propertyChangeHandler("narrow",value)}/**
       * Updates `readonly` on a panel.
       *
       * @param {Boolean} value New value to set.
       */_readonlyChanged(value){this._propertyChangeHandler("readonly",value)}/**
       * Copies current body text value to clipboard.
       *
       * @param {Event} e
       */_copyToClipboard(e){const button=e.target,copy=this.shadowRoot.querySelector("clipboard-copy");copy.content=this.value;if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error";this.dispatchEvent(new CustomEvent("send-analytics",{cancelable:!0,bubbles:!0,composed:!0,detail:{type:"exception",description:"Copy to clipboard error - raml-body-editor",fatal:!1}}))}setTimeout(()=>this._resetCopyButtonState(button),1e3);this._analyticsEvent("api-body-editor","Copy to clipboard")}/**
       * Resets state of the copy button.
       * @param {Element} button
       */_resetCopyButtonState(button){button.icon="arc:content-copy"}/**
       * Dispatches `content-type-changed` custom event when CT changes by
       * using type selection.
       * @param {String} type Content type value to announce.
       */_notifyContentTypeChange(type){if(this.readonly){return}this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,detail:{value:type}}))}/**
       * Notifies about content type change when type selection changes.
       * @param {CustomEvent} e
       */_typeSelectedChanged(e){if(!e.detail.value){return}this._notifyContentTypeChange(e.detail.value)}/**
       * A function to be called to refres current state of editor panel.
       * It is only called for the panels that support refreshing (raw editor)
       */refreshPanel(){switch(this.selected){case 0:const panel=this.currentPanel;if(panel){panel.refresh()}break;}}/**
       * Fires when the value change.
       *
       * @event body-value-changed
       * @param {String} value Current editor value
       */ /**
       * Dispatched when the request should be invoked.
       *
       * @event send-request
       */ /**
       * Dispatched when the user select media type from the list of available types.
       *
       * @event content-type-changed
       * @param {String} value New content type value.
       */}window.customElements.define(ApiBodyEditor.is,ApiBodyEditor);</script></dom-module><script>/**
 * An UUID generator.
 *
 * ## Example
 * ```html
 * <uuid-generator auto last-uuid="{{generatedUuid}}"></uuid-generator>
 * ```
 * @customElement
 * @polymer
 * @memberof LogicElements
 * @demo demo/index.html
 */class UuidGenerator extends Polymer.Element{static get is(){return"uuid-generator"}static get properties(){return{// Last generated UUID.
lastUuid:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
       * If set it generates uuid and sets it to `lastUuid` once the element
       * is ready.
       */auto:{type:Boolean,observer:"_autoChanged"},_lut:{type:Array,readOnly:!0,value:function(){const result=[];for(let i=0;256>i;i++){result[i]=(16>i?"0":"")+i.toString(16)}return result}}}}_autoChanged(state){if(!state){return}this.generate()}_hash(){var d0=0|4294967295*Math.random(),d1=0|4294967295*Math.random(),d2=0|4294967295*Math.random(),d3=0|4294967295*Math.random(),lut=this._lut;return lut[255&d0]+lut[255&d0>>8]+lut[255&d0>>16]+lut[255&d0>>24]+"-"+lut[255&d1]+lut[255&d1>>8]+"-"+lut[64|15&d1>>16]+lut[255&d1>>24]+"-"+lut[128|63&d2]+lut[255&d2>>8]+"-"+lut[255&d2>>16]+lut[255&d2>>24]+lut[255&d3]+lut[255&d3>>8]+lut[255&d3>>16]+lut[255&d3>>24]}/**
   * Generate a RFC4122, version 4 ID. Example:
   * "92329D39-6F5C-4520-ABFC-AAB64544E172"
   * http://stackoverflow.com/a/21963136/1127848
   * @return {String} The UUID string.
   */generate(){this.lastUuid=this._hash();return this.lastUuid}}window.customElements.define(UuidGenerator.is,UuidGenerator);</script><dom-module id="api-request-editor" assetpath="bower_components/api-request-editor/"><template><style include="api-form-styles">:host{display:block;@apply --arc-font-body1;@apply --api-request-editor;}.content{height:100%;@apply --layout-vertical;@apply --api-request-editor-container;}[hidden]{display:none !important;}.panel-warning{width:16px;height:16px;margin-left:4px;color:var(--error-color, #FF7043);}.invalid-info{@apply --arc-font-body2;color:var(--error-color);margin-left:12px;}paper-spinner{margin-right:8px;}iron-pages>*{border:1px var(--api-request-editor-editors-border-color, transparent) solid;min-height:120px;}.action-bar{@apply --layout-horizontal;@apply --layout-center;margin-top:8px;}.send-button{background-color:var(--primary-button-background-color, var(--primary-color));color:var(--primary-button-color, #fff);@apply --action-button;}.send-button:not([disabled]):hover{background-color:var(--primary-button-hover-background-color, var(--primary-color));color:var(--primary-button-hover-color, #fff);@apply --action-button-hover;}.send-button[disabled]{background-color:var(--primary-button-disabled-background-color, rgb(234, 234, 234));color:var(--primary-button-disabled-color, #a8a8a8);@apply --action-button-disabled;}.send-button:not([disabled]):hover{@apply --api-request-editor-send-button-hover;}.send-button.abort{@apply --api-request-editor-abort-button;}.send-button.abort:hover{@apply --api-request-editor-abort-button-hover;}.url-editor{@apply --layout-horizontal;@apply --layout-center;}api-url-editor{@apply --layout-flex;}:host([narrow]) .content{@apply --layout-vertical;@apply --api-request-editor-container-narrow;}:host([narrow]) api-url-editor{width:auto;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-url-data-model amf-model="[[amfModel]]" base-uri="[[baseUri]]" endpoint-path="{{endpointPath}}" api-base-uri="{{apiBaseUri}}" selected="[[selected]]" path-model="{{pathModel}}" query-model="{{queryModel}}"></api-url-data-model><div class="content"><div class="url-editor" hidden$="[[noUrlEditor]]"><api-url-editor required="" auto-validate="" invalid="{{urlInvalid}}" base-uri="[[apiBaseUri]]" endpoint-path="[[endpointPath]]" query-model="{{queryModel}}" path-model="{{pathModel}}" events-target="[[eventsTarget]]" value="{{url}}"></api-url-editor></div><paper-tabs selected="{{selectedTab}}"><paper-tab hidden$="[[authNotRequired]]">Authorization<iron-icon icon="arc:warning" class="panel-warning" hidden$="[[authValid]]" title="Fill up missing authorization data"></iron-icon></paper-tab><paper-tab>Parameters<template is="dom-if" if="[[paramsInvalid]]"><iron-icon icon="arc:warning" class="panel-warning" title="Fill up missing parameter"></iron-icon></template></paper-tab><paper-tab>Headers<template is="dom-if" if="[[headersInvalid]]"><iron-icon icon="arc:warning" class="panel-warning" title="Fill up missing headers"></iron-icon></template></paper-tab><paper-tab hidden$="[[!isPayloadRequest]]">Body</paper-tab></paper-tabs><iron-pages selected="{{selectedTab}}"><authorization-panel amf-model="[[amfModel]]" events-target="[[eventsTarget]]" hidden$="[[authNotRequired]]" secured-by="[[securedBy]]" redirect-uri="[[redirectUri]]" auth-required="{{authRequired}}" auth-valid="{{authValid}}" no-docs="[[noDocs]]"></authorization-panel><api-url-params-editor uri-model="{{pathModel}}" query-model="{{queryModel}}" narrow="[[narrow]]" allow-custom="[[allowCustom]]" invalid="{{paramsInvalid}}" no-docs="[[noDocs]]"></api-url-params-editor><api-headers-editor events-target="[[eventsTarget]]" amf-model="[[amfModel]]" amf-headers="[[apiHeaders]]" narrow="[[narrow]]" content-type="{{contentType}}" is-payload="[[isPayloadRequest]]" value="{{headers}}" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" auto-validate="" invalid="{{headersInvalid}}" no-docs="[[noDocs]]"></api-headers-editor><api-body-editor events-target="[[eventsTarget]]" amf-model="[[amfModel]]" amf-body="[[apiPayload]]" narrow="[[narrow]]" hidden$="[[!isPayloadRequest]]" content-type="{{contentType}}" value="{{payload}}" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]"></api-body-editor></iron-pages><div class="action-bar"><template is="dom-if" if="[[!loadingRequest]]"><paper-button class="send-button" on-click="_sendHandler" disabled="[[_computeSendDisabled(urlInvalid, paramsInvalid, headersInvalid)]]">[[_computeSendLabel(authValid)]]</paper-button></template><template is="dom-if" if="[[loadingRequest]]"><paper-button class="send-button abort" on-click="_abortRequest">Abort</paper-button></template><template is="dom-if" if="[[invalid]]"><span class="invalid-info">Fill in required parameters</span></template><paper-spinner alt="Loading request" active="[[loadingRequest]]"></paper-spinner></div></div><paper-toast text="Authorization for this endpoint is required" id="authFormError" horizontal-align="right" horizontal-offset="12"></paper-toast><uuid-generator id="uuid"></uuid-generator></template><script>(function(){/**
     * `api-request-editor`
     * A request editor that builds the UI based on
     * [AMF](https://github.com/mulesoft/amf/) model.
     *
     * The fors are generated automatically based on endponit's definition.
     *
     * Set AMF json/ld model to `amfModel` property. It accepts the generated
     * API specification model (first element is a shape of
     * `http://raml.org/vocabularies/document#Document` type).
     *
     * To build request editor view for an endpoint defined in an API, set `selected`
     * property to the id of the operation that is defined in the spec. The
     * element lookup for the definition and applies it to the editors.
     *
     * This element is to replace deprecated `advanced-rest-client/raml-request-editor`.
     *
     * ## Changes in version 2
     *
     * - XHR element is not included in the element. Use
     * `advanced-rest-client/xhr-simple-request` in your application or handle
     * `api-request` custom event to make a request
     * - The element does not include any polyfills
     * - `redirectUrl` is now `redirectUri`
     * - `api-console-request` event is now `api-request` event
     * - `api-console-response` event is now `api-response` event
     * - Added more details to `api-request` custom event (comparing to
     * `api-console-request`)
     * - The user is able to enable/disable query parameters and headers. Set
     * `allow-disable-params` attribute to enable this behavior.
     * - The user is able to add custom query parameters or headers.
     * Set `allow-custom` attribute to enable this behavior.
     * - From authorization panel changes:
     *  - `auth-settings-changed` custom event is stopped from bubbling.
     *  Listen for `authorization-settings-changed` event instead.
     * - From auth-method-oauth2 changes:
     *  - Added `deliveryMethod` and `deliveryName` properties to the
     *  `detail.setting` object.
     * - From auth-method-oauth1 changes:
     *  - Crypto library is no longer included into the element. Use
     *  `advanced-rest-client/cryptojs-lib` component to include the library
     *  if your project doesn't use crypto libraries already.
     *
     * ## api-request event
     *
     * Dispatched when "send" button is pressed by the user and the element passes
     * validation.
     * The application should handle the event and make the connection to remote
     * server using passed parameters. When the response is ready the application
     * must inform the elements about the response by dispatching `api-response`
     * custom event.
     *
     * Note that if you set `eventsTarget` property the event must be dispatched
     * at most on `eventsTarget` node (or any child node).
     *
     * API components has `advanced-rest-client/xhr-simple-request` element to
     * handle `api-request` and `abort-api-request` events and to use XHR to
     * make the connection. Note that it may not always work if the API does not
     * allows CORS.
     *
     * The api-request event has the following properties:
     *
     * - url (`String`) - Endpoint full and final url. Note that if the API does
     * not specify base uri and `baseUri` property is not set then the `url`
     * can be relative url to the resource.
     * - method (`String`) - HTTP method. User cannot change this value, it is
     * encoded in the endpoint description
     * - headers (`String`) - valid HTTP headers string
     * - payload (`String|FormData|File|Blob|undefined`) - Request body
     * - id (`String`) - A unique request identifier. This ID has to be
     *   reported back by `api-response` event. It is generated when `execute()`
     *   function is called.
     * - auth (`Object|undefined`) - Current authorization settings received
     *   from the authorization panel.
     *   In case of basic, oauth 1 and oauth 2 authorizations, the token is
     *   applied to the headers or query parameters so no action is required.
     * - authType (`String|undefined`) - Name of the authorization methods.
     *   One of `advanced-rest-client/auth-methods`.
     * - queryModel (`Array<Object>`) - Query parameters data view model.
     * - pathModel (`Array<Object>`) - URI parameters data view model
     * - headersModel (`Array<Object>`) - Headers data view model
     *
     * Do not change `queryModel`, `pathModel` and `headersModel` as it would
     * make it out of sync with the application and any change won't be
     * reflected in the editor. In future release this may be read only object.
     *
     * ## abort-api-request event
     *
     * The event is dispatched when the user press `abort` button.
     * The transport must send `api-response` custom event with error message
     * so the state of the UI is updated.
     *
     * The event contains the following properties:
     *
     * - url (`String`) The request URL. Can be empty string. Also, it may be
     * different URL that the one used to send the request if the user changed
     * it in between. Use the `id` property to compare requests.
     * - id (`String`)  Generated UUID of the request with `api-request` event.
     *
     * ## api-response event
     *
     * This element does not act on this event. See `api-request-panel`
     * documentation for more information.
     *
     * ## Limitations
     *
     * Editors used in this element usually don't perform operations right after
     * a property change. Body/Headers/Auth editors uses
     * `Polymer.RenderStatus.afterNextRender` method before they start computing
     * properties from model. Then, if DOM change is required then this operation
     * is also async. This causes a delay between selection/AMF model change
     * and reseting the properties. For example authorization state can be passed
     * to this element after at least 2 calls to `requestAnimationFrame()`.
     * Take this into the ccount when using element's API.
     *
     * ## Styling
     *
     * `<api-request-editor>` provides the following custom properties and
     * mixins for styling:
     *
     * Custom property | Description | Default
     * ----------------|-------------|----------
     * `--api-request-editor` | Mixin applied to this elment | `{}`
     * `--api-request-editor-container` | Mixin applied to the main container | `{}`
     * `--warning-primary-color` | Theme property, warning primary color | `#FF7043`
     * `--arc-font-body1` | Theme mixin, default font definition | `{}`
     * `--error-color` | Theme variable, error color.  | ``
     * `--api-request-editor-editors-border-color | Border color of editors in tabs | `transparent`
     * `--primary-button-background-color` | Theme property, background color
     * of the primary action button. Applied to "send" and "abort" buttons | `--primary-color`
     * `--primary-button-color` | Theme property, font color of the primary
     * action button. Applied to "send" and "abort" buttons  | `#fff`
     * `--action-button` | Theme mixin, applied to "send" and "abort" buttons | `{}`
     * `--primary-button-hover-background-color` | Theme property, background
     * color of the primary action button when hovering. Applied to "send" and
     * "abort" buttons | `--accent-color`
     * `--primary-button-hover-color` | Theme property, font color of the
     * primary action button when hovering. Applied to "send" and "abort" buttons  | `#fff`
     * `--action-button-hover` | Theme mixin, applied to "send" and "abort"
     * buttons when hovering | `{}`
     * `--primary-button-disabled-background-color` | Theme property, background
     * color of the primary action button when disabled. Applied to "send"
     * and "abort" buttons | `--accent-color`
     * `--primary-button-disabled-color` | Theme property, font color of the
     * primary action button when disabled. Applied to "send" and "abort"
     * buttons  | `#fff`
     * `--action-button-disabled` | Theme mixin, applied to "send" and "abort"
     * buttons when disabled | `{}`
     * `--api-request-editor-container-narrow` | Mixin applied to the main
     * container when `narrow` property is set. | `{}`
     * `--api-request-editor-send-valid-button` | Mixin applied to the send
     * button when request is valid | `{}`
     * `--api-request-editor-abort-button` | Mixin applied to the abort button | `{}`
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     * @appliesMixin ArcBehaviors.EventsTargetBehavior
     * @appliesMixin ApiElements.AmfHelperMixin
     * @memberof ApiElements
     */class ApiRequestEditor extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-request-editor"}static get properties(){return{/**
           * `raml-aware` scope property to use.
           */aware:String,/**
           * An `@id` of selected AMF shape. When changed it computes
           * method model for the selection.
           */selected:String,/**
           * AMF API model.
           * The element extracts method definition from passed model
           * and by using `selected`.
           */amfModel:Object,_webApi:{type:Object,computed:"_computeWebApi(amfModel)"},/**
           * Computed method declaration in the AMF model.
           */_methodModel:{type:Object,computed:"_computeMethodModel(_webApi, selected)"},/**
           * Hides the URL editor from the view.
           * The editor is still in the DOM and the `urlInvalid` property still will be set.
           */noUrlEditor:Boolean,/**
           * A base URI for the API. To be set if RAML spec is missing `baseUri`
           * declaration and this produces invalid URL input. This information
           * is passed to the URL editor that prefixes the URL with `baseUri` value
           * if passed URL is a relative URL.
           */baseUri:String,/**
           * Computed from AMF model for the metod HTTP method name.
           *
           * @type {String}
           */httpMethod:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHttpMethod(_methodModel)",notify:!0/* skipSlots */},/**
           * Headers for the request.
           *
           * @type {String|undefined}
           */headers:{type:String,notify:!0},/**
           * Body for the request. The type of the body depends on
           * defined in the API media type.
           *
           * @type {String|FormData|File}
           */payload:{type:String,notify:!0},/**
           * Final request URL including settings like `baseUri`, AMF
           * model settings and user provided parameters.
           * This value is always compoted by `api-url-editor` even if it's
           * hidden from the view.
           */url:{type:String,notify:!0,observer:"_urlChanged"},/**
           * Selected request tab.
           */selectedTab:{type:Number,value:0,notify:!0,observer:"_selectedTabChanged"},/**
           * Current content type.
           *
           * @type {String|undefined}
           */contentType:{type:String,notify:!0},/**
           * Computed value of security scheme from selected method.
           *
           * @type {Array<Object>}
           */securedBy:{type:Array,computed:"_computeSecuredBy(_methodModel)"},/**
           * Computed list of headers in the AMF model
           *
           * @type {Array<Object>}
           */apiHeaders:{type:Array,computed:"_computeHeaders(_methodModel)"},/**
           * Defined by the API payload data.
           *
           * @type {Array<Object>|undefined}
           */apiPayload:{type:Array,computed:"_computeApiPayload(_methodModel)"},/**
           * Computed value if the method can carry a payload.
           */isPayloadRequest:{type:Boolean,value:!1,notify:!0,computed:"_computeIsPayloadRequest(httpMethod)",observer:"_isPayloadChanged"},/**
           * OAuth2 redirect URI.
           * This value **must** be set in order for OAuth 1/2 to work properly.
           */redirectUri:String,/**
           * Inheritet from the authorization panel state if authorization is
           * required. Authorization may be not required if one of the
           * authorization methods is `nil` (RAML).
           */authRequired:{type:Boolean,notify:!0},/**
           * Inheritet from the authorization panel state if authorization
           * data is valid.
           */authValid:{type:Boolean,notify:!0},/**
           * If set it will renders the view in the narrow layout.
           */narrow:{type:Boolean,reflectToAttribute:!0},/**
           * Computed value of if authorization is required for the endpoint.
           * If the auth is not required then the authorization tab is removed
           * from the view.
           */authNotRequired:{type:Boolean,value:!0,notify:!0,computed:"_computeNoAuth(securedBy)",observer:"_noAuthChanged"},/**
           * Flag set when the request is being made.
           */loadingRequest:{type:Boolean,notify:!0,value:!1},/**
           * If set it computes `hasOptional` property and shows checkbox in the
           * form to show / hide optional properties.
           */allowHideOptional:Boolean,/**
           * If set, enable / disable param checkbox is rendered next to each
           * form item.
           */allowDisableParams:Boolean,/**
           * When set, renders "add custom" item button.
           * If the element is to be used withouth AMF model this should always
           * be enabled. Otherwise users won't be able to add a parameter.
           */allowCustom:Boolean,// Selected by the user auth method (if any)
authMethod:String,// Current authorization settings.
authSettings:Object,/**
           * Generated request ID when the request is sent. This value is reported
           * in send and abort events
           */requestId:String,/**
           * Request query parameters view model
           * @type {Array<Object>}
           */queryModel:{type:Array,notify:!0},/**
           * Request path parameters view model
           * @type {Array<Object>}
           */pathModel:{type:Array,notify:!0},/**
           * Computed when URL params editor is invalid.
           */paramsInvalid:{type:Boolean,notify:!0},/**
           * Computed when headers editor is invalid.
           */headersInvalid:{type:Boolean,notify:!0},/**
           * Prohibits rendering of the documentation (the icon and the
           * description).
           */noDocs:Boolean,/**
           * Computed value, true if any of the editors has invalid state.
           */invalid:{type:Boolean,notify:!0,observer:"_invalidChnaged",computed:"_computeInvalid(urlInvalid, paramsInvalid, headersInvalid, authValid, authNotRequired)"},/**
           * Validity state of the URL editor
           */urlInvalid:{type:Boolean,notify:!0}}}static get observers(){return["_pathModelChanged(pathModel.*)","_queryModelChanged(queryModel.*)"]}/**
       * @constructor
       */constructor(){super();this._authSettingsChanged=this._authSettingsChanged.bind(this);this._responseHandler=this._responseHandler.bind(this);this._authRedirectChangedHandler=this._authRedirectChangedHandler.bind(this)}_attachListeners(node){this.addEventListener("authorization-settings-changed",this._authSettingsChanged);window.addEventListener("api-response",this._responseHandler);node.addEventListener("oauth2-redirect-uri-changed",this._authRedirectChangedHandler)}_detachListeners(node){this.removeEventListener("authorization-settings-changed",this._authSettingsChanged);window.removeEventListener("api-response",this._responseHandler);node.removeEventListener("oauth2-redirect-uri-changed",this._authRedirectChangedHandler)}/**
       * Dispatches bubbling and composed custom event.
       * By default the event is cancelable until `cancelable` property is set to false.
       * @param {String} type Event type
       * @param {?any} detail A detail to set
       * @param {?Boolean} cancelable When false the event is not cancelable.
       * @return {CustomEvent}
       */_dispatch(type,detail,cancelable){if("boolean"!==typeof cancelable){cancelable=!0}const e=new CustomEvent(type,{bubbles:!0,composed:!0,cancelable,detail});this.dispatchEvent(e);return e}/**
       * Sends usage google analytics event
       * @param {String} action Action description
       * @param {String} label Event label
       * @return {CustomEvent}
       */_sendGaEvent(action,label){return this._dispatch("send-analytics",{type:"event",category:"Request editor",action,label},!1)}/**
       * Clears the request properties.
       */clearRequest(){this.set("url","");this.set("headers","");this.set("payload","");this.shadowRoot.querySelector("authorization-panel").clear();this.selectedTab=0;this._dispatch("request-clear-state");this._sendGaEvent("Clear request")}/**
       * Computes AMF model for authorization panel.
       *
       * @param {Object} model Current method model.
       * @return {Array|undefined} List of security definitions for the endpoint.
       */_computeSecuredBy(model){if(!model){return}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"security");let data=model[key];if(data&&!(data instanceof Array)){data=[data]}return data}/**
       * Computes model definition for headers.
       *
       * @param {?Object} model Method model
       * @return {Array|undefined} List of headers or undefined.
       */_computeHeaders(model){if(!model){return}const expects=this._computeExpects(model);if(!expects){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"header");let headers=expects[key];if(headers&&!(headers instanceof Array)){headers=[headers]}return headers}/**
       * Computes if authorization for the endpoint is set.
       *
       * @param {Object} model Operation model.
       * @return {Boolean}
       */_computeNoAuth(model){return!(model&&model[0])}/**
       * Computes value for `httpMethod` property from AMF model for current
       * operation.
       *
       * @param {Object} model Operation model.
       * @return {String} Method name.
       */_computeHttpMethod(model){return this._getValue(model,this.ns.w3.hydra.core+"method")}/**
       * Computes value for `apiPayload` property from AMF model for current
       * method.
       *
       * @param {Object} model Operation model.
       * @return {Array<Object>|undefined} Method payload.
       */_computeApiPayload(model){if(!model){return}const expects=this._computeExpects(model);if(!expects){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"payload");let payload=expects[key];if(payload&&!(payload instanceof Array)){payload=[payload]}return payload}/**
       * Computes value for `isPayloadRequest`.
       * Only `GET` and `HEAD` methods are known as ones that can't carry a
       * payload. For any other HTTP method this always returns true.
       *
       * @param {String} method HTTP method value
       * @return {Boolean}
       */_computeIsPayloadRequest(method){return-1===["get","head"].indexOf(method)}/**
       * Updates tabs selection when `authNotRequired` property change.
       * It changes selection to the next tab if there's no authorization
       * and current selected editor is authorization.
       *
       * @param {Boolean} value Current value for `authNotRequired`
       */_noAuthChanged(value){if(!value&&2===this.selectedTab){this.selectedTab=0}else if(value&&0===this.selectedTab){this.selectedTab=1}this._refreshTabs();this._sendGaEvent("no-auth-changed",value+"")}/**
       * Updates the state of the body editor when switching to it.
       * Code mirror does not property calculate it's value when
       * the editor is not visible. This forces to refresh the value of the
       * editor.
       *
       * @param {Number} selected Selected tam index.
       */_selectedTabChanged(selected){if(3===selected){Polymer.RenderStatus.afterNextRender(this,()=>{this.shadowRoot.querySelector("api-body-editor").refreshPanel()})}this._sendGaEvent("tab-changed",selected)}/**
       * Refreshes tabs selection when `isPayloadRequest` peroperty chnage.
       *
       * @param {Boolean} state
       */_isPayloadChanged(state){if(!state){this.payload=void 0}if(!state&&3===this.selectedTab){this.selectedTab=1}this._refreshTabs()}/**
       * Refreshes tabs selection. To be called when number of tabs changes.
       */_refreshTabs(){const tabs=this.shadowRoot&&this.shadowRoot.querySelector("paper-tabs");if(!tabs){return}tabs.notifyResize()}/**
       * Handles send button click.
       * Depending on authorization validity it either sends the
       * request or forces authorization and sends the request.
       */_sendHandler(){if(this.authValid){this.execute()}else{this.authAndExecute()}}/**
       * To be called when the user want to execute the request but
       * authorization is invalid (missin values).
       * This function brings the auth panel to front and displays error toast
       *
       * TODO: There is a case when the user didn't requested OAuth2 token
       * but provided all the data. This function should check for this
       * condition and call authorization function automatically.
       */authAndExecute(){this.__requestAuthAwaiting=!0;const panel=this.shadowRoot.querySelector("authorization-panel");let result;if(panel){result=panel.forceTokenAuthorization()}if(!result){if(0!==this.selectedTab){this.selectedTab=0}this.$.authFormError.opened=!0}}/**
       * Executes the request by dispatching `api-request` custom event.
       * The event must be handled by hosting application to ensure transport.
       * Use `advanced-rest-client/xhr-simple-request` component to add logic
       * that uses XHR as a transport.
       *
       * Hosting application also must reset state of `loadingRequest` property
       * once the response is ready. It also can dispatch `api-response`
       * custom event handled by this element to reset state. This is also
       * handled by `xhr-simple-request` component.
       */execute(){this.loadingRequest=!0;const request=this.serializeRequest();this.requestId=this.$.uuid.generate();request.id=this.requestId;this._dispatch("api-request",request);this._sendGaEvent("request-execute","true")}/**
       * Sends the `abort-api-request` custom event to cancel the request.
       * Calling this method befor sending request may have unexpected
       * behavior because `requestId` is only set with `execute()` method.
       */abort(){this._dispatch("abort-api-request",{url:this.url,id:this.requestId});this._sendGaEvent("request-abort","true");this.loadingRequest=!1;this.requestId=void 0}/**
       * Event handler for abort click.
       */_abortRequest(){this.abort()}/**
       * Returns an object with the request properties.
       * The object contains:
       * - `method` (String)
       * - `url` (String)
       * - `headers` (String)
       * - `payload` (String)
       * - `auth` (Object)
       *
       * The `auth` property is optional and is only added to the request if
       * simple `authorization` header will not work. For example NTLM auth
       * method has to be made on a single socket connection (authorization
       * and the request) so it can't be made before the request.
       *
       * The `auth` object contains 2 properties:
       * - `type` (String) the authorization type - one of from the
       * `auth-methods` element
       * - `settings` (Object) Authorization parameters entered by the user.
       * It vary and depends on selected auth method.
       * For example in case of the NTLM it will be: `username`, `password` and
       * `domain`. See `advanced-rest-client/auth-methods` for model descriptions.
       *
       * @return {Object}
       */serializeRequest(){const result={method:(this.httpMethod||"get").toUpperCase(),url:this.url,headers:this.headers||"",payload:this.payload,queryModel:this.queryModel,pathModel:this.pathModel,headersModel:this.shadowRoot.querySelector("api-headers-editor").viewModel};if(this.authMethod&&this.authSettings){result.auth=this.authSettings;result.authType=this.authMethod}return result}/**
       * Handler for the `authorization-settings-changed` dispatched by
       * authorization panel. Sets auth settings and executes the request if
       * any pending if valid.
       *
       * @param {CustomEvent} e
       */_authSettingsChanged(e){this.authMethod=e.detail.type;this.authSettings=e.detail.settings;if(e.detail.valid&&this.__requestAuthAwaiting){this.__requestAuthAwaiting=!1;this.execute()}}/**
       * Handler for the `api-response` custom event.
       * Clears the loading state.
       *
       * @param {CustomEvent} e
       */_responseHandler(e){if(!e.detail||e.detail.id!==this.requestId){return}this.loadingRequest=!1}/**
       * Handler for the `oauth2-redirect-uri-changed` custom event. Changes
       * the `redirectUri` property.
       * @param {CustomEvent} e
       */_authRedirectChangedHandler(e){this.redirectUri=e.detail.value}/**
       * Handler for path model change
       * @param {Object} record Polymer's change record
       */_pathModelChanged(record){const model=record.base,path=record.path;if(!model||!path){return}if("pathModel"===path||/^pathModel\.\d+\.(name|value|schema\.enabled)$/.test(path)){this._notifyModelChanged("path",model)}}/**
       * Handler for query model change
       * @param {Object} record Polymer's change record
       */_queryModelChanged(record){const model=record.base,path=record.path;if(!model||!path){return}if("queryModel"===path||"queryModel.length"===path||/^queryModel\.\d+\.(name|value|schema\.enabled)$/.test(path)){this._notifyModelChanged("query",model)}}/**
       * Dispatches model change event
       * @param {String} type Model name
       * @param {Array} model Current model value.
       */_notifyModelChanged(type,model){const result=[];if(model){model.forEach(item=>{if(!item.name){return}result.push({name:item.name,value:item.value,enabled:item.schema.enabled})})}this._dispatch("request-"+type+"-model-changed",{value:result})}/**
       * Dispatches `url-value-changed` event when url value change.
       * @param {String} value
       */_urlChanged(value){this._dispatch("url-value-changed",{value})}/**
       * Computes value if `invalid` property.
       * @param {Boolean} urlInvalid
       * @param {Boolean} paramsInvalid
       * @param {Boolean} headersInvalid
       * @param {Boolean} authValid
       * @param {Boolean} authNotRequired
       * @return {Boolean}
       */_computeInvalid(urlInvalid,paramsInvalid,headersInvalid,authValid,authNotRequired){if(urlInvalid||paramsInvalid||headersInvalid){return!0}return!1===authNotRequired&&!1===authValid}/**
       * Sets `invalid` and `aria-invalid` attributes on the element.
       * @param {Boolean} invalid Current state of ivalid state
       */_invalidChnaged(invalid){if(invalid){this.setAttribute("invalid",!0);this.setAttribute("aria-invalid",!0)}else{this.removeAttribute("invalid");this.removeAttribute("aria-invalid")}}/**
       * Computes label for the send button.
       * If authorization state is ivalid then label is different.
       * @param {Boolean} authValid [description]
       * @return {String}
       */_computeSendLabel(authValid){return authValid?"Send":"Authorize and send"}/**
       * Computes value to disable send button when the form is invalid.
       * THe button is active when auth is the only invalid state
       * @param {Boolean} invalid
       * @param {Boolean} authValid
       * @return {Boolean}
       */_computeSendDisabled(urlInvalid,paramsInvalid,headersInvalid){if(urlInvalid||paramsInvalid||headersInvalid){return!0}return!1}/**
       * Dispatched when the user requests to send current request.
       *
       * This event can be cancelled.
       *
       * @event api-request
       * @param {String} url The request URL. Can be empty string.
       * @param {String} method HTTP method name. Can be empty.
       * @param {String} headers HTTP headers string. Can be empty.
       * @param {String|File|FormData} payload Message body. Can be undefined.
       * @param {?Object} auth Authorization settings from the auth panel.
       * May be `undefined`.
       * @param {?String} authType Name of the authorization methods. One of
       * `advanced-rest-client/auth-methods`.
       * @param {String} id Generated UUID for the request. Each call of
       * `execute()` function regenerates the `id`.
       * @param {?Array<Object>} queryModel Query parameters data view model
       * @param {?Array<Object>} pathModel URI parameters data view model
       * @param {?Array<Object>} headersModel Headers data view model
       */ /**
       * Fired when the user requests to abort current request.
       *
       * This event can be cancelled.
       *
       * @event abort-api-request
       * @param {String} url The request URL. Can be empty string. Also, it may be
       * different URL that the one used to send the request if the user changed
       * it in between. Use the `id` property to compare requests.
       * @param {String} id Generated UUID of the request with `send-request`
       * event.
       */ /**
       * Dispatched when query model changed.
       *
       * @event request-query-model-changed
       * @param {Array<Object>} value List of current query parameters.
       * Each object contains `name`, `value` and `enabled` property.
       * If `enable` equals `false` (boolean) it means that the user disabled
       * this property in the editor.
       */ /**
       * Dispatched when path variables model changed.
       *
       * @event request-path-model-changed
       * @param {Array<Object>} value List of current path parameters.
       * Each object contains `name`, `value` and `enabled` property.
       * Enabled property is here only for consistency with
       * `request-query-model-changed`. The UI does not offer turning this
       * properties off. It's always true
       */ /**
       * Dispatched when request URL change
       * @event url-value-changed
       * @param {String} value New value of request URL
       */}window.customElements.define(ApiRequestEditor.is,ApiRequestEditor)})();</script></dom-module><dom-module id="date-time" assetpath="bower_components/date-time/"><template><style>:host{display:inline;@apply --date-time;}</style><time datetime$="[[iso]]">[[display]]</time></template><script>/**
   * An element to display formatted date and time.
   *
   * The `date` propery accepts Date object, Number as a timestamp or string
   * that will be parsed to the Date object.
   *
   * This element uses the `Intl` interface which is available in IE 11+ browsers.
   *
   * To format the date use [Intl.DateTimeFormat]
   * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat)
   * inteface options.
   *
   * The default value for each date-time component property is undefined,
   * but if all component properties are undefined, then year, month, and day
   * are assumed to be "numeric" (per spec).
   *
   * ### Example
   * ```html
   * <date-time date="2010-12-10T11:50:45Z" year="numeric" month="narrow" day="numeric"></date-time>
   * ```
   *
   * The element provides accessibility by using the `time` element and setting
   * the `datetime` attribute on it.
   *
   * ### Styling
   *
   * `<date-time>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--date-time` | Mixin applied to the element | `{}`
   *
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class DateTime extends Polymer.Element{static get is(){return"date-time"}static get properties(){return{/**
         * A string with a BCP 47 language tag, or an array of such strings.
         * For the general form and interpretation of the locales argument,
         * see the Intl page.
         * The following Unicode extension keys are allowed:
         * - nu - Numbering system. Possible values include: "arab", "arabext",
         * "bali", "beng", "deva", "fullwide", "gujr", "guru", "hanidec", "khmr",
         * "knda", "laoo", "latn", "limb", "mlym", "mong", "mymr", "orya",
         * "tamldec", "telu", "thai", "tibt".
         * - ca - Calendar. Possible values include: "buddhist", "chinese",
         * "coptic", "ethioaa", "ethiopic", "gregory", "hebrew", "indian",
         * "islamic", "islamicc", "iso8601", "japanese", "persian", "roc".
         */locales:{type:String,observer:"_update"},/**
         * A date object to display
         */date:{type:Date,observer:"_update"},/**
         * A string to display
         */display:String,/**
         * The representation of the year.
         * Possible values are "numeric", "2-digit".
         */year:{type:String,observer:"_update"},/**
         * The representation of the month.
         * Possible values are "numeric", "2-digit", "narrow", "short", "long".
         */month:{type:String,observer:"_update"},/**
         * The representation of the day.
         * Possible values are "numeric", "2-digit".
         */day:{type:String,observer:"_update"},/**
         * The representation of the hour.
         * Possible values are "numeric", "2-digit".
         */hour:{type:String,observer:"_update"},/**
         * The representation of the minute.
         * Possible values are "numeric", "2-digit".
         */minute:{type:String,observer:"_update"},/**
         * The representation of the second.
         * Possible values are "numeric", "2-digit".
         */second:{type:String,observer:"_update"},/**
         * The representation of the weekday.
         * Possible values are "narrow", "short", "long".
         */weekday:{type:String,observer:"_update"},/**
         * The representation of the time zone name. Possible values are
         * "short", "long".
         */timeZoneName:{type:String,observer:"_update"},/**
         * The representation of the era. Possible values are "narrow",
         * "short", "long".
         */era:{type:String,observer:"_update"},/**
         * The time zone to use. The only value implementations must recognize
         * is "UTC"; the default is the runtime's default time zone.
         * Implementations may also recognize the time zone names of the IANA
         * time zone database, such as "Asia/Shanghai", "Asia/Kolkata",
         * "America/New_York".
         */timeZone:{type:String,observer:"_update"},/**
         * Whether to use 12-hour time (as opposed to 24-hour time).
         * Possible values are `true` and `false`; the default is locale
         * dependent.
         */hour12:{type:Boolean,observer:"_update"},/**
         * An ISO string to attach to the `<time>` element.
         */iso:{type:String,readOnly:!0/* ignoreName */ /* skipSlots */},// True when the element is ready.
isReady:Boolean}}ready(){super.ready();this.isReady=!0;this._update()}// Handler for date property change. Computes date value.
_update(){if(!this.isReady){return}let date=this.date;if(!date){date=new Date}else if("string"===typeof date){try{date=new Date(date);let _test=date.getDate();if(_test!==_test){date=new Date}}catch(e){date=new Date}}else if(!isNaN(date)){date=new Date(date)}else if(!(date instanceof Date)){date=new Date}if("undefined"===typeof Intl){this.set("display",date.toString());this._setIso(date.toISOString());return}const options={};if(this.year){options.year=this.year}if(this.month){options.month=this.month}if(this.day){options.day=this.day}if(this.hour){options.hour=this.hour}if(this.minute){options.minute=this.minute}if(this.second){options.second=this.second}if(this.weekday){options.weekday=this.weekday}if(this.era){options.era=this.era}if(this.timeZoneName){options.timeZoneName=this.timeZoneName}if(this.timeZone){options.timeZone=this.timeZone}if(this.hour12!==void 0){options.hour12=this.hour12}let locales;if(this.locales){locales=this.locales}const value=new Intl.DateTimeFormat(locales,options).format(date);this.set("display",value);this._setIso(date.toISOString())}}window.customElements.define(DateTime.is,DateTime);</script></dom-module><dom-module id="request-timings" assetpath="bower_components/request-timings/"><template strip-whitespace=""><style>:host{display:block;--paper-progress-height:var(--request-timings-progress-height, 12px);--paper-progress-container-color:var(--request-timings-progress-background, #F5F5F5);--paper-progress-active-color:var(--request-timings-progress-background, #F5F5F5);--paper-progress-secondary-color:var(--request-timings-progress-color, #4a4);@apply --request-timings;}.row{@apply --layout-horizontal;@apply --layout-center;}.flex,
    paper-progress{@apply --layout-flex;}.label,
    .date-value{@apply --select-text;@apply --form-label;}.timing-label{width:var(--request-timings-label-width, 160px);@apply --form-label;}.timing-value{width:var(--request-timings-value-width, 120px);text-align:right;@apply --select-text;}.total{margin-top:12px;padding-top:12px;font-weight:500;border-top:2px var(--paper-grey-200, rgba(255, 0, 0, 0.74)) solid;}.row.is-total{@apply --layout-end-justified;}</style><dom-if if="[[_hasStartTime]]"><template><div class="row" data-type="start-time"><span class="label">Start date</span>:<date-time year="numeric" month="numeric" day="numeric" hour="numeric" minute="numeric" second="numeric" class="date-value" date="[[startTime]]"></date-time></div></template></dom-if><dom-if if="[[_hasBlockedTime]]"><template><div class="row" data-type="block-time"><div class="timing-label label">Queueing:</div><paper-progress aria-label="Queueing time" value="0" secondary-progress="[[blocked]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundBlocked]] ms</span></div></template></dom-if><dom-if if="[[_hasDnsTime]]"><template><div class="row" data-type="dns-time"><div class="timing-label label">DNS Lookup:</div><paper-progress aria-label="DNS lookup time" value="[[_blockedProgressValue]]" secondary-progress="[[_ttcProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundDns]] ms</span></div></template></dom-if><dom-if if="[[_hasConnectTime]]"><template><div class="row" data-type="ttc-time"><div class="timing-label label">Time to connect:</div><paper-progress aria-label="Time to connect" value="[[_ttcProgressValue]]" secondary-progress="[[_sslProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundConnect]] ms</span></div></template></dom-if><dom-if if="[[_hasSslTime]]"><template><div class="row" data-type="ssl-time"><div class="timing-label label">SSL negotiation:</div><paper-progress aria-label="SSL negotiation time" value="[[_sslProgressValue]]" secondary-progress="[[_sendProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundSsl]] ms</span></div></template></dom-if><dom-if if="[[_hasSendTime]]"><template><div class="row" data-type="send-time"><div class="timing-label label">Send time:</div><paper-progress aria-label="Send time" value="[[_sendProgressValue]]" secondary-progress="[[_ttfbProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundSend]] ms</span></div></template></dom-if><dom-if if="[[_hasWaitTime]]"><template><div class="row" data-type="ttfb-time"><div class="timing-label label">Wait time (TTFB):</div><paper-progress aria-label="Time to first byte" value="[[_ttfbProgressValue]]" secondary-progress="[[_receiveProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundWait]] ms</span></div></template></dom-if><dom-if if="[[_hasReceiveTime]]"><template><div class="row" data-type="receive-time"><div class="timing-label label">Content download:</div><paper-progress aria-label="Receiving time" value="[[_receiveProgressValue]]" secondary-progress="[[_receive2ProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundReceive]] ms</span></div></template></dom-if><div class="row is-total"><span class="timing-value total">[[roundFullTime]] ms</span></div></template><script>/**
   * An element to display request timings information as a timeline according to the HAR 1.2 spec.
   *
   * The `timings` property should contain timings object as defined in [HAR 1.2 spec](https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/HAR/Overview.html#sec-object-types-timings).
   *
   * The timings object is consisted of:
   * - **blocked** [number, optional] - Time spent in a queue waiting for a network connection. Use -1 if the timing does not apply to the current request.
   * - **dns** [number, optional] - DNS resolution time. The time required to resolve a host name. Use -1 if the timing does not apply to the current request.
   * - **connect** [number, optional] - Time required to create TCP connection. Use -1 if the timing does not apply to the current request.
   * - **send** [number] - Time required to send HTTP request to the server.
   * - **wait** [number] - Waiting for a response from the server.
   * - **receive** [number] - Time required to read entire response from the server (or cache).
   * - **ssl** [number, optional] - Time required for SSL/TLS negotiation. If this field is defined then the time is also included in the connect field (to ensure backward compatibility with HAR 1.1). Use -1 if the timing does not apply to the current request.
   *
   * Additionally the object can contain the `startTime` property that indicates
   * the request start time. If can be Date object, timestamp or formatted string
   * representing a date.
   *
   * The timeline for `connect`, `send`, `wait` and `receive` are always shown.
   * `blocked`, `dns` and `ssl` are visible only if values for it was set and value
   * was > 0.
   *
   * ### Example
   *
   * ```html
   * <request-timings timings="[[requestTimings]]"></request-timings>
   *```
   *
   * ### Styling
   * `<request-timings>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--request-timings` | Mixin applied to the element | `{}`
   * `--select-text` | Mixin applied to the text elements that should have text selection enabled (in some platforms text selection is disabled by default) | `{}`
   * `--form-label` | Mixin applied to labels elements | `{}`
   * `--request-timings-progress-height` | The height of the progress bar | `12px`
   * `--request-timings-progress-background` | Background color of the progress bar. | `#F5F5F5`
   * `--request-timings-progress-color` | Color of the progress bar. | `#4a4`
   * `--request-timings-label-width` | Width of the label | `160px`
   * `--request-timings-value-width` | Width of the value column | `120px`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class RequestTimings extends Polymer.Element{static get is(){return"request-timings"}static get properties(){return{/**
         * A timings object as described in HAR 1.2 spec.
         */timings:{type:Object,observer:"_update"},/**
         * Request stat time. It can be either Date object,
         * timestamp or a string representing the date.
         *
         * If the `timings` property contains the `startTime` property it
         * will be overwritten.
         */startTime:String,/**
         * Computed value. Calculated full time of the request and response
         */fullTime:{type:Number,readOnly:!0/* ignoreName */ /* skipSlots */},roundFullTime:{type:Number,computed:"_round(fullTime)"},// Computed value. Time required to establish the connection
connect:{type:Number,readOnly:!0},roundConnect:{type:Number,computed:"_round(connect)"},// Computed value. Time of receiving data from the remote machine.
receive:{type:Number,readOnly:!0},roundReceive:{type:Number,computed:"_round(receive)"},// Computed value. Time to send data to the remote machine.
send:{type:Number,readOnly:!0},roundSend:{type:Number,computed:"_round(send)"},// Computed value. Wait time for the first byte to arrive.
wait:{type:Number,readOnly:!0},roundWait:{type:Number,computed:"_round(wait)"},// Computed value. Time spent in a queue waiting for a network connection
blocked:{type:Number,readOnly:!0},roundBlocked:{type:Number,computed:"_round(blocked)"},// Computed value. DNS resolution time.
dns:{type:Number,readOnly:!0},roundDns:{type:Number,computed:"_round(dns)"},// Computed value. Time required for SSL/TLS negotiation.
ssl:{type:Number,readOnly:!0},roundSsl:{type:Number,computed:"_round(ssl)"},_hasStartTime:{type:Boolean,computed:"_hasValue(startTime)"},_hasBlockedTime:{type:Boolean,computed:"_hasValue(blocked)"},_hasDnsTime:{type:Boolean,computed:"_hasValue(dns)"},_hasConnectTime:{type:Boolean,computed:"_hasValue(connect)"},_hasSslTime:{type:Boolean,computed:"_hasValue(ssl)"},_hasSendTime:{type:Boolean,computed:"_hasValue(send)"},_hasWaitTime:{type:Boolean,computed:"_hasValue(wait)"},_hasReceiveTime:{type:Boolean,computed:"_hasValue(receive)"},_blockedProgressValue:{type:Number,computed:"_computeSum(blocked)"},_ttcProgressValue:{type:Number,computed:"_computeSum(blocked, dns)"},_sslProgressValue:{type:Number,computed:"_computeSum(_ttcProgressValue, connect)"},_sendProgressValue:{type:Number,computed:"_computeSum(_sslProgressValue, ssl)"},_ttfbProgressValue:{type:Number,computed:"_computeSum(_sendProgressValue, send)"},_receiveProgressValue:{type:Number,computed:"_computeSum(_ttfbProgressValue, wait)"},_receive2ProgressValue:{type:Number,computed:"_computeSum(_receiveProgressValue, receive)"}}}// Updates the view after `timings` change.
_update(){const timings=this.timings||{};let fullTime=0,connect=+timings.connect,receive=+timings.receive,send=+timings.send,wait=+timings.wait,blocked=+timings.blocked,dns=+timings.dns,ssl=+timings.ssl;if(connect!==connect||0>connect){connect=0}if(receive!==receive||0>receive){receive=0}if(send!==send||0>send){send=0}if(wait!==wait||0>wait){wait=0}if(dns!==dns||0>dns){dns=-1}if(blocked!==blocked||0>blocked){blocked=-1}if(ssl!==ssl||0>ssl){ssl=-1}fullTime+=connect+receive+send+wait;if(0<dns){fullTime+=dns}if(0<blocked){fullTime+=blocked}if(0<ssl){fullTime+=ssl}this._setFullTime(fullTime);this._setConnect(connect);this._setReceive(receive);this._setSend(send);this._setWait(wait);this._setDns(dns);this._setBlocked(blocked);this._setSsl(ssl);if(timings.startTime){this.set("startTime",timings.startTime)}else{this.set("startTime",this.startTime||-1)}}/**
     * Round numeric value to presision defined in the `power` argument.
     *
     * @param {Number} value The value to round
     * @return {Number} Rounded value.
     */_round(value){value=+value;if(value!==value){return"unknown"}let factor=Math.pow(10,4);return Math.round(value*factor)/factor}/**
     * Sums two HAR times.
     * If any argument is `undefined` or `-1` then `0` is assumed.
     * @param {Number} a Time #1
     * @param {Number} b Time #2
     * @return {Number} Sum of both
     */_computeSum(a,b){if(a===void 0){a=0}else{a=+a;if(0>a){a=0}}if(b===void 0){b=0}else{b=+b;if(0>b){b=0}}return a+b}_hasValue(num){if(num===void 0){return(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}if("string"===typeof num){return!!num}return 0<num}}window.customElements.define(RequestTimings.is,RequestTimings);</script></dom-module><dom-module id="request-timings-panel" assetpath="bower_components/request-timings/"><template><style>:host{display:block;@apply --request-timings-panel;}.status-row,
    .timings-row{@apply --layout-horizontal;@apply --layout-center;min-height:56px;}.status-row{@apply --layout-horizontal;@apply --layout-end-justified;}.sub-title{@apply --arc-font-subhead;}.status-label{width:60px;font-size:var(--request-timings-panel-timing-total-size, 16px);font-weight:var(--request-timings-panel-timing-total-weigth, 400);@apply --arc-font-subhead;}.text{-webkit-user-select:text;cursor:text;}.redirect-value{margin-top:12px;@apply --layout-flex;}</style><template is="dom-if" if="[[hasRedirects]]"><section class="redirects"><h3 class="sub-title">Redirects</h3><template is="dom-repeat" items="[[redirectTimings]]"><div class="timings-row"><div class="status-label text">#<span>{{_computeIndexName(index)}}</span></div><div class="redirect-value"><request-timings timings="[[item]]"></request-timings></div></div></template><h3 class="sub-title">Final request</h3><div class="timings-row"><div class="redirect-value"><request-timings timings="[[timings]]"></request-timings></div></div><div class="status-row"><div class="flex"></div><span class="timing-value total text">[[requestTotalTime]] ms</span></div></section></template><template is="dom-if" if="[[!hasRedirects]]"><request-timings timings="[[timings]]"></request-timings></template></template><script>/**
   * The `request-timings-panel` element is a panel to display a set of timings
   * for the request / response. The use case is to display timings for the request
   * where redirects are possible and timings for the redirects are calculated.
   *
   * The timings accepted by this element is defined in the HAR 1.2 spec. See The
   * `request-timings` element docs for more info.
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--request-timings-panel` | Mixin applied to the element | `{}`
   * `--arc-font-subhead` | Mixin applied to the headers element. Similar to `--paper-font-subhead` mixin in Paper elements. | `{}`
   *
   * Use `request-timings` properties an mixins to style the charts.
   *
   * ## Changes in version 2
   * - `redirects` property rendamed to `redirectTimings`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class RequestTimingsPanel extends Polymer.Element{static get is(){return"request-timings-panel"}static get properties(){return{// Computed value, if true it will display redirects details
hasRedirects:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,readOnly:!0/* skipSlots */,computed:"_computeHasRedirects(redirectTimings.*)"},/**
         * An array of HAR 1.2 timings object.
         * It should contain a timings objects for any redirect object during
         * the request.
         * List should be arelady ordered by the time of occurence.
         */redirectTimings:Array,// The request / response HAR timings.
timings:Object,/**
         * Calculated total request time (final response + redirectTimings).
         */requestTotalTime:{type:Number,value:0,computed:"_computeRequestTime(redirectTimings.*, timings.*)"}}}_computeHasRedirects(record){return!!(record&&record.base&&record.base.length)}_computeRequestTime(redirectsRecord,timingsRecord){const redirects=redirectsRecord.base,timings=timingsRecord.base;let time=0;if(redirects&&redirects.length){redirects.forEach(timing=>time+=this._computeHarTime(timing))}let add=this._computeHarTime(timings);if(add){time+=add}time=Math.round(1e4*time)/1e4;return time}_computeIndexName(index){return index+1}_computeHarTime(har){let fullTime=0;if(!har){return fullTime}let connect=+har.connect,receive=+har.receive,send=+har.send,wait=+har.wait,blocked=+har.blocked,dns=+har.dns,ssl=+har.ssl;if(connect!==connect||0>connect){connect=0}if(receive!==receive||0>receive){receive=0}if(send!==send||0>send){send=0}if(wait!==wait||0>wait){wait=0}if(dns!==dns||0>dns){dns=-1}if(blocked!==blocked||0>blocked){blocked=-1}if(ssl!==ssl||0>ssl){ssl=-1}fullTime+=connect+receive+send+wait;if(0<dns){fullTime+=dns}if(0<blocked){fullTime+=blocked}if(0<ssl){fullTime+=ssl}return fullTime}}window.customElements.define(RequestTimingsPanel.is,RequestTimingsPanel);</script></dom-module><script>(function(){'use strict';/**
  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to
  implement a Material Design dialog.

  For example, if `<paper-dialog-impl>` implements this behavior:

      <paper-dialog-impl>
          <h2>Header</h2>
          <div>Dialog body</div>
          <div class="buttons">
              <paper-button dialog-dismiss>Cancel</paper-button>
              <paper-button dialog-confirm>Accept</paper-button>
          </div>
      </paper-dialog-impl>

  `paper-dialog-shared-styles.html` provide styles for a header, content area, and
  an action area for buttons. Use the `<h2>` tag for the header and the `buttons`
  class for the action area. You can use the `paper-dialog-scrollable` element (in
  its own repository) if you need a scrolling content area.

  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive controls
  to close the dialog. If the user dismisses the dialog with `dialog-confirm`, the
  `closingReason` will update to include `confirmed: true`.

  ### Accessibility

  This element has `role="dialog"` by default. Depending on the context, it may be
  more appropriate to override this attribute with `role="alertdialog"`.

  If `modal` is set, the element will prevent the focus from exiting the element.
  It will also ensure that focus remains in the dialog.

  @hero hero.svg
  @demo demo/index.html
  @polymerBehavior Polymer.PaperDialogBehavior
  */Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{/**
       * If `modal` is true, this implies `no-cancel-on-outside-click`,
       * `no-cancel-on-esc-key` and `with-backdrop`.
       */modal:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},/**
     * @return {void}
     */ready:function(){// Only now these properties can be read.
this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0/* skipSlots */},_modalChanged:function(modal,readied){// modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.
// We need to wait for the element to be ready before we can read the
// properties values.
if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{// If the value was changed to false, let it false.
this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},/**
     * Will dismiss the dialog if user clicked on an element with dialog-dismiss
     * or dialog-confirm attribute.
     */_onDialogClick:function(event){// Search for the element with dialog-confirm or dialog-dismiss,
// from the root target until this (excluded).
for(var path=Polymer.dom(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute("dialog-dismiss")||target.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(target.hasAttribute("dialog-confirm"));this.close();event.stopPropagation();break}}}};/** @polymerBehavior */Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><dom-module id="paper-dialog-shared-styles" assetpath="bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host > ::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host > ::slotted(.paper-dialog-buttons),
      :host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}});</script><dom-module id="paper-dialog-scrollable" assetpath="bower_components/paper-dialog-scrollable/"><template><style>:host{display:block;@apply --layout-relative;}:host(.is-scrolled:not(:first-child))::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--divider-color);}:host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--divider-color);}.scrollable{padding:0 24px;@apply --layout-scroll;@apply --paper-dialog-scrollable;}.fit{@apply --layout-fit;}</style><div id="scrollable" class="scrollable" on-scroll="updateScrollState"><slot></slot></div></template></dom-module><script>Polymer({is:"paper-dialog-scrollable",properties:{/**
       * The dialog element that implements `Polymer.PaperDialogBehavior`
       * containing this element.
       * @type {?Node}
       */dialogElement:{type:Object}},/**
     * Returns the scrolling element.
     */get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){// Read parentElement instead of parentNode in order to skip shadowRoots.
this.dialogElement=this.dialogElement||this.parentElement;// Check if dialog implements paper-dialog-behavior. If not, fit
// scrollTarget to host.
if(this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)){this.dialogElement.sizingTarget=this.scrollTarget;this.scrollTarget.classList.remove("fit")}else if(this.dialogElement){this.scrollTarget.classList.add("fit")}}});</script><dom-module id="headers-list-view" assetpath="bower_components/headers-list-view/"><template><style>:host{display:block;@apply --headers-list-view;}.dialog-header-example{@apply --arc-font-body1;margin-top:16px;}.dialog-header-desc{@apply --arc-font-body2;}.list-item{min-height:var(--headers-list-item-min-height, 20px);-webkit-user-select:text;word-break:break-all;@apply --arc-font-code1;}.list-item > span{display:inline-block;}.header-name{margin-right:8px;}.auto-link{@apply --arc-link;}</style><div class="container" on-dblclick="_displayHeaderInfo"></div><paper-dialog id="headerInfo"><h2>[[_hdTitle]]</h2><paper-dialog-scrollable><section class="dialog-header-desc">[[_hdBody]]</section><section class="dialog-header-example"><span>Example:</span> <span>[[_hdExample]]</span></section></paper-dialog-scrollable><div class="buttons"><paper-button dialog-confirm="" autofocus="">Close</paper-button></div></paper-dialog></template><script>/**
   * An element that displays a list of headers.
   *
   * On double click on the list the `query-headers` event is dispatched to
   * get header definition. When information is handled by the application
   * then it dispays a dialog with header documentation.
   * Use `advanced-rest-client/arc-definitions` element to handle queries.
   *
   * The `headers` property accepts a HTTP headers string or `Headers` object
   * as defined in Fetch spec.
   *
   * ### Example
   *
   * ```html
   * <headers-list-view headers="Content-Type: application/json"></headers-list-view>
   * ```
   *
   * ### Styling
   * `<headers-list-view>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--headers-list-view` | Mixin applied to the element | `{}`
   * `--arc-font-body1` | Mixin applied to the example section in the details dialog. | `{}`
   * `--arc-font-body2` | Mixin applied to the description section in the details dialog. | `{}`
   * `--arc-font-code1` | Mixin apllied to the list | `{}`
   * `--headers-list-item-min-height` | Min height of the list item. | `20px`
   * `--arc-link` | Mixin applied to a link | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin ArcBehaviors.HeadersParserBehavior
   * @memberof UiElements
   */class HeadersListView extends ArcBehaviors.HeadersParserBehavior(Polymer.Element){static get is(){return"headers-list-view"}static get properties(){return{/**
         * A HTTP headers to display.
         */headers:{type:String,observer:"_headersChanged"},/**
         * Parsed headers to the array of headers.
         *
         * @type {Array<Object>}
         */_headers:Array,/**
         * Type of the header.
         * Can be either `request` or `response`.
         * It is required for displaying the help for the headers. The element
         * fires the `query-headers` event on double click which requires this
         * information to be set.
         */type:{type:String,value:"response"},/**
         * Header title in the details dialog.
         */_hdTitle:String,/**
         * Header description in the details dialog.
         */_hdBody:String,/**
         * Header example in the details dialog.
         */_hdExample:String,/**
         * A regexp used to match links in headers string.
         *
         * @type {RegExp}
         */_linkR:{type:Object,value:function(){return /(https?:\/\/([^" >]*))/gim}}}}/**
     * Returns a reference to main container of the list.
     * @return {HTMLElement} List container.
     */get container(){if(!this.shadowRoot){return}if(!this.$){this.$={}}if(!this.$.container){this.$.container=this.shadowRoot.querySelector(".container")}return this.$.container}/**
     * The list view requires to add some markup dynamically therefore it cannot
     * use Polymer's replates and binding system.
     * Heaqders list is generated manually when headers string has changed.
     *
     * @param {String} headers Headers to render
     */_headersChanged(headers){this._clearList();if(!headers){return}const list=this.headersToJSON(headers),markup=list.map(item=>this._getMarkup(item)).join("\n");this.container.innerHTML=markup}/**
     * Clears the list of headers.
     */_clearList(){this.container.innerHTML=""}/**
     * Creates a markup for a list item.
     * @param {Object} item Headers model item.
     * @return {String} Markup for list item.
     */_getMarkup(item){let result=`<div class="list-item" data-name="${item.name}">`;result+="<span class=\"header-name\">";result+=item.name+": </span>";result+="<span class=\"header-value\">";result+=this._autoLink(item.value);result+="</span>";result+="</div>";return result}/**
     * Double click on header line handler.
     * Will call model for data to display.
     */_displayHeaderInfo(e){const path=e.composedPath();let target;while(!0/* ignoreName */ /* skipSlots */){target=path.shift();if(!target){return}if(!target.dataset||!target.dataset.name){continue}break}const header=target.dataset.name.toLowerCase(),headers=this._headersQueryEvent(header).headers;if(headers&&headers.length){const result=headers[0];this._hdTitle=result.key;this._hdBody=result.desc;this._hdExample=result.example;this.$.headerInfo.open()}this._analyticsEvent("Headers list","Display header info dialog")}/**
     * Dispatches `query-headers` custom event handled by `arc-definitions`
     * component.
     *
     * @param {String} header Header name to query
     * @return {Object} Event's detail object
     */_headersQueryEvent(header){const ev=new CustomEvent("query-headers",{detail:{type:this.type,query:header},bubbles:!0,composed:!0,cancelable:!0});this.dispatchEvent(ev);return ev.detail}/**
     * Dispatches analytics event.
     * @param {String} action Event action
     * @param {String} label Event label
     */_analyticsEvent(action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:HeadersListView.is,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}// Finds URLs in input string and adds anchors tags.
_autoLink(input){if("string"!==typeof input){return input}const matches=input.match(this._linkR);input=input.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!matches){return input}let index=input.indexOf(matches[0]),result=input.substr(0,index);result+="<a target=\"_blank\" class=\"auto-link\" href=\"";result+=matches[0];result+="\">";result+=matches[0];result+="</a>";index+=matches[0].length;result+=input.substr(index);return result}}window.customElements.define(HeadersListView.is,HeadersListView);</script></dom-module><dom-module id="http-source-message-view" assetpath="bower_components/response-status-view/"><template><style>:host{margin:16px 16px 0 16px;overflow:auto;display:block;@apply --http-source-message-view;}pre{word-break:break-all;@apply --select-text;@apply --arc-font-code1;@apply --http-source-message;margin-bottom:0;}h5{margin:0;display:inline-block;cursor:pointer;@apply --http-source-message-view-title;}</style><h5 on-tap="toggle">Source message<paper-icon-button icon="[[_computeIcon(opened)]]"></paper-icon-button></h5><iron-collapse id="collapse" opened="{{opened}}"><pre>[[message]]</pre></iron-collapse></template><script>/**
   * The element displays the HTTP source message that has been sent to the remote mchine.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class HttpSourceMessageView extends Polymer.Element{static get is(){return"http-source-message-view"}static get properties(){return{// A HTTP message to display.
message:String,// True if the message is visible.
opened:Boolean}}/**
     * Toggles source message visibility
     */toggle(){this.opened=!this.opened}/**
     * Computes icon name depending on `opened` state
     * @param {Boolean} opened
     * @return {String}
     */_computeIcon(opened){return opened?"arc:expand-less":"arc:expand-more"}}window.customElements.define(HttpSourceMessageView.is,HttpSourceMessageView);</script></dom-module><script>(function(global){'use strict';if(!global.ArcBehaviors){/**
   * @namespace ArcBehaviors
   */global.ArcBehaviors={}}/**
 * Common function for response status view
 *
 * @polymer
 * @mixinFunction
 * @memberof ArcBehaviors
 */global.ArcBehaviors.ResponseStatusMixin=Polymer.dedupingMixin(base=>{/**
   * @polymer
   * @mixinClass
   */class RSmixin extends base{/**
     * Comnputes CSS class name depending on response status code.
     * @param {Number} code Status code
     * @return {String} Css class name for status code.
     */_computeStatusClass(code){var cls="status-code-value";if(500<=code||0===code){cls+=" error"}if(400<=code&&500>code){cls+=" warning"}if(300<=code&&400>code){cls+=" info"}return cls}/**
     * Click event listener to recognize click on a `link` element.
     * Dispatches `action-link-change` custom event when event's source is
     * an anchor.
     * @param {ClickEvent} e
     */_handleLink(e){e.preventDefault();const path=e.composedPath();if("A"===path[0].nodeName){const ev=new CustomEvent("action-link-change",{detail:{url:path[0].href},bubbles:!0/* ignoreName */ /* skipSlots */,composed:!0,cancelable:!0});this.dispatchEvent(ev)}}}return RSmixin})})(window);</script><dom-module id="response-status-styles" assetpath="bower_components/response-status-view/"><template><style>.status-row{@apply --layout-horizontal;@apply --arc-font-subhead;@apply --layout-center;min-height:56px;border-bottom:1px var(--response-status-view-status-info-border-color, #e5e5e5) solid;}.status-value{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --response-status-view-status-container;}.status-value > span{display:block;}.status-value.status.text > span:not(:first-child){margin-left:8px;}.text{@apply --select-text;}headers-list-view{margin-top:12px;}.status-code-value{padding:4px 8px;color:var(--response-status-view-code-value-color, #fff);border-radius:3px;display:block;background-color:var(--arc-status-code-color-200, rgba(56, 142, 60, 1));}.info.status-code-value{background-color:var(--arc-status-code-color-300, rgba(48, 63, 159, 1));}.warning.status-code-value{background-color:var(--arc-status-code-color-400, rgba(245, 124, 0, 1));}.error.status-code-value{background-color:var(--arc-status-code-color-500, rgba(211, 47, 47, 1));}.no-info-container{@apply --layout-vertical;@apply --layout-center;}.no-info{@apply --no-info-message;}</style></template></dom-module><dom-module id="response-redirects-panel" assetpath="bower_components/response-status-view/"><template><style include="response-status-styles">.status-label{width:40px;@apply --arc-font-subhead;}.redirect-value{margin-top:12px;@apply --layout-flex;}.redirect-location{margin-left:8px;}.auto-link{color:var(--arc-link);@apply --arc-link;}</style><template is="dom-if" if="[[!hasRedirects]]"><div class="no-info-container"><p class="no-info">There is no redirects information to display</p></div></template><template is="dom-if" if="[[hasRedirects]]"><template is="dom-repeat" items="[[redirects]]"><div class="status-row"><div class="status-label text">#<span>[[_computeIndexName(index)]]</span></div><div class="redirect-value" on-tap="_handleLink"><div class="status-value status text"><span class$="[[_computeStatusClass(item.status)]]">[[item.status]] [[item.statusText]]</span> <span class="redirect-location">to: <a href="[[_computeRedirectLocation(item.headers)]]" class="auto-link">[[_computeRedirectLocation(item.headers)]]</a></span></div><headers-list-view headers="[[item.headers]]"></headers-list-view></div></div></template></template></template><script>/**
   * HTTP redirects info panel.
   * Renders list of redirects and headers in the response.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.ResponseStatusMixin
   */class ResponseRedirectsPanel extends ArcBehaviors.ResponseStatusMixin(Polymer.Element){static get is(){return"response-redirects-panel"}static get properties(){return{/**
         * List of redirects information.
         */redirects:Array,/**
         * Computed value, `true` when `redirects` property is set and has value
         */hasRedirects:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasRedirects(redirects.*)"}}}/**
     * Computes 0-based index to 1-based number.
     * @param {Number} index
     * @return {Number}
     */_computeIndexName(index){return index+1}/**
     * Extracts a location URL form the headers.
     *
     * @param {String} headers A HTTP headers string.
     * @return {String} A value of the location header or `unknown` if not
     * found.
     */_computeRedirectLocation(headers){let def="unknown";if(!headers){return def}if("string"===typeof headers){const match=headers.match(/^location: (.*)$/im);if(!match){return def}return match[1]}const location=headers.get("location");return location||def}_computeHasRedirects(record){return!!(record&&record.base&&record.base.length)}}window.customElements.define(ResponseRedirectsPanel.is,ResponseRedirectsPanel);</script></dom-module><script>/**
 * A class that reads response status code and returns default HTTP status
 * message associated with it.
 */class StatusMessage{/**
   * Translates status code into status message.
   *
   * @param {Number|String} code Status code
   * @return {String|undefined} Status text if the code is recognized.
   */getMessage(code){code=+code;let message;switch(code){case 0:message="Request error";break;case 100:message="Continue";break;case 101:message="Switching Protocols";break;case 200:message="OK";break;case 201:message="Created";break;case 202:message="Accepted";break;case 203:message="Non-Authoritative Information";break;case 204:message="No Content";break;case 205:message="Reset Content";break;case 206:message="Partial Content";break;case 300:message="Multiple Choices";break;case 301:message="Moved Permanently";break;case 302:message="Found";break;case 303:message="See Other";break;case 304:message="Not Modified";break;case 305:message="Use Proxy";break;case 306:message="(Unused)";break;case 307:message="Temporary Redirect";break;case 400:message="Bad Request";break;case 401:message="Unauthorized";break;case 402:message="Payment Required";break;case 403:message="Forbidden";break;case 404:message="Not Found";break;case 405:message="Method Not Allowed";break;case 406:message="Not Acceptable";break;case 407:message="Proxy Authentication Required";break;case 408:message="Request Timeout";break;case 409:message="Conflict";break;case 410:message="Gone";break;case 411:message="Length Required";break;case 412:message="Precondition Failed";break;case 413:message="Request Entity Too Large";break;case 414:message="Request-URI Too Long";break;case 415:message="Unsupported Media Type";break;case 416:message="Requested Range Not Satisfiable";break;case 417:message="Expectation Failed";break;case 500:message="Internal Server Error";break;case 501:message="Not Implemented";break;case 502:message="Bad Gateway";break;case 503:message="Service Unavailable";break;case 504:message="Gateway Timeout";break;case 505:message="HTTP Version Not Supported";break;}return message}}</script><dom-module id="response-status-view" assetpath="bower_components/response-status-view/"><template><style include="response-status-styles">:host{@apply --layout-vertical;@apply --response-status-view;}.badge{display:block;background-color:var(--response-status-view-badge-background, var(--accent-color));color:var(--response-status-view-badge-color, #fff);width:20px;height:20px;border-radius:50%;font-size:12px;margin-left:12px;@apply --layout-horizontal;@apply --layout-center-center;}.badge.empty{background-color:var(--response-status-view-empty-badge-background, #9e9e9e);color:var(--response-status-view-empty-badge-color, #fff);}.response-time{color:var(--response-status-view-loading-time-color, rgba(0, 0, 0, 0.54));margin-left:8px;display:block;@apply --response-status-view-time;}.status-info{@apply --layout-horizontal;@apply --layout-center;@apply --layout-flex;padding:0 4px;}.toggle-button{color:var(--response-status-view-toggle-icon-color, rgba(0, 0, 0, 0.54));transition:color 0.25s linear;}.toggle-icon{transform:rotateZ(0deg);transition:transform 0.3s linear;}.toggle-icon.opened{transform:rotateZ(-180deg);}.toggle-button:hover{color:var(--response-status-view-toggle-icon-hover-color, rgba(0, 0, 0, 0.78));}.xhr-title{@apply --layout-horizontal;@apply --layout-center;padding:0px 16px;@apply --arc-font-subhead;}.response-error-label{margin-left:12px;color:var(--arc-status-code-color-500, rgba(211, 47, 47, 1));}.status-url{@apply --arc-font-body1;@apply --layout-horizontal;@apply --layout-center;padding-top:12px;padding-bottom:12px;font-size:120%;padding-left:16px;background:var(--response-status-view-request-url-background-color, #6B6C6D);color:var(--response-status-view-request-url-color, #fff);@apply --arc-font-code;@apply --response-status-view-request-url-info;}.http-method{margin-right:12px;}.request-url{word-break:break-all;}.no-info{padding-left:16px;@apply --no-info-message;}[hidden]{display:none !important;}</style><div class="status-row"><div class="status-value status"><template is="dom-if" if="[[!isError]]"><div class="status-info text"><span class$="[[_computeStatusClass(statusCode)]]">[[statusCode]] [[statusMessage]]</span> <span class="response-time" hidden$="[[!loadingTime]]">[[_roundTime(loadingTime)]] ms</span></div><div class="status-details"><paper-button on-tap="toggleCollapse" class="toggle-button" title="Toogles response headers">Details<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></template><template is="dom-if" if="[[isError]]"><span class="error status-code-value">0</span> <span class="response-time" hidden$="[[!loadingTime]]">[[_roundTime(loadingTime)]] ms</span><p class="response-error-label">Error in the response.</p></template></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[requestUrl]]"><div class="status-url"><span class="http-method" hidden$="[[!requestMethod]]">[[requestMethod]]</span> <span class="request-url">[[requestUrl]]</span></div></template><paper-tabs selected="{{selectedTab}}"><paper-tab><span>Response headers</span> <span class$="[[_computeBageClass(responseHeaders)]]">[[_computeHeadersLength(responseHeaders)]]</span></paper-tab><paper-tab><span>Request headers</span> <span class$="[[_computeBageClass(requestHeaders)]]">[[_computeHeadersLength(requestHeaders)]]</span></paper-tab><template is="dom-if" if="[[!isXhr]]"><paper-tab><span>Redirects</span> <span class$="[[_computeBageClass(redirects.length)]]">[[redirects.length]]</span></paper-tab><paper-tab>Timings</paper-tab></template></paper-tabs><iron-pages selected="[[selectedTab]]"><section class="response-headers-panel"><template is="dom-if" if="[[hasResponseHeaders]]"><headers-list-view type="response" on-tap="_handleLink" headers="[[responseHeaders]]" data-source="response-headers"></headers-list-view></template><template is="dom-if" if="[[!hasResponseHeaders]]"><div class="no-info-container"><p class="no-info">Nothing to display here</p></div></template></section><section class="request-headers-panel"><template is="dom-if" if="[[hasRequestHeaders]]"><headers-list-view type="request" on-tap="_handleLink" headers="[[requestHeaders]]" data-source="request-headers"></headers-list-view></template><template is="dom-if" if="[[!hasRequestHeaders]]"><div class="no-info-container"><p class="no-info">Nothing to display here</p></div></template><template is="dom-if" if="[[hasHttpMessage]]"><http-source-message-view message="[[httpMessage]]"></http-source-message-view></template></section><template is="dom-if" if="[[!isXhr]]"><response-redirects-panel redirects="[[redirects]]"></response-redirects-panel><request-timings-panel redirect-timings="[[redirectTimings]]" timings="[[timings]]"></request-timings-panel></template></iron-pages></iron-collapse></template><script>/**
   * HTTP response status view, including status, headers redirects and timings
   *
   * ### Full example
   *
   * ```html
   * <response-status-view
   *  status-code="[[statusCode]]"
   *  status-message="[[statusMessage]]"
   *  request-headers="[[requestHeaders]]"
   *  response-headers="[[responseHeaders]]"
   *  loading-time="[[loadingTime]]"
   *  http-message="[[_computeHttpMessage(requestHeaders)]]"
   *  redirects="[[redirects]]"
   *  redirect-timings="[[redirectTimings]]"
   *  timings="[[timings]]"></response-status-view>
   * ```
   *
   * ### Minimal example
   *
   * ```html
   * <response-status-view
   *  status-code="[[statusCode]]"
   *  status-message="[[statusMessage]]"
   *  response-headers="[[responseHeaders]]"
   *  loading-time="[[loadingTime]]"></response-status-view>
   * ```
   *
   * ## Understanding `is-xhr`
   *
   * ARC (Advanced REST client) uses it's own HTTP client library to connect to
   * the server. Because of that it collects much more information about the
   * connection itself. When the response ends it reports detailed redirects
   * information. Each response (including redirects) has detailed timing
   * infomration. The timing object applies HAT 1.2 spec. When `is-xhr`
   * attribute is not set, the element expect to received additional data
   * available in ARC app. Element renders additional tabs to list redirects
   * and table of timing information.
   *
   * Simple requerst objects like XHR or Fetch does not allow to collect this
   * information in such details. In this case `is-xhr` should be set so the
   * element won't render a view that can never be used.
   *
   * ## Data model
   *
   * ### Redirects
   *
   * #### `redirects`
   *
   * Array of objects. Each object has `headers` property as a HTTP headers
   * string, `status` as a HTTP status and optionally `statusText`.
   *
   * #### `redirectTimings`
   *
   * Array of objects. Each object represent a HAR 1.2 timings object.
   * See the `request-timings` element documentation for more information.
   *
   * ### `responseError`
   *
   * A JavaScript Error object.
   *
   * ### `timings`
   *
   * Object that represent a HAR 1.2 timings object. See the `request-timings`
   * element documentation for more information.
   *
   * ## Status message
   *
   * The element sets a status message if, after ~100 ms of setting status code
   * property, the `statusMessage` property is not set. This is to ensure that
   * the user will always see any status message.
   *
   * ## Styling
   *
   * `<response-status-view>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-status-view` | Mixin applied to the element | `{}`
   * `--raml-docs-response-panel` | Mixin applied to the element | `{}`
   * `--arc-status-code-color-200` | Color of the 200 status code (ARC theme option) | `rgba(56, 142, 60, 1)` |
   * `--arc-status-code-color-300` | Color of the 300 status code (ARC theme option) | `rgba(48, 63, 159, 1)` |
   * `--arc-status-code-color-400` | Color of the 400 status code (ARC theme option) | `rgba(245, 124, 0, 1)` |
   * `--arc-status-code-color-500` | Color of the 500 status code (ARC theme option) | `rgba(211, 47, 47, 1)` |
   * `--arc-font-subhead` | Mixin applied to sub headers (low implortance headers). It's a theme mixin. | `{}`
   * `--no-info-message` | Mixin applied to the messages information that there's no information available. | `{}`
   * `--arc-font-code1` | Mixin applied to the source message. It's a theme mixin. | `{}`
   * `--response-status-view-badge-color` | Color of the badge with number of the headers / redirections in advanced view | `#fff`
   * `--response-status-view-badge-background` | Background color of the badge with number of the headers / redirections in advanced view | `--accent-color`
   * `--response-status-view-empty-badge-color` | Color of the badge with number of the headers / redirections in advanced view | `#fff`
   * `--response-status-view-empty-badge-background` | Background color of the badge with number of the headers / redirections in advanced view | `#9e9e9e`
   * `--response-status-view-status-info-border-color` | Border color separating status from the response headers | `#e5e5e5`
   * `--response-status-view-status-container` | Mixin applied to the status row in the main view and in the redirects view (in advanced mode). | `{}`
   *
   * ## Changes in version 2.0
   *
   * - `status-message` element was removed. The `StatusMessage` class is included
   * with this element.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.ResponseStatusMixin
   */class ResponseStatusView extends ArcBehaviors.ResponseStatusMixin(Polymer.Element){static get is(){return"response-status-view"}static get properties(){return{// Response status code.
statusCode:{type:Number,observer:"_statusCodeChanged"},// Status message (if any)
statusMessage:String,// The request/response loading time.
loadingTime:{type:Number,value:0},/**
         * The response headers as a HTTP headers string
         */responseHeaders:String,/**
         * Computed value, `true` if response headers are set
         */hasResponseHeaders:{type:String,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasHeaders(responseHeaders)"},// The request headers as a HTTP headers string
requestHeaders:String,// Computed value, true when request headers are set.
hasRequestHeaders:{type:String,value:!1,computed:"_computeHasHeaders(requestHeaders)"},/**
         * Raw HTTP message sent to the server.
         * It will be displayed in the request headers tab.
         * Optional for transports that do not expose this information.
         */httpMessage:{type:String},// Computed value, true when source HTTP message is not set.
hasHttpMessage:{type:Boolean,readOnly:!0/* skipSlots */,computed:"_computeHasHttpMessage(httpMessage)"},/**
         * An Error object representing the response error.
         * It uses this property only to determine if the request is errored
         */responseError:{type:Object},// Calculated to be true if responseError object is set.
isError:{type:Boolean,value:!1,readOnly:!0,computed:"_computeIsError(responseError)",observer:"_isErrorChanged"},/**
         * An array of redirect responses.
         * Each of the response objects should be regular Response objects.
         */redirects:Array,/**
         * List of timings occured during the redirects.
         * This list should be ordered by the time of redirection.
         * See the `request-timings` element documentation for more
         * information.
         */redirectTimings:Array,// Currently selected tab.
selectedTab:{type:Number,value:0},/**
         * The timings object to display request/response timing information
         * as defined in HAR 1.2 spec.
         * See the `request-timings` element documentation for more
         * information.
         */timings:{type:Object,notify:!0},/**
         * If true it means that the request has been made by the basic
         * transport and advanced details of the request/response like
         * redirects, timings, source message are not available.
         * It this case it will hide unused tabs.
         */isXhr:{type:Boolean,observer:"_isXhrChanged",value:!1},// True if the collapsable element is opened
opened:{type:Boolean,value:!1},// A request URL that has been used to make a request
requestUrl:String,// A HTTP method used to make a request
requestMethod:String}}attached(){if(this.statusCode){this._statusCodeChanged()}}_statusCodeChanged(){if(this.statusCode===void 0){this.statusCode=0}this.assignStatusMessage()}/**
     * Computes value for `isError` property.
     * @param {Object} responseError Response error object
     * @return {Boolean}
     */_computeIsError(responseError){return!!responseError}/**
     * Computes CSS class for the badge in the tabs.
     * If passed `input` is string it only check if string is not empty.
     * Otherwise it checks if passed value is !== 0.
     *
     * @param {String|Number} input String or number to check.
     * @return {String} Computed class name for this badge.
     */_computeBageClass(input){const cls="badge",clsEmpty=cls+" empty";if(input===void 0){return clsEmpty}if("string"===typeof input){return!!input?cls:clsEmpty}return 0===input?clsEmpty:cls}/**
     * Compute size of the HTTP headers.
     * Note, it only checks for number of lines. It doeasn't check if each line
     * contains string.
     *
     * @param {String} headers The headers strings to count.
     * @return {Number} Size of the headers in passed string.
     */_computeHeadersLength(headers){if(!headers){return 0}return headers.split("\n").length}/**
     * Computes value for `hasHttpMessage` property.
     * @param {String|undefined} message HTTP message string.
     * @return {Boolean}
     */_computeHasHttpMessage(message){return!!message}_roundTime(num){num=+num;if(num!==num){return""}return num.toFixed(2)}// Toggles collapsable element.
toggleCollapse(){this.opened=!this.opened}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}/**
     * Runs status text recognition after ~100 ms to ensure a status message
     * is displayed event if there wasn't any.
     */assignStatusMessage(){setTimeout(()=>{if(this.statusMessage){return}/* global StatusMessage */const msg=new StatusMessage;this.statusMessage=msg.getMessage(this.statusCode)},100)}// Resets current tab when isXhr is true.
_isXhrChanged(value){if(value===void 0){return}if(value&&1<this.selectedTab){this.selectedTab=0}const tabs=this.shadowRoot.querySelector("paper-tabs");if(!tabs){console.warn("Tabs panel not found in DOM");return}tabs.notifyResize()}// Computes if headers are set
_computeHasHeaders(requestHeaders){return!!requestHeaders}/**
     * Closes the collapse when error is set.
     * @param {Boolean} error Flag indicating error
     */_isErrorChanged(error){if(error){this.opened=!1}}}window.customElements.define(ResponseStatusView.is,ResponseStatusView);</script></dom-module><dom-module id="response-error-view" assetpath="bower_components/response-error-view/"><template><style>:host{@apply --layout-vertical;@apply --layout-flex;-webkit-user-select:text;margin:0 16px;@apply --response-error-view;}.message-wrapper{@apply --layout-horizontal;@apply --layout-center;}.error-icon{width:128px;height:128px;color:var(--error-message-icon-color, rgba(0, 0, 0, 0.56));@apply --error-message-icon;}.error-desc{@apply --arc-font-subhead;color:var(--error-message-color, #db4437);@apply --error-message-text;}.error-code{color:var(--error-message-code-color, #9e9e9e);}.inherit{color:inherit !important;background-color:inherit !important;text-decoration:inherit !important;}p,
    h3{cursor:text;}</style><div class="message-wrapper"><div><iron-icon class="error-icon" icon="[[icon]]"></iron-icon></div><div class="error-desc"><iron-pages selected="[[detailsPage]]"><section><h3>The requested URL can't be reached</h3><p>The service might be temporarily down or it may have moved permanently to a new web address.</p><p class="error-code">[[message]]</p></section><section><h3>Install self signed certificate in Chrome</h3><p>The app can't work if the self-signed certificate is not installed in Chrome.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service refused to connect.</p><p>Please, check if:</p><ul><li>you and remote machine are connected to the internet,</li><li>all required services (like www) are up and running on server</li><li>port number is correct</li><li>url is correct</li></ul><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20102" target="_blank">chrome network error 102</a></p><p class="error-code">[[message]]</p></section><section><h3>Certificate is invalid for given domain</h3><p>Certificate presented to the app has different CN (common name) than the domain of the request.</p><p>Please, generate certificate again with valid domain name or use free certificate service like <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a> to get a new certificate.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><a class="inherit" href="https://bugs.chromium.org/p/chromium/issues/detail?id=603104" target="_blank"><paper-button raised="">See CR bug</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>Abort / timeout</h3><p>The request has been aborted manually or because of the conection timeout. There were no response from the server but the connection wasn't closed.</p><p>You can adjust timeout in settings.</p><p>Try to:</p><ul><li>add "Connection: close" header which should be used by the server to close the connection after it finish generating response</li></ul><p>Please, check if:</p><ul><li>all required services (like www) are up and running on server</li><li>method is correct</li><li>port number is correct</li><li>url is correct</li><li>all required headers and/or payload has been added to the request</li></ul><h4>Example</h4><p>Sometimes it may happen when you use <b>http</b> protocol instead of <b>https</b>. Also it may happen when you use different URL (port / protocol) and the server is not configured properly.</p></section><section><h3>The requested URL can't be reached</h3><p>The service is unreachable.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20109" target="_blank">chrome network error 109</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p><b>The URL</b> didn’t accept your login certificate or your login certificate may have expired.</p><p>Try contacting the system admin.</p><p class="error-code">[[message]]</p></section><section><h3>The URL is blocked</h3><p>The person who set up this computer has chosen to block this site.</p><p>Try contacting the system admin.</p><p><b>Check your administrator's policies</b></p><p>Visit <b>chrome://policy</b> to see the list of blacklisted URLs and other policies enforced by your system administrator.</p><p class="error-code">[[message]]</p></section><section><h3>The URL is blocked</h3><p>Requests to the server have been blocked by an extension.</p><p>Try</p><ul><li>Again...</li><li>Disabling your extensions</li></ul><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>Chrome OS hasn’t completed its initial setup.</p><ul><li>Fix your connection using the <a href="data:text/html,chromewebdata#buttons" target="_blank">diagnostics app</a></li><li>Sign out and complete setup</li></ul><p class="error-code">[[message]]</p></section><section><h3>Certificate error</h3><p>Certificate presented to the app is invalid.</p><p>Please, generate certificate again or use free certificate service like <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a> to get a new certificate.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service unexpectedly closed the connection.</p><p>Try</p><ul><li>Again...</li><li>Checking the connection</li><li>Checking the proxy and the firewall</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow Chrome to access the network in your firewall or antivirus settings.</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL can't be reached</h3><p>The service is unreachable.</p><p>Search Google for <a href="https://www.google.co.uk/search?q=chrome%20network%20error%20104" target="_blank">chrome network error 104</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service refused to connect.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20102" target="_blank">chrome network error 102</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service took too long to respond.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20118" target="_blank">chrome network error 118</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL isn’t working</h3><p>The service unexpectedly closed the connection.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL was not found</h3><p>It may have been moved or deleted.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t be reached</h3><p>This site on the company, organisation or school intranet has the same URL as an external website.</p><p>Try contacting your system administrator.</p><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>Your computer is offline.</p><p>Try:</p><ul><li>Checking the network cable or router</li><li>Resetting the modem or router</li><li>Reconnecting to Wi-Fi</li></ul><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service's server DNS address could not be found.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20105" target="_blank">chrome network error 105</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service might be temporarily down or it may have moved permanently to a new web address.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20137" target="_blank">chrome network error 137</a></p><p class="error-code">[[message]]</p></section><section><h3>Your Internet access is blocked</h3><p>Firewall or antivirus software may have blocked the connection.</p><p>Try:</p><ul><li>Checking the connection</li><li>Checking firewall and antivirus configurations</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow Chrome to access the network in your firewall or antivirus settings</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p></section><section><h3>Your connection was interrupted</h3><p>A network change was detected.</p><p class="error-code">[[message]]</p></section><section><h3>Your connection was interrupted</h3><p>Your computer went to sleep. Zzzzzzz.</p><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>There is something wrong with the proxy server or the address is incorrect.</p><p>Try:</p><ul><li>Checking the proxy address</li><li>Contacting the system admin</li></ul><p class="error-code">[[message]]</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL isn’t working</h3><p>The service sent an invalid response.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p><b>The URL</b> sent an invalid response.</p><p><a href="https://support.google.com/chrome?p=ir_ssl_error" target="_blank">Learn more</a> about this problem.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server presented a certificate that doesn't match built-in expectations. These expectations are included for certain, high-security websites in order to protect you.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server doesn't adhere to security standards.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server uses an unsupported protocol.</p><p class="error-code">[[message]]</p><p><b>Unsupported protocol</b></p><p>The client and server don't support a common SSL protocol version or cipher suite. This is likely to be caused when the server needs RC4, which is no longer considered secure.</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server doesn't adhere to security standards.</p><p><a href="https://support.google.com/chrome?p=dh_error&amp;" target="_blank">Learn more</a> about this problem.</p><p class="error-code">[[message]]</p></section><section><h3>Access to network-error was denied</h3><p>The server hosting the web page might be overloaded or under maintenance. In order to avoid generating too much traffic and make the situation worse, requests to this URL have been temporarily disallowed.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service took too long to respond.</p><p>Try</p><ul><li>Again...</li><li>Checking the connection</li><li>Checking the proxy and the firewall</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow the browser to access the network in your firewall or antivirus settings.</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL isn’t working</h3><p>The service redirected you too many times.</p><p>Try</p><ul><li>Again...</li><li>Clearing your cookies</li></ul><p class="error-code">[[message]]</p><p><b>Clearing your cookies</b></p><p>Go to app's settings and click on "Clear cookies".</p></section></iron-pages></div></div></template><script>/**
   * A view for the response error.
   *
   * The element displays predefined error message with icon and depending on the
   * `message` property it will display custom message or a predefined explanation
   * if the message is one of the Chrome's network errors (net::*).
   *
   * If the `message` property is not set then a defaulot message will be displayed.
   *
   * ### Examples
   *
   * #### Custom message
   *
   * ```html
   * <response-error-view message="Unable to run the request"></response-error-view>
   * ```
   *
   * ### predefined message (chrome network error)
   *
   * ```html
   * <response-error-view message="net::ERR_BAD_SSL_CLIENT_AUTH_CERT"></response-error-view>
   * <response-error-view message="net::ERR_CONNECTION_REFUSED"></response-error-view>
   * ```
   *
   * ## Predefined messages
   * - Request aborted
   * - net::ERR_CERT_AUTHORITY_INVALID
   * - net::ERR_CONNECTION_REFUSED
   * - net::ERR_CERT_COMMON_NAME_INVALID
   * - net::ERR_ADDRESS_UNREACHABLE
   * - net::ERR_BAD_SSL_CLIENT_AUTH_CERT
   * - net::ERR_BLOCKED_BY_ADMINISTRATOR
   * - net::ERR_BLOCKED_BY_CLIENT
   * - net::ERR_BLOCKED_ENROLLMENT_CHECK_PENDING
   * - net::ERR_CERT_CONTAINS_ERRORS
   * - net::ERR_CERT_DATE_INVALID
   * - net::ERR_CERT_END
   * - net::ERR_CERT_ERROR_IN_SSL_RENEGOTIATION
   * - net::ERR_CERT_INVALID
   * - net::ERR_CERT_NAME_CONSTRAINT_VIOLATION
   * - net::ERR_CERT_NON_UNIQUE_NAME
   * - net::ERR_CERT_NO_REVOCATION_MECHANISM
   * - net::ERR_CERT_REVOKED
   * - net::ERR_CERT_UNABLE_TO_CHECK_REVOCATION
   * - net::ERR_CERT_VALIDITY_TOO_LONG
   * - net::ERR_CERT_WEAK_KEY
   * - net::ERR_CERT_WEAK_SIGNATURE_ALGORITHM
   * - net::ERR_CONNECTION_CLOSED
   * - net::ERR_CONNECTION_RESET
   * - net::ERR_CONNECTION_FAILED
   * - net::ERR_CONNECTION_REFUSED
   * - net::ERR_CONNECTION_TIMED_OUT
   * - net::ERR_CONTENT_LENGTH_MISMATCH
   * - net::ERR_INCOMPLETE_CHUNKED_ENCODING
   * - net::ERR_FILE_NOT_FOUND
   * - net::ERR_ICANN_NAME_COLLISION
   * - net::ERR_INTERNET_DISCONNECTED
   * - net::ERR_NAME_NOT_RESOLVED
   * - net::ERR_NAME_RESOLUTION_FAILED
   * - net::ERR_NETWORK_ACCESS_DENIED
   * - net::ERR_NETWORK_CHANGED
   * - net::ERR_NETWORK_IO_SUSPENDED
   * - net::ERR_PROXY_CONNECTION_FAILED
   * - net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION
   * - net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_LENGTH
   * - net::ERR_RESPONSE_HEADERS_MULTIPLE_LOCATION
   * - net::ERR_SSL_FALLBACK_BEYOND_MINIMUM_VERSION
   * - net::ERR_SSL_PROTOCOL_ERROR
   * - net::ERR_SSL_PINNED_KEY_NOT_IN_CERT_CHAIN
   * - net::ERR_SSL_SERVER_CERT_BAD_FORMAT
   * - net::ERR_SSL_VERSION_OR_CIPHER_MISMATCH
   * - net::ERR_SSL_WEAK_SERVER_EPHEMERAL_DH_KEY
   * - net::ERR_TEMPORARY_BACKOFF
   * - net::ERR_TIMED_OUT
   * - net::ERR_TOO_MANY_REDIRECTS
   *
   * ### Styling
   * The styling is consistent with the `error-message` element styling options.
   *
   * `<response-error-view>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-error-view` | Mixin applied to the element | `{}`
   * `--error-message-icon-color` | Color of the icon | `rgba(0, 0, 0, 0.56)`
   * `--error-message-icon` | Mixin apllied to the icon | `{}`
   * `--arc-font-subhead` | Theme mixin, applied to the predefined description message. | `{}`
   * `--error-message-color` | Color of the predefined description message | `#db4437`
   * `--error-message-text` | Mixin applied ot the predefined description message | `{}`
   * `--error-message-code-color` | Color of the message passed to the element. It's meant to be a less visible information and probably define an error code. | `#9e9e9e`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class ResponseErrorView extends Polymer.Element{static get is(){return"response-error-view"}static get properties(){return{/**
         * Message to display.
         *
         * The message can be one of the Chrome's net::* error codes. In this
         * case the element will display predefined message.
         */message:{type:String,observer:"_messageChanged"},/**
         * An icon to display.
         */icon:{type:String,value:"arc:sentiment-very-dissatisfied"},// Opened detailed message page.
detailsPage:Number}}ready(){super.ready();if(this.detailsPage===void 0){this.detailsPage=0}}// handler to the message change event.
_messageChanged(msg){if(msg){msg=msg.trim()}switch(msg){case"net::ERR_CERT_AUTHORITY_INVALID":this.detailsPage=1;break;case"net::ERR_CONNECTION_REFUSED":this.detailsPage=2;break;case"net::ERR_CERT_COMMON_NAME_INVALID":this.detailsPage=3;break;case"Request aborted":this.detailsPage=4;break;case"net::ERR_ADDRESS_UNREACHABLE":this.detailsPage=5;break;case"net::ERR_BAD_SSL_CLIENT_AUTH_CERT":this.detailsPage=6;break;case"net::ERR_BLOCKED_BY_ADMINISTRATOR":this.detailsPage=7;break;case"net::ERR_BLOCKED_BY_CLIENT":this.detailsPage=8;break;case"net::ERR_BLOCKED_ENROLLMENT_CHECK_PENDING":this.detailsPage=9;break;case"net::ERR_CERT_CONTAINS_ERRORS":case"net::ERR_CERT_DATE_INVALID":case"net::ERR_CERT_END":case"net::ERR_CERT_ERROR_IN_SSL_RENEGOTIATION":case"net::ERR_CERT_INVALID":case"net::ERR_CERT_NAME_CONSTRAINT_VIOLATION":case"net::ERR_CERT_NON_UNIQUE_NAME":case"net::ERR_CERT_NO_REVOCATION_MECHANISM":case"net::ERR_CERT_REVOKED":case"net::ERR_CERT_UNABLE_TO_CHECK_REVOCATION":case"net::ERR_CERT_VALIDITY_TOO_LONG":case"net::ERR_CERT_WEAK_KEY":case"net::ERR_CERT_WEAK_SIGNATURE_ALGORITHM":this.detailsPage=10;break;case"net::ERR_CONNECTION_CLOSED":case"net::ERR_CONNECTION_RESET":this.detailsPage=11;break;case"net::ERR_CONNECTION_FAILED":this.detailsPage=12;break;case"net::ERR_CONNECTION_REFUSED":this.detailsPage=13;break;case"net::ERR_CONNECTION_TIMED_OUT":this.detailsPage=14;break;case"net::ERR_CONTENT_LENGTH_MISMATCH":case"net::ERR_INCOMPLETE_CHUNKED_ENCODING":this.detailsPage=15;break;case"net::ERR_FILE_NOT_FOUND":this.detailsPage=16;break;case"net::ERR_ICANN_NAME_COLLISION":this.detailsPage=17;break;case"net::ERR_INTERNET_DISCONNECTED":this.detailsPage=18;break;case"net::ERR_NAME_NOT_RESOLVED":this.detailsPage=19;break;case"net::ERR_NAME_RESOLUTION_FAILED":this.detailsPage=20;break;case"net::ERR_NETWORK_ACCESS_DENIED":this.detailsPage=21;break;case"net::ERR_NETWORK_CHANGED":this.detailsPage=22;break;case"net::ERR_NETWORK_IO_SUSPENDED":this.detailsPage=23;break;case"net::ERR_PROXY_CONNECTION_FAILED":this.detailsPage=24;break;case"net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION":case"net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_LENGTH":case"net::ERR_RESPONSE_HEADERS_MULTIPLE_LOCATION":this.detailsPage=25;break;case"net::ERR_SSL_FALLBACK_BEYOND_MINIMUM_VERSION":case"net::ERR_SSL_PROTOCOL_ERROR":this.detailsPage=26;break;case"net::ERR_SSL_PINNED_KEY_NOT_IN_CERT_CHAIN":this.detailsPage=27;break;case"net::ERR_SSL_SERVER_CERT_BAD_FORMAT":this.detailsPage=28;break;case"net::ERR_SSL_VERSION_OR_CIPHER_MISMATCH":this.detailsPage=29;break;case"net::ERR_SSL_WEAK_SERVER_EPHEMERAL_DH_KEY":this.detailsPage=30;break;case"net::ERR_TEMPORARY_BACKOFF":this.detailsPage=31;break;case"net::ERR_TIMED_OUT":this.detailsPage=32;break;case"net::ERR_TOO_MANY_REDIRECTS":this.detailsPage=33;break;default:this.detailsPage=0;break;}}}window.customElements.define(ResponseErrorView.is,ResponseErrorView);</script></dom-module><dom-module id="response-raw-viewer" assetpath="bower_components/response-raw-viewer/"><template><style>:host{display:block;overflow:overlay;width:100%;@apply --response-raw-viewer;}.raw-content{@apply --arc-font-code1;-webkit-user-select:text;user-select:text;white-space:pre;width:100%;min-height:52px;display:block;overflow:auto;max-width:100%;@apply --response-raw-viewer-code;}:host([wrap-text]) .raw-content{white-space:pre-wrap;word-wrap:break-word;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}.actions-panel.hidden{display:none;}.no-info{@apply --no-info-message;}</style><div class$="[[_computeActionsPanelClass(hasResponse)]]"><slot name="content-action"></slot></div><code id="rawContent" class="raw-content" hidden$="[[!hasResponse]]"></code><p class="no-info" hidden$="[[hasResponse]]">Nothing to display.</p></template><script>/**
   * An element to display the raw response data without syntax highlighting.
   *
   * ### Example
   *
   * ```html
   * <response-raw-viewer response-text="Some response"></response-raw-viewer>
   * <script>
   * const display = document.querySelector('response-raw-viewer');
   * display.responseText = someResponse;
   * < /script>
   * ```
   *
   * ## Content actions
   *
   * Custom actions can be defined by adding a child with `slot="content-action"`
   * attribute set. Eny element will be rendered in content action field.
   *
   * ### Example
   *
   * ```html
   * <response-raw-viewer>
   *  <paper-icon-button slot="content-action"
   *    title="Copy content to clipboard" icon="arc:content-copy"></paper-icon-button>
   * </response-raw-viewer>
   * ```
   *
   * See demo for more examples.
   *
   * ## Content text wrapping
   *
   * Set `wrap-text` property on the element to force the wiewer to wrap text.
   *
   * ## Changes in version 2
   *
   * - The element does not support custom search and does not include text search library
   *
   * ### Styling
   *
   * `<response-raw-viewer>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-raw-viewer` | Mixin applied to the element | `{}`
   * `--arc-font-code1` | Mixin applied to the code block (theme mixin) | `{}`
   * `--response-raw-viewer-button-active` | Background color of the `wrap` button | `#BDBDBD`
   * `--response-raw-viewer-action-bar` | Mixin applied to the action bar above the highlighted code | `{}`
   * `--no-info-message` | Mixin applied to the "nothing to display" message (theme variable) | `{}`
   * `--response-raw-viewer-code` | Mixin applied to the code block | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.PayloadParserBehavior
   */class ResponseRawViewer extends ArcBehaviors.PayloadParserBehavior(Polymer.Element){static get is(){return"response-raw-viewer"}static get properties(){return{/**
         * The response text to display.
         */responseText:{type:String,observer:"_responseChanged"},// Computed value, true if the responseText has text.
hasResponse:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasResponse(responseText)"},// If set to true then the text in the panel will be wrapped.
wrapText:{type:Boolean,reflectToAttribute:!0/* skipSlots */}}}_responseChanged(response){if(!response){this.$.rawContent.innerHTML=""}else{const value=this._responseValue(response);this.$.rawContent.innerHTML=value?this.htmlEscape(value):""}}/**
     * ARC stores workspace data with response object in a file.
     * It may happen that the data is a buffer when saving. This restores
     * the string if needed.
     * @param {String|Object} response Usually string response but may be
     * ARC converted object.
     * @return {String} Safe to process string.
     */_responseValue(response){if(!response){return response}if("string"===typeof response){return response}switch(response.type){case"Buffer":let str="";for(let i=0,len=response.data.length;i<len;i++){str+=String.fromCharCode(response.data[i])}return str;}return""}// Computes if the response is available and content is displayed.
_computeHasResponse(responseText){return!!responseText}/**
     * Computes CSS class for the actions pane.
     *
     * @param {Boolean} hasResponse The `hasResponse` propety value of the
     * element.
     * @return {String} CSS class names for the panel depending on state of the
     * `hasResponse`property.
     */_computeActionsPanelClass(hasResponse){let klas="actions-panel";if(!hasResponse){klas+=" hidden"}return klas}}window.customElements.define(ResponseRawViewer.is,ResponseRawViewer);</script></dom-module><dom-module id="error-message" assetpath="bower_components/error-message/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --error-message;}.error-icon{width:128px;height:128px;color:var(--error-message-icon-color, rgba(0, 0, 0, 0.56));@apply --error-message-icon;}.error-desc ::slotted(*){@apply --arc-font-subhead;color:var(--error-message-color, var(--google-red-500));@apply --error-message-text;}</style><div><iron-icon class="error-icon" icon="[[icon]]"></iron-icon></div><div class="error-desc"><slot></slot></div></template><script>class ErrorMessage extends Polymer.Element{static get is(){return"error-message"}static get properties(){return{// An icon to render.
icon:{type:String,value:"arc:sentiment-very-dissatisfied"}}}}window.customElements.define(ErrorMessage.is,ErrorMessage);</script></dom-module><dom-module id="xml-viewer" assetpath="bower_components/xml-viewer/"><template><style>:host{display:block;color:black;cursor:text;-webkit-user-select:text;user-select:text;overflow:auto;word-wrap:break-word;@apply --xml-viewer;}[hidden]{display:none !important;}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;}.prettyPrint{font-family:monospace;font-size:15px;}.arrowEmpty{}.node{margin:1px 0px;}.opened{}.comment{color:var(--xml-viewer-comment-color, #236E25);}.punctuation{color:var(--xml-viewer-punctuation-color, black);}.tagname{color:var(--xml-viewer-tag-name-color, #881280);}.attname{color:var(--xml-viewer-attribute-name-color, #994500);}.attribute{color:var(--xml-viewer-attribute-value-color, #1A1AA6);}.cdata{color:var(--xml-viewer-cdata-color, #48A);}.cdata *[collapsible]{white-space:pre;}.arrowExpanded,
    .arrowEmpty{display:inline-block;width:24px;height:18px;}.processing{color:var(--xml-viewer-document-declaration-color, #999);}.inline,
    .inline>div{display:inline-block;text-indent:0px;}.node.opened>. arrowEmpty{text-indent:0;font-size:10px;letter-spacing:0.1em;width:21px;margin-left:3px;margin-right:3px;}.nodeMargin{margin-left:44px;}.collapseIndicator{display:none;margin:0px 1px;text-indent:0px;}*[colapse-marker]{-webkit-user-select:none;cursor:pointer;}*[less]{display:inline-block;}*[more]{display:none;}*[data-expanded="false"] .arrowEmpty{display:none;}*[data-expanded="false"] *[less]{display:none;}*[data-expanded="false"] *[more]{display:inline-block;}*[data-expanded="false"] *[collapsible]{display:none !important;}*[data-expanded="false"] *[collapse-indicator]{display:inline-block !important;}.value.number,
    .value.null,
    .value.boolean{color:var(--xml-viewer-constant-color, #283593);}.arc-search-mark.selected{background-color:#ff9632;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-highlighter-action-bar;}.actions-panel.hidden{display:none;}.spinner{position:relative;}paper-spinner{position:absolute;}.deprecation{color:#9E9E9E;}</style><p hidden$="[[hideDeprecationMessage]]" class="deprecation">This view is retired and will be replaced around June 2019. <a target="_blank" href="https://restforchrome.blogspot.com/2019/02/deprecation-of-xml-viewer-component.html">Learn more.</a></p><div class$="[[_computeActionsPanelClass(showOutput)]]"><slot name="content-action"></slot></div><div class="spinner"><paper-spinner active="[[working]]"></paper-spinner></div><error-message hidden$="[[!isError]]"><p>There was an error parsing XML.</p><p>[[errorMessage]]</p><p>Rendering unprocessed data.</p></error-message><output id="output" hidden$="[[!showOutput]]" on-click="_handleDisplayClick"></output></template><script>const SafeHtmlUtils={AMP_RE:new RegExp(/&/g),GT_RE:new RegExp(/>/g),LT_RE:new RegExp(/</g),SQUOT_RE:new RegExp(/'/g),QUOT_RE:new RegExp(/"/g),htmlEscape:function(s){if(-1!==s.indexOf("&")){s=s.replace(SafeHtmlUtils.AMP_RE,"&amp;")}if(-1!==s.indexOf("<")){s=s.replace(SafeHtmlUtils.LT_RE,"&lt;")}if(-1!==s.indexOf(">")){s=s.replace(SafeHtmlUtils.GT_RE,"&gt;")}if(-1!==s.indexOf("\"")){s=s.replace(SafeHtmlUtils.QUOT_RE,"&quot;")}if(-1!==s.indexOf("'")){s=s.replace(SafeHtmlUtils.SQUOT_RE,"&#39;")}return s}};/**
   * `<xml-viewer>` An XML payload viewer for the XML response
   *
   * ### Example
   * ```
   * <xml-viewer xml="&lt;tag&gt;&lt;/tag&gt;"></xml-viewer>
   * ```
   *
   * ## Content actions
   *
   * You can add action items in the actions bar by adding elements as a children
   * of this element with slot set to `content-action`.
   *
   * ### Example
   * ```
   * <xml-viewer>
   *  <paper-icon-button title="Additional action" icon="arc:cached" slot="content-action"></paper-icon-button>
   *  <paper-icon-button title="Clear the code" icon="arc:clear" slot="content-action"></paper-icon-button>
   * </xml-viewer>
   * ```
   *
   * ## Changes in version 2
   *
   * - The element doesn't mixin text search behavior. This service is deprecated.
   *
   * ### Styling
   *
   * `<xml-viewer>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--xml-viewer` | Mixin applied to the element | `{}`
   * `--xml-viewer-comment-color` | Color of the comment section. | `#236E25`
   * `--xml-viewer-punctuation-color` | Color of the punctuation signs | `black`
   * `--xml-viewer-tag-name-color` | Color of the XML tag name | `#881280`
   * `--xml-viewer-attribute-name-color` | Color of the XML attribute. | `#994500`
   * `--xml-viewer-attribute-value-color` | Color of the attribute's value. | `#1A1AA6`
   * `--xml-viewer-cdata-color` | CDATA section color. | `#48A`
   * `--xml-viewer-document-declaration-color` | XML document declaration (header) color. | `#999`
   * `--xml-viewer-constant-color` | Constant (boolean, null, number) color. | `#283593`
   *
   * @customElement
   * @polymer
   * @memberof UiElements
   * @demo demo/index.html
   */class XmlViewer extends Polymer.Element{static get is(){return"xml-viewer"}static get properties(){return{/**
         * XML data to parse and display
         */xml:{type:Object,observer:"_changed"},/**
         * True if error ocurred when parsing data
         */isError:{type:Boolean,readOnly:!0/* ignoreName */ /* skipSlots */,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,notify:!0},/**
         * True when XML is parsing
         */working:{type:Boolean,readOnly:!0,value:!1,notify:!0},/**
         * True when output should be shown.
         */showOutput:{type:Boolean,readOnly:!0,value:!1,computed:"_computeShowOutput(working, xml)"},/**
         * An error message to display.
         */errorMessage:{type:String,readOnly:!0},/**
         * When set deprecation message won't be rendered.
         */hideDeprecationMessage:Boolean,/**
         * Used in generating HTML output to prefix CSS classes for CSS scopes.
         */cssPrefix:{type:String,value:"xml-viewer style-scope "}}}/**
     * Handler for the xml attribute change.
     *
     * @param {String} xml Changed value.
     */_changed(xml){if(!xml){this.reset();return}this.render(xml)}/**
     * Resets the state of the component.
     */reset(){this._setWorking(!1);this._setIsError(!1);this._setErrorMessage(null);this.$.output.innerText=""}/**
     * Parses and renders XML data.
     *
     * @param {String} xml XML string to parse and render.
     */render(xml){this.reset();this._setWorking(!0);try{const data=this._processData(xml);this._setWorking(!1);this.$.output.innerHTML=data}catch(e){this._parsingError(e,xml)}}/**
     * Handles parsing errors
     *
     * @param {Error} e
     * @param {String} xml Original XML string
     */_parsingError(e,xml){this._setIsError(!0);this._setWorking(!1);const message=e.message||"Invalid XML value.",err=message.replace("Uncaught Error: ","");this._setErrorMessage(err);this.$.output.innerText=xml||""}/**
     * Computes value for `showOutput` property
     *
     * @param {Boolean} working
     * @param {String} xml
     * @return {Boolean} `true` if the output can be displayed.
     */_computeShowOutput(working,xml){return!working&&!!xml}/**
     * Handles clicks on the rendered items.
     * Provides support for expand / collapse functions.
     *
     * @param {Event} e
     */_handleDisplayClick(e){if(!e.target){return}let target=e.target;if(!target.getAttribute("colapse-marker")){target=target.parentNode;if(!target||!target.getAttribute("colapse-marker")){return}}target=target.parentNode;let expanded=target.dataset.expanded;if(!expanded||"true"===expanded){target.dataset.expanded="false"}else{target.dataset.expanded="true"}}// Computes CSS class for the content actions pane.
_computeActionsPanelClass(showOutput){let clazz="actions-panel";if(!showOutput){clazz+=" hidden"}return clazz}_processData(xml){const parser=new DOMParser,result=parser.parseFromString(xml,"application/xml"),err=result.querySelector("parsererror");if(err){const message=err.innerText;throw new Error(message)}return this._getHTML(result)}_getHTML(doc){const nodes=doc.childNodes,nodesCnt=nodes.length;if(0===nodesCnt){return"no xml"}let result="<div class=\""+this.cssPrefix+"prettyPrint\" data-expanded=\"true\">";for(let i=0;i<nodesCnt;i++){result+=this._parse(nodes.item(i))}result+="</div>";return result}_parse(node){const cssPrefix=this.cssPrefix;let parsed="",type=node.nodeType;switch(type){case 1:// ELEMENT_NODE, value null
parsed+=this._parseElement(node);break;case 3:// TEXT_NODE, content of node
let value=node.nodeValue;value=SafeHtmlUtils.htmlEscape(value);if(""===value){return""}parsed+=this._parseValue(value);break;case 4:// CDATA_SECTION_NODE, content of node
parsed+="<span colapse-marker=\"true\" class=\""+cssPrefix+"\"><iron-icon more icon=\"arc:expand-more\" class=\""+cssPrefix+"\"></iron-icon>"+"<iron-icon less icon=\"arc:expand-less\" class=\""+cssPrefix+"\"></iron-icon></span>";parsed+="<span class=\""+cssPrefix+"cdata\">&lt;![CDATA[</span>";parsed+="<div collapsible class=\""+cssPrefix+"\">";// parsed += this._urlify(SafeHtmlUtils.htmlEscape(node.nodeValue));
parsed+=SafeHtmlUtils.htmlEscape(node.nodeValue);parsed+="</div><span class=\""+cssPrefix+"cdata\">]]&gt;</span>";break;case 7:// document declaration
parsed+="<div class=\""+cssPrefix+"processing\">&lt;?xml "+node.nodeValue+" ?&gt;</div>";break;case 8:// COMMENT_NODE, comment text
parsed+="<div class=\""+cssPrefix+"comment\">&lt;--";parsed+=node.nodeValue;parsed+="--&gt</div>";break;}parsed="<div class=\""+cssPrefix+"node\">"+parsed+"</div>";return parsed}_parseValue(value){value=value.trim();let css="value";if(!isNaN(value)){css+=" number"}else if("true"===value||"false"===value){css+=" boolean"}else if("null"===value){css+=" null"}value="<span class=\""+this.cssPrefix+css+"\">"+value+"</span>";return value}_parseElement(node){const cssPrefix=this.cssPrefix,childrenCount=node.childNodes.length;let parsed="",showArrows=!1;if(1<childrenCount){parsed+="<span colapse-marker=\"true\" class=\""+cssPrefix+"\"><iron-icon more icon=\"arc:expand-more\" class=\""+cssPrefix+"\"></iron-icon>"+"<iron-icon less icon=\"arc:expand-less\" class=\""+cssPrefix+"\"></iron-icon></span>";showArrows=!0}parsed+="<span class=\""+cssPrefix+"punctuation\">&lt;</span>";parsed+="<span class=\""+cssPrefix+"tagname\">"+node.nodeName+"</span>";parsed+=this._parseAttributes(node);if(0<childrenCount){const children=node.childNodes;parsed+="<span class=\""+cssPrefix+"punctuation\">&gt;</span>";let showInline=!1;if(1===childrenCount&&3===children.item(0).nodeType){// simple: only one child - text - show response inline.
showInline=!0}if(showInline){parsed+="<div class=\""+cssPrefix+"inline\">"}else{parsed+="<div collapse-indicator colapse-marker=\"true\" class=\""+cssPrefix+"collapseIndicator\">...</div>";parsed+="<div collapsible class=\""+cssPrefix+"nodeMargin\">"}for(let i=0;i<childrenCount;i++){parsed+=this._parse(children.item(i))}parsed+="</div>";if(showArrows){parsed+="<span arrowEmpty class=\""+cssPrefix+"arrowEmpty\">&nbsp;</span>"}parsed+="<span class=\""+cssPrefix+"punctuation end\">&lt;/</span>";parsed+="<span class=\""+cssPrefix+"tagname end\">"+node.nodeName+"</span>";parsed+="<span class=\""+cssPrefix+"punctuation\">&gt;</span>"}else{parsed+="<span class=\""+cssPrefix+"punctuation\"> /&gt;</span>"}return parsed}_parseAttributes(node){let parsed="";const attr=node.attributes;if(null!==attr&&0<attr.length){for(let i=0;i<attr.length;i++){parsed+=" "+this._getAttributesString(attr.item(i))}}return parsed}_getAttributesString(attr){const cssPrefix=this.cssPrefix;let data="<span class=\""+cssPrefix+"attname\">",name=attr.name;name=SafeHtmlUtils.htmlEscape(name);data+=name;data+="</span>";data+="<span class=\""+cssPrefix+"punctuation\">=</span>";data+="<span class=\""+cssPrefix+"attribute\">&quot;";let value=attr.value;value=SafeHtmlUtils.htmlEscape(value);data+=value;data+="&quot;</span>";return data}}window.customElements.define(XmlViewer.is,XmlViewer);</script></dom-module><dom-module id="js-max-number-error" assetpath="bower_components/json-viewer/"><template><style>:host{display:inline-block;vertical-align:text-bottom;}.parsed-value ::slot > *{color:#D32F2F;font-weight:500;}.content{@apply --layout-horizontal;@apply --layout-center;color:#D32F2F;font-weight:500;cursor:pointer;}iron-icon{height:18px;width:18px;margin-right:8px;}#collapse{white-space:initial;@apply --paper-font-body2;color:rgba(0, 0, 0, 0.74);}p{margin:0;}.message{padding:12px;background-color:#FFECB3;margin:12px 24px;}.expected{font-weight:700;}</style><div class="content" on-tap="toggle"><iron-icon icon="arc:info"></iron-icon><div class="parsed-value"><slot></slot></div></div><iron-collapse><div class="message"><p>The number used in the response is unsafe in JavaScript environment and therefore as a JSON value.</p><p>Original value for the number (represented as string) is <span class="expected">"[[expectedNumber]]"</span></p><p>This number will not work in web environment and should be passed as a string, not a number.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank">Read more about numbers in JavaScript</a>.</p></div></iron-collapse></template><script>class JsMaxNumberError extends Polymer.Element{static get is(){return"js-max-number-error"}static get properties(){return{// A number that is expected to be true.
expectedNumber:{type:String,value:"[unknown]"}}}// Toggles the collapse element.
toggle(){this.shadowRoot.querySelector("iron-collapse").toggle()}}window.customElements.define(JsMaxNumberError.is,JsMaxNumberError);</script></dom-module><dom-module id="json-viewer" assetpath="bower_components/json-viewer/"><template><style>:host{display:block;font-family:monospace;font-size:10pt;color:black;cursor:text;-webkit-user-select:text;@apply --arc-font-code1;@apply --json-viewer;}.prettyPrint{padding:8px;}.stringValue{white-space:normal;}.brace{display:inline-block;}.numeric{color:var(--code-type-number-value-color, blue);}.nullValue{color:var(--code-type-null-value-color, #708);}.booleanValue{color:var(--code-type-boolean-value-color, #708);}.punctuation{color:var(--code-punctuation-value-color, black);}.stringValue{color:var(--code-type-text-value-color, #48A);}.node{position:relative;white-space:nowrap;margin-bottom:4px;word-wrap:break-word;@apply --json-viewer-node;}.array-counter{color:gray;font-size:11px;}.array-counter::before{content:"Array[" attr(count) "]";user-select:none;pointer-events:none;}*[data-expanded="false"] > .array-counter::before{content:"Array[" attr(count) "] ...";user-select:none;pointer-events:none;}.array-key-number::before{content:"" attr(index) ":";user-select:none;pointer-events:none;}.key-name{color:var(--code-type-text-value-color, #48A);}.rootElementToggleButton{position:absolute;top:0;left:-9px;font-size:14px;cursor:pointer;font-weight:bold;user-select:none;}.rootElementToggleButton::after{content:"-";}.array-key-number{color:var(--code-array-index-color, rgb(119, 119, 119));}.info-row{display:none;margin:0 8px;text-indent:0;}div[data-expanded="false"] div[collapse-indicator]{display:inline-block !important;}div[data-expanded="false"] div[data-element]{display:none !important;}.arc-search-mark.selected{background-color:#ff9632;}div[data-expanded="false"] .punctuation.dimmed{opacity:0;}.dimmed{opacity:var(--code-dimmed-punctuation-opacity, 0.34);}a[response-anchor]{color:var(--code-type-link-color, #1976d2);}paper-spinner:not([active]){display:none;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}.actions-panel.hidden{display:none;}[hidden]{display:none !important;}output{display:block;background-color:var(--code-background-color);}</style><paper-spinner active="[[working]]"></paper-spinner><template is="dom-if" if="[[isError]]"><div class="error"><p>There was an error parsing JSON data</p></div></template><div class$="[[_computeActionsPanelClass(showOutput)]]"><slot name="content-action"></slot></div><output hidden$="[[!showOutput]]" on-click="_handleDisplayClick"></output><script id="jsonWorker" type="text/js-worker">var SafeHtmlUtils = {
      AMP_RE: new RegExp(/&/g),
      GT_RE: new RegExp(/>/g),
      LT_RE: new RegExp(/</g),
      SQUOT_RE: new RegExp(/'/g),
      QUOT_RE: new RegExp(/"/g),

      htmlEscape: function(s) {
        if (s.indexOf('&') !== -1) {
          s = s.replace(SafeHtmlUtils.AMP_RE, '&amp;');
        }
        if (s.indexOf('<') !== -1) {
          s = s.replace(SafeHtmlUtils.LT_RE, '&lt;');
        }
        if (s.indexOf('>') !== -1) {
          s = s.replace(SafeHtmlUtils.GT_RE, '&gt;');
        }
        if (s.indexOf('"') !== -1) {
          s = s.replace(SafeHtmlUtils.QUOT_RE, '&quot;');
        }
        if (s.indexOf('\'') !== -1) {
          s = s.replace(SafeHtmlUtils.SQUOT_RE, '&#39;');
        }
        return s;
      }
    };

    function JSONViewer(data) {
      var jsonData = data.json;
      this.rawData = data.raw || '';
      this.cssPrefix = data.cssPrefix || '';
      this.debug = data.debug || false;
      this._numberIndexes = {}; // Regexp number indexes
      this.jsonValue = null;
      this.latestError = null;
      this.elementsCounter = 0;
      if (typeof jsonData === 'string') {
        try {
          this.jsonValue = JSON.parse(jsonData);
          if (!this.rawData) {
            this.rawData = jsonData;
          }
        } catch (e) {
          this.latestError = e.message;
        }
      } else {
        this.jsonValue = jsonData;
      }
    }
    /**
     * Uses the performance API to mark an event.
     */
    JSONViewer.prototype.mark = function(title) {
      // I hate you IE! <\3
      if (!this.debug) {
        return;
      }
      if (!(performance in self)) {
        return;
      }
      performance.mark(title);
    };
    /**
     * Creates a list of measurements performed during the HTML generation.
     */
    JSONViewer.prototype.getMeasurements = function() {
      if (!this.debug) {
        return;
      }
      if (!(performance in self)) {
        return;
      }
      performance.measure('get-html', 'get-html-start', 'get-html-end');
      var items = performance.getEntriesByType('mark');
      items.forEach(function(mark) {
        if (~mark.name.indexOf('parse-start-')) {
          var id = mark.name.substr(12);
          performance.measure('parse-' + id, 'parse-start-' + id, 'parse-start-' + id);
        }
      });
      var items = performance.getEntriesByType('measure');
      var result = items.map(function(measure) {
        return {
          duration: measure.duration,
          name: measure.name,
          startTime: measure.startTime
        }
      });
      return {
        items: result
      };
    };
    /**
     * Get created HTML content.
     */
    JSONViewer.prototype.getHTML = function() {
      this.mark('get-html-start');
      var parsedData = '<div class="' + this.cssPrefix + 'prettyPrint">';
      parsedData += this.parse(this.jsonValue);
      parsedData += '</div>';
      this.mark('get-html-end');
      return parsedData;
    };
    /**
     * Parse JSON data
     */
    JSONViewer.prototype.parse = function(data, opts) {
      opts = opts || {};
      this.__parseCallCounter = this.__parseCallCounter || 0;
      this.__parseCallCounter++;
      this.mark('parse-start-' + this.__parseCallCounter);
      var result = '';
      if (data === null) {
        result += this.parseNullValue();
      } else if (typeof data === 'number') {
        result += this.parseNumericValue(data);
      } else if (typeof data === 'boolean') {
        result += this.parseBooleanValue(data);
      } else if (typeof data === 'string') {
        result += this.parseStringValue(data);
      } else if (data instanceof Array) {
        result += this.parseArray(data);
      } else {
        result += this.parseObject(data);
      }
      if (opts.hasNextSibling && !opts.holdComa) {
        result += '<span class="' + this.cssPrefix + 'punctuation dimmed">,</span>';
      }
      this.mark('parse-end-' + this.__parseCallCounter);
      return result;
    };

    JSONViewer.prototype.parseNullValue = function() {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'nullValue">';
      result += 'null';
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseNumericValue = function(number) {
      var expectedNumber;
      if (number > 9007199254740991) { // IE doesn't support Number.MAX_SAFE_INTEGER
        var comp = String(number);
        comp = comp.substr(0, 16);
        var r = new RegExp(comp + '(\\d+),?', 'gim');
        if (comp in this._numberIndexes) {
          r.lastIndex = this._numberIndexes[comp];
        }
        var _result = r.exec(this.rawData);
        if (_result) {
          this._numberIndexes[comp] = _result.index;
          expectedNumber = comp + _result[1];
        }
      }

      var result = '';
      result += '<span class="' + this.cssPrefix + 'numeric">';
      if (expectedNumber) {
        result += '<js-max-number-error class="' + this.cssPrefix +
          'number-error" expected-number="' + expectedNumber + '">';
      }
      result += number + '';
      if (expectedNumber) {
        result += '</js-max-number-error>';
      }
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseBooleanValue = function(bool) {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'booleanValue">';
      if (bool !== null && bool !== undefined) {
        result += bool + '';
      } else {
        result += 'null';
      }
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseStringValue = function(str) {
      var result = '';
      var value = str || '';
      if (value !== null && value !== undefined) {
        value = SafeHtmlUtils.htmlEscape(value);
        if (value.slice(0, 1) === '/' || value.substr(0, 4) === 'http') {
          value = '<a class="' + this.cssPrefix + '" title="Click to insert into URL field" ' +
            'response-anchor add-root-url href="' + value + '">' + value + '</a>';
        }
      } else {
        value = 'null';
      }
      result += '&quot;';
      result += '<span class="' + this.cssPrefix + 'stringValue">';
      result += value;
      result += '</span>';
      result += '&quot;';
      return result;
    };

    JSONViewer.prototype.parseObject = function(object) {
      var result = '';
      result += '{';
      result += '<div collapse-indicator class="' + this.cssPrefix + 'info-row">...</div>';
      Object.getOwnPropertyNames(object)
      .forEach(function(key, i, arr) {
        var value = object[key];
        var lastSibling = (i + 1) === arr.length;
        var parseOpts = {
          hasNextSibling: !lastSibling
        };
        if (value instanceof Array) {
          parseOpts.holdComa = true;
        }
        var elementNo = this.elementsCounter++;
        var data = this.parse(value, parseOpts);
        var hasManyChildren = this.elementsCounter - elementNo > 1;
        result += '<div data-element="' + elementNo + '" style="margin-left: 24px" class="' +
          this.cssPrefix + 'node">';
        var _nan = isNaN(key);
        if (_nan) {
          result += '&quot;';
        }
        result += this.parseKey(key);
        if (_nan) {
          result += '&quot;';
        }
        result += ': ' + data;
        if (hasManyChildren) {
          result += '<div data-toggle="' + elementNo + '" class="' + this.cssPrefix +
            'rootElementToggleButton"></div>';
        }
        result += '</div>';
      }, this);
      result += '}';
      return result;
    };

    JSONViewer.prototype.parseArray = function(array) {
      var cnt = array.length;
      var result = '';
      result += '<span class="' + this.cssPrefix + 'punctuation dimmed">[</span>';
      result += '<span class="' + this.cssPrefix + 'array-counter brace punctuation" count="' +
        cnt + '"></span>';
      for (var i = 0; i < cnt; i++) {
        var elementNo = this.elementsCounter++;

        var lastSibling = (i + 1) === cnt;
        var data = this.parse(array[i], {
          hasNextSibling: !lastSibling
        });
        var hasManyChildren = this.elementsCounter - elementNo > 1;
        result += '<div data-element="' + elementNo +
          '" style="margin-left: 24px" class="' + this.cssPrefix + 'node">';
        result += '<span class="' + this.cssPrefix + 'array-key-number" index="' + i +
          '"> &nbsp;</span>';
        result += data;
        if (hasManyChildren) {
          result += '<div data-toggle="' + elementNo + '" class="' + this.cssPrefix +
            'rootElementToggleButton"></div>';
        }
        result += '</div>';
      }
      result += '<span class="' + this.cssPrefix + 'punctuation dimmed">],</span>';
      return result;
    };

    JSONViewer.prototype.parseKey = function(key) {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'key-name">' + key + '</span>';
      return result;
    };

    self.onmessage = function(e) {
      try {
        var parser = new JSONViewer(e.data);
        if (parser.latestError !== null) {
          self.postMessage({
            message: parser.latestError,
            error: true
          });
          return;
        }
        var html = parser.getHTML();
        var result = {
          message: html,
          error: false
        };
        if (e.data.debug) {
          result.measurement = parser.getMeasurements();
        }
        self.postMessage(result);
        parser = null;
      } catch (e) {
        self.postMessage({
          message: e.message,
          error: true
        });
      }
    };</script></template><script>/**
   * `<json-viewer>` A JSON payload viewer for the JSON response.
   *
   * This element uses a web worker to process the JSON data.
   * To simplify our lives and app build process the worker script is embeded in the
   * imported template body. It will extract worker data from it and create the
   * worker. Otherwise build process would need to incude a worker script file
   * into set path which is not very programmer friendly.
   *
   * ### Example
   *
   * ```html
   * <json-viewer json='{"json": "test"}'></json-viewer>
   * ```
   *
   * ## Custom search
   *
   * If the platform doesn't support native text search, this element implements
   * `ArcBehaviors.TextSearchBehavior` and exposes the `query` attribute.
   * Set any text to the `query` attribute and it will automatically highlight
   * occurance of the text.
   * See demo for example.
   *
   * ## Big numbers in JavaScript
   *
   * This element marks all numbers that are above `Number.MAX_SAFE_INTEGER` value
   * and locates the numeric value in source json if passed json was a string or
   * when `raw` attribute was set. In this case it will display a warning and
   * explanation about use of big numbers in JavaScript.
   * See js-max-number-error element documentation for more information.
   *
   * ## Content actions
   *
   * The element can render a actions pane above the code view. Action pane is to
   * display content actions that is relevan in context of the response displayed
   * below the icon buttons. It should be icon buttons or just buttons added to this
   * view.
   *
   * ```html
   * <json-viewer json='{"json": "test"}'>
   *  <paper-icon-button slot="content-action"
   *    title="Copy content to clipboard" icon="arc:content-copy"></paper-icon-button>
   * </json-viewer>
   * ```
   *
   * ### Styling
   *
   * `<json-viewer>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--json-viewer` | Mixin applied to the element | `{}`
   * `--code-type-null-value-color` | Color of the null value. | `#708`
   * `--code-type-boolean-value-color` | Color of the boolean value | `#708`
   * `--code-punctuation-value-color` | Punctuation color. | `black`
   * `--code-type-number-value-color` | Color of the numeric value | `blue`
   * `--code-type-text-value-color` | Color of the string value. | `#48A`
   * `--code-array-index-color` | Color of the array counter. | `rgb(119, 119, 119)`
   * `--code-type-link-color` | Color of link inserted into the viewer. | `#1976d2`
   * `--json-viewer-node` | Mixin applied to a "node" | `{}`
   * `--code-dimmed-punctuation-opacity` | Value of the opacity on the "dimmed" punctuation | `0.34`
   * `--code-background-color` | Background color of the code area | ``
   *
   * @group UiElements
   * @element json-viewer
   * @demo demo/index.html
   */class JsonViewer extends Polymer.Element{static get is(){return"json-viewer"}static get properties(){return{/**
         * JSON data to parse and display.
         * It can be either JS object (already parsed string) or string value.
         * If the passed object is a string then JSON.parse function will be
         * used to parse string.
         */json:{type:String,observer:"_changed"},/**
         * If it's possible, set this property to the JSON string.
         * It will help to handle big numbers that are not parsed correctly by
         * the JSON.parse function. The parser will try to locate the number
         * in the source string and display it in the correct form.
         *
         * P.S.
         * Calling JSON.stringify on a JS won't help here :) Must be source
         * string.
         */raw:String,/**
         * True if error ocurred when parsing the `json` data.
         * An error message will be displayed.
         */isError:{type:Boolean,readOnly:!0/* ignoreName */ /* skipSlots */,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,notify:!0},/**
         * True when JSON is beeing parsed.
         */working:{type:Boolean,readOnly:!0,value:!1,notify:!0},/**
         * True when output should be shown (JSON has been parsed without errors)
         */showOutput:{type:Boolean,readOnly:!0,value:!1,computed:"_computeShowOutput(working, isError, json)"},// A reference to the web worker object.
_worker:Object,// If true then it prints the execution time to the console.
debug:Boolean}}/**
     * @constructor
     */constructor(){super();this._workerError=this._workerError.bind(this);this._workerData=this._workerData.bind(this)}detached(){super.detached();this._removeWorker()}ready(){super.ready();this._isReady=!0;if(this.json){this._changed(this.json)}}_removeWorker(){if(this._worker){this._worker.removeEventListener("message",this._workerData);this._worker.removeEventListener("error",this._workerError);this._worker.terminate();this._worker=void 0;window.URL.revokeObjectURL(this._workerUrl);this._workerUrl=void 0}}_clearOutput(){const node=this.shadowRoot.querySelector("output");node.innerHTML=""}_writeOutput(text){const node=this.shadowRoot.querySelector("output");node.innerHTML=text}// Called when `json` property changed. It starts parsing the data.
_changed(json){if(!this._isReady){return}this._setIsError(!1);this._clearOutput();if(json===void 0){return}let html;if(null===json){html="<div class=\"prettyPrint\"><span class=\"nullValue\">null";html+="</span></div>";this._writeOutput(html);this._setShowOutput(!0);return}if(!1===json){html="<div class=\"prettyPrint\"><span class=\"booleanValue\">false";html+="</span></div>";this._writeOutput(html);this._setShowOutput(!0);return}this._setWorking(!0);let worker=this._worker;if(!worker){const script=this.shadowRoot.querySelector("script[type=\"text/js-worker\"]"),blob=new Blob([script.textContent],{type:"text/javascript"});this._workerUrl=window.URL.createObjectURL(blob);worker=new Worker(this._workerUrl);worker.addEventListener("message",this._workerData);worker.addEventListener("error",this._workerError);this._worker=worker}let debug=this.debug;const ua=navigator.userAgent;if(-1!==ua.indexOf("MSIE ")||-1!==ua.indexOf("Trident")){debug=!1;// performance API is not available in web workers in IE....
}worker.postMessage({json:json,raw:this.raw,cssPrefix:this.nodeName.toLowerCase()+" style-scope ",debug:debug})}// Called when worker data received.
_workerData(e){const data=e.data;if(data.error){this._setIsError(!0)}this._writeOutput(data.message);this._setWorking(!1);if(this.debug&&data.measurement){if(data.measurement.items&&data.measurement.items.length){console.groupCollapsed("JSON viewer parse measurements");console.table(data.measurement.items);console.groupEnd()}}this.dispatchEvent(new CustomEvent("json-viewer-parsed",{}))}// Called when workr error received.
_workerError(){this._setIsError(!0);this._setWorking(!1);this.dispatchEvent(new CustomEvent("json-viewer-parsed",{}))}// Compute if output should be shown.
_computeShowOutput(working,isError,json){if(working){return!1}if(isError){return!0}return!!json&&null!==json&&!1!==json}// Called when the user click on the display area. It will handle view toggle and links clicks.
_handleDisplayClick(e){if(!e.target){return}if("A"===e.target.nodeName){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.dispatchEvent(new CustomEvent("url-change-action",{detail:{url:e.target.getAttribute("href")},bubbles:!0,cancelable:!0,composed:!0}));return}const toggleId=e.target.dataset.toggle;if(!toggleId){return}const parent=Polymer.dom(this.root).querySelector("div[data-element=\""+toggleId+"\"]");if(!parent){return}const expanded=parent.dataset.expanded;if(!expanded||"true"===expanded){parent.dataset.expanded="false"}else{parent.dataset.expanded="true"}}/**
     * Computes CSS class for the actions pane.
     *
     * @param {Boolean} showOutput The `showOutput` propety value of the element.
     * @return {String} CSS class names for the panel depending on state of the
     * `showOutput`property.
     */_computeActionsPanelClass(showOutput){let clazz="actions-panel";if(!showOutput){clazz+=" hidden"}return clazz}/**
     * Event called when the user click on the anchor in display area.
     *
     * @event url-change-action
     * @param {String} url The URL handled by this event.
     */ /**
     * Fired when web worker finished work and the data are displayed.
     *
     * @event json-viewer-parsed
     */}window.customElements.define(JsonViewer.is,JsonViewer);</script></dom-module><dom-module id="prism-styles" assetpath="bower_components/prism-highlight/"><template><style>code[class*="language-"],
    pre[class*="language-"]{white-space:pre-wrap;word-spacing:normal;word-break:break-all;word-wrap:break-word;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;hyphens:auto;background-color:var(--prism-container-background-color);display:block;@apply --arc-font-code1;@apply --prism-container;}pre[class*="language-"]::-moz-selection,
    pre[class*="language-"]::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"]::-moz-selection{text-shadow:none;background:var(--prism-container-selection-background-color, #b3d4fc);}pre[class*="language-"]::selection,
    pre[class*="language-"]::selection,
    code[class*="language-"]::selection,
    code[class*="language-"]::selection{text-shadow:none;background:var(--prism-container-selection-background-color, #b3d4fc);}@media print{code[class*="language-"],
      pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
    pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:slategray;}.token.punctuation{color:var(--code-punctuation-value-color, #999);}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.constant,
    .token.symbol,
    .token.deleted{color:var(--code-property-value-color, #905);}.token.number{color:var(--code-type-number-value-color, #905);}.token.boolean{color:var(--code-type-boolean-value-color, #905);}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:var(--code-type-text-value-color, #690);}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:#a67f59;background:hsla(0, 0%, 100%, .5);}.token.atrule,
    .token.attr-value,
    .token.keyword{color:var(--code-keyword-value-color, #07a);}.token.function{color:var(--code-function-value-color, #DD4A68);}.token.regex,
    .token.important,
    .token.variable{color:var(--code-variable-value-color, #e90);}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="prism-highlight" assetpath="bower_components/prism-highlight/"><template><style include="prism-styles">:host{display:block;@apply --prism-highlight;}pre{-webkit-user-select:text;margin:8px;@apply --prism-highlight-code;}paper-progress{width:100%;}.worker-error{color:var(--error-color);}</style><pre class="parsed-content"><code id="output" class="language-" on-click="_handleLinks"></code></pre><template is="dom-if" if="[[hasMore]]"><div><paper-button raised="" on-tap="_loadNext" data-action="load-next">Show next [[maxRead]] lines</paper-button><paper-button raised="" on-tap="_loadAll" data-action="load-all">Display all</paper-button></div></template><paper-progress indeterminate="" hidden$="[[!working]]"></paper-progress></template><script>/**
   * Syntax highlighting via Prism
   *
   * ### Example
   *
   * ```html
   * <prism-highlight id="c1" lang="markdown"></prism-highlight>
   * <script>
   *  document.querySelector('#c1').code = '# Test highlight';
   * &lt;/script>
   * ```
   *
   * The `lang` attribute is required and the component will not start parsing data without it.
   *
   * Changing the `lang` and `code` properties together, do it in less than 10 ms.
   * The element is set to commit changes after this persiod. Otherwise it may display
   * old and new code due to the asynchronius nature of the code highligter.
   *
   * **Note** This element uses web workers with dependencies. It expect to find
   * workers files in current directory in the `workers` folder.
   * Your build process has to ensure that this files will be avaiable.
   *
   * Also this element expects the prism scripts to be available in the same
   * root folder as this element is (like bower_components).
   *
   * ### Required scripts
   *
   * - ../prism/prism.js
   * - ../prism/plugins/autolinker/prism-autolinker.min.js
   * - ../prism/components/*
   *
   * ### Styling
   *
   * `<prism-highlight>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--prism-highlight` | Mixin applied to the element | `{}`
   * `--prism-highlight-code` | Mixin applied to the `<pre>` element | `{}`
   * `--error-color` | Color of the error message when script error ocurred in the worker | ``
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class PrismHighlight extends Polymer.Element{static get is(){return"prism-highlight"}static get properties(){return{/**
         * A data to be highlighted and dispayed.
         */code:String,/**
         * Prism supported language.
         */lang:String,/**
         * A list of tokenized code.
         * It's a result of calling `Prism.tokenize` function.
         */tokenized:{type:Array,readOnly:!0/* ignoreName */ /* skipSlots */},/**
         * True if not all data has been displayed in the display.
         */hasMore:{type:Boolean,readOnly:!0,computed:"_computeHasMore(tokenized)"},/**
         * A number of Prism tokens to process at once.
         * Note, that elements like paragraphs, list items etc consists of
         * two tokens: description and content while regular text can be
         * consoisted of single token.
         *
         * After the limit is reached the display shows "load next
         * [maxRead] items" and "load all" buttons.
         */maxRead:{type:Number,value:500},// True when parsing code or tokens to HTML code.
working:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,readOnly:!0},// A web worker instance that parses the syntax
worker:{type:Object,readOnly:!0},/**
         * Number of miliseconds after which the tokenize task fail sending
         * `prism-highlight-timeout` event.
         * Set to "falsy" value to remove timeout.
         */tokenizeTimeout:{type:Number,value:5e3}}}static get observers(){return["_highlight(code, lang)"]}/**
     * @constructor
     */constructor(){super();this._onWorkerData=this._onWorkerData.bind(this);this._onWorkerError=this._onWorkerError.bind(this);this._onTokenizeTimeout=this._onTokenizeTimeout.bind(this)}detached(){super.detached();this._unregisterWorker()}// Resets the state of the display to initial state.
reset(){this._setTokenized(void 0);this._setWorking(!1);this.$.output.innerHTML=""}/**
     * Hightligt the code.
     * @param {String} data The code to be highlighted
     * @param {String} mime Mime type to be used to recognize the language.
     */_highlight(code,lang){if(!code||!lang){return}this.reset();if(this._highlightDebounce){return}this._highlightDebounce=!0;setTimeout(()=>{this._highlightDebounce=!1;const message={language:this.lang,code:this.code,payload:"tokenize"};this._runWorker(message)},10)}/**
     * Sends message to the hightligt worker if its already created.
     * If not, this will create worker and then post message.
     * @param {Object} message An object to pass to the worker.
     */_runWorker(message){this._setWorking(!0);if(!this.worker){this._registerWorker()}this.worker.postMessage(message);const timeout=this.tokenizeTimeout;if(timeout){this._tokenizeTimeout=window.setTimeout(this._onTokenizeTimeout,timeout)}}/**
     * Clears the tokenize timeout if set.
     */_clearTokenizeTimeout(){if(!this._tokenizeTimeout){return}window.clearTimeout(this._tokenizeTimeout);this._tokenizeTimeout=void 0}/**
     * Creates an instance of a web worker.
     * It does nothing if the worker is already created.
     */_registerWorker(){if(this.worker){return}const worker=new Worker(this.resolveUrl("workers/prism-worker.js"));worker.addEventListener("message",this._onWorkerData);worker.addEventListener("error",this._onWorkerError);this._setWorker(worker)}/**
     * Terminates the worker (if exists) and removes event listeners
     */_unregisterWorker(){if(!this.worker){return}this._clearTokenizeTimeout();this.worker.removeEventListener("message",this._onWorkerData);this.worker.removeEventListener("error",this._onWorkerError);this.worker.terminate();this._setWorker(void 0)}/**
     * Handler for the worker `message` event
     *
     * @param {Event} e
     */_onWorkerData(e){this._setWorking(!1);this._clearTokenizeTimeout();switch(e.data.payload){case"error":this._renderWorkerError();this._notifyError(e.data);console.warn(e.data);break;case"tokenize":this._onTokenized(e.data.tokens);break;case"stringify":this._display(e.data.html);this.dispatchEvent(new CustomEvent("prism-highlight-parsed",{bubbles:!1}));break;}}/**
     * Renders fallback view when there was a script error in the worker.
     */_renderWorkerError(){const p=document.createElement("p");p.className="worker-error";p.innerText="Script error. Displaying unprocessed data.";this.$.output.innerHTML="";this.$.output.appendChild(p);const div=document.createElement("div");div.className="raw-content";div.innerText=this.code;this.$.output.appendChild(div);this._setTokenized(void 0)}/**
     * Dispatches `error` event
     *
     * @param {Error} e
     */_notifyError(e){this.dispatchEvent(new CustomEvent("error",{bubbles:!1,detail:{message:e.message}}))}/**
     * Handler for worker error.
     *
     * @param {Error} e
     */_onWorkerError(e){this._setWorking(!1);this._clearTokenizeTimeout();this._renderWorkerError();this._notifyError(e);this.dispatchEvent(new CustomEvent("app-log",{bubbles:!0,composed:!0,detail:{message:e,level:"error"}}))}/**
     * Handler for worker function after code tokenization.
     *
     * @param {Array} tokens An array of tokens returnet by Prism.
     */_onTokenized(tokens){this._setTokenized(tokens);this._loadNext()}/**
     * Display next tokens from `this.tokenized` list - up to `this.maxRead`
     * elements. If after running this function the `this.tokenized`
     * array is empty it will be set to undefined.
     */_loadNext(){if(!this.tokenized||0===this.tokenized.length){return}const tokens=this.splice("tokenized",0,this.maxRead),message={tokens:tokens,payload:"stringify"};this._runWorker(message);if(0===this.tokenized.length){this._setTokenized(void 0)}}_loadAll(){const tokens=this.tokenized;this._setTokenized(void 0);const message={tokens:tokens,payload:"stringify"};this._runWorker(message)}/**
     * Display a HTML code generated by Prism.
     * @param {String} html HTML code to be displayed.
     */_display(html){this.$.output.innerHTML+=html}// Computes if the element has more data to display.
_computeHasMore(tokenized){if(!tokenized||0===tokenized.length){return!1}return!0}/**
     * Handler for click events.
     * It dispatches `url-change-action` custom event when a link is clicked.
     *
     * @param {ClickEvent} e
     */_handleLinks(e){var el=e.target;if("A"!==el.nodeName){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.dispatchEvent(new CustomEvent("url-change-action",{cancelable:!0,bubbles:!0,composed:!0,detail:{url:el.href}}))}/**
     * Called when the tokenize task exceeds timeout set in the `tokenizeTimeout`
     * property
     */_onTokenizeTimeout(){this._setWorking(!1);this._unregisterWorker();const message="Highlighter is unable to highlight the syntax.";this.dispatchEvent(new CustomEvent("prism-highlight-timeout",{cancelable:!0,bubbles:!1,detail:{message:message}}))}/**
     * An event fired when the user clicked on any link in the response
     * panels or the headers
     *
     * @event url-change-action
     * @param {String} url An url value
     */ /**
     * Fired when the tokenize task timeout.
     *
     * - This event is cancelable.
     * - This does not bubbles.
     *
     * @event prism-highlight-timeout
     * @param {String} message A message to display to the user.
     */ /**
     * Fired when highlighting is applied to the code view.
     *
     * @event prism-highlight-parsed
     */}window.customElements.define(PrismHighlight.is,PrismHighlight);</script></dom-module><dom-module id="response-highlighter" assetpath="bower_components/response-highlighter/"><template><style>:host{display:block;@apply --response-highlighter;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-highlighter-action-bar;}.actions-panel.hidden{display:none;}.no-info{@apply --no-info-message;}[hidden]{display:none !important;}</style><div class$="[[_computeActionsPanelClass(hasResponse)]]"><slot name="content-action"></slot></div><prism-highlight max-read="[[maxRead]]" hidden$="[[!hasResponse]]" code="[[responseText]]" lang$="[[lang]]" on-prism-highlight-timeout="_prismTimeout"></prism-highlight><p class="no-info" hidden$="[[hasResponse]]">Nothing to display.</p></template><script>/**
   * An element that parses the HTTP response and displays highlighted result.
   *
   * It splits the response by line (by default it's 500) and if the response has
   * more than that it shows only first 500 lines and the user can request to
   * display the rest or next 500 lines. This is to make the element work faster.
   * If the response is very long it may take some time to parse and tokenize it.
   * Control number of lines by setting the maxRead attribute.
   *
   * ### Example
   *
   * ```html
   * <response-highlighter></response-highlighter>
   * ```
   * ```javascript
   * const display = document.querySelector('response-highlighter');
   * display.responseText = someJsonResponse;
   * display.contentType = 'application/json';
   * ```
   *
   * ## Content actions
   *
   * Child elements added to light DOM with slot name `content-action` are rendered
   * in actions container. It is a way to render additional actions related to
   * the response text.
   *
   * ### Example
   *
   * ```html
   * <response-highlighter>
   *  <paper-icon-button title="Additional action" icon="arc:cached"></paper-icon-button>
   *  <paper-icon-button title="Clear the code" icon="arc:clear"></paper-icon-button>
   * </response-highlighter>
   * ```
   *
   * See demo for more information.
   *
   * ## Changes in version 2
   *
   * - Custom search has been removed from the element.
   *
   * ### Styling
   *
   * `<response-highlighter>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-highlighter` | Mixin applied to the element | `{}`
   * `--response-highlighter-action-bar` | Mixin applied to the action bar above the highlighted code | `{}`
   * `--no-info-message` | Mixin applied to the "nothing to display" message (theme variable) | `{}`
   *
   * See prism-highlight element for more styling options.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof UiElements
   */class ResponseHighlighter extends Polymer.Element{static get is(){return"response-highlighter"}static get properties(){return{/**
         * The response text to display.
         */responseText:String,// Computed value, true if the responseText has text.
hasResponse:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasResponse(responseText)"},/**
         * Response content type.
         * It will be used to determine which syntaxt highlighter to use.
         */contentType:String,// Attribute binded to the prism-highlight element.
maxRead:Number,/**
         * The lang property for the Prism.
         */lang:{type:String,computed:"_computeLang(contentType)"},/**
         * Set to `true` when `prism-highlight` dispatches `prism-highlight-timeout`
         * event. It informs application that there was a timeout.
         * It is cleared when `lang` or `hasResponse` changes
         */isTimeout:{type:Boolean,readOnly:!0/* skipSlots */,notify:!0}}}static get observers(){return["_clearTimeout(lang, hasResponse)"]}// Computes if the element has the response data.
_computeHasResponse(responseText){return!!responseText}// Computes CSS class for the content actions pane.
_computeActionsPanelClass(hasResponse){let clazz="actions-panel";if(!hasResponse){clazz+=" hidden"}return clazz}/**
     * Computes a `lang` property for the Prism from the response content-type
     */_computeLang(contentType){if(!contentType||!contentType.indexOf){return void 0}if(-1!==contentType.indexOf(";")){return contentType.split(";")[0]}return contentType}/**
     * Handler for `prism-highlight-timeout` custom event.
     * Sets `isTimeout` property to `true`.
     */_prismTimeout(){this._setIsTimeout(!0)}/**
     * Clears `isTimeout` flag if set to true.
     */_clearTimeout(){if(this.isTimeout){this._setIsTimeout(!1)}}}window.customElements.define(ResponseHighlighter.is,ResponseHighlighter);</script></dom-module><dom-module id="response-body-view" assetpath="bower_components/response-body-view/"><template strip-whitespace=""><style>:host{display:block;position:relative;@apply --response-body-view;}#webView{width:100%;height:100%;background-color:#fff;border:0;margin-top:12px;}#saveDialog{min-width:320px;}paper-icon-button{transition:color 0.25s ease-in-out;}paper-icon-button[toggles]{color:var(--content-action-button-color, rgba(0, 0, 0, 0.74));}paper-icon-button:hover{color:var(--content-action-button-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}paper-icon-button[active]{background-color:var(--response-raw-viewer-button-active, #BDBDBD);border-radius:50%;}.close-preview{position:absolute;top:8px;right:12px;background:#fff;color:rgba(0,0,0,0.74);@apply --response-body-view-preview-close;}[hidden]{display:none !important;}.content-actions{@apply --layout-horizontal;@apply --layout-center;@apply --response-body-view-content-actions;}.dialog-title{@apply --arc-font-common-base;@apply --response-body-view-dialog-title;}.buttons{@apply --response-body-view-dialog-buttons;}.button-dismiss{@apply --response-body-view-dialog-close;}.button-dismiss:hover{@apply --response-body-view-dialog-close-hover;}.button-download{@apply --response-body-view-dialog-download;}.button-download:hover{@apply --response-body-view-dialog-download-hover;}.download-link{text-decoration:none;color:inherit;outline:none;}</style><template is="dom-if" if="[[hasData]]"><div class="content-actions" hidden$="[[contentPreview]]"><paper-icon-button data-action="clipboard-copy" icon="arc:content-copy" on-click="_copyToClipboard" title="Copy content to clipboard"></paper-icon-button><paper-icon-button data-action="save-file" icon="arc:archive" on-click="_saveFile" title="Save content to file"></paper-icon-button><paper-icon-button data-action="raw-toggle" icon="arc:code" toggles="" active="{{rawView}}" title="Toogle raw response view"></paper-icon-button><template is="dom-if" if="[[_computeRenderPreviewResponse(activeView)]]"><paper-icon-button data-action="preview" icon="arc:visibility" toggles="" active="{{contentPreview}}" title="Preview response"></paper-icon-button></template><template is="dom-if" if="[[isJson]]"><paper-icon-button data-action="json-table" icon="arc:view-column" toggles="" active="{{jsonTableView}}" title="Toggle structured table view"></paper-icon-button></template><template is="dom-if" if="[[_computeRenderWithRaw(activeView)]]"><paper-icon-button icon="arc:wrap-text" toggles="" active="{{rawTextWrap}}" title="Toggle text wrapping"></paper-icon-button></template></div></template><iron-pages selected="{{activeView}}" hidden$="[[contentPreview]]"><response-raw-viewer response-text="[[_getRawContent(_raw)]]" wrap-text$="[[rawTextWrap]]"></response-raw-viewer><section><template is="dom-if" if="[[isParsed]]" restamp="true"><response-highlighter response-text="[[_getRawContent(_raw)]]" content-type="[[contentType]]" is-timeout="{{prismTimeout}}"></response-highlighter></template></section><section><template is="dom-if" if="[[isJson]]" restamp="true"><json-viewer json="[[_getRawContent(_raw)]]"></json-viewer></template></section><section><template is="dom-if" if="[[isXml]]" restamp="true"><xml-viewer xml="[[_getRawContent(_raw)]]"></xml-viewer></template></section><section><template is="dom-if" if="[[_computeRenderJsonTable(isJson, jsonTableView)]]" restamp="true"><json-table json="[[_getRawContent(_raw)]]"></json-table></template></section></iron-pages><iframe id="webView" hidden$="[[!contentPreview]]"></iframe><paper-icon-button class="close-preview" title="Close response preview" icon="arc:close" on-click="closePreview" hidden$="[[!contentPreview]]"></paper-icon-button><paper-dialog id="saveDialog" on-iron-overlay-closed="_downloadDialogClose"><h2 class="dialog-title">Saving to file</h2><div><p>Your file is now ready to download.</p></div><div class="buttons"><paper-button class="button-dismiss" dialog-dismiss="">Close</paper-button><a href$="[[downloadFileUrl]]" autofocus="" download$="[[downloadFileName]]" on-click="_downloadIconTap" target="_blank" class="download-link"><paper-button class="button-download">Download file</paper-button></a></div></paper-dialog><clipboard-copy content="[[_getRawContent(_raw)]]"></clipboard-copy><paper-toast id="safariDownload" text="Safari doesn't support file download. Please, use other browser."></paper-toast><paper-toast id="highlightTimeout"></paper-toast><script id="preview" type="text/html"><!DOCTYPE html><html><head><title>Advanced REST client - preview</title><style>
        body,html{overflow:auto;margin:0;padding:0}body{margin:16px;min-height:200px}
        </style></head><body></body></html></script></template><script>/**
   * An element to display a HTTP response body.
   *
   * The element will try to select best view for given `contentType`. It will
   * choose the JSON viewer for JSON response and XML viewer for XML responses.
   * Otherise it will display a syntax hagligter.
   *
   * Note that the `contentType` property **must** be set in order to display any
   * view.
   *
   * ### Save content to file
   *
   * The element uses the web way of file saving. However, it sends the
   * `export-data` custom event first to check if hosting application implements
   * other save functionality. See event description for more information.
   *
   * ## Changes in version 2
   *
   * - Text search library is no longer included
   *
   * ### Styling
   *
   * `<response-body-view>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-body-view` | Mixin applied to the element | `{}`
   * `--response-body-view-dialog-title` | Mixin applied to dialog title | `{}`
   * `--response-body-view-preview-close` | Mixin applied to the response preview close button | `{}`
   * `--response-body-view-content-actions` | Mixin applied to the content actions container | `{}`
   * `--response-body-view-dialog-buttons` | Mixin applied to the dialog buttons container | `{}`
   * `--response-body-view-dialog-close` | Mixin applied to dialog's close button | `{}`
   * `--response-body-view-dialog-close-hover` | Mixin for dialog's close button when hovering | `{}`
   * `--response-body-view-dialog-download` | Mixin applies to dialog's download button | `{}`
   * `--response-body-view-dialog-download-hover` | Mixin for dialog's download when hovering | `{}`
   *
   * @polymer
   * @customElement
   * @memberof UiElements
   */class ResponseBodyView extends Polymer.Element{static get is(){return"response-body-view"}static get properties(){return{/**
         * Raw response as a response text.
         */responseText:{type:String,observer:"_responseTextChanged"},// A variable to be set after the `responseText` change
_raw:String,/**
         * The response content type.
         */contentType:String,/**
         * Current value of charset encoding, if available.
         * It should be set to correctly decode buffer to string
         */charset:String,/**
         * If true then the conent preview will be visible instead of the code view
         */contentPreview:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,observer:"_contentPreviewChanged"},/**
         * Computed value, true if the parsed view can be displayed.
         * If false then the syntax highligter will be removed from the DOM
         * so it will not try to do the parsing job if it is not necessary.
         */isParsed:{type:Boolean,value:!1,readOnly:!0/* skipSlots */},/**
         * Computed value, true if the JSON view can be displayed.
         * If false then the syntax highligter will be removed from the DOM
         * so it will not try to do the parsing job if it is not necessary.
         */isJson:{type:Boolean,value:!1,readOnly:!0},/**
         * Computed value, true if the XML view can be displayed.
         * If false then the syntax highligter will be removed from the DOM
         */isXml:{type:Boolean,value:!1,readOnly:!0},/**
         * Selected view.
         */activeView:Number,/**
         * When saving a file this will be the download URL created by the
         * `URL.createObjectURL` function.
         */downloadFileUrl:{type:String,readOnly:!0},/**
         * Autogenerated file name for the download file.
         */downloadFileName:{type:String,readOnly:!0},// Is true then the text in "raw" preview will be wrapped.
rawTextWrap:Boolean,// If set it opens the "raw" view.
rawView:{type:Boolean,observer:"_toggleViewSource"},// If set it opens the JSON table view.
jsonTableView:{type:Boolean,observer:"_jsonTableViewChanged"},// Computed value, true if `contentType` and `_raw` are set
hasData:{value:!1,type:Boolean,computed:"_computeHasData(contentType, _raw)"},prismTimeout:{type:Boolean,observer:"_onPrismHighlightTimeout"},/**
         * True if current environment has localStorage suppport.
         * Chrome apps do not have localStorage property.
         */hasLocalStorage:{type:Boolean,readOnly:!0,value:function(){/* global chrome */if("undefined"!==typeof chrome&&chrome.i18n){// Chrome apps have `chrome.i18n` property, regular website doesn't.
// This is to avoid annoying warning message in Chrome apps.
return!1}try{localStorage.getItem("test");return!0}catch(_){return!1}}}}}static get observers(){return["_contentTypeChanged(contentType, _raw)"]}/**
     * @constructor
     */constructor(){super();this._onStorageChanged=this._onStorageChanged.bind(this);this._onJsonTableStateChanged=this._onJsonTableStateChanged.bind(this)}connectedCallback(){super.connectedCallback();window.addEventListener("storage",this._onStorageChanged);window.addEventListener("json-table-state-changed",this._onJsonTableStateChanged)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("storage",this._onStorageChanged);window.removeEventListener("json-table-state-changed",this._onJsonTableStateChanged);if(this.__previewUrl){window.URL.revokeObjectURL(this.__previewUrl);this.__previewUrl=void 0}}/**
     * Handler for `prismTimeout` property change.
     * Displays "raw" view instead of syntax highlighting.
     *
     * @param {Boolean} state
     */_onPrismHighlightTimeout(state){if(!state){return}this.__parsedView=this.activeView;this.activeView=0;let message="Response pasing timeout. The response body might be";message+=" to long.";this.$.highlightTimeout.text=message;this.$.highlightTimeout.opened=!0}/**
     * Set's `_raw` property that it propagated to current viewer.
     * The operation is async for performance reasons.
     *
     * @param {String} payload
     */_responseTextChanged(payload){this._setIsXml(!1);this._setIsJson(!1);this._setIsParsed(!1);if(payload===void 0){this.set("_raw",void 0);return}if(null===payload||!1===payload){this.set("_raw",payload);return}this.set("_raw",void 0);if(!payload){return}if(this.__setRawDebouncer){return}this.__setRawDebouncer=!0;setTimeout(()=>{this.__setRawDebouncer=!1;this.set("_raw",this.responseText)},1)}// Computes value for `hasData` property
_computeHasData(contentType,_raw){return!!(contentType&&_raw)}/**
     * Updates `activeView` property based on `contentType` value.
     *
     * @param {?String} contentType Current content type of the response
     */_contentTypeChanged(contentType){let parsed=!1,json=!1,xml=!1;this.contentPreview=!1;if(contentType){if(-1!==contentType.indexOf("xml")){this.activeView=3;xml=!0}else if(-1!==contentType.indexOf("json")){this.activeView=2;json=!0}else{this.activeView=1;parsed=!0}}this._setIsXml(xml);this._setIsJson(json);this._setIsParsed(parsed);if(json){this._ensureJsonTable()}}/**
     * When response's content type is JSON the view renders the
     * JSON table element. This function reads current state for the table
     * (if it is turned on) and handles view change if needed.
     */_ensureJsonTable(){if(!this.hasLocalStorage){return}const isTable=this._localStorageValueToBoolean(localStorage.jsonTableEnabled);if(this.jsonTableView!==isTable){this.jsonTableView=isTable}if(this.jsonTableView){this.activeView=4}else if(4===this.activeView){this.activeView=2}}// Handler for `this.contentPreview` change.
_contentPreviewChanged(val){if(val){this._openResponsePreview()}else{this._closeResponsePreview()}}/**
     * The component may work in Electron app where Buffer can be returned from
     * the transport library. This ensures that string is always returned.
     * @return {String} String value of `_raw` property
     */_getRawContent(){let raw=this._raw;if(!raw||"string"===typeof raw){return raw}if(raw&&"Buffer"===raw.type){raw=new Uint16Array(raw.data)}const ce=this.charset||"utf-8",decoder=new TextDecoder(ce);return decoder.decode(raw)}// Opens response preview in new layer
_openResponsePreview(){const context=this,raw=this._getRawContent();function onLoad(){try{context.$.webView.contentWindow.document.body.innerHTML=raw}catch(_){}setTimeout(()=>{context._resizePreviewWindow(context.$.webView.contentWindow.document.body.clientHeight)},2)}if(!this.$.webView.src){const blob=new Blob([this.$.preview.textContent],{type:"text/html"});this.__previewUrl=window.URL.createObjectURL(blob);this.$.webView.src=this.__previewUrl;this.$.webView.addEventListener("load",()=>onLoad())}else{onLoad()}}// Closes response preview
_closeResponsePreview(){try{this.$.webView.contentWindow.document.body.innerHTML=""}catch(_){}}/**
     * Sets height for the preview iframe
     *
     * @param {?Number} height
     */_resizePreviewWindow(height){if(!height){this.$.webView.style.height="auto"}else{this.$.webView.style.height=height+"px"}}/**
     * Coppies current response text value to clipboard.
     *
     * @param {CustomEvent} e
     */_copyToClipboard(e){const button=e.composedPath()[0],copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>this._resetCopyButtonState(button),1e3)}_resetCopyButtonState(button){button.icon="arc:content-copy"}/**
     * Fires the `export-data` custom event. If the event is not canceled
     * then it will use default web implementation for file saving.
     */_saveFile(){const e=new CustomEvent("export-data",{bubbles:!0,composed:!0,cancelable:!0,detail:{destination:"file",data:this._getRawContent(),type:this.contentType,file:"response-data-export"}});this.dispatchEvent(e);if(e.defaultPrevented){return}this.saveToFile()}/**
     * Creates a file object form current response text and opens a dialog
     * with the link to a file.
     */saveToFile(){let ext=".";if(this.isJson){ext+="json"}else if(this.isXml){ext+="xml"}else{ext+="txt"}const ct=this.contentType||"text/plain",raw=this._getRawContent(),file=new Blob([raw],{type:ct}),fileName="response-"+new Date().toISOString()+ext;this._setDownloadFileUrl(URL.createObjectURL(file));this._setDownloadFileName(fileName);this.$.saveDialog.opened=!0}// Handler for download link click to prevent default and close the dialog.
_downloadIconTap(){setTimeout(()=>{this.$.saveDialog.opened=!1},250)}// Handler for file download dialog close.
_downloadDialogClose(){URL.revokeObjectURL(this.downloadFileUrl);this._setDownloadFileUrl(void 0);this._setDownloadFileName(void 0)}/**
     * Toggles "view source" or raw message view.
     *
     * @param {Boolean} opened
     */_toggleViewSource(opened){if(!opened){if(!this.__parsedView){return}this.activeView=this.__parsedView;this.__parsedView=void 0;if(2===this.activeView&&this.jsonTableView){this.jsonTableView=!1}}else{if(this.jsonTableView){this._skipJsonTableEvent=!0;this.jsonTableView=!1;this._skipJsonTableEvent=!1}this.__parsedView=this.activeView;this.activeView=0}}// Handler for the `jsonTableView` property change.
_jsonTableViewChanged(state){if(state){if(this.rawView){this.__parsedView=void 0;this.rawView=!1}this.activeView=4}else{this.activeView=2}if(this._skipJsonTableEvent){return}if(this.hasLocalStorage){if(localStorage.jsonTableEnabled!==state+""){window.localStorage.setItem("jsonTableEnabled",state)}}this.dispatchEvent(new CustomEvent("json-table-state-changed",{detail:{enabled:state},bubbles:!0,composed:!0}))}/**
     * Updates the value of the `jsonTableView` property when the
     * corresponding localStorage property change.
     *
     * @param {StorageEvent} e
     */_onStorageChanged(e){if("jsonTableEnabled"!==e.key){return}if(!e.newValue){return}const v=this._localStorageValueToBoolean(e.newValue);if(this.jsonTableView!==v){this._skipJsonTableEvent=!0;this.jsonTableView=v;this._skipJsonTableEvent=!1}}/**
     * Reads the local value (always a string) as a boolean value.
     *
     * @param {String} value The value read from the local storage.
     * @return {Boolean} Boolean value read from the value.
     */_localStorageValueToBoolean(value){if(!value){return!1}if("true"===value){value=!0}else{value=!1}return value}_onJsonTableStateChanged(e){if(e.target===this){return}const enabled=e.detail.enabled;if(enabled!==this.jsonTableView){this._skipJsonTableEvent=!0;this.jsonTableView=enabled;this._skipJsonTableEvent=!1}}closePreview(){this.contentPreview=!1}_computeRenderWithRaw(activeView){return 0===activeView?!0:!1}_computeRenderShowRaw(activeView){return 0===activeView?!1:!0}_computeRenderPreviewResponse(activeView){return 1===activeView?!0:!1}_computeRenderToggleTable(activeView){return 4===activeView||2===activeView?!0:!1}/**
     * Computes boolean value whether to render the JSON table element.
     *
     * @param {Boolean} isJson
     * @param {Boolean} jsonTableView
     * @return {Boolean}
     */_computeRenderJsonTable(isJson,jsonTableView){return!!(isJson&&jsonTableView)}/**
     * Fired when the element request to export data outside the application.
     *
     * Application can handle this event if it support native UX of file saving.
     * In this case this event must be canceled by calling `preventDefault()`
     * on it. If the event is not canceled then save to file dialog appears
     * with a regular download link.
     *
     * @event export-data
     * @param {String} data A text to save in the file.
     * @param {String} type Data content type
     * @param {String} file Suggested file name
     */ /**
     * Fired when the `jsonTableView` property change to inform other
     * elements to switch corresponding view as well.
     *
     * @event json-table-state-changed
     * @param {Boolean} enabled If true then the view is enabled.
     */}window.customElements.define(ResponseBodyView.is,ResponseBodyView);</script></dom-module><dom-module id="response-view" assetpath="bower_components/response-view/"><template><style>:host{display:block;@apply --response-view;}.empty-info{@apply --no-info-message;}</style><response-status-view status-code="[[statusCode]]" status-message="[[statusMessage]]" request-headers="[[requestHeaders]]" response-headers="[[responseHeaders]]" loading-time="[[loadingTime]]" http-message="[[sentHttpMessage]]" redirects="[[redirects]]" redirect-timings="[[redirectTimings]]" timings="[[responseTimings]]" is-xhr="[[isXhr]]" request-url="[[requestUrl]]" request-method="[[requestMethod]]"></response-status-view><template is="dom-if" if="[[hasResponse]]"><template is="dom-if" if="[[_renderError]]"><response-error-view message="[[responseError.message]]"></response-error-view></template><template is="dom-if" if="[[hasResponseBody]]"><response-body-view response-text="[[responseBody]]" content-type="[[contentType]]" charset="[[charset]]"></response-body-view></template></template><template is="dom-if" if="[[!hasResponse]]"><p class="empty-info">This response does not carry a payload.</p></template></template><script>/**
   * An element to display HTTP response view.
   *
   * It accepts request data object to render additional information in the
   * status bar (method & URL).
   *
   * ## Data model
   *
   * ## Request data model
   *
   * The request is ARC (Advanced REST client) request data model. It expects
   * the following properties:
   * - url (`String`) - Request URL
   * - method (`String`) - Request HTTP method.
   * - headers (`String|undefined`) - HTTP headers string
   * - payload (`String|FormData|File|ArrayBuffer|undefined`) Request body
   *
   * ## Response data model
   *
   * The response is ARC response data model:
   * - status (`Number`) - Response status code
   * - statusText (`String`) - Response status text. Can be empty string.
   * - payload (`String|Document|ArrayBuffer|Blob|undefined`) - Response body
   * - headers (`String|undefined`) - Response headers
   *
   * Response object is created by `advanced-rest-client/xhr-simple-request`.
   * However, any transport library can generate similar object.
   *
   * ## Advanced transport properties
   *
   * When using own transport libraries or server side transport you may have
   * access to more information about the request and response like redirects
   * and timings. The response status view can render additional UI for this
   * data.
   * To enable this feature, set `isXhr` to false and any of the following
   * properties:
   *
   * - sentHttpMessage `String` - Raw HTTP message sent to server
   * - redirects `Array<Object>` - A list of redirect information. Each object has
   * the following properties:
   *  - status (`Number`) - Response status code
   *  - statusText (`String`) - Response status text. Can be empty string.
   *  - headers (`String|undefined`) - Response headers
   *  - payload (`String|Document|ArrayBuffer|Blob|undefined`) - Response body
   * - redirectTimings `Array<Object>` - List of HAR 1.2 timing objects for
   * each redirected request. The order must corresponds with order in `redirects`
   * array.
   * - timings `Object` - HAR 1.2 timings object
   *
   * Read [response-status-view]
   * (https://elements.advancedrestclient.com/elements/response-status-view)
   * element documentation for more details.
   *
   * ## Error reporting
   *
   * If there's a request error set `isError` property and the `responseError`
   * that is an `Error` object.
   *
   * ## Changes in version 2.0
   * - API components does not uses `Reques` and `Response` objects anymore.
   * Instead use data model described above.
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--response-view` | Mixin applied to the element | `{}`
   * `--no-info-message` | Mixin applied to the information about lack of the response | `{}`
   *
   * Use: `response-status-view`, `response-body-view` and `response-error-view`
   * styles to style this element.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   */class ResponseView extends Polymer.Element{static get is(){return"response-view"}static get properties(){return{/**
         * ARC response object.
         *
         * Properties -
         * - status (`Number`) - Response status code
         * - statusText (`String`) - Response status text. Can be empty string.
         * - headers (`String|undefined`) - Response headers
         * - payload (`String|Document|ArrayBuffer|Blob|undefined`) - Response body
         *
         * @type {{
         *  status: String,
         *  statusText: String,
         *  headers: (String|undefined),
         *  payload: (String|Document|ArrayBuffer|Blob|undefined)}}
         */response:{type:Object,observer:"_responseChanged"},/**
         * ARC request object
         *
         * Properties -
         * - url (`String`) - Request URL
         * - method (`String`) - Request HTTP method.
         * - headers (`String|undefined`) - HTTP headers string
         * - payload (`String|FormData|File|ArrayBuffer|undefined`) Request body
         *
         * @type {{
         *  url: String.
         *  method: String,
         *  headers: (String|undefined),
         *  payload: (String|FormData|File|ArrayBuffer|undefined)
         * }}
         */request:{type:Object,observer:"_requestChanged"},/**
         * An Error object associated with the request if the response was errored.
         * It should have a `message` property set to the human readable
         * explenation of the error.
         * If not set the default message will be displaed.
         *
         * `isError` must be set with thit object.
         *
         * @type {Error}
         */responseError:Object,/**
         * Response body.
         *
         * Ths value is computed from `response` property.
         *
         * @type {String|FormData|File|ArrayBuffer|undefined}
         */responseBody:String,/**
         * Returned status code.
         * Ths value is computed from `response` property.
         */statusCode:Number,/**
         * Returned status message (if any).
         * Ths value is computed from `response` property.
         */statusMessage:String,/**
         * Request headers sent to the server.
         * Ths value is computed from `request` property.
         */requestHeaders:String,/**
         * Returned from the server headers.
         * Ths value is computed from `response` property.
         */responseHeaders:String,/**
         * The response content type header if present
         * Ths value is computed from `response` property.
         */contentType:String,/**
         * If available, the request / response timings as defined in HAR 1.2
         * spec.
         */responseTimings:Object,/**
         * The total time of the request / response load.
         */loadingTime:Number,/**
         * If this information available, the source HTTP message sent to
         * the remote machine.
         */sentHttpMessage:String,/**
         * List of ordered redirects.
         * Each object has the following properties:
         * - status (`Number`) - Response status code
         * - statusText (`String`) - Response status text. Can be empty string.
         * - headers (`String|undefined`) - Response headers
         * - payload (`String|Document|ArrayBuffer|Blob|undefined`) - Response body
         */redirects:Array,/**
         * If timings stats are available for redirects, the list of the
         * `timings` objects as defined in HAR 1.2 specification.
         * The list should be ordered list.
         */redirectTimings:Array,/**
         * Computed value, false if the response is set and it is a HEAD type
         * request (which can't have the response).
         */hasResponse:{type:Boolean,value:!0/* ignoreName */ /* skipSlots */,computed:"_computeHasResponse(request)"},/**
         * Computed value, true when the response body has a value.
         */hasResponseBody:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasResponseBody(responseBody)"},// Set to `true` if the response has error object set.
isError:{type:Boolean,value:!1},/**
         * If true it means that the request has been made by the basic
         * transport and advanced details of the request/response like
         * redirects, timings, source message are not available.
         * It this case it will hide unused tabs.
         */isXhr:{type:Boolean,value:!1},// A request URL that has been used to make a request
requestUrl:String,// A HTTP method used to make a request
requestMethod:String,_renderError:{type:Boolean,computed:"_computeRenderError(isError, hasResponseBody)"},/**
         * Response's character encoding.
         * This value is set when the response is changed. Can be undefined in which case
         * default `utf-8` is used.
         * It is read from `content-type` header value, e.g.: `Content-Type: text/html; charset=iso-8859-1`
         */charset:{type:String,readOnly:!0}}}/**
     * Resets the initial variables for the Response change handler.
     */_reset(){this.statusCode=void 0;this.statusMessage=void 0;this.responseHeaders=void 0;this.responseBody=void 0;this.contentType=void 0}/**
     * Propagate response properties when response object changes.
     *
     * @param {Object} response The response object
     */_responseChanged(response){this._reset();if(!response){return}this.statusCode=response.status;this.statusMessage=response.statusText;this.responseHeaders=response.headers;let[contentType,charset]=this._readContentType(response.headers);if(!contentType){contentType="text/plain"}this._setCharset(charset);this.responseBody=response.payload;this.contentType=contentType}/**
     * Reads content-type header from the response headers.
     *
     * @param {?String} headers Headers received from the server
     * @return {Array<String>} When present an array where first item is
     * the content type and second is charset value. Otherwise empty array.
     */_readContentType(headers){if(!headers||"string"!==typeof headers){return[]}const ctMatches=headers.match(/^\s*content\-type\s*:\s*(.*)$/im);if(!ctMatches){return[]}let mime=ctMatches[1];const charset=this._computeCharset(mime);let index=mime.indexOf(";");if(-1!==index){mime=mime.substr(0,index)}return[mime,charset]}/**
     * Propagate request data when the `request` object changes.
     *
     * @param {Object} request The ARC request object
     */_requestChanged(request){this.requestHeaders=void 0;if(!request){return}this.requestUrl=request.url;this.requestMethod=request.method;this.requestHeaders=request.headers}/**
     * Computes if the response panel should be displayed.
     * If the request method is `HEAD` then it never can have response.
     *
     * @param {Object} request ARC request object.
     * @return {Boolean}
     */_computeHasResponse(request){if(request&&"HEAD"===request.method){return!1}return!0}/**
     * Computes value for `hasResponseBody` property.
     *
     * @param {any} body Current response body value.
     * @return {Boolean} True if anything is set.
     */_computeHasResponseBody(body){return!!body}_computeRenderError(isError,hasResponseBody){return!!(isError&&!hasResponseBody)}/**
     * Computes charset value from the `content-type` header.
     * @param {String} contentType Content type header string
     * @return {String|undefined}
     */_computeCharset(contentType){if(!contentType||!contentType.split){return}if(-1===contentType.indexOf("charset")){return}const parts=contentType.split(";");for(let i=0,len=parts.length,part;i<len;i++){part=parts[i].trim();const _tmp=part.split("=");if("charset"===_tmp[0]){return _tmp[1].trim()}}}}window.customElements.define(ResponseView.is,ResponseView);</script></dom-module><dom-module id="api-request-panel" assetpath="bower_components/api-request-panel/"><template><style>:host{display:block;@apply --api-request-panel;}response-view{margin-top:var(--api-request-panel-response-margin-top, 12px);}</style><api-request-editor narrow="{{narrow}}" redirect-uri="[[redirectUri]]" selected="[[selected]]" amf-model="[[amfModel]]" no-url-editor="[[noUrlEditor]]" base-uri="[[baseUri]]" url="{{editorRequest.url}}" http-method="{{editorRequest.method}}" headers="{{editorRequest.headers}}" payload="{{editorRequest.payload}}" query-model="{{editorRequest.queryModel}}" path-model="{{editorRequest.pathModel}}" no-docs="[[noDocs]]" events-target="[[eventsTarget]]" allow-hide-optional="[[allowHideOptional]]" allow-disable-params="[[allowDisableParams]]" allow-custom="[[allowCustom]]"></api-request-editor><template is="dom-if" if="[[hasResponse]]"><response-view request="[[request]]" response="[[response]]" response-error="[[responseError]]" is-error="[[isErrorResponse]]" is-xhr="[[responseIsXhr]]" loading-time="{{loadingTime}}" redirects="[[redirects]]" redirect-timings="[[redirectsTiming]]" response-timings="[[timing]]" sent-http-message="[[sourceMessage]]"></response-view></template><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template></template><script>/**
     * Request editor and response view panels in a single element.
     *
     * This element is to replace `api-console-request` element from `mulesoft/api-console`
     * project repository.
     *
     * This is also a base case for any application that renders request and
     * response views.
     *
     * The element uses AMF model to render view based on API mnodel and current user
     * selection.
     *
     * It uses both `api-request-editor` and `response-view` elements and
     * listens to `api-request` and `api-response` events.
     * It also adds additional configuration options that exists in API console
     * (proxy, additional headers).
     *
     * ## `api-request` and `api-response` events
     *
     * See full documentation here:
     * https://github.com/advanced-rest-client/api-components-api/blob/master/docs/api-request-and-response.md
     *
     * ## Dependencies and changelog from included elements
     *
     * - XHR element is not included in the element. Use
     * `advanced-rest-client/xhr-simple-request` in your application or handle
     * `api-request` custom event to make a request.
     * - The element does not include any polyfills
     * - `redirectUrl` is now `redirectUri`
     * - `api-console-request` event is now `api-request` event
     * - `api-console-response` event is now `api-response` event
     * - Added more details to `api-request` custom event (comparing to
     * `api-console-request`)
     * - The user is able to enable/disable query parameters and headers. Set
     * `allow-disable-params` attribute to enable this behavior.
     * - The user is able to add custom query parameters or headers.
     * Set `allow-custom` attribute to enable this behavior.
     * - From authorization panel changes:
     *  - `auth-settings-changed` custom event is stopped from bubbling.
     *  Listen for `authorization-settings-changed` event instead.
     * - From auth-method-oauth2 changes:
     *  - Added `deliveryMethod` and `deliveryName` properties to the
     *  `detail.setting` object.
     * - Crypto library is no longer included into the element. Use
     *  `advanced-rest-client/cryptojs-lib` component to include the library
     *  if your project doesn't use crypto libraries already.
     *
     * ## Narrow view
     *
     * Generally the API components are flexible and mobile friendly. However,
     * it is possible to set `narrow` property to render form elements in
     * a mobile fieldly view. In most cases it means that forms controls are
     * rendered in different layout.
     *
     * ## api-navigation integration
     *
     * The element works with `api-navigation` element. Set `handle-navigation-events`
     * attribute when using `api-navigation` so the component will automatically
     * update selection when internal API navigation occurres.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     * @demo demo/navigation.html Automated navigation
     * @appliesMixin ArcBehaviors.HeadersParserBehavior
     * @appliesMixin Polymer.IronScrollTargetBehavior
     * @appliesMixin ArcBehaviors.EventsTargetBehavior
     * @memberof ApiElements
     */class ApiRequestPanel extends Polymer.mixinBehaviors([Polymer.IronScrollTargetBehavior],ArcBehaviors.EventsTargetBehavior(ArcBehaviors.HeadersParserBehavior(Polymer.Element))){static get is(){return"api-request-panel"}static get properties(){return{/**
           * `raml-aware` scope property to use.
           */aware:String,/**
           * AMF HTTP method (operation in AMF vocabulary) ID.
           */selected:{type:String,observer:"_selectedChanged"},/**
           * By default application hosting the element must set `selected`
           * property. When using `api-navigation` element
           * by setting this property the element listens for navigation events
           * and updates the state
           */handleNavigationEvents:{type:Boolean,observer:"_handleNavChanged"},/**
           * A model's `@id` of selected documentation part.
           * Special case is for `summary` view. It's not part of an API
           * but most applications has some kind of summary view for the
           * API.
           */amfModel:Object,/**
           * Hides the URL editor from the view.
           * The editor is still in the DOM and the `urlInvalid` property still will be set.
           */noUrlEditor:Boolean,/**
           * A base URI for the API. To be set if RAML spec is missing `baseUri`
           * declaration and this produces invalid URL input. This information
           * is passed to the URL editor that prefixes the URL with `baseUri` value
           * if passed URL is a relative URL.
           */baseUri:String,/**
           * OAuth2 redirect URI.
           * This value **must** be set in order for OAuth 1/2 to work properly.
           */redirectUri:String,/**
           * If set it will renders the view in the narrow layout.
           */narrow:{type:Boolean,notify:!0/* ignoreName */ /* skipSlots */,reflectToAttribute:!0},/**
           * A request object that is generated from request edtor properties.
           * It contains the following properties:
           * - url
           * - method
           * - headers
           * - payload
           * - queryModel
           * - pathModel
           */editorRequest:{type:Object,notify:!0,value:function(){return{}}},/**
           * Created by the transport ARFC `request` object
           */request:Object,/**
           * Created by the transport ARC `response` object.
           */response:Object,/**
           * Computed value, true, when the response object is set.
           */hasResponse:{type:Boolean,computed:"_computeHasResponse(response, responseError)"},/**
           * A flag indincating request error.
           */isErrorResponse:Boolean,/**
           * True if the response is made by the Fetch / XHR api.
           */responseIsXhr:{type:Boolean,value:!0},/**
           * An error object associated with the response when error.
           */responseError:Object,/**
           * Response full loading time. This information is received from the
           * transport library.
           */loadingTime:Number,/**
           * If the transport method is able to collect detailed information about request timings
           * then this value will be set. It's the `timings` property from the HAR 1.2 spec.
           */timing:Object,/**
           * If the transport method is able to collect detailed information about redirects timings
           * then this value will be set. It's a list of `timings` property from the HAR 1.2 spec.
           */redirectsTiming:Array,/**
           * It will be set if the transport method can generate information about redirections.
           */redirects:Array,/**
           * Http message sent to the server.
           *
           * This information should be available only in case of advanced HTTP transport.
           */sourceMessage:String,// Main scroll target for the app.
scrollTarget:HTMLElement,/**
           * Forces the console to send headers defined in this string overriding any used defined
           * header.
           * This should be an array of headers with `name` and `value` keys, e.g.:
           * ```
           * [{
           *   name: "x-token",
           *   value: "value"
           * }]
           * ```
           */appendHeaders:Array,/**
           * If set every request made from the console will be proxied by the service provided in this
           * value.
           * It will prefix entered URL with the proxy value. so the call to
           * `http://domain.com/path/?query=some+value` will become
           * `https://proxy.com/path/http://domain.com/path/?query=some+value`
           *
           * If the proxy require a to pass the URL as a query parameter define value as follows:
           * `https://proxy.com/path/?url=`. In this case be sure to set `proxy-encode-url`
           * attribute.
           */proxy:String,/**
           * If `proxy` is set, it will URL encode the request URL before appending it to the proxy URL.
           * `http://domain.com/path/?query=some+value` will become
           * `https://proxy.com/?url=http%3A%2F%2Fdomain.com%2Fpath%2F%3Fquery%3Dsome%2Bvalue`
           */proxyEncodeUrl:Boolean,/**
           * Location of the `bower_components` folder.
           * It should be a path from server's root path including bower_components.
           */bowerLocation:{type:String,observer:"_updateRedirectUri"},/**
           * ID of latest request.
           * It is received from the `api-request-editor` when `api-request`
           * event is dispatched. When `api-response` event is handled
           * the id is compared and if match it dispays the result.
           *
           * This system allows to use different request panels on single app
           * and don't mix the results.
           *
           * @type {String|Number}
           */lastRequestId:String,/**
           * Prohibits rendering of the documentation (the icon and the
           * description).
           */noDocs:Boolean,/**
           * If set it computes `hasOptional` property and shows checkbox in the
           * form to show / hide optional properties.
           */allowHideOptional:Boolean,/**
           * If set, enable / disable param checkbox is rendered next to each
           * form item.
           */allowDisableParams:Boolean,/**
           * When set, renders "add custom" item button.
           * If the element is to be used withouth AMF model this should always
           * be enabled. Otherwise users won't be able to add a parameter.
           */allowCustom:Boolean}}static get observers(){return["_editorRequestChanged(editorRequest.*)"]}/**
       * @constructor
       */constructor(){super();this._apiResponseHandler=this._apiResponseHandler.bind(this);this._apiRequestHandler=this._apiRequestHandler.bind(this);this._navigationHandler=this._navigationHandler.bind(this)}ready(){super.ready();if(!this.redirectUri){this._updateRedirectUri(this.bowerLocation)}}_attachListeners(){window.addEventListener("api-response",this._apiResponseHandler);this.addEventListener("api-request",this._apiRequestHandler)}_detachListeners(){window.removeEventListener("api-response",this._apiResponseHandler);this.removeEventListener("api-request",this._apiRequestHandler);if(this.__navEventsRegistered){this._unregisterNavigationEvents()}}/**
       * Registers `api-navigation-selection-changed` event listener handler
       * on window object.
       */_registerNavigationEvents(){this.__navEventsRegistered=!0;window.addEventListener("api-navigation-selection-changed",this._navigationHandler)}/**
       * Removes event listener from window object for
       * `api-navigation-selection-changed` event.
       */_unregisterNavigationEvents(){this.__navEventsRegistered=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;window.removeEventListener("api-navigation-selection-changed",this._navigationHandler)}/**
       * Registers / unregisters event listeners depending on `state`
       *
       * @param {Boolean} state
       */_handleNavChanged(state){if(state){this._registerNavigationEvents()}else{this._unregisterNavigationEvents()}}/**
       * Handler for `api-navigation-selection-changed` event.
       *
       * @param {CustomEvent} e
       */_navigationHandler(e){let id=e.detail.selected;if("method"!==e.detail.type){id=void 0}this.selected=id}/**
       * Sets OAuth 2 redirect URL for the authorization panel
       *
       * @param {?String} location Bower components location
       */_updateRedirectUri(location){const a=document.createElement("a");if(!location){location="bower_components/"}if(location&&"/"!==location[location.length-1]){location+="/"}a.href=location+"oauth-authorization/oauth-popup.html";this.redirectUri=a.href}/**
       * Computes if there is a reponse object.
       *
       * @param {Object} response ARC response objects
       * @param {Boolean} responseError
       * @return {Boolean}
       */_computeHasResponse(response,responseError){return!!response||!!responseError}/**
       * A handler for the API call.
       * This handler will only check if there is authorization required
       * and if the user is authorizaed.
       *
       * @param {CustomEvent} e `api-request` event
       */_apiRequestHandler(e){this.lastRequestId=e.detail.id;this._appendConsoleHeaders(e);this._appendProxy(e)}/**
       * Appends headers defined in the `appendHeaders` array.
       * @param {CustomEvent} e The `api-request` event.
       */_appendConsoleHeaders(e){const headersToAdd=this.appendHeaders;if(!headersToAdd){return}let eventHeaders=e.detail.headers||"";for(let i=0,len=headersToAdd.length;i<len;i++){const header=headersToAdd[i];eventHeaders=this.replaceHeaderValue(eventHeaders,header.name,header.value)}e.detail.headers=eventHeaders}/**
       * Sets the proxy URL if the `proxy` property is set.
       * @param {CustomEvent} e The `api-request` event.
       */_appendProxy(e){const proxy=this.proxy;if(!proxy){return}let url=this.proxyEncodeUrl?encodeURIComponent(e.detail.url):e.detail.url;url=proxy+url;e.detail.url=url}/**
       * Handler for the `api-response` custom event. Sets values on the response
       * panel when response is ready.
       *
       * @param {CustomEvent} e
       */_apiResponseHandler(e){if(this.lastRequestId!==e.detail.id){return}this._propagateResponse(e.detail);setTimeout(()=>{const panel=this.shadowRoot.querySelector("response-view"),position=panel.offsetTop;this.scroll(0,position)},1)}/**
       * Propagate `api-response` detail object.
       *
       * @param {Object} data Event's detail object
       */_propagateResponse(data){this.isErrorResponse=data.isError;this.responseError=data.isError?data.error:void 0;this.loadingTime=data.loadingTime;this.request=data.request;this.response=data.response;const isXhr=!1===data.isXhr?!1:!0;this.responseIsXhr=isXhr;this.redirects=isXhr?void 0:data.redirects;this.redirectsTiming=isXhr?void 0:data.redirectsTiming;this.timing=isXhr?void 0:data.timing;this.sourceMessage=data.sentHttpMessage}/**
       * Clears response panel when selected id changed.
       * @param {String} id
       */_selectedChanged(id){if(!id){return}this.clearResponse()}/**
       * Clears response panel.
       */clearResponse(){this.isErrorResponse=void 0;this.responseError=void 0;if(this.loadingTime){this.loadingTime=void 0}if(this.request){this.request=void 0}if(this.response){this.response=void 0}if(this.responseIsXhr!==void 0){this.responseIsXhr=void 0}if(this.redirects){this.redirects=void 0}if(this.redirectsTiming){this.redirectsTiming=void 0}if(this.timing){this.timing=void 0}if(this.sourceMessage){this.sourceMessage=void 0}}/**
       * Dispatches `api-request-data-changed` custom event when any of the
       * request data changes.
       * @param {Object} record
       */_editorRequestChanged(record){this.dispatchEvent(new CustomEvent("api-request-data-changed",{bubbles:!0,composed:!0,detail:record.base}))}/**
       * Dispatched when `editorRequest` change.
       * Contains all basic request data:
       * @event api-request-data-changed
       * @param {String} url
       * @param {String} method
       * @param {String} headers
       * @param {String} payload
       * @param {Array<Object>} queryModel
       * @param {Array<Object>} pathModel
       */}window.customElements.define(ApiRequestPanel.is,ApiRequestPanel);</script></dom-module><dom-module id="api-endpoint-documentation" assetpath="bower_components/api-endpoint-documentation/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-endpoint-documentation;}h1{@apply --arc-font-display1;}h2{@apply --arc-font-title;font-size:22px;}:host([narrow]) h1{font-size:20px;margin:0;}:host([narrow]) h2{font-size:18px;}marked-element{margin:12px 0;}.markdown-body{margin-bottom:28px;color:var(--api-endpoint-documentation-description-color, rgba(0, 0, 0, 0.74));@apply --arc-font-body1;}.extensions{font-style:italic;margin:12px 0;}.bottom-nav,
    .bottom-link{@apply --layout-horizontal;@apply --layout-center;}.bottom-nav{padding:32px 0;margin:16px 0;color:var(--api-endpoint-documentation-bottom-navigation-color, #000);font-size:18px;}.bottom-link{cursor:pointer;max-width:50%;word-break:break-all;}.bottom-link.previous{margin-right:12px;}.bottom-link.next{margin-left:12px;}.nav-separator{@apply --layout-flex;}.url-area{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-endpoint-documentation-url-font-size, 16px);margin-bottom:40px;background:var(--api-endpoint-documentation-url-background-color, #424242);color:var(--api-endpoint-documentation-url-font-color, #fff);padding:8px;border-radius:4px;}.url-area[extra-margin]{margin-top:20px;}.url-value{@apply --layout-flex;word-break:break-all;}.method-label{margin-bottom:0px;}.method-anchor{text-decoration:none;color:inherit;@apply --arc-font-body1;font-size:16px;@apply --arc-link;}.method-anchor:hover{text-decoration:underline;}.method{margin:0.83em 0;}.method p{margin:0;}.method-name + p{margin-top:0.83em;}.method-container{@apply --layout-horizontal;padding:24px 0;box-sizing:border-box;border-top:2px var(--api-endpoint-documentation-method-doc-border-top-color, #E5E5E5) var(--api-endpoint-documentation-method-doc-border-top-style, dashed);}:host([narrow]) .method-container{@apply --layout-vertical;}.method-container api-method-documentation{width:var(--api-endpoint-documentation-method-doc-width, 60%);max-width:var(--api-endpoint-documentation-method-doc-max-width);padding-right:12px;box-sizing:border-box;}.method-container .try-it-column{width:var(--api-endpoint-documentation-tryit-width, 40%);max-width:var(--api-endpoint-documentation-tryit-max-width);background-color:var(--api-endpoint-documentation-tryit-background-color, #ECEFF1);}:host([narrow]) .method-container api-method-documentation,
    :host([narrow]) .method-container .try-it-column{border:none !important;max-width:900px;width:100%;margin:0;padding:0;}.try-it-column api-request-panel,
    .try-it-column http-code-snippets{margin:12px;padding:8px;background-color:var(--api-endpoint-documentation-tryit-panels-background-color, #fff);box-sizing:border-box;border-radius:var(--api-endpoint-documentation-tryit-panels-border-radius, 3px);border:1px var(--api-endpoint-documentation-tryit-panels-border-color, #EEEEEE) var(--api-endpoint-documentation-tryit-panels-border-style, solid);}.try-it-column h3{padding-left:12px;padding-right:12px;@apply --layout-flex;@apply --arc-font-title;@apply --api-endpoint-documentation-tryit-section-title;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;border-bottom:1px var(--api-endpoint-documentation-tryit-title-border-bottom-color, #bac6cb) var(--api-endpoint-documentation-tryit-title-border-bottom-style, solid);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.toggle-button{outline:none;color:var(--api-method-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-method-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.noinfo{@apply --no-info-message;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[hasName]]"><h1 class="title">[[endpointName]]</h1></template><template is="dom-if" if="[[!inlineMethods]]"><section class="url-area" extra-margin$="[[!hasName]]"><div class="url-value">[[path]]</div><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-tap="_copyPathClipboard" title="Copy path to clipboard"></paper-icon-button></section><clipboard-copy id="pathCopy" content="[[path]]"></clipboard-copy></template><template is="dom-if" if="[[hasExtension]]"><section class="extensions"><template is="dom-if" if="[[hasParentType]]"><span>Implements </span><span class="resource-type-name" title="Resource type applied to this endpoint">[[parentTypeName]]</span>.</template><template is="dom-if" if="[[hasTraits]]"><span>Mixes in </span><span class="trait-name">[[_computeTraitNames(traits)]]</span>.</template></section></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[endpoint]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><h2>Methods</h2><template is="dom-if" if="[[hasOperations]]"><template is="dom-if" if="[[inlineMethods]]" restamp="true"><section class="methods"><template is="dom-repeat" items="[[operations]]" on-dom-change="_operationRendered" initial-count="2"><div class$="method-container [[_computeTryItColumClass(index, operations)]]"><api-method-documentation data-operation-id$="[[_computeOperationId(item)]]" amf-model="[[amfModel]]" endpoint="[[endpoint]]" method="[[item]]" narrow="[[narrow]]" base-uri="[[baseUri]]" no-try-it="[[noTryIt]]" render-security=""></api-method-documentation><div class="try-it-column"><section class="request-panel"><div class="section-title-area" on-click="_toggleRequestPanel" title="Toogle code example details"><h3 class="table-title">Try the API</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(item._tryitOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(item._tryitOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[item._tryitOpened]]"><template is="dom-if" restamp="true" data-type="arp-if" on-dom-change="_tryItRendered"><api-request-panel amf-model="[[amfModel]]" selected="[[_computeTryItSelected(item)]]" narrow="[[narrow]]" no-url-editor="[[noUrlEditor]]" base-uri="[[baseUri]]" redirect-uri="[[redirectUri]]" no-docs=""></api-request-panel></template></iron-collapse></section><section class="snippets"><div class="section-title-area" on-click="_toggleSnippets" title="Toogle code example details"><h3 class="table-title">Code examples</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(item._snippetsOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(item._snippetsOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[item._snippetsOpened]]"><http-code-snippets url="[[endpointUri]]" method="[[_computeHttpMethod(item)]]" headers="[[_computeSnippetsHeaders(item)]]" payload="[[_computeSnippetsPayload(item)]]"></http-code-snippets></iron-collapse></section></div></div></template></section></template><template is="dom-if" if="[[!inlineMethods]]" restamp="true"><section class="methods"><template is="dom-repeat" items="[[operations]]"><div class="method"><div class="method-name"><a href="#" on-click="_methodNavigate" class="method-anchor" data-api-id$="[[item.id]]"><span class="method-label" data-method$="[[item.method]]">[[item.method]]</span> <span class="method-value" data-method$="[[item.name]]">[[item.name]]</span></a></div><template is="dom-if" if="[[item.desc]]"><p>[[item.desc]]</p></template></div></template></section></template></template><template is="dom-if" if="[[!hasOperations]]"><p class="noinfo">This enpoint doesn't have HTTP methods defined in the API specification file.</p></template><template is="dom-if" if="[[hasPagination]]"><section class="bottom-nav"><template is="dom-if" if="[[hasPreviousLink]]"><div class="bottom-link previous" on-tap="_navigatePrevious"><paper-icon-button icon="arc:chevron-left"></paper-icon-button><span class="nav-label">[[previous.label]]</span></div></template><div class="nav-separator"></div><template is="dom-if" if="[[hasNextLink]]"><div class="bottom-link next" on-tap="_navigateNext"><span class="nav-label">[[next.label]]</span><paper-icon-button icon="arc:chevron-right"></paper-icon-button></div></template></section></template><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>/**
   * `api-endpoint-documentation`
   *
   * A component to generate documentation for an endpoint from AMF model
   *
   * This element works with [AMF](https://github.com/mulesoft/amf) data model.
   * To properly compute all the information relevant to endpoint documentation
   * set the following properties:
   *
   * - amfModel - as AMF's WebApi data model
   * - endpoint - As AMF's EndPoint data model
   *
   * When set, this will automatically populate the wiew with data.
   *
   * ## Updating API's base URI
   *
   * By default the component render the documentation as it is defined
   * in the AMF model. Sometimes, however, you may need to replace the base URI
   * of the API with something else. It is useful when the API does not
   * have base URI property defined (therefore this component render relative
   * paths instead of URIs) or when you want to manage different environments.
   *
   * To update base URI value either update `baseUri` property or use
   * `iron-meta` with key `ApiBaseUri`. First method is easier but the second
   * gives much more flexibility since it use a
   * [monostate pattern](http://wiki.c2.com/?MonostatePattern)
   * to manage base URI property.
   *
   * When the component constructs the funal URI for the endpoint it does the
   * following:
   * - if `baseUri` is set it uses this value as a base uri for the endpoint
   * - else if `iron-meta` with key `ApiBaseUri` exists and contains a value
   * it uses it uses this value as a base uri for the endpoin
   t
   * - else if `amfModel` is set then it computes base uri value from main
   * model document
   * Then it concatenates computed base URI with `endpoint`'s path property.
   *
   * ### Example
   *
   * ```html
   * <iron-meta key="ApiBaseUri" value="https://domain.com"></iron-meta>
   * ```
   *
   * To update value of the `iron-meta`:
   * ```javascript
   * new Polymer.IronMeta({key: 'ApiBaseUri'}).value = 'https://other.domain';
   * ```
   *
   * Note: The element will not get notified about the change in `iron-meta`.
   * The change will be reflected whehn `amfModel` or `endpoint` property chnage.
   *
   * ## Inline methods layout
   *
   * When `inlineMethods` is set then methods (api-method-document) is rendered
   * instead of list of links to methods.
   * Deep linking is still supported. The page scrolls when navigation event
   * changes.
   *
   * In this layout the try it panel is rendered next to method documentation
   * (normal layout) or below method documentation (narrow layout).
   *
   * ## Styling
   *
   * `<api-endpoint-documentation>` provides the following custom properties
   * and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-endpoint-documentation` | Mixin applied to this elment | `{}`
   * `--arc-font-headline` | Theme mixin, Applied to h1 element (title) | `{}`
   * `--arc-font-code1` | Theme mixin, applied to the URL area | `{}`
   * `--api-endpoint-documentation-url-font-size` | Font size of endpoin URL | `16px`
   * `--api-endpoint-documentation-url-background-color` | Background color of the URL section | `#424242`
   * `--api-endpoint-documentation-url-font-color` | Font color of the URL area | `#fff`
   * `--api-endpoint-documentation-bottom-navigation-color` | Color of of the bottom navigartion (icon + text) | `#000`
   * `--api-endpoint-documentation-tryit-background-color` | Background color of inlined "try it" panel | `#ECEFF1`
   * `--api-endpoint-documentation-method-doc-border-top-color` | Method doc top border color |  `#E5E5E5`
   * `--api-endpoint-documentation-method-doc-border-top-style` | Method doc top border style | `dashed`
   * `--api-endpoint-documentation-tryit-panels-background-color` | Bg color of try it panels | `#fff`
   * `--api-endpoint-documentation-tryit-panels-border-radius` | Try it panels border radius | `3px`
   * `--api-endpoint-documentation-tryit-panels-border-color` | Try it panels border color | `#EEEEEE`
   * `--api-endpoint-documentation-tryit-panels-border-style` | Try it panels border style | `solid`
   * `--api-endpoint-documentation-tryit-section-title`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiEndpointDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-endpoint-documentation"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * Method's endpoint definition as a
         * `http://raml.org/vocabularies/http#endpoint` of AMF model.
         */endpoint:{type:Object,observer:"_endpointChnaged"},/**
         * The ID in `amfModel` of current selection. It can be this endpoint
         * or any of methods
         */selected:{type:String},/**
         * A property to set to override AMF's model base URI information.
         * When this property is set, the `endpointUri` property is recalculated.
         */baseUri:String,/**
         * Computed value, API version name
         */apiVersion:{type:String,computed:"_computeApiVersion(amfModel)"},/**
         * Endpoint URI to display in main URL field.
         * This value is computed when `amfModel`, `endpoint` or `baseUri` change.
         */endpointUri:{type:String,computed:"_computeEndpointUri(server, endpoint, baseUri, apiVersion)"},/**
         * Computed value of the `http://raml.org/vocabularies/http#server`
         * from `amfModel`
         */server:{type:Object,computed:"_computeServer(amfModel)"},/**
         * Endpoint name.
         * It should be either a "displayName" or endpoint's relative
         * path.
         */endpointName:{type:String,computed:"_computeEndpointName(endpoint)"},/**
         * Computed value, `true` if the endpoint has display name.
         */hasName:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeHasStringValue(endpointName)"},/**
         * Computed value of method description from `method` property.
         */description:{type:String,computed:"_computeDescription(endpoint)"},/**
         * Computed value of endpoint's path.
         */path:{type:String,computed:"_computePath(endpoint)"},/**
         * Computed value from current `method`. True if the model containsPATCH
         * custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(endpoint)"},/**
         * Computed value of AMF security definition from `method`
         * property.
         */security:{type:Object,computed:"_computeSecurity(endpoint)"},/**
         * Computed value, true if `security` has values.
         */hasSecurity:{type:Boolean,computed:"_computeHasArrayValue(security)"},/**
         * If set it will renders the view in the narrow layout.
         */narrow:{type:Boolean,reflectToAttribute:!0/* skipSlots */},/**
         * List of traits and resource types, if any.
         *
         * @type {Array<Object>}
         */extendsTypes:{type:Array,computed:"_computeExtendsTypes(endpoint)"},/**
         * Computed value of a parent type.
         * In RAML it is resource type that can be applied to a resource.
         */parentType:{type:Object,computed:"_computeParentType(extendsTypes)"},/**
         * Computed value, true if `parentType` has a value.
         */hasParentType:{type:Boolean,computed:"_computeHasParentType(parentType)"},/**
         * Computed value for parent type name.
         */parentTypeName:{type:String,computed:"_computeParentTypeName(parentType)"},/**
         * List of traits appied to this endpoint
         *
         * @type {Array<Object>}
         */traits:{type:Array,computed:"_computeTraits(extendsTypes)"},/**
         * Computed value, true if the endpoint has traits.
         */hasTraits:{type:Boolean,computed:"_computeHasArrayValue(traits)"},/**
         * True if the endpoint is extended by either traits or resource type.
         */hasExtension:{type:Boolean,computed:"_computeHasExtension(hasTraits, hasParentType)"},/**
         * Model to generate a link to previous HTTP endpoint.
         * It should contain `id` and `label` properties
         */previous:Object,/**
         * Computed value, true if `previous` is set
         */hasPreviousLink:{type:Boolean,computed:"_computeHasStringValue(previous)"},/**
         * Model to generate a link to next HTTP endpoint.
         * It should contain `id` and `label` properties
         */next:Object,/**
         * Computed value, true if `next` is set
         */hasNextLink:{type:Boolean,computed:"_computeHasStringValue(next)"},/**
         * Computed value, true to render bottom navigation
         */hasPagination:{type:Boolean,computed:"_computeHasNavigation(hasPreviousLink, hasNextLink)"},/**
         * Scroll target used to observe `scroll` event.
         * When set the element will observe scroll and inform other components
         * about changes in navigation while scrolling through methods list.
         * The navigation event contains `passive: true` property that
         * determines that it's not user triggered navigation but rather
         * context enforced.
         */scrollTarget:{type:Object,observer:"_scrollTargetChanged"},/**
         * Passing value of `noTryIt` to the method documentation.
         * Hiddes "Try it" button from the view.
         */noTryIt:Boolean,/**
         * Computed list of operations to render in the operations list.
         * @type {Object}
         */operations:{type:Array,computed:"_computeOperations(endpoint, inlineMethods, amfModel)"},/**
         * Computed value if the endpoint contains operations.
         */hasOperations:{type:Boolean,value:!1,computed:"_computeHasArrayValue(operations)"},/**
         * If set then it renders methods documentation inline with
         * the endpoint documentation.
         * When it's not set (or value is `false`, default) then it renders
         * just a list of methods with links.
         */inlineMethods:{type:Boolean,value:!1,observer:"_inlineMethodsChanged"},/**
         * In inline mode, passes the `noUrlEditor` value on the
         * `api-request-paqnel`
         */noUrlEditor:Boolean,/**
         * OAuth2 redirect URI.
         * This value **must** be set in order for OAuth 1/2 to work properly.
         * This is only required in inline mode (`inlineMethods`).
         */redirectUri:String,_editorEventTarget:{type:Object,readOnly:!0,value:function(){return this}}}}static get observers(){return["_selectedChanged(selected, endpoint, inlineMethods)"]}constructor(){super();this._scrollHandler=this._scrollHandler.bind(this)}/**
     * Computes method's endpoint name.
     * It looks for `http://schema.org/name` in the endpoint definition and
     * if not found it uses path as name.
     *
     * @param {Object} endpoint Endpoint model.
     * @return {String} Endpoint name.
     */_computeEndpointName(endpoint){const name=this._getValue(endpoint,this.ns.schema.schemaName);// if (!name) {
//   name = this._computePath(endpoint);
// }
return name}/**
     * Computes value of `path` property
     *
     * @param {Object} endpoint Endpoint model.
     * @return {String}
     */_computePath(endpoint){return this._getValue(endpoint,this.ns.raml.vocabularies.http+"path")}/**
     * Computes `extendsTypes`
     *
     * @param {Object} shape AMF shape to get `#extends` model
     * @return {Array<Object>|undefined}
     */_computeExtendsTypes(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"extends");return shape&&this._ensureArray(shape[key])}/**
     * Computes parent type as RAML's resource type.
     *
     * @param {Array<Object>} types Current value of `extendsTypes`
     * @return {Object|undefined}
     */_computeParentType(types){if(!types||!types.length){return}return types.find(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedResourceType"))}/**
     * Computes value for `hasParentType` property
     *
     * @param {?Object} type Parent resource type.
     * @return {Boolean}
     */_computeHasParentType(type){return!!type}/**
     * Computes vaolue for `parentTypeName`
     *
     * @param {?Object} type Parent type shape
     * @return {String|undefined}
     */_computeParentTypeName(type){return this._getValue(type,this.ns.schema.schemaName)}/**
     * Computes value for `traits` property
     *
     * @param {Array<Object>} types Current value of `extendsTypes`
     * @return {Array<Object>|undefined}
     */_computeTraits(types){if(!types||!types.length){return}const data=types.filter(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedTrait"));return data.length?data:void 0}/**
     * Computes list of trait names to render it in the doc.
     *
     * @param {Array<Object>} traits AMF trait definition
     * @return {String|undefined} Trait name if defined.
     */_computeTraitNames(traits){if(!traits||!traits.length){return}const names=traits.map(trait=>this._getValue(trait,this.ns.schema.schemaName));if(2===names.length){return names.join(" and ")}return names.join(", ")}/**
     * Computes value for `hasExtension` property
     *
     * @param {Boolean} hasTraits
     * @param {Boolean} hasParentType
     * @return {Boolean}
     */_computeHasExtension(hasTraits,hasParentType){return!!(hasTraits||hasParentType)}/**
     * Computes value for `hasPagination` property
     * @param {Boolean} previous
     * @param {Boolean} next
     * @return {Boolean}
     */_computeHasNavigation(previous,next){return!!(previous||next)}/**
     * Navigates to next method. Calls `_navigate` with id of previous item.
     */_navigatePrevious(){this._navigate(this.previous.id,"endpoint")}/**
     * Navigates to next method. Calls `_navigate` with id of next item.
     */_navigateNext(){this._navigate(this.next.id,"endpoint")}/**
     * Dispatches `api-navigation-selection-changed` so other components
     * can update their state.
     *
     * @param {String} id
     * @param {String} type
     */_navigate(id,type){const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:id,type:type}});this.dispatchEvent(e)}_copyPathClipboard(e){const button=e.localTarget||e.target;if(this.$.pathCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}/**
     * Computes value for `operations` property.
     * @param {Object} endpoint Endpoint model.
     * @param {Boolean} inlineMethods
     * @return {Array<Object>}
     */_computeOperations(endpoint,inlineMethods){if(!endpoint){return}const key=this._getAmfKey(this.ns.w3.hydra.supportedOperation),ops=this._ensureArray(endpoint[key]);if(!ops||!ops.length){return}if(inlineMethods){return ops.map(item=>{item._tryitOpened=!0;return item})}const result=[];for(let i=0,len=ops.length;i<len;i++){const op=ops[i],method=this._getValue(op,this.ns.w3.hydra.core+"method"),name=this._getValue(op,this.ns.schema.schemaName),desc=this._getValue(op,this.ns.schema.desc);result[result.length]={method,name,desc,id:op["@id"]}}return result}_methodNavigate(e){e.stopPropagation();e.preventDefault();const target=e.composedPath().find(node=>"A"===node.nodeName),id=target.dataset.apiId;this._navigate(id,"method")}/**
     * Handles scroll target chane and adds scroll event.
     *
     * @param {Node} st The scroll target.
     */_scrollTargetChanged(st){if(this._oldScrollTarget){this._oldScrollTarget.removeEventListener("scroll",this._scrollHandler);this._oldScrollTarget=void 0}if(st){st.addEventListener("scroll",this._scrollHandler);this._oldScrollTarget=st}}/**
     * Scroll handler for `scrollTarget`.
     * It does not stall main thred by executing the action after nex render.
     */_scrollHandler(){if(!this.inlineMethods){return}Polymer.RenderStatus.afterNextRender(this,this._checkMethodsPosition)}/**
     * I hope this won't be required in final version :(
     */_checkMethodsPosition(){const st=this._oldScrollTarget;if(!st){return}// Window object has `scrollY` but HTML element has `scrollTop`
const scroll=st.scrollY||st.scrollTop;if(scroll===void 0){return}const diff=(this._lastScrollPos||0)-scroll;if(0===diff){return}this._lastScrollPos=scroll;const dir=0>diff?"down":"up",scrollHeigth=st.scrollHeight||st.innerHeight,targetHeigth=st.offsetHeight||st.innerHeight;if(!this._methodsList){const section=this.shadowRoot.querySelector("section.methods");// This list is a live node list so the reference has to be made
// only once.
this._methodsList=section.childNodes}for(let i=0,len=this._methodsList.length;i<len;i++){const node=this._methodsList[i];if("DIV"!==node.nodeName){continue}if(this._occupiesMainScrollArea(targetHeigth,scrollHeigth,dir,node)){const doc=node.querySelector("api-method-documentation");this._notifyPassiveNavigation(doc.method["@id"]);return}}}/**
     * Function that checks if an `element` is in the main scrolling area.
     *
     * @param {Number} targetHeigth Height (visible) of the scroll target
     * @param {Number} scrollHeigth Height of the scroll target
     * @param {String} dir Direction where the scroll is going (up or down)
     * @param {Node} element The node to test
     * @return {Boolean} True when it determines that the element is in the main
     * scroll area,
     */_occupiesMainScrollArea(targetHeigth,scrollHeigth,dir,element){const rect=element.getBoundingClientRect();if(0>rect.top&&rect.bottom>targetHeigth){// Occupies whole area
return!0}if(0>rect.bottom||targetHeigth<rect.top||0>rect.top&&0>=rect.top+rect.height){// Completely out of screen
return!1}if(0>rect.top&&"down"===dir&&rect.top+rect.height<targetHeigth/2){// less than half screen
return!1}if("down"===dir&&rect.top+rect.height>targetHeigth/2){return!0}const padding=60;if(0<rect.y&&rect.y<padding){if("up"===dir){return!1}return!0}if("up"===dir&&rect.bottom+padding>scrollHeigth&&rect.bottom<targetHeigth){return!0}return!1}/**
     * Dispatches `api-navigation-selection-changed` custom event with
     * `passive: true` set on the detail object.
     * Listeners should not react on this event except for the ones that
     * should reflect passive navigation change.
     *
     * @param {String} selected Id of selected method as in AMF model.
     */_notifyPassiveNavigation(selected){if(this.__notyfyingChange||this.__latestNotified===selected||this.selected===selected){return}this.__latestNotified=selected;this.__notyfyingChange=!0;setTimeout(()=>{this.__notyfyingChange=!1;this.dispatchEvent(new CustomEvent("api-navigation-selection-changed",{composed:!0,bubbles:!0,detail:{selected,type:"method",passive:!0}}))},200)}/**
     * Hadnler for either `selected` or `endpoint proerty change`
     * @param {String} selected Currently selected shape ID in AMF model
     * @param {Object} endpoint AMF model for the endpoint.
     * @param {Boolean} inlineMethods True if methods documentation is included
     */_selectedChanged(selected,endpoint,inlineMethods){if(!selected||!endpoint||!inlineMethods){return}Polymer.RenderStatus.afterNextRender(this,()=>this._repositionVerb(selected))}/**
     * Positions the method (operation) or endpoint (main title).
     *
     * @param {String} id Selected AMF id.
     */_repositionVerb(id){let options;if("scrollBehavior"in document.documentElement.style){options={block:"start",inline:"nearest"}}else{options=!0}const isEndpoint=this.endpoint&&this.endpoint["@id"]===id;if(isEndpoint){const title=this.shadowRoot.querySelector(".title");if(title){title.scrollIntoView(!0)}return}const selector=`[data-operation-id="${id}"]`,node=this.shadowRoot.querySelector(selector);if(!node){return}node.scrollIntoView(options)}_computeOperationId(item){return item&&item["@id"]}// Computes a label for the section toggle buttons.
_computeToggleActionLabel(opened){return opened?"Hide":"Show"}// Computes class for the toggle's button icon.
_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}/**
     * Computes example headers string for code snippets.
     * @param {Array} method Method (operation) model
     * @return {String|undefind} Computed example value for headers
     */_computeSnippetsHeaders(method){if(!method){return}const expects=this._computeExpects(method);if(!expects){return}let result;const headers=this._computeHeaders(expects);if(headers&&headers.length){result="";headers.forEach(item=>{const name=this._getValue(item,this.ns.schema.schemaName),value=this._computePropertyValue(item)||"";result+=`${name}: ${value}\n`})}return result}/**
     * Computes example payload string for code snippets.
     * @param {Array} payload Payload model from AMF
     * @return {String|undefind} Computed example value for payload
     */_computeSnippetsPayload(payload){if(payload&&payload instanceof Array){payload=payload[0]}if(this._hasType(payload,this.ns.w3.hydra.core+"Operation")){const expects=this._computeExpects(payload);payload=this._computePayload(expects)}if(payload&&payload instanceof Array){payload=payload[0]}if(!payload){return}let mt=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(!mt){mt="application/json"}const examples=this.$.exampleGenerator.generatePayloadExamples(payload,mt,{});if(!examples||!examples[0]){return}return examples[0].value}/**
     * Tries to find an example value (whether it's default value or from an
     * example) to put it into snippet's values.
     *
     * @param {Object} item A http://raml.org/vocabularies/http#Parameter property
     * @return {String|undefined}
     */_computePropertyValue(item){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=item&&item[key];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(item,this.ns.w3.shacl.name+"defaultValue");if(!value){const examplesKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let example=item[examplesKey];if(example){if(example instanceof Array){example=example[0]}value=this._getValue(item,this.ns.raml.vocabularies.document+"value")}}return value}/**
     * Computes value for `httpMethod` property.
     *
     * @param {Object} method AMF `supportedOperation` model
     * @return {String|undefined} HTTP method name
     */_computeHttpMethod(method){let name=this._getValue(method,this.ns.w3.hydra.core+"method");if(name){name=name.toUpperCase()}return name}_toggleSnippets(e){const newState=!e.model.get("item._snippetsOpened");e.model.set("item._snippetsOpened",newState)}_toggleRequestPanel(e){const newState=!e.model.get("item._tryitOpened");e.model.set("item._tryitOpened",newState)}/**
     * A handler for the `inlineMethods` property change.
     * When set it automatically disables the try it button.
     *
     * @param {Boolean} value Current value of `inlineMethods`
     */_inlineMethodsChanged(value){if(value){this.noTryIt=!0}}/**
     * The try it panel is not rendered at start time when the user initializes
     * the endpoint documentation to reduce number of computations happening
     * at the same time. When `dom-repeat` renders all documentation
     * panels it calls this function which initializes requests panels one
     * by one in the tasks scheduler.
     */_operationRendered(){const ifs=this.shadowRoot.querySelectorAll("[data-type=\"arp-if\"]");this._renderTryItQueue(ifs)}/**
     * Renders next try it panel from the NodeList
     * @param {NodeList} queue Node list of `dom-if`'s with the panel
     * @param {?Number} index Currently iterated item.
     */_renderTryItQueue(queue,index){index=index||0;const domIf=queue[index];if(!domIf){return}Polymer.RenderStatus.afterNextRender(this,()=>{domIf.if=!0;index++;this._renderTryItQueue(queue,index)})}/**
     * Request editor handles events when it's state changes. But the change
     * may influence other editors visible on the same page (eg URL change).
     * When the request panel is rendered it sets events target of the panel
     * to the panel so it won't listen for changes in other editors.
     *
     * @param {CustomEvent} e
     */_tryItRendered(e){if(!e.target.if){return}const panel=e.target.parentElement.querySelector("api-request-panel");panel.eventsTarget=panel}/**
     * Sets `false` on try it condition templae.
     */_clearRequestPanels(){const ifs=this.shadowRoot.querySelectorAll("[data-type=\"arp-if\"]");for(let i=0;i<ifs.length;i++){if(ifs[i].if){ifs[i].if=!1}}}/**
     * Computes special class names for the method container.
     * It adds `first`, and `last` names to corresponding
     * containers.
     *
     * @param {Number} index
     * @param {Array} operations
     * @return {String}
     */_computeTryItColumClass(index,operations){if(!operations||!operations.length||index===void 0){return""}let klass="";if(0===index){klass+=" first"}if(index===operations.length-1){klass+=" last"}return klass}_computeTryItSelected(item){if(!item){return}return item["@id"]}_endpointChnaged(){this._clearRequestPanels()}/**
     * Dispatched when the user requested previous / next
     *
     * @event api-navigation-selection-changed
     * @param {String} selected
     * @param {String} type
     */}window.customElements.define(ApiEndpointDocumentation.is,ApiEndpointDocumentation);</script></dom-module><dom-module id="api-type-documentation" assetpath="bower_components/api-type-documentation/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --api-type-documentation;}h1{@apply --arc-font-headline;@apply --api-type-documentation-title;}:host([narrow]) h1{@apply --api-type-documentation-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[typeTitle]]"><h1 class="title">[[typeTitle]]</h1></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document amf-model="[[amfModel]]" shape="[[type]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[!isSchema]]"><api-type-document amf-model="[[amfModel]]" type="[[type]]" narrow="[[narrow]]" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isSchema]]"><api-schema-document shape="[[type]]" amf-model="[[amfModel]]"></api-schema-document></template></template><script>/**
   * `api-type-documentation`
   *
   * A documentation module for RAML types (resources) using AMF data model.
   *
   * ## Styling
   *
   * `<api-type-documentation>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-type-documentation` | Mixin applied to this elment | `{}`
   * `--arc-font-headline` | Theme mixin, applied to the title | `{}`
   * `--api-type-documentation-title` | Mixin applied to the title | `{}`
   * `--api-type-documentation-title-narrow` | Mixin applied to the title in narrow layout | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiTypeDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-type-documentation"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * A type definition to render.
         * This should be a one of the following AMF types:
         *
         * - `http://www.w3.org/ns/shacl#NodeShape` (Object)
         * - `http://raml.org/vocabularies/shapes#UnionShape` (Union)
         * - `http://raml.org/vocabularies/shapes#ArrayShape` (Array)
         * - `http://raml.org/vocabularies/shapes#ScalarShape` (single property)
         * @type {Object|Array}
         */type:Object,/**
         * Computed value, title of the type.
         */typeTitle:{type:String,computed:"_computeTitle(type)"},/**
         * Computed value of method description from `method` property.
         */description:{type:String,computed:"_computeDescription(type)"},/**
         * Computed value from current `method`. True if the model contains
         * custom properties (annotations in RAML).
         */hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(type)"},/**
         * Computed value, true when passed model represents a schema
         * (like XML)
         */isSchema:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,computed:"_computeIsSchema(type)"},/**
         * Set to render a mobile friendly view.
         */narrow:{type:Boolean,reflectToAttribute:!0/* skipSlots */},/**
          * A media type to use to generate examples.
          */mediaType:String}}/**
     * Computes `typeTitle` property
     *
     * @param {Object} shape AMF model for data type
     * @return {String|undefined}
     */_computeTitle(shape){if(!shape){return}let name=this._getValue(shape,this.ns.schema.schemaName);if(!name){name=this._getValue(shape,this.ns.w3.shacl.name+"name")}return name}/**
     * Computes `description` property
     *
     * @param {Object} shape AMF model for data type
     * @return {String|undefined}
     */_computeDescription(shape){return shape&&this._getValue(shape,this.ns.schema.desc)}/**
     * Computes value for `isSchema` property.
     *
     * @param {Object} shape AMF `supportedOperation` model
     * @return {Boolean}
     */_computeIsSchema(shape){if(!shape){return}return this._hasType(shape,this.ns.w3.shacl.name+"SchemaShape")}}window.customElements.define(ApiTypeDocumentation.is,ApiTypeDocumentation);</script></dom-module><dom-module id="api-documentation-document" assetpath="bower_components/api-documentation-document/"><template><style include="markdown-styles"></style><style>:host{display:block;}h1{@apply --arc-font-headline;}</style><div id="preview"><template is="dom-if" if="[[hasTitle]]"><h1>[[title]]</h1></template><marked-element markdown="[[content]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><script>/**
   * `api-documentation-document`
   *
   * A component to render documentation node of the AMF model
   *
   * ## Styling
   *
   * `<api-documentation-document>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--arc-font-headline` | Mixin applied to header elmeent | `{}`
   *
   * Markdown styles are defined in `advanced-rest-client/markdown-styles`.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiDocumentationDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-documentation-document"}static get properties(){return{/**
         * A Document to render.
         * It is a value from `http://schema.org/documentation` of AMF
         * API data model.
         */apiDocument:Object,/**
         * Computed value of the title of the documentation.
         * Might be undefined.
         */title:{type:String,computed:"_computeTitle(apiDocument, amfModel)"},/**
         * Computed value, true if `title` is set.
         */hasTitle:{type:Boolean,computed:"_computeHasTitle(title)"},/**
         * Computed value of content of documentation.
         */content:{type:String,computed:"_computeContent(apiDocument, amfModel)"}}}/**
     * Computes value for `title` property.
     *
     * @param {Object} doc AMF's `http://schema.org/documentation` entry
     * @return {String|undefined}
     */_computeTitle(doc){return this._getValue(doc,this.ns.schema.title)}/**
     * Computes value for `hasTitle` property
     *
     * @param {?String} title
     * @return {Boolean}
     */_computeHasTitle(title){return!!title}/**
     * Computes value for `content` property.
     *
     * @param {Object} doc AMF's `http://schema.org/documentation` entry
     * @return {String|undefined}
     */_computeContent(doc){return this._getValue(doc,this.ns.schema.desc)}}window.customElements.define(ApiDocumentationDocument.is,ApiDocumentationDocument);</script></dom-module><dom-module id="api-summary" assetpath="bower_components/api-summary/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;color:var(--api-summary-color);@apply --arc-font-body1;@apply --api-summary;}h1{@apply --arc-font-headline;}.marked-description{margin:24px 0;}.markdown-body{margin-bottom:28px;}:host([narrow]) h1{font-size:20px;margin:0;}.url-area{@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-summary-url-font-size, 16px);margin:40px 0;background:var(--api-summary-url-background-color, #424242);color:var(--api-summary-url-font-color, #fff);padding:8px;border-radius:2px;}.url-value{margin-left:12px;word-break:break-all;@apply --layout-flex;}.method-value{text-transform:uppercase;white-space:nowrap;}label.section{@apply --arc-font-subhead;font-size:18px;margin-top:20px;display:block;@apply --api-summary-section-label;}a{@apply --api-link;}a:hover{@apply --api-link-hover;}.chip{display:inline-block;white-space:nowrap;padding:2px 4px;margin-right:8px;background-color:var(--api-summary-chip-background-color, #F0F0F0);color:var(--api-summary-chip-color, #616161);border-radius:var(--api-summary-chip-border-radius, 2px);}.app-link{@apply --arc-link;}.link-padding{margin-left:8px;}.inline-description{padding:0;margin:0;}.docs-section{margin-bottom:40px;}.separator{background-color:var(--api-summary-separator-color, rgba(0, 0, 0, 0.12));height:1px;margin:40px 0;}.endpoint-item{margin-bottom:32px;}.method-label{margin-right:8px;margin-bottom:8px;cursor:pointer;}.method-label:hover{text-decoration:underline;}.endpoint-label{display:inline-block;margin-right:8px;cursor:pointer;font-weight:bold;text-decoration:underline;font-size:15px;@apply --arc-link;}.endpoint-path{text-decoration:underline;font-size:14px;cursor:pointer;margin-bottom:4px;display:inline-block;}.toc .section{margin-bottom:24px;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div role="main"><h1>[[apiTitle]]</h1><template is="dom-if" if="[[hasVersion]]"><p class="inline-description"><label>Version:</label> <span>[[version]]</span></p></template><template is="dom-if" if="[[description]]"><div role="region" class="marked-description"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><clipboard-copy id="pathCopy" content="[[apiBaseUri]]"></clipboard-copy><template is="dom-if" if="[[hasProtocols]]"><label class="section">Supported protocols</label><div class="protocol-chips"><template is="dom-repeat" items="[[protocols]]"><span class="chip">[[item]]</span></template></div></template><template is="dom-if" if="[[hasProvider]]"><section role="contentinfo" class="docs-section"><label class="section">Contact information</label><p class="inline-description"><span>[[providerName]]</span><template is="dom-if" if="[[providerEmail]]"><a class="app-link link-padding" href$="mailto:[[providerEmail]]">[[providerEmail]]</a></template></p><template is="dom-if" if="[[providerUrl]]"><p class="inline-description"><a href$="[[providerUrl]]" target="_blank" class="app-link">[[providerUrl]]</a></p></template></section></template><template is="dom-if" if="[[hasLicense]]"><section role="region" aria-labelledby="licenseLabel" class="docs-section"><label class="section" id="licenseLabel">License</label><p class="inline-description"><template is="dom-if" if="[[licenseUrl]]"><a href$="[[licenseUrl]]" target="_blank" class="app-link">[[licenseName]]</a></template></p></section></template><template is="dom-if" if="[[termsOfService]]"><section role="region" aria-labelledby="tocLabel" class="docs-section"><label class="section" id="tocLabel">Terms of service</label><marked-element markdown="[[termsOfService]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></section></template></div><template is="dom-if" if="[[hasEndpoints]]"><div class="separator"></div><div class="toc"><label class="section">API endpoints</label><template is="dom-repeat" items="[[endpoints]]"><div class="endpoint-item" on-click="_navigateItem"><div class="endpoint-path" data-id$="[[item.id]]" data-shape-type="endpoint" title="Open endpoint documentation">[[item.path]]</div><div class="endpoint-header"><template is="dom-if" if="[[item.hasName]]"><span class="endpoint-label" data-id$="[[item.id]]" data-shape-type="endpoint" title="Open endpoint documentation">[[item.name]]</span></template><template is="dom-repeat" items="[[item.ops]]"><span class="method-label" data-method$="[[item.method]]" data-id$="[[item.id]]" data-shape-type="method" title="Open method documentation">[[item.method]]</span></template></div></div></template></div></template></template><script>/**
   * `api-summary`
   *
   * A summary view for an API base on AMF data model
   *
   * ## Styling
   *
   * `<api-summary>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-summary` | Mixin applied to this elment | `{}`
   * `--api-summary-color` | Color of text labels | ``
   * `--api-summary-url-font-size` | Font size of endpoin URL | `16px`
   * `--api-summary-url-background-color` | Background color of the URL section | `#424242`
   * `--api-summary-url-font-color` | Font color of the URL area | `#fff`
   * `--api-summary-separator-color` | Color of section separator | `rgba(0, 0, 0, 0.12)`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiSummary extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-summary"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * Computed value of AMF model of a type of `http://schema.org/WebAPI`
         *
         * @type {Object}
         */webApi:{type:Object,computed:"_computeWebApi(amfModel)"},/**
         * A property to set to override AMF's model base URI information.
         * When this property is set, the `endpointUri` property is recalculated.
         */baseUri:{type:String,value:""},/**
         * API base URI to display in main URL field.
         * This value is computed when `amfModel` or `baseUri` change.
         */apiBaseUri:{type:String,computed:"_computeBaseUri(server, baseUri, protocols)"},/**
         * Computed title of the API
         */apiTitle:{type:String,computed:"_computeApiTitle(webApi)"},/**
         * Computed value of method description from `method` property.
         */description:{type:String,computed:"_computeDescription(webApi)"},/**
         * Computed value of the `http://raml.org/vocabularies/http#server`
         * from `amfModel`
         */server:{type:Object,computed:"_computeServer(amfModel)"},/**
         * Computed API version label
         */version:{type:String,computed:"_computeVersion(webApi)"},/**
         * Computed value, true when `version` property is set.
         */hasVersion:{type:Boolean,computed:"_computeHasStringValue(version)"},/**
         * Computed list of protocols.
         */protocols:{type:String,computed:"_computeProtocols(amfModel)"},/**
         * Computed value if `protocols` property is set
         */hasProtocols:{type:Boolean,computed:"_computeHasArrayValue(protocols)"},/**
         * Computed value of OAS provider information.
         */provider:{type:Object,computed:"_computeProvider(webApi)"},/**
         * Computed value if `provider` property is set
         */hasProvider:{type:Boolean,computed:"_computeHasStringValue(provider)"},/**
         * Computed value of OAS provider name
         */providerName:{type:String,computed:"_computeName(provider)"},/**
         * Computed value of OAS provider email
         */providerEmail:{type:String,computed:"_computeEmail(provider)"},/**
         * Computed value of OAS provider url
         */providerUrl:{type:String,computed:"_computeUrl(provider)"},/**
         * Computed value of OAS terms of service
         */termsOfService:{type:String,computed:"_computeToS(webApi)"},/**
         * Computed value of OAS license
         */license:{type:Object,computed:"_computeLicense(webApi)"},/**
         * Computed value if `license` property is set
         */hasLicense:{type:Boolean,computed:"_computeHasStringValue(license)"},/**
         * Computed value of OAS license name
         */licenseName:{type:String,computed:"_computeName(license)"},/**
         * Computed value of OAS license url
         */licenseUrl:{type:String,computed:"_computeUrl(license)"},/**
         * Computed list of endpoints to render.
         */endpoints:{type:Array,computed:"_computeEndpoints(webApi)"},/**
         * Computed value, true if `endpoints` property is set and has a value.
         * @type {Object}
         */hasEndpoints:{type:Boolean,computed:"_computeHasArrayValue(endpoints)"}}}/**
     * Computes value of `apiTitle` property.
     *
     * @param {Object} shape Shape of AMF model.
     * @return {String|undefined} Description if defined.
     */_computeApiTitle(shape){return this._getValue(shape,this.ns.schema.schemaName)}/**
     * Computes value for `version` property
     * @param {Object} webApi AMF's WebApi shape
     * @return {String|undefined}
     */_computeVersion(webApi){return this._getValue(webApi,this.ns.schema.name+"version")}/**
     * Computes API's URI based on `amfModel` and `baseUri` property.
     *
     * @param {Object} server Server model of AMF API.
     * @param {?String} baseUri Current value of `baseUri` property
     * @param {?Array<String>} protocols List of supported protocols
     * @return {String} Endpoint's URI
     */_computeBaseUri(server,baseUri,protocols){let base=this._getBaseUri(baseUri,server,protocols);if(base&&"/"===base[base.length-1]){base=base.substr(0,base.length-1)}if(!base){base="Base URI not defined in the API file."}return base}// Displays array values.
_displayArray(arr){if(!arr||!arr.length){return}if(!(arr instanceof Array)){return arr}return arr.join(", ")}/**
     * Computes information about provider of the API.
     *
     * @param {Object} webApi WebApi shape
     * @return {Object|undefined}
     */_computeProvider(webApi){const key=this._getAmfKey(this.ns.schema.name+"provider");let data=this._ensureArray(webApi[key]);if(!data){return}data=data[0];if(data instanceof Array){data=data[0]}return data}_computeName(provider){return this._getValue(provider,this.ns.schema.schemaName)}_computeEmail(provider){return this._getValue(provider,this.ns.schema.name+"email")}_computeUrl(provider){let value=this._getValue(provider,this.ns.schema.name+"url");if(!value&&provider){const key=this._getAmfKey(this.ns.schema.name+"url");let data=provider[key];if(data){value=data instanceof Array?data[0]["@id"]:data["@id"]}}return value}_computeToS(webApi){return this._getValue(webApi,this.ns.schema.name+"termsOfService")}_computeLicense(webApi){const key=this._getAmfKey(this.ns.schema.name+"license"),data=webApi&&webApi[key];if(!data){return}return data instanceof Array?data[0]:data}_copyPathClipboard(){const button=this.shadowRoot.querySelector(".copy-icon");if(this.$.pathCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}/**
     * Computes view model for endpoints list.
     * @param {Object} webApi Web API model
     * @return {Array<Object>|undefined}
     */_computeEndpoints(webApi){if(!webApi){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[key]);if(!endpoints||!endpoints.length){return}return endpoints.map(item=>{const result={name:this._getValue(item,this.ns.schema.schemaName),path:this._getValue(item,this.ns.raml.vocabularies.http+"path"),id:item["@id"],ops:this._endpointOperations(item)};result.hasName=!!result.name;result.hasOps=!!(result.ops&&result.ops.length);return result})}/**
     * Computes a view model for supported operations for an endpoint.
     * @param {Object} endpoint Endpoint model.
     * @return {Array<Object>|unbdefined}
     */_endpointOperations(endpoint){const key=this._getAmfKey(this.ns.w3.hydra.core+"supportedOperation"),so=this._ensureArray(endpoint[key]);if(!so||!so.length){return}return so.map(item=>{return{id:item["@id"],method:this._getValue(item,this.ns.w3.hydra.core+"method")}})}_navigateItem(e){const data=e.composedPath()[0].dataset;if(!data.id||!data.shapeType){return}const ev=new CustomEvent("api-navigation-selection-changed",{bubbles:!0/* ignoreName */ /* skipSlots */,composed:!0,detail:{selected:data.id,type:data.shapeType}});this.dispatchEvent(ev)}}window.customElements.define(ApiSummary.is,ApiSummary);</script></dom-module><dom-module id="api-documentation" assetpath="bower_components/api-documentation/"><template><style>:host{display:block;@apply --api-documentation;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[isSummary]]" restamp="true"><api-summary amf-model="[[amfModel]]" base-uri="[[baseUri]]"></api-summary></template><template is="dom-if" if="[[isSecurity]]" restamp="true"><api-security-documentation amf-model="{{amfModel}}" security="[[_computeSecurity(declares, references, selected, amfModel, _isFragment)]]" narrow="[[narrow]]"></api-security-documentation></template><template is="dom-if" if="[[_renderInlineEndpoint(inlineMethods, isMethod, isEndpoint)]]" restamp="true"><api-endpoint-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" previous="[[_computeEndpointPrevious(webApi, selected)]]" next="[[_computeEndpointNext(webApi, selected)]]" base-uri="[[baseUri]]" narrow="[[narrow]]" selected="[[selected]]" no-try-it="" inline-methods="" scroll-target="[[scrollTarget]]" redirect-uri="[[redirectUri]]"></api-endpoint-documentation></template><template is="dom-if" if="[[_renderEndpoint(inlineMethods, isEndpoint)]]" restamp="true"><api-endpoint-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" previous="[[_computeEndpointPrevious(webApi, selected)]]" next="[[_computeEndpointNext(webApi, selected)]]" base-uri="[[baseUri]]" narrow="[[narrow]]" inline-methods="[[inlineMethods]]" scroll-target="[[scrollTarget]]" redirect-uri="[[redirectUri]]"></api-endpoint-documentation></template><template is="dom-if" if="[[_renderMethod(inlineMethods, isMethod)]]" restamp="true"><api-method-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" method="[[_computeMethodModel(webApi, selected)]]" previous="[[_computeMethodPrevious(webApi, selected)]]" next="[[_computeMethodNext(webApi, selected)]]" base-uri="[[baseUri]]" no-try-it="[[noTryIt]]" narrow="[[narrow]]" render-security="" render-code-snippets=""></api-method-documentation></template><template is="dom-if" if="[[isDoc]]" restamp="true"><api-documentation-document amf-model="{{amfModel}}" api-document="[[_computeDocuemntationModel(webApi, selected, amfModel, _isFragment)]]"></api-documentation-document></template><template is="dom-if" if="[[isType]]" restamp="true"><api-type-documentation amf-model="{{amfModel}}" type="[[_computeTypeModel(declares, references, selected, amfModel, _isFragment)]]" narrow="[[narrow]]"></api-type-documentation></template></template><script>/**
   * `api-documentation`
   *
   * A main documentation view for AMF model.
   *
   * This element works with [AMF](https://github.com/mulesoft/amf) data model.
   *
   * It works well with `api-navigation` component. When `handle-navigation-events`
   * is set it listens for selection events dispatched by the navigation.
   *
   * To manually steare the behavior of the component you have to set both:
   * - selected
   * - selectedType
   *
   * Selected is an `@id` of the AMF data model in json/ld representation.
   * Selected type tells the component where to look for the data and which
   * view to render.
   *
   * The component handles data computation on selection change.
   *
   * ## Updating API's base URI
   *
   * By default the component render the documentation as it is defined
   * in the AMF model. Sometimes, however, you may need to replace the base URI
   * of the API with something else. It is useful when the API does not
   * have base URI property defined (therefore this component render relative
   * paths instead of URIs) or when you want to manage different environments.
   *
   * To update base URI value either update `baseUri` property or use
   * `iron-meta` with key `ApiBaseUri`. First method is easier but the second
   * gives much more flexibility since it use a
   * [monostate pattern](http://wiki.c2.com/?MonostatePattern)
   * to manage base URI property.
   *
   * When the component constructs the funal URI for the endpoint it does the following:
   * - if `baseUri` is set it uses this value as a base uri for the endpoint
   * - else if `iron-meta` with key `ApiBaseUri` exists and contains a value
   * it uses it uses this value as a base uri for the endpoint
   * - else if `amfModel` is set then it computes base uri value from main
   * model document
   * Then it concatenates computed base URI with `endpoint`'s path property.
   *
   * ### Example
   *
   * ```html
   * <iron-meta key="ApiBaseUri" value="https://domain.com"></iron-meta>
   * ```
   *
   * To update value of the `iron-meta`:
   * ```javascript
   * new Polymer.IronMeta({key: 'ApiBaseUri'}).value = 'https://other.domain';
   * ```
   *
   * Note: The element will not get notified about the change in `iron-meta`.
   * The change will be reflected whehn `amfModel` or `endpoint` property chnage.
   *
   * ## Styling
   *
   * `<api-documentation>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--api-documentation` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-documentation"}static get properties(){return{/**
         * `raml-aware` scope property to use.
         */aware:String,/**
         * A model's `@id` of selected documentation part.
         * Special case is for `summary` view. It's not part of an API
         * but most applications has some kind of summary view for the
         * API.
         */selected:String,/**
         * Type of the selected item.
         * One of `documentation`, `type`, `security`, `endpoint`, `method`
         * or `summary`.
         */selectedType:String,_isFragment:{type:Boolean,computed:"_computeIsFragment(amfModel)"},/**
         * By default application hosting the element must set `selected` and
         * `selectedType` properties. When using `api-navigation` element
         * by setting this property the element listens for navigation events
         * and updates the state
         */handleNavigationEvents:{type:Boolean,observer:"_handleNavChanged"},// True if currently selection is endpoint
isEndpoint:{type:Boolean,readOnly:!0/* ignoreName */ /* skipSlots */},// True if currently selection is method
isMethod:{type:Boolean,readOnly:!0},// True if currently selection is documentation
isDoc:{type:Boolean,readOnly:!0},// True if currently selection is type
isType:{type:Boolean,readOnly:!0},// True if currently selection is security
isSecurity:{type:Boolean,readOnly:!0},// True if currently selection is summary
isSummary:{type:Boolean,readOnly:!0},/**
         * Computed value of AMF model of a type of `http://schema.org/WebAPI`
         *
         * @type {Object}
         */webApi:{type:Object,computed:"_computeWebApi(amfModel)"},/**
         * Computed value of `declares` part of the AMF model
         *
         * @type {Array<Object>}
         */declares:{type:Array,computed:"_computeDeclares(amfModel)"},/**
         * Computed value of `references` part of the AMF model
         *
         * @type {Array<Object>}
         */references:{type:Array,computed:"_computeReferences(amfModel)"},/**
         * A property to set to override AMF's model base URI information.
         */baseUri:String,/**
         * Passing value of `noTryIt` to the method documentation.
         * Hiddes "Try it" button.
         */noTryIt:Boolean,/**
         * If set it will renders the view in the narrow layout.
         */narrow:Boolean,/**
         * If set then it renders methods documentation inline with
         * the endpoint documentation.
         * When it's not set (or value is `false`, default) then it renders
         * just a list of methods with links.
         */inlineMethods:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},/**
         * Scroll target used to observe `scroll` event.
         * When set the element will observe scroll and inform other components
         * about changes in navigation while scrolling through methods list.
         * The navigation event contains `passive: true` property that
         * determines that it's not user triggered navigation but rather
         * context enforced.
         */scrollTarget:Object,/**
         * OAuth2 redirect URI.
         * This value **must** be set in order for OAuth 1/2 to work properly.
         * This is only required in inline mode (`inlineMethods`).
         */redirectUri:String,/**
         * Computed value of currently rendered endpoint.
         */endpoint:{type:Object,readOnly:!0}}}static get observers(){return["_navigationOccured(selectedType)","_updateEndpoint(isEndpoint,isMethod,selected,webApi)"]}constructor(){super();this._navigationHandler=this._navigationHandler.bind(this)}disconnectedCallback(){if(this.__eventsRegistered){this._unregisterNavigationEvents()}}/**
     * Registers `api-navigation-selection-changed` event listener handler
     * on window object.
     */_registerNavigationEvents(){this.__eventsRegistered=!0;window.addEventListener("api-navigation-selection-changed",this._navigationHandler)}/**
     * Removes event listener from window object for
     * `api-navigation-selection-changed` event.
     */_unregisterNavigationEvents(){this.__eventsRegistered=!1;window.removeEventListener("api-navigation-selection-changed",this._navigationHandler)}/**
     * Registers / unregisters event listeners depending on `state`
     *
     * @param {Boolean} state
     */_handleNavChanged(state){if(state){this._registerNavigationEvents()}else{this._unregisterNavigationEvents()}}/**
     * Handler for `api-navigation-selection-changed` event.
     *
     * @param {CustomEvent} e
     */_navigationHandler(e){if(!0===e.detail.passive){return}this.selected=e.detail.selected;this.selectedType=e.detail.type}/**
     * Handles navigation change, computes model for the view and finally
     * renders the view.
     * @param {String} selectedType
     */_navigationOccured(selectedType){const isEndpoint="endpoint"===selectedType;if(this.isEndpoint!==isEndpoint){this._setIsEndpoint(isEndpoint)}const isMethod="method"===selectedType;if(this.isMethod!==isMethod){this._setIsMethod(isMethod)}const isDoc="documentation"===selectedType;if(this.isDoc!==isDoc){this._setIsDoc(isDoc)}const isType="type"===selectedType;if(this.isType!==isType){this._setIsType(isType)}const isSecurity="security"===selectedType;if(this.isSecurity!==isSecurity){this._setIsSecurity(isSecurity)}const isSummary="summary"===selectedType;if(this.isSummary!==isSummary){this._setIsSummary(isSummary)}}/**
     * Creates a link model that is accepted by the endpoint documentation
     * view.
     * @param {?Object} item An AMF shape to use to get the data from.
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no item.
     */_computeEndpointLink(item){if(!item){return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name){name=this._getValue(item,this.ns.raml.vocabularies.http+"path")}return{id:item["@id"],label:name}}/**
     * Computes link model for previous endpoint, if any exists relative to
     * current selection.
     * @param {Object} webApi WebApi shape object of AMF
     * @param {String} selected Currently selected endpoint
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no previous item.
     */_computeEndpointPrevious(webApi,selected){if(!webApi||!selected){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[ekey]);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){if(endpoints[i]["@id"]===selected){return this._computeEndpointLink(endpoints[i-1])}}}/**
     * Computes link model for next endpoint, if any exists relative to
     * current selection.
     * @param {Object} webApi WebApi shape object of AMF
     * @param {String} selected Currently selected endpoint
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no next item.
     */_computeEndpointNext(webApi,selected){if(!webApi||!selected){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[ekey]);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){if(endpoints[i]["@id"]===selected){return this._computeEndpointLink(endpoints[i+1])}}}/**
     * Creates a link model that is accepted by the method documentation
     * view.
     * @param {?Object} item An AMF shape to use to get the data from.
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no item.
     */_computeMethodLink(item){if(!item){return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name){name=this._getValue(item,this.ns.w3.hydra.core+"method")}return{id:item["@id"],label:name}}/**
     * Computes link for the previous method.
     * This is used by the method documentation panel to render previous
     * nethod link.
     * @param {Object} webApi WebApi shape object of AMF
     * @param {String} selected Currently selected method
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no previous item.
     */_computeMethodPrevious(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}for(let i=0;i<methods.length;i++){if(methods[i]["@id"]===selected){return this._computeMethodLink(methods[i-1])}}}/**
     * Computes link for the next method.
     * This is used by the method documentation panel to render next
     * nethod link.
     * @param {Object} webApi WebApi shape object of AMF
     * @param {String} selected Currently selected method
     * @return {Object|undefined} Object with `label` and `id` or `undefined`
     * if no next item.
     */_computeMethodNext(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}for(let i=0;i<methods.length;i++){if(methods[i]["@id"]===selected){return this._computeMethodLink(methods[i+1])}}}/**
     * A method to update value of the `endpoint` property when needed.
     * This function is to reduce number of updates of `endpoint` property
     * when rendering endpoint documentation in inline mode. In this case each
     * change to the endpoint trigges heavy computations.
     *
     * @param {Boolean} isEndpoint
     * @param {Boolean} isMethod
     * @param {String} selected
     * @param {Object} webApi
     */_updateEndpoint(isEndpoint,isMethod,selected,webApi){if(!selected||!webApi){return}if(!isEndpoint&&!isMethod){return}// Do not clean up "endpoint" property as it will trigger change
// observers. If the view is hidden it doesn't matter
let endpoint;if(isEndpoint){endpoint=this._computeEndpointModel(webApi,selected)}else{endpoint=this._computeMethodEndpoint(webApi,selected)}const current=this.endpoint;// This is designed to trigger as less changes as possible.
if(current===endpoint){return}if(!current){if(endpoint){this._setEndpoint(endpoint)}}else{if(!endpoint){this._setEndpoint(endpoint)}else if(current["@id"]!==endpoint["@id"]){this._setEndpoint(endpoint)}}}/**
     * Tests if endpoint component should be rendered for both method and
     * endpoint documentation in inline mode.
     * @param {Boolean} inlineMethods
     * @param {Boolean} isMethod
     * @param {Boolean} isEndpoint
     * @return {Boolean}
     */_renderInlineEndpoint(inlineMethods,isMethod,isEndpoint){if(!inlineMethods){return!1}return!!(isMethod||isEndpoint)}/**
     * Computes if single endpoint doc should be rendered
     * @param {Boolean} inlineMethods
     * @param {Boolean} isEndpoint
     * @return {Boolean}
     */_renderEndpoint(inlineMethods,isEndpoint){return!!(!inlineMethods&&isEndpoint)}/**
     * Computes if single method doc should be rendered
     * @param {Boolean} inlineMethods
     * @param {Boolean} isMethod
     * @return {Boolean}
     */_renderMethod(inlineMethods,isMethod){return!!(!inlineMethods&&isMethod)}_computeIsFragment(model){if(model instanceof Array){model=model[0]}return!this._hasType(model,this.ns.raml.vocabularies.document+"Document")}/**
     * Tests if `model` is of a RAML library model.
     * @param {Object|Array} model A shape to test
     * @return {Boolean}
     */_isLibrary(model){if(!model){return!1}if(model instanceof Array){model=model[0]}const moduleKey=this._getAmfKey(this.ns.raml.vocabularies.document+"Module");return moduleKey===model["@type"][0]}/**
     * Computes security scheme model.
     * @param {Object} declares Computed value of `declares`
     * @param {Array<Object>} references Computed list of references
     * @param {String} selected Current selection
     * @param {Object|Array} model Passed AMF model.
     * @param {Boolean} isFragment Value of `_isFragment` property
     * @return {Object|undefined}
     */_computeSecurity(declares,references,selected,model,isFragment){if(!isFragment){return this._computeSecurityModel(declares,references,selected)}if(this._isLibrary(model)){return this._computeDeclById(model,selected)}return this._computeEncodes(model)}/**
     * Computes model for selected security definition.
     *
     * @param {Array} declares Current value of `declares` property
     * @param {Array<Object>} references Computed list of references
     * @param {String} selected Selected shape
     * @return {Object} A security definition
     */_computeSecurityModel(declares,references,selected){if(!declares&&!references||!selected){return}let result;if(declares){result=declares.find(item=>item["@id"]===selected)}if(!result&&references&&references.length){for(let i=0,len=references.length;i<len;i++){if(!this._hasType(references[i],this.ns.raml.vocabularies.document+"Module")){continue}result=this._computeReferenceSecurity(references[i],selected);if(result){break}}}return result}/**
     * Computes a security model from a reference (library for example).
     * @param {Object|Array} reference AMF model for a reference to extract the data from
     * @param {String} selected Node ID to look for
     * @return {Object|undefined} Type definition or undefined if not found.
     */_computeReferenceSecurity(reference,selected){const declare=this._computeDeclares(reference);if(!declare){return}let result=declare.find(item=>{if(item instanceof Array){item=item[0]}return item["@id"]===selected});if(result instanceof Array){result=result[0]}return this._resolve(result)}/**
     * Computes model for documentation.
     * @param {Object} webApi Computed value of webApi
     * @param {String} selected Current selection
     * @param {Object|Array} model Passed AMF model.
     * @param {Boolean} isFragment Value of `_isFragment` property
     * @return {Object|undefined}
     */_computeDocuemntationModel(webApi,selected,model,isFragment){if(!isFragment){return this._computeDocument(webApi,selected)}return this._computeEncodes(model)}/**
     * Computes model for a type.
     * @param {Array<Object>} declares Computed list of declares
     * @param {Array<Object>} references Computed list of references
     * @param {String} selected Current selection
     * @param {Object|Array} model Passed AMF model.
     * @param {Boolean} isFragment Value of `_isFragment` property
     * @return {Object|undefined}
     */_computeTypeModel(declares,references,selected,model,isFragment){if(!isFragment){return this._computeType(declares,references,selected)}if(this._isLibrary(model)){return this._computeDeclById(model,selected)}return this._computeEncodes(model)}/**
     * Computes model of a shape defined ni `declares` list
     * @param {Object} model AMF model
     * @param {String} selected Current selection
     * @return {Object|undefined}
     */_computeDeclById(model,selected){const declares=this._computeDeclares(model);if(!declares){return}return declares.find(item=>item["@id"]===selected)}}window.customElements.define(ApiDocumentation.is,ApiDocumentation);</script></dom-module><script>/**
 * `<api-console-ext-comm>` is an element that support communication with
 * the api-console-extension.
 *
 * If the extension is installed then it will intercept the `api-request`
 * and cancel it.
 *
 * Data from the event are passed to the extension and the request is to
 * be executed from within the extension.
 *
 * @customElement
 * @polymer
 * @memberof ApiElements
 */class ApiConsoleExtComm extends Polymer.Element{static get is(){return"api-console-ext-comm"}static get properties(){return{/**
       * If true then the API console extension has been detected.
       */hasExtension:{type:Boolean,value:/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,notify:!0/* skipSlots */,readOnly:!0},/**
       * An event handler for the API console events (request, abort,
       * token request etc). By default it uses body but it should be
       * the console if possible or the request panel.
       */eventTarget:{type:Object,value:function(){return document.body},observer:"_eventTargetChanged"},/**
       * List of active requests sent to the extension.
       * The key is request ID (generated by the console) and the value
       * is the request data.
       */_activeRequests:{type:Object,readOnly:!0,value:function(){return{}}}}}constructor(){super();this._messsageHandler=this._messsageHandler.bind(this);this._requestHandler=this._requestHandler.bind(this);this._oauthTokenHandler=this._oauthTokenHandler.bind(this);this._abortHandler=this._abortHandler.bind(this)}connectedCallback(){super.connectedCallback();window.addEventListener("message",this._messsageHandler);this._notifyExtension()}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("message",this._messsageHandler);if(this._oldEventTarget){this._unobserverConsoleEvents(this._oldEventTarget);this._oldEventTarget=void 0}}/**
   * Posts message on a window object to request an event from the
   * extension if it is installed.
   */_notifyExtension(){window.postMessage({payload:"api-console-extension-installed"},location.origin)}/**
   * Handler for event target change. Removes listener from old
   * hasndelr and sets up API console event listeners on the node.
   * @param {Node} et New event target
   */_eventTargetChanged(et){if(this._oldEventTarget){this._unobserverConsoleEvents(this._oldEventTarget)}this._oldEventTarget=et;this._observerConsoleEvents(et)}/**
   * Sets up API console event listeners on the target node.
   * @param {Node} node Target for the events
   */_observerConsoleEvents(node){node.addEventListener("api-request",this._requestHandler);node.addEventListener("abort-api-request",this._abortHandler);node.addEventListener("oauth2-token-requested",this._oauthTokenHandler)}/**
   * Removes API console event listeners from the target node.
   * @param {Node} node Target for the events
   */_unobserverConsoleEvents(node){node.removeEventListener("api-request",this._requestHandler);node.removeEventListener("abort-api-request",this._abortHandler);node.removeEventListener("oauth2-token-requested",this._oauthTokenHandler)}/**
   * A handler for the message event dispatched on window object.
   * This is used in communication with an extension.
   *
   * @param {MessageEvent} e
   */_messsageHandler(e){if(e.source!==window||!e.data){return}const data=e.data;if(!data["api-console-extension"]){return}switch(data["api-console-payload"]){case"init":this._extensionDetected();break;case"api-console-response":this._responseReady(data["api-console-data"]);break;case"api-console-oauth2-token-response":this._oauthTokenReady(data["api-console-data"]);break;}}/**
   * A handler for API console request event
   *
   * @param {CustomEvent} e
   */_requestHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();const detail={headers:e.detail.headers,id:e.detail.id,method:e.detail.method,payload:e.detail.payload,url:e.detail.url};this._activeRequests[e.detail.id]=detail;window.postMessage({payload:"api-console-request",detail},location.origin)}/**
   * A handler for API console abort request handler.
   *
   * @param {CustomEvent} e
   */_abortHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();// Without the entry it won't report the response back.
delete this._activeRequests[e.detail.id]}/**
   * A handler for API console OAuth2 toekn request handler.
   *
   * @param {CustomEvent} e
   */_oauthTokenHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();window.postMessage({payload:"api-console-oauth2",detail:e.detail},location.origin)}/**
   * Called when the api-console-extension is detected.
   */_extensionDetected(){this._setHasExtension(!0);this.dispatchEvent(new CustomEvent("api-console-extension-installed",{bubbles:!0,composed:!0}))}/**
   * A handler for the response notified by the extension.
   */_responseReady(data){if(!this.hasExtension){return}const logs=data.log;if(logs&&logs.length){logs.forEach(item=>console.info(`[API console proxy] ${item}`))}const response=data.data,request=this._activeRequests[response.id];if(!request){// operation has been aborted
return}delete this._activeRequests[response.id];response.request=request;this.dispatchEvent(new CustomEvent("api-response",{bubbles:!0,composed:!0,detail:response}))}/**
   * Handler for OAuth token response.
   * @param {Object} data
   */_oauthTokenReady(data){if(!data){this.dispatchEvent(new CustomEvent("oauth2-error",{bubbles:!0,composed:!0,detail:{message:"No response has been recorded.",code:"no_response"}}));return}if(data.error){const message=data.message&&"string"===typeof data.message?data.message:"No response has been recorded.",code=data.code&&"string"===typeof data.code?data.code:"unknown_error";this.dispatchEvent(new CustomEvent("oauth2-error",{bubbles:!0,composed:!0,detail:{message:message,code:code}}));return}const state=data.state&&"string"===typeof data.state?data.state:void 0,accessToken=data.accessToken&&"string"===typeof data.accessToken?data.accessToken:void 0,tokenType=data.tokenType&&"string"===typeof data.tokenType?data.tokenType:void 0,tokenTime=data.tokenTime&&"number"===typeof data.tokenTime?data.tokenTime:void 0,expiresIn=data.expiresIn&&("number"===typeof data.expiresIn||"string"===typeof data.expiresIn)?+data.expiresIn:void 0,scope=data.scope&&"string"===typeof data.scope?data.scope:void 0;this.dispatchEvent(new CustomEvent("oauth2-token-response",{bubbles:!0,composed:!0,detail:{state,accessToken,tokenType,tokenTime,expiresIn,scope}}))}/**
   * Called when the API console extension has been detected,
   *
   * @event api-console-extension-installed
   */}window.customElements.define(ApiConsoleExtComm.is,ApiConsoleExtComm);</script><script>/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/var CryptoJS=CryptoJS||function(e,m){var p={},j=p.lib={},l=function(){},f=j.Base={extend:function(a){l.prototype=this;var c=new l;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},n=j.WordArray=f.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=m?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var c=this.words,q=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var b=0;b<a;b++)c[d+b>>>2]|=(255&q[b>>>2]>>>24-8*(b%4))<<24-8*((d+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[d+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=e.ceil(c/4)},clone:function(){var a=f.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(0|4294967296*e.random());return new n.init(c,a)}}),b=p.enc={},h=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0,f;d<a;d++){f=255&c[d>>>2]>>>24-8*(d%4);b.push((f>>>4).toString(16));b.push((15&f).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d+=2)b[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new n.init(b,c/2)}},g=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;d<a;d++)b.push(String.fromCharCode(255&c[d>>>2]>>>24-8*(d%4)));return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d++)b[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new n.init(b,c)}},r=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(g.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return g.parse(unescape(encodeURIComponent(a)))}},k=j.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new n.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=r.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,d=c.sigBytes,f=this.blockSize,h=d/(4*f),h=a?e.ceil(h):e.max((0|h)-this._minBufferSize,0);a=h*f;d=e.min(4*a,d);if(a){for(var g=0;g<a;g+=f)this._doProcessBlock(b,g);g=b.splice(0,a);c.sigBytes-=d}return new n.init(g,d)},clone:function(){var a=f.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});j.Hasher=k.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){k.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,b){return new a.init(b).finalize(c)}},_createHmacHelper:function(a){return function(b,f){return new s.HMAC.init(a,f).finalize(b)}}});var s=p.algo={};return p}(Math);(function(){var e=CryptoJS,m=e.lib,p=m.WordArray,j=m.Hasher,l=[],m=e.algo.SHA1=j.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,n){for(var b=this._hash.words,h=b[0],g=b[1],e=b[2],k=b[3],j=b[4],a=0;80>a;a++){if(16>a)l[a]=0|f[n+a];else{var c=l[a-3]^l[a-8]^l[a-14]^l[a-16];l[a]=c<<1|c>>>31}c=(h<<5|h>>>27)+j+l[a];c=20>a?c+((g&e|~g&k)+1518500249):40>a?c+((g^e^k)+1859775393):60>a?c+((g&e|g&k|e&k)-1894007588):c+((g^e^k)-899497514);j=k;k=e;e=g<<30|g>>>2;g=h;h=c}b[0]=0|b[0]+h;b[1]=0|b[1]+g;b[2]=0|b[2]+e;b[3]=0|b[3]+k;b[4]=0|b[4]+j},_doFinalize:function(){var f=this._data,e=f.words,b=8*this._nDataBytes,h=8*f.sigBytes;e[h>>>5]|=128<<24-h%32;e[(h+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(h+64>>>9<<4)+15]=b;f.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=j.clone.call(this);e._hash=this._hash.clone();return e}});e.SHA1=j._createHelper(m);e.HmacSHA1=j._createHmacHelper(m)})();</script><script>/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(255&e[a>>>2]>>>24-8*(a%4))<<16|(255&e[a+1>>>2]>>>24-8*((a+1)%4))<<8|255&e[a+2>>>2]>>>24-8*((a+2)%4),g=0;4>g&&a+.75*g<f;g++)b.push(c.charAt(63&d>>>6*(3-g)));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join("")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<e;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();</script><script>/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/var CryptoJS=CryptoJS||function(s,p){var m={},l=m.lib={},n=function(){},r=l.Base={extend:function(b){n.prototype=this;var h=new n;b&&h.mixIn(b);h.hasOwnProperty("init")||(h.init=function(){h.$super.init.apply(this,arguments)});h.init.prototype=h;h.$super=this;return h},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var h in b)b.hasOwnProperty(h)&&(this[h]=b[h]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},q=l.WordArray=r.extend({init:function(b,h){b=this.words=b||[];this.sigBytes=h!=p?h:4*b.length},toString:function(b){return(b||t).stringify(this)},concat:function(b){var h=this.words,a=b.words,j=this.sigBytes;b=b.sigBytes;this.clamp();if(j%4)for(var g=0;g<b;g++)h[j+g>>>2]|=(255&a[g>>>2]>>>24-8*(g%4))<<24-8*((j+g)%4);else if(65535<a.length)for(g=0;g<b;g+=4)h[j+g>>>2]=a[g>>>2];else h.push.apply(h,a);this.sigBytes+=b;return this},clamp:function(){var b=this.words,h=this.sigBytes;b[h>>>2]&=4294967295<<32-8*(h%4);b.length=s.ceil(h/4)},clone:function(){var b=r.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var h=[],a=0;a<b;a+=4)h.push(0|4294967296*s.random());return new q.init(h,b)}}),v=m.enc={},t=v.Hex={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0,k;j<b;j++){k=255&a[j>>>2]>>>24-8*(j%4);g.push((k>>>4).toString(16));g.push((15&k).toString(16))}return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j+=2)g[j>>>3]|=parseInt(b.substr(j,2),16)<<24-4*(j%8);return new q.init(g,a/2)}},a=v.Latin1={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++)g.push(String.fromCharCode(255&a[j>>>2]>>>24-8*(j%4)));return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j++)g[j>>>2]|=(255&b.charCodeAt(j))<<24-8*(j%4);return new q.init(g,a)}},u=v.Utf8={stringify:function(b){try{return decodeURIComponent(escape(a.stringify(b)))}catch(g){throw Error("Malformed UTF-8 data")}},parse:function(b){return a.parse(unescape(encodeURIComponent(b)))}},g=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=u.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,g=a.words,j=a.sigBytes,k=this.blockSize,m=j/(4*k),m=b?s.ceil(m):s.max((0|m)-this._minBufferSize,0);b=m*k;j=s.min(4*b,j);if(b){for(var l=0;l<b;l+=k)this._doProcessBlock(g,l);l=g.splice(0,b);a.sigBytes-=j}return new q.init(l,j)},clone:function(){var b=r.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});l.Hasher=g.extend({cfg:r.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,g){return new b.init(g).finalize(a)}},_createHmacHelper:function(b){return function(a,g){return new k.HMAC.init(b,g).finalize(a)}}});var k=m.algo={};return m}(Math);(function(s){function p(a,k,b,h,l,j,m){a=a+(k&b|~k&h)+l+m;return(a<<j|a>>>32-j)+k}function m(a,k,b,h,l,j,m){a=a+(k&h|b&~h)+l+m;return(a<<j|a>>>32-j)+k}function l(a,k,b,h,l,j,m){a=a+(k^b^h)+l+m;return(a<<j|a>>>32-j)+k}function n(a,k,b,h,l,j,m){a=a+(b^(k|~h))+l+m;return(a<<j|a>>>32-j)+k}for(var r=CryptoJS,q=r.lib,v=q.WordArray,t=q.Hasher,q=r.algo,a=[],u=0;64>u;u++)a[u]=0|4294967296*s.abs(s.sin(u+1));q=q.MD5=t.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,k){for(var b=0;16>b;b++){var h=k+b,w=g[h];g[h]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8)}var b=this._hash.words,h=g[k+0],w=g[k+1],j=g[k+2],q=g[k+3],r=g[k+4],s=g[k+5],t=g[k+6],u=g[k+7],v=g[k+8],x=g[k+9],y=g[k+10],z=g[k+11],A=g[k+12],B=g[k+13],C=g[k+14],D=g[k+15],c=b[0],d=b[1],e=b[2],f=b[3],c=p(c,d,e,f,h,7,a[0]),f=p(f,c,d,e,w,12,a[1]),e=p(e,f,c,d,j,17,a[2]),d=p(d,e,f,c,q,22,a[3]),c=p(c,d,e,f,r,7,a[4]),f=p(f,c,d,e,s,12,a[5]),e=p(e,f,c,d,t,17,a[6]),d=p(d,e,f,c,u,22,a[7]),c=p(c,d,e,f,v,7,a[8]),f=p(f,c,d,e,x,12,a[9]),e=p(e,f,c,d,y,17,a[10]),d=p(d,e,f,c,z,22,a[11]),c=p(c,d,e,f,A,7,a[12]),f=p(f,c,d,e,B,12,a[13]),e=p(e,f,c,d,C,17,a[14]),d=p(d,e,f,c,D,22,a[15]),c=m(c,d,e,f,w,5,a[16]),f=m(f,c,d,e,t,9,a[17]),e=m(e,f,c,d,z,14,a[18]),d=m(d,e,f,c,h,20,a[19]),c=m(c,d,e,f,s,5,a[20]),f=m(f,c,d,e,y,9,a[21]),e=m(e,f,c,d,D,14,a[22]),d=m(d,e,f,c,r,20,a[23]),c=m(c,d,e,f,x,5,a[24]),f=m(f,c,d,e,C,9,a[25]),e=m(e,f,c,d,q,14,a[26]),d=m(d,e,f,c,v,20,a[27]),c=m(c,d,e,f,B,5,a[28]),f=m(f,c,d,e,j,9,a[29]),e=m(e,f,c,d,u,14,a[30]),d=m(d,e,f,c,A,20,a[31]),c=l(c,d,e,f,s,4,a[32]),f=l(f,c,d,e,v,11,a[33]),e=l(e,f,c,d,z,16,a[34]),d=l(d,e,f,c,C,23,a[35]),c=l(c,d,e,f,w,4,a[36]),f=l(f,c,d,e,r,11,a[37]),e=l(e,f,c,d,u,16,a[38]),d=l(d,e,f,c,y,23,a[39]),c=l(c,d,e,f,B,4,a[40]),f=l(f,c,d,e,h,11,a[41]),e=l(e,f,c,d,q,16,a[42]),d=l(d,e,f,c,t,23,a[43]),c=l(c,d,e,f,x,4,a[44]),f=l(f,c,d,e,A,11,a[45]),e=l(e,f,c,d,D,16,a[46]),d=l(d,e,f,c,j,23,a[47]),c=n(c,d,e,f,h,6,a[48]),f=n(f,c,d,e,u,10,a[49]),e=n(e,f,c,d,C,15,a[50]),d=n(d,e,f,c,s,21,a[51]),c=n(c,d,e,f,A,6,a[52]),f=n(f,c,d,e,q,10,a[53]),e=n(e,f,c,d,y,15,a[54]),d=n(d,e,f,c,w,21,a[55]),c=n(c,d,e,f,v,6,a[56]),f=n(f,c,d,e,D,10,a[57]),e=n(e,f,c,d,t,15,a[58]),d=n(d,e,f,c,B,21,a[59]),c=n(c,d,e,f,r,6,a[60]),f=n(f,c,d,e,z,10,a[61]),e=n(e,f,c,d,j,15,a[62]),d=n(d,e,f,c,x,21,a[63]);b[0]=0|b[0]+c;b[1]=0|b[1]+d;b[2]=0|b[2]+e;b[3]=0|b[3]+f},_doFinalize:function(){var a=this._data,k=a.words,b=8*this._nDataBytes,h=8*a.sigBytes;k[h>>>5]|=128<<24-h%32;var l=s.floor(b/4294967296);k[(h+64>>>9<<4)+15]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8);k[(h+64>>>9<<4)+14]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8);a.sigBytes=4*(k.length+1);this._process();a=this._hash;k=a.words;for(b=0;4>b;b++)h=k[b],k[b]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8);return a},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=t._createHelper(q);r.HmacMD5=t._createHmacHelper(q)})(Math);</script><script>/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/var CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(255&q[b>>>2]>>>24-8*(b%4))<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(0|4294967296*g.random());return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0,d;f<a;f++){d=255&c[f>>>2]>>>24-8*(f%4);b.push((d>>>4).toString(16));b.push((15&d).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(255&c[f>>>2]>>>24-8*(f%4)));return b.join("")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(255&a.charCodeAt(f))<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((0|e)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return new a.init(d).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return new s.HMAC.init(a,d).finalize(b)}}});var s=e.algo={};return e}(Math);(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=0|d[e+a];else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^g)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=0|b[0]+n;b[1]=0|b[1]+j;b[2]=0|b[2]+h;b[3]=0|b[3]+g;b[4]=0|b[4]+l},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;"string"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();</script><script>// All polyfills source: Mozilla Developer Network
if("function"!==typeof Object.assign){Object.assign=function(target){'use strict';if(null===target){throw new TypeError("Cannot convert undefined or null to object")}for(var to=Object(target),index=1,nextSource;index<arguments.length;index++){nextSource=arguments[index];if(null!==nextSource){for(var nextKey in nextSource){if(Object.prototype.hasOwnProperty.call(nextSource,nextKey)){to[nextKey]=nextSource[nextKey]}}}}return to}}if(!Object.keys){Object.keys=function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("function"!==typeof obj&&("object"!==typeof obj||null===obj)){throw new TypeError("Object.keys called on non-object")}var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}()}if(!Array.isArray){Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)}}// https://tc39.github.io/ecma262/#sec-array.prototype.find
if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(null===this){throw new TypeError("\"this\" is null or not defined")}var o=Object(this),len=o.length>>>0;if("function"!==typeof predicate){throw new TypeError("predicate must be a function")}var thisArg=arguments[1],k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return kValue}k++}return void 0}})}if(!Array.prototype.copyWithin){Array.prototype.copyWithin=function(target,start/*, end*/){if(null===this){throw new TypeError("this is null or not defined")}var O=Object(this),len=O.length>>>0,relativeTarget=target>>0,to=0>relativeTarget?Math.max(len+relativeTarget,0):Math.min(relativeTarget,len),relativeStart=start>>0,from=0>relativeStart?Math.max(len+relativeStart,0):Math.min(relativeStart,len),end=arguments[2],relativeEnd=end===void 0?len:end>>0,final=0>relativeEnd?Math.max(len+relativeEnd,0):Math.min(relativeEnd,len),count=Math.min(final-from,len-to),direction=1;if(from<to&&to<from+count){direction=-1;from+=count-1;to+=count-1}while(0<count){if(from in O){O[to]=O[from]}else{delete O[to]}from+=direction;to+=direction;count--}return O}}// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex
if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function(predicate){if(null===this){throw new TypeError("\"this\" is null or not defined")}var o=Object(this),len=o.length>>>0;if("function"!==typeof predicate){throw new TypeError("predicate must be a function")}var thisArg=arguments[1],k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return k}k++}return-1}})}// https://tc39.github.io/ecma262/#sec-array.prototype.includes
if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(searchElement,fromIndex){if(null===this){throw new TypeError("\"this\" is null or not defined")}var o=Object(this),len=o.length>>>0;if(0===len){return(/* eat */ /* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}var n=0|fromIndex,k=Math.max(0<=n?n:len-Math.abs(n),0);function sameValueZero(x,y){return x===y||"number"===typeof x&&"number"===typeof y&&isNaN(x)&&isNaN(y)}while(k<len){if(sameValueZero(o[k],searchElement)){return!0/* skipSlots */}k++}return!1}})}// Production steps of ECMA-262, Edition 6, 22.1.2.1
if(!Array.from){Array.from=function(){var toStr=Object.prototype.toString,isCallable=function(fn){return"function"===typeof fn||"[object Function]"===toStr.call(fn)},toInteger=function(value){var number=+value;if(isNaN(number)){return 0}if(0===number||!isFinite(number)){return number}return(0<number?1:-1)*Math.floor(Math.abs(number))},maxSafeInteger=Math.pow(2,53)-1,toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};return function from(arrayLike/*, mapFn, thisArg */){var C=this,items=Object(arrayLike);if(null===arrayLike){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var mapFn=1<arguments.length?arguments[1]:void void 0,T;if("undefined"!==typeof mapFn){if(!isCallable(mapFn)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(2<arguments.length){T=arguments[2]}}var len=toLength(items.length),A=isCallable(C)?Object(new C(len)):Array(len),k=0,kValue;while(k<len){kValue=items[k];if(mapFn){A[k]="undefined"===typeof T?mapFn(kValue,k):mapFn.call(T,kValue,k)}else{A[k]=kValue}k+=1}A.length=len;return A}}()}Number.isInteger=Number.isInteger||function(value){return"number"===typeof value&&isFinite(value)&&Math.floor(value)===value};if(!String.prototype.startsWith){String.prototype.startsWith=function(search,pos){return this.substr(!pos||0>pos?0:+pos,search.length)===search}}</script><script>/**
   * `xhr-simple-request`
   * A XHR request that works with API components.
   *
   * This is a copy of `iron-request` element from PolymerElements library but
   * adjusted to work with `API request` object (or ARC request object).
   *
   * It also handles custom events related to request flow.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin ArcBehaviors.HeadersParserBehavior
   * @memberof TransportElements
   */class XhrSimpleRequestTransport extends ArcBehaviors.HeadersParserBehavior(Polymer.Element){static get is(){return"xhr-simple-request-transport"}static get properties(){return{/**
         * A reference to the XMLHttpRequest instance used to generate the
         * network request.
         *
         * @type {XMLHttpRequest}
         */xhr:{type:Object,readOnly:!0/* ignoreName */ /* skipSlots */,value:function(){return new XMLHttpRequest}},/**
         * A reference to the parsed response body, if the `xhr` has completely
         * resolved.
         *
         * @type {*}
         * @default null
         */response:{type:Object,readOnly:!0,value:function(){return null}},/**
         * A reference to response headers, if the `xhr` has completely
         * resolved.
         *
         * @type {String}
         * @default undefined
         */headers:{type:Object,readOnly:!0},/**
         * A reference to the status code, if the `xhr` has completely resolved.
         */status:{type:Number,readOnly:!0,value:0},/**
         * A reference to the status text, if the `xhr` has completely resolved.
         */statusText:{type:String,readOnly:!0,value:""},/**
         * A promise that resolves when the `xhr` response comes back, or rejects
         * if there is an error before the `xhr` completes.
         * The resolve callback is called with the original request as an argument.
         * By default, the reject callback is called with an `Error` as an argument.
         * If `rejectWithRequest` is true, the reject callback is called with an
         * object with two keys: `request`, the original request, and `error`, the
         * error object.
         *
         * @type {Promise}
         */completes:{type:Object,readOnly:!0,value:function(){return new Promise((resolve,reject)=>{this.resolveCompletes=resolve;this.rejectCompletes=reject})}},/**
         * An object that contains progress information emitted by the XHR if
         * available.
         *
         * @default {}
         */progress:{type:Object,readOnly:!0,value:function(){return{}}},/**
         * Aborted will be true if an abort of the request is attempted.
         */aborted:{type:Boolean,readOnly:!0,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},/**
         * Errored will be true if the browser fired an error event from the
         * XHR object (mainly network errors).
         */errored:{type:Boolean,readOnly:!0,value:!1},/**
         * TimedOut will be true if the XHR threw a timeout event.
         */timedOut:{type:Boolean,readOnly:!0,value:!1},/**
         * Appends headers to each request handled by this component.
         *
         * Example
         *
         * ```html
         * <xhr-simple-request
         *  append-headers="x-token: 123\nx-api-demo: true"></xhr-simple-request>
         * ```
         */appendHeaders:String,/**
         * Computed list of headers to add to each request.
         * @type {Array<Object>}
         */_addHeaders:{type:Array,computed:"_computeAddHeaders(appendHeaders)"},/**
         * If set every request made from the console will be proxied by the service provided in this
         * value.
         * It will prefix entered URL with the proxy value. so the call to
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/path/http://domain.com/path/?query=some+value`
         *
         * If the proxy require a to pass the URL as a query parameter define value as follows:
         * `https://proxy.com/path/?url=`. In this case be sure to set `proxy-encode-url`
         * attribute.
         */proxy:String,/**
         * If `proxy` is set, it will URL encode the request URL before appending it to the proxy URL.
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/?url=http%3A%2F%2Fdomain.com%2Fpath%2F%3Fquery%3Dsome%2Bvalue`
         */proxyEncodeUrl:Boolean}}ready(){super.ready();this.setAttribute("hidden","true")}/**
     * Succeeded is true if the request succeeded. The request succeeded if it
     * loaded without error, wasn't aborted, and the status code is ≥ 200, and
     * < 300, or if the status code is 0.
     *
     * The status code 0 is accepted as a success because some schemes - e.g.
     * file:// - don't provide status codes.
     *
     * @return {boolean}
     */get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}const status=this.xhr.status||0;// Note: if we are using the file:// protocol, the status code will be 0
// for all outcomes (successful or otherwise).
return 0===status||200<=status&&300>status}/**
     * Sends a request.
     *
     * @param {Object} options API request object
     * - url `String` The url to which the request is sent.
     * - method `(string|undefined)` The HTTP method to use, default is GET.
     * - payload `(ArrayBuffer|ArrayBufferView|Blob|Document|FormData|null|string|undefined|Object)`
     * The content for the request body for POST method.
     * - headers `String` HTTP request headers.
     * - withCredentials `(boolean|undefined)` Whether or not to send credentials on the request. Default is false.
     * - timeout `(Number|undefined)` Timeout for request, in milliseconds.
     * - id `String` Request ID
     * @return {Promise}
     */send(options){const xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",e=>this._progressHandler(e));xhr.addEventListener("error",error=>this._errorHandler(error));xhr.addEventListener("timeout",error=>this._timeoutHandler(error));xhr.addEventListener("abort",()=>this._abortHandler());// Called after all of the above.
xhr.addEventListener("loadend",()=>this._loadEndHandler());const url=this._appendProxy(options.url);xhr.open(options.method||"GET",url,!0);this._applyHeaders(xhr,options.headers);xhr.timeout=options.timeout;xhr.withCredentials=!!options.withCredentials;try{xhr.send(options.payload)}catch(e){this._errorHandler(e)}return this.completes}/**
     * Applies headers to the XHR object.
     *
     * @param {XMLHttpRequest} xhr
     * @param {?String} headers HTTP headers string
     */_applyHeaders(xhr,headers){const fixed=this._addHeaders,fixedNames=[];if(fixed&&fixed.length){fixed.forEach(item=>{fixedNames[fixedNames.length]=item.name;try{xhr.setRequestHeader(item.name,item.value)}catch(e){console.warn(`Header ${item.name} cannot be set with value ${item.value}`)}})}if(headers){const data=this.headersToJSON(headers+"");data.forEach(item=>{if(-1!==fixedNames.indexOf(item.name)){return}try{xhr.setRequestHeader(item.name,item.value)}catch(e){console.warn(`Header ${item.name} cannot be set with value ${item.value}`)}})}}/**
     * Handler for the XHR `progress` event.
     * It sets `progress` property and dispatches `api-request-progress-changed`
     * custom event.
     * @param {ProgressEvent} progress
     */_progressHandler(progress){if(this.aborted){return}this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total});// Webcomponents v1 spec does not fire *-changed events when not connected
const e=new CustomEvent("api-request-progress-changed",{cancelable:!1,bubbles:!0,composed:!0,detail:{value:this.progress}});this.dispatchEvent(e)}/**
     * Handler for XHR `error` event.
     *
     * @param {ProgressEvent} error https://xhr.spec.whatwg.org/#event-xhr-error
     */_errorHandler(error){if(this.aborted){return}this._setErrored(!0);this._updateStatus();this._setHeaders(this.collectHeaders());const response={error:error,request:this.xhr,headers:this.headers};this.rejectCompletes(response)}/**
     * Handler for XHR `timeout` event.
     *
     * @param {ProgressEvent} error https://xhr.spec.whatwg.org/#event-xhr-timeout
     */_timeoutHandler(error){this._setTimedOut(!0);this._updateStatus();const response={error:error,request:this.xhr};this.rejectCompletes(response)}/**
     * Handler for XHR `abort` event.
     *
     * @param {ProgressEvent} error https://xhr.spec.whatwg.org/#event-xhr-abort
     */_abortHandler(){this._setAborted(!0);this._updateStatus();const error=new Error("Request aborted"),response={error:error,request:this.xhr};this.rejectCompletes(response)}/**
     * Handler for XHR `loadend` event.
     *
     * @param {ProgressEvent} error https://xhr.spec.whatwg.org/#event-xhr-loadend
     */_loadEndHandler(){if(this.aborted||this.timedOut){return}this._updateStatus();this._setHeaders(this.collectHeaders());this._setResponse(this.parseResponse());if(!this.succeeded){const error=new Error("The request failed with status code: "+this.xhr.status),response={error:error,request:this.xhr,headers:this.headers};this.rejectCompletes(response)}else{this.resolveCompletes({response:this.response,headers:this.headers})}}/**
     * Aborts the request.
     */abort(){this._setAborted(!0);this.xhr.abort()}/**
     * Updates the status code and status text.
     */_updateStatus(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}/**
     * Attempts to parse the response body of the XHR. If parsing succeeds,
     * the value returned will be deserialized based on the `responseType`
     * set on the XHR.
     *
     * TODO: The `responseType` will always be empty string because
     * send function does not sets the response type.
     * API request object does not support this property. However in the future
     * it may actually send this information extracted from the AMF model.
     * This function will be ready to handle this case.
     *
     * @return {*} The parsed response,
     * or undefined if there was an empty response or parsing failed.
     */parseResponse(){const xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType;try{switch(responseType){case"json":// If the xhr object doesn't have a natural `xhr.responseType`,
// we can assume that the browser hasn't parsed the response for us,
// and so parsing is our responsibility. Likewise if response is
// undefined, as there's no way to encode undefined in JSON.
if(preferResponseText||xhr.response===void 0){// Try to emulate the JSON section of the response body section of
// the spec: https://xhr.spec.whatwg.org/#response-body
// That is to say, we try to parse as JSON, but if anything goes
// wrong return null.
try{return JSON.parse(xhr.responseText)}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":return xhr.responseText;default:{return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}}/**
     * Collects response headers string from the XHR object.
     *
     * @return {String|undefined}
     */collectHeaders(){let data;try{data=this.xhr.getAllResponseHeaders()}catch(_){}return data}/**
     * Computes value for `_addHeaders` property.
     * A list of headers to add to each request.
     * @param {?String} headers Headers string
     * @return {Array<Object>|undefined}
     */_computeAddHeaders(headers){if(!headers){return}headers=(headers+"").replace("\\n","\n");return this.headersToJSON(headers)}/**
     * Sets the proxy URL if the `proxy` property is set.
     * @param {String} url Request URL to alter if needed.
     * @return {String} The URL to use with request.
     */_appendProxy(url){const proxy=this.proxy;if(!proxy){return url}let result=this.proxyEncodeUrl?encodeURIComponent(url):url;result=proxy+result;return result}/**
     * @event api-request-progress-changed
     *
     * Dispatched with XHR progress event
     *
     * @param {Object} value Object with progress properties:
     * - `lengthComputable`
     * - `loaded`
     * - `total`
     * See https://xhr.spec.whatwg.org/#progressevent for more info.
     */}window.customElements.define(XhrSimpleRequestTransport.is,XhrSimpleRequestTransport);</script><script>/**
   * `xhr-simple-request`
   * A XHR request that works with API components.
   *
   * It handles `api-request` and `abort-api-request` custom events that control
   * request flow in API components ecosystem.
   *
   * This makes a request by using `XMLHttpRequest` object.
   *
   * ## ARC request data model
   *
   * The `api-request` custom event has to contain ARC (Advanced REST client)
   * request data model. It expects the following properties:
   * - url (`String`) - Request URL
   * - method (`String`) - Request HTTP method.
   * - headers (`String|undefined`) - HTTP headers string
   * - payload (`String|FormData|File|ArrayBuffer|undefined`) Request body
   * - id (`String`) **required**, request id. It can be any string, it must be unique.
   *
   * Note, this library does not validates the values and use them as is.
   * Any error related to validation has to be handled by the application.
   *
   * ## api-response data model
   *
   * When response is ready the element dispatches `api-response` custom event
   * with following properties in the detail object.
   * - id (`String`) - Request incomming ID
   * - request (`Object`) - Original request object from `api-request` event
   * - loadingTime (`Number`) - High precise timing used by the performance API
   * - isError (`Boolean`) - Indicates if the request is errored
   * - error (`Error|undefined`) - Error object
   * - response (`Object`) - The response data:
   *  - status (`Number`) - Response status code
   *  - statusText (`String`) - Response status text. Can be empty string.
   *  - payload (`String|Document|ArrayBuffer|Blob`) - Response body
   *  - headers (`String|undefined`) - Response headers
   *
   * Please note that aborting the request always sends `api-response` event
   * with `isError` set to true.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @appliesMixin ArcBehaviors.EventsTargetBehavior
   * @memberof TransportElements
   */class XhrSimpleRequest extends ArcBehaviors.EventsTargetBehavior(Polymer.Element){static get is(){return"xhr-simple-request"}static get properties(){return{/**
         * Map of active request objects.
         * Keys in the map is request ID and vaue is instance of
         * `XhrSimpleRequestTransport`
         *
         * @type {Map<String, XhrSimpleRequestTransport>}
         */activeRequests:{type:Object,value:function(){return new Map}},/**
         * True while loading latest started requests.
         */loading:{type:Boolean,notify:!0/* ignoreName */ /* skipSlots */,readOnly:!0},/**
         * Latest used request object.
         *
         * @type {XhrSimpleRequestTransport}
         */lastRequest:{type:Object,notify:!0,readOnly:!0},/**
         * Appends headers to each request handled by this component.
         *
         * Example
         *
         * ```html
         * <xhr-simple-request
         *  append-headers="x-token: 123\nx-api-demo: true"></xhr-simple-request>
         * ```
         */appendHeaders:String,/**
         * If set every request made from the console will be proxied by the service provided in this
         * value.
         * It will prefix entered URL with the proxy value. so the call to
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/path/http://domain.com/path/?query=some+value`
         *
         * If the proxy require a to pass the URL as a query parameter define value as follows:
         * `https://proxy.com/path/?url=`. In this case be sure to set `proxy-encode-url`
         * attribute.
         */proxy:String,/**
         * If `proxy` is set, it will URL encode the request URL before appending it to the proxy URL.
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/?url=http%3A%2F%2Fdomain.com%2Fpath%2F%3Fquery%3Dsome%2Bvalue`
         */proxyEncodeUrl:Boolean}}constructor(){super();this._requestHandler=this._requestHandler.bind(this);this._aborthHandler=this._aborthHandler.bind(this)}ready(){super.ready();this.setAttribute("hidden","true")}_attachListeners(node){node.addEventListener("api-request",this._requestHandler);node.addEventListener("abort-api-request",this._aborthHandler)}_detachListeners(node){node.removeEventListener("api-request",this._requestHandler);node.removeEventListener("abort-api-request",this._aborthHandler)}/**
     * Creates instance of transport object with current configuration.
     * @return {XhrSimpleRequestTransport}
     */_createRequest(){const request=document.createElement("xhr-simple-request-transport");request.appendHeaders=this.appendHeaders;request.proxy=this.proxy;request.proxyEncodeUrl=this.proxyEncodeUrl;return request}/**
     * Handles for the `api-request` custom event. Transports the request.
     *
     * @param {CustomEvent} e
     */_requestHandler(e){if(e.defaultPrevented){return}e.preventDefault();const opts=e.detail,request=this._createRequest();request.__opts=opts;this.activeRequests.set(opts.id,request);request.completes.then(()=>this._responseHandler(opts.id)).catch(error=>this._erroreHandler(error,opts.id)).then(()=>this._discardRequest(opts.id));request._startTime=performance.now();request.send(opts);this._setLastRequest(request);this._setLoading(!0)}/**
     * Handler for `abort-api-request` event. Aborts the request and reports
     * errored response.
     * It expects the event to have `id` property set on the detail object.
     * @param {CustomEvent} e
     */_aborthHandler(e){if(e.defaultPrevented){return}e.preventDefault();const id=e.detail.id,request=this.activeRequests.get(id);if(!request){return}request.abort();// Error thrown by the abort event will clear the request.
}/**
     * Creates a detail object for `api-response` cutom event
     *
     * @param {XhrSimpleRequestTransport} request Request object
     * @param {String} id Request original ID
     * @return {Object} The value of the `detail` property.
     */_createDetail(request,id){const loadingTime=performance.now()-request._startTime,result={id:id,request:request.__opts,response:{status:request.status,statusText:request.statusText,payload:request.response,headers:request.headers},loadingTime:loadingTime};return result}/**
     * Handles response from the transport.
     *
     * @param {String} id Request ID
     */_responseHandler(id){this._setLoading(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */);const request=this.activeRequests.get(id),result=this._createDetail(request,id);result.isError=!1;this._notifyResponse(result)}/**
     * Handles transport error
     *
     * @param {Object} err Transport error object.
     * @param {String} id Request ID
     */_erroreHandler(err,id){this._setLoading(!1);/* global ProgressEvent */let error=err.error;if(error instanceof ProgressEvent){error=new Error("Unable to connect")}const request=this.activeRequests.get(id),result=this._createDetail(request,id);result.isError=!0;result.error=error;this._notifyResponse(result)}/**
     * Dispatches `api-response` custom event.
     *
     * @param {Object} detail Request and response data.
     */_notifyResponse(detail){const e=new CustomEvent("api-response",{bubbles:!0,composed:!0,detail});this.dispatchEvent(e)}/**
     * Removes request from active requests.
     *
     * @param {String} id Request ID.
     */_discardRequest(id){this.activeRequests.delete(id)}/**
     * @event api-response
     *
     * Dispatched when the response is ready.
     *
     * For list of parameters see element's documentation.
     */}window.customElements.define(XhrSimpleRequest.is,XhrSimpleRequest);</script><script>// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.
!function(a,b){var c={},d={},e={};!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=x}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==v.indexOf(b[c]))return;if("direction"==c&&-1==w.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||1<a||0>c||1<c?x:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0>=e){var g=0;return 0<a?g=b/a:!b&&0<c&&(g=d/c),g*e}if(1<=e){var h=0;return 1>c?h=(d-1)/(c-1):1==c&&1>a&&(h=(b-1)/(a-1)),1+h*(e-1)}for(var i=0,j=1;i<j;){var k=(i+j)/2,l=f(a,c,k);if(1e-5>Math.abs(e-l))return f(b,d,k);l<e?i=k:j=k}return f(b,d,k)}}function j(a,b){return function(c){if(1<=c)return 1;var d=1/a;return(c+=b*d)-c%d}}function k(a){C||(C=document.createElement("div").style),C.animationTimingFunction="",C.animationTimingFunction=a;var b=C.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");return b}function l(a){if("linear"==a)return x;var b=E.exec(a);if(b)return i.apply(this,b.slice(1).map(Number));var c=F.exec(a);return c?j(+c[1],{start:y,middle:z,end:A}[c[2]]):B[a]||x}function m(a){return Math.abs(n(a)/a.playbackRate)}function n(a){return 0===a.duration||0===a.iterations?0:a.duration*a.iterations}function o(a,b,c){if(null==b)return G;var d=c.delay+a+c.endDelay;return b<Math.min(c.delay,d)?H:b>=Math.min(c.delay+a,d)?I:J}function p(a,b,c,d,e){switch(d){case H:return"backwards"==b||"both"==b?0:null;case J:return c-e;case I:return"forwards"==b||"both"==b?a:null;case G:return null;}}function q(a,b,c,d,e){var f=e;return 0===a?b!==H&&(f+=c):f+=d/a,f}function r(a,b,c,d,e,f){var g=a===1/0?b%1:a%1;return 0!==g||c!==I||0===d||0===e&&0!==f||(g=1),g}function s(a,b,c,d){return a===I&&b===1/0?1/0:1===c?Math.floor(d)-1:Math.floor(d)}function t(a,b,c){var d=a;if("normal"!==a&&"reverse"!==a){var e=b;"alternate-reverse"===a&&(e+=1),d="normal",e!==1/0&&0!=e%2&&(d="reverse")}return"normal"===d?c:1-c}function u(a,b,c){var d=o(a,b,c),e=p(a,c.fill,b,d,c.delay);if(null===e)return null;var f=q(c.duration,d,c.iterations,e,c.iterationStart),g=r(f,c.iterationStart,d,c.iterations,e,c.duration),h=s(d,c.iterations,g,f),i=t(c.direction,h,g);return c._easingFunction(i)}var v="backwards|forwards|both|none".split("|"),w="reverse|alternate|alternate-reverse".split("|"),x=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=l(k(a)),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var y=1,z=.5,A=0,B={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,y),"step-middle":j(1,z),"step-end":j(1,A)},C=null,D="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",E=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,F=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,G=0,H=1,I=2,J=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=m,a.calculateIterationProgress=u,a.calculatePhase=o,a.normalizeEasing=k,a.parseEasingFunction=l}(c),function(a,b){function c(a,b){return a in k?k[a][b]||b:b}function d(a){return"display"===a||0===a.lastIndexOf("animation",0)||0===a.lastIndexOf("transition",0)}function e(a,b,e){if(!d(a)){var f=h[a];if(f){i.style[a]=b;for(var g in f){var j=f[g],k=i.style[j];e[j]=c(j,k)}}else e[a]=c(a,b)}}function f(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;g<f;g++)e={},e.offset="offset"in a?a.offset:1==f?1:g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function g(b){function c(){var a=d.length;null==d[a-1].offset&&(d[a-1].offset=1),1<a&&null==d[0].offset&&(d[0].offset=0);for(var b=0,c=d[0].offset,e=1,f;e<a;e++){f=d[e].offset;if(null!=f){for(var g=1;g<e-b;g++)d[b+g].offset=c+(f-c)*g/(e-b);b=e,c=f}}}if(null==b)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||(b=f(b));for(var d=b.map(function(b){var c={};for(var d in b){var f=b[d];if("offset"==d){if(null!=f){if(f=+f,!isFinite(f))throw new TypeError("Keyframe offsets must be numbers.");if(0>f||1<f)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==d){if("add"==f||"accumulate"==f)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=f)throw new TypeError("Invalid composite mode "+f+".")}else f="easing"==d?a.normalizeEasing(f):""+f;e(d,f,c)}return void 0==c.offset&&(c.offset=null),void 0==c.easing&&(c.easing="linear"),c}),g=!0,h=-1/0,i=0,j;i<d.length;i++){j=d[i].offset;if(null!=j){if(j<h)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");h=j}else g=!1}return d=d.filter(function(a){return 0<=a.offset&&1>=a.offset}),g||c(),d}var h={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),j={thin:"1px",medium:"3px",thick:"5px"},k={borderBottomWidth:j,borderLeftWidth:j,borderRightWidth:j,borderTopWidth:j,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:j,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=f,a.normalizeKeyframes=g}(c),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),!(g<h&&(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,1))},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=g,i=g+1,j=f[h].offset,k=f[i].offset,l=j,m=k;0==g&&(l=-1/0,0==k&&(i=h)),g==f.length-2&&(m=1/0,1==j&&(h=i)),d.push({applyFrom:l,applyTo:m,startOffset:f[h].offset,endOffset:f[i].offset,easingFunction:a.parseEasingFunction(f[h].easing),property:e,interpolation:b.propertyInterpolation(e,f[h].value,f[i].value)})}return d.sort(function(a,b){return a.startOffset-b.startOffset}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return c>=a.applyFrom&&c<a.applyTo}).forEach(function(d){var e=c-d.startOffset,f=d.endOffset-d.startOffset,g=0==f?0:d.easingFunction(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){e(a,b,d(c[f]))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateIterationProgress(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return null!==(h=i(a))},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._target=c,k._totalDuration=i._totalDuration,k._id=g,k}}(c,d),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return .5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){0>this.playbackRate&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),b.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)),null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),b.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);0<=c&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;return a._activeAnimations||(a._activeAnimations=[]),a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),b=a.indexOf(this);-1!==b&&a.splice(b,1)}}}(c,d),function(a,b,c){function d(a){var b=j;j=[],a<q.currentTime&&(a=q.currentTime),q._animations.sort(e),q._animations=h(a,!0,q._animations)[0],b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c,d){p=!0,n=!1,b.timeline.currentTime=a,m=!1;var e=[],f=[],g=[],h=[];return d.forEach(function(b){b._tick(a,c),b._inEffect?(f.push(b._effect),b._markTarget()):(e.push(b._effect),b._unmarkTarget()),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;b._inTimeline=d,d?g.push(b):h.push(b)}),o.push.apply(o,e),o.push.apply(o,f),m&&requestAnimationFrame(function(){}),p=!1,[g,h]}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.applyDirtiedAnimation(d),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.applyDirtiedAnimation=function(a){if(!p){a._markTarget();var c=a._targetAnimations();c.sort(e),h(b.timeline.currentTime,!1,c.slice())[1].forEach(function(a){var b=q._animations.indexOf(a);-1!==b&&q._animations.splice(b,1)}),g()}};var o=[],p=!1,q=new f;b.timeline=q}(c,d),function(a){function b(a,b){var c=a.exec(b);if(c)return c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);if(c)return[c[0],c[1].replace(/^\s*/,"")]}function d(a,d,e){a=c.bind(null,a);for(var f=[],g;;){g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],!(g=b(d,e))||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){return a(c)||[b,c]}}function i(b,c){for(var d=[],e=0,f;e<b.length;e++){f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}if(""==c)return d}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0,l;k<j;k++){l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);if(e&&e[0].length)return[d,e[1]]}function c(c){var d=a.consumeRepeated(b,/^,/,c);if(d&&""==d[1])return d[0]}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0,i;h<b.lengths.length;h++){i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a))return+a}function f(a,b){return[a,b,c]}function g(a,b){if(0!=a)return i(0,1/0)(a,b)}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a){var b=a.trim().split(/\s*[\s,]\s*/);if(0!==b.length){for(var c=[],d=0,f;d<b.length;d++){f=e(b[d]);if(void 0===f)return;c.push(f)}return c}}function k(a,b){if(a.length==b.length)return[a,b,function(a){return a.map(c).join(" ")}]}function l(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(j,k,["stroke-dasharray"]),a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,l,["z-index"]),a.parseNumber=e,a.parseNumberList=j,a.mergeNumbers=f,a.numberToString=c}(d),function(a,b){function c(a,b){if("visible"==a||"visible"==b)return[0,1,function(c){return 0>=c?a:1<=c?b:"visible"}]}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d),function(a,b){function c(a){function b(){var b=h.exec(a);g=b?b[0]:void 0}function c(){var a=+g;return b(),a}function d(){if("("!==g)return c();b();var a=f();return")"!==g?NaN:(b(),a)}function e(){for(var a=d(),c;"*"===g||"/"===g;){c=g;b();var e=d();"*"===c?a*=e:a/=e}return a}function f(){for(var a=e(),c;"+"===g||"-"===g;){c=g;b();var d=e();"+"===c?a+=d:a-=d}return a}var g,h=/([\+\-\w\.]+|[\(\)\*\/])/g;return b(),f()}function d(a,b){if("0"==(b=b.trim().toLowerCase())&&0<="px".search(a))return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var d={};b=b.replace(a,function(a){return d[a]=null,"U"+a});for(var e="U("+a.source+")",f=b.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+e,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),g=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],h=0;h<g.length;)g[h].test(f)?(f=f.replace(g[h],"$1"),h=0):h++;if("D"==f){for(var i in d){var j=c(b.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(e,"g"),"*0"));if(!isFinite(j))return;d[i]=j}return d}}}function e(a,b){return f(a,b,!0)}function f(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)0>f.indexOf(e)&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return 1<b.length?"calc("+c+")":c}]}var g="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",h=d.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),i=d.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),j=d.bind(null,/deg|rad|grad|turn/g);a.parseLength=h,a.parseLengthOrPercent=i,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,i),a.parseAngle=j,a.mergeDimensions=f;var k=a.consumeParenthesised.bind(null,h),l=a.consumeRepeated.bind(void 0,k,/^/),m=a.consumeRepeated.bind(void 0,l,/^,/);a.consumeSizePairList=m;var n=function(a){var b=m(a);if(b&&""==b[1])return b[0]},o=a.mergeNestedRepeated.bind(void 0,e," "),p=a.mergeNestedRepeated.bind(void 0,o,",");a.mergeNonNegativeSizePair=o,a.addPropertiesHandler(n,p,["background-size"]),a.addPropertiesHandler(i,e,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(i,f,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(d),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);if(d&&4==d[0].length)return d[0]}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if("none"==(b=b.toLowerCase().trim()))return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(void 0===(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r]))return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]);return a.composeMatrix(b[0],b[1],b[2],c,b[4]).map(f).join(",")}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"]),a.transformToSvgMatrix=function(b){var c=a.transformListToMatrix(e(b));return"matrix("+f(c[0])+" "+f(c[1])+" "+f(c[4])+" "+f(c[5])+" "+f(c[12])+" "+f(c[13])+")"}}(d),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b),e[b]=a})}var d={},e={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a},a.unprefixedPropertyName=function(a){return e[a]||a}}(d)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);0<=c&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(a){}finally{c&&c.cancel()}if(!d){var g=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),g.call(this,b,c)}}}(c),function(a,b,c){function d(a){var c=b.timeline;c.currentTime=a,c._discardAnimations(),0==c._animations.length?f=!1:requestAnimationFrame(d)}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(c){b.timeline._updateAnimationsPromises(),a(c),b.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return g}})}catch(a){}try{window.document.timeline=g}catch(a){}}(0,e),function(a,b,c){b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++)this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=b.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){this._animation.onfinish="function"==typeof a?function(b){b.target=this,a.call(this,b)}.bind(this):a},get oncancel(){return this._animation.oncancel},set oncancel(a){this._animation.oncancel="function"==typeof a?function(b){b.target=this,a.call(this,b)}.bind(this):a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),null!==b&&(this.currentTime=b),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),this.effect instanceof window.SequenceEffect&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateIterationProgress(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;)i.shift()._updateChildren(),a=!0;return a}var f=function(a){if(a._animation=void 0,a instanceof window.SequenceEffect||a instanceof window.GroupEffect)for(var b=0;b<a.children.length;b++)f(a.children[b])};b.removeMulti=function(a){for(var b=[],c=0,d;c<a.length;c++){d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++)b[c]._rebuild()},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){b.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),b.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateIterationProgress(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function(){for(var a=this;a;)"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(a){b.removeMulti(a);for(var c=0;c<a.length;c++)a[c]._parent=this},_putChild:function(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++)if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(var d=0;d<a.length;d++)b?this.children.push(a[d]):this.children.unshift(a[d]);this._reparent(a),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++)c.push(this.children[d].clone());return this instanceof GroupEffect?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a+=d(b)}),Math.max(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a=Math.max(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function(b){var c=d._wrapper;if(c&&"pending"!=c.playState&&c.effect)return null==b?void c._removeChildAnimations():0==b&&0>c.playbackRate&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateIterationProgress(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e),b.true=a}({},function(){return this}());//# sourceMappingURL=web-animations-next-lite.min.js.map</script><script>class OAuth2Authorization extends Polymer.Element{static get is(){return"oauth2-authorization"}static get properties(){return{// A full data returned by the authorization endpoint.
tokenInfo:{type:Object,readOnly:!0/* ignoreName */ /* skipSlots */}}}constructor(){super();this._frameLoadErrorHandler=this._frameLoadErrorHandler.bind(this);this._frameLoadHandler=this._frameLoadHandler.bind(this);this._tokenRequestedHandler=this._tokenRequestedHandler.bind(this);this._popupMessageHandler=this._popupMessageHandler.bind(this);this._popupObserver=this._popupObserver.bind(this)}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.afterNextRender(this,()=>{window.addEventListener("oauth2-token-requested",this._tokenRequestedHandler);window.addEventListener("message",this._popupMessageHandler)})}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("oauth2-token-requested",this._tokenRequestedHandler);window.removeEventListener("message",this._popupMessageHandler)}/**
   * Clears the state of the element.
   */clear(){this._state=void 0;this._settings=void 0;this._cleanupFrame();this._cleanupPopup()}/**
   * Clean up popup reference and closes the window if not yet closed.
   */_cleanupPopup(){if(this._popup){if(!this._popup.closed){this._popup.close()}this._popup=void 0}}/**
   * Handler for the `oauth2-token-requested` custom event.
   *
   * @param {CustomEvent} e
   */_tokenRequestedHandler(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.authorize(e.detail)}/**
   * Authorize the user using provided settings.
   *
   * @param {Object<String, String>} settings Map of authorization settings.
   * - type {String} Authorization grant type. Can be `implicit`,
   * `authorization_code`, `client_credentials`, `password` or custom value
   * as OAuth 2.0 allows extensions to grant type.
   */authorize(settings){this._setTokenInfo(void 0);this._type=settings.type;this._state=settings.state||this.randomString(6);this._settings=settings;this._errored=/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */;switch(settings.type){case"implicit":this._authorize(this._constructPopupUrl(settings,"token"),settings);break;case"authorization_code":this._authorize(this._constructPopupUrl(settings,"code"),settings);break;case"client_credentials":this.authorizeClientCredentials(settings).catch(()=>{});break;case"password":this.authorizePassword(settings).catch(()=>{});break;default:this.authorizeCustomGrant(settings).catch(()=>{});}}/**
   * Authorizes the user in the OAuth authorization endpoint.
   * By default it authorizes the user using a popup that displays
   * authorization screen. When `interactive` property is set to `false`
   * on the `settings` object then it will quietly create an iframe
   * and try to receive the token.
   *
   * @param {String} authUrl Complete authorization url
   * @param {Object} settings Passed user settings
   */_authorize(authUrl,settings){this._settings=settings;this._errored=!1;if(!1===settings.interactive){this._authorizeTokenNonInteractive(authUrl)}else{this._authorizePopup(authUrl)}}/**
   * Creates and opens auth popup.
   *
   * @param {String} authUrl Complete authorization url
   */_authorizePopup(url){const op="menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,width=800,height=600";this._popup=window.open(url,"oauth-window",op);if(!this._popup){// popup blocked.
this._dispatchError({message:"Authorization popup is being blocked.",code:"popup_blocked",state:this._state,interactive:this._settings.interactive});return}this._popup.window.focus();this._observePopupState()}/**
   * Tries to Authorize the user in a non interactive way.
   * This method always result in a success response. When there's an error or
   * user is not logged in then the response won't contain auth token info.
   *
   * @param {String} authUrl Complete authorization url
   */_authorizeTokenNonInteractive(url){const iframe=document.createElement("iframe");iframe.style.border="0";iframe.style.width="0";iframe.style.height="0";iframe.style.overflow="hidden";iframe.addEventListener("error",this._frameLoadErrorHandler);iframe.addEventListener("load",this._frameLoadHandler);iframe.id="oauth2-authorization-frame";iframe.setAttribute("data-owner","arc-oauth-authorization");document.body.appendChild(iframe);iframe.src=url;this._iframe=iframe}/**
   * Removes the frame and any event listeners attached to it.
   */_cleanupFrame(){if(!this._iframe){return}this._iframe.removeEventListener("error",this._frameLoadErrorHandler);this._iframe.removeEventListener("load",this._frameLoadHandler);try{document.body.removeChild(this._iframe)}catch(e){console.warn("Tried to remove a frame that is not in the DOM")}this._iframe=void 0}/**
   * Handler for `error` event dispatched by oauth iframe.
   */_frameLoadErrorHandler(){if(this._errored){return}this._dispatchResponse({interactive:!1,code:"iframe_load_error",state:this._state});this.clear()}/**
   * Handler for iframe `load` event.
   */_frameLoadHandler(){if(this.__frameLoadInfo){return}this.__frameLoadInfo=!0;setTimeout(()=>{if(!this.tokenInfo&&!this._errored){this._dispatchResponse({interactive:!1,code:"not_authorized",state:this._state})}this.clear();this.__frameLoadInfo=!1},700)}// Observer if the popup has been closed befor the data has been received.
_observePopupState(){this.__popupCheckInterval=setInterval(this._popupObserver,250)}/**
   * Function called in the interval.
   * Observer popup state and calls `_beforePopupUnloadHandler()`
   * when popup is no longer opened.
   */_popupObserver(){if(!this._popup||this._popup.closed){clearInterval(this.__popupCheckInterval);this.__popupCheckInterval=void 0;this._beforePopupUnloadHandler()}}/**
   * Browser or server flow: open the initial popup.
   * @param {Object} settings Settings passed to the authorize function.
   * @param {String} type `token` or `code`
   * @return {String} Full URL for the endpoint.
   */_constructPopupUrl(settings,type){let url=settings.authorizationUri;if(-1===url.indexOf("?")){url+="?"}else{url+="&"}url+="response_type="+type+"&";url+="client_id="+encodeURIComponent(settings.clientId||"")+"&";if(settings.redirectUri){url+="redirect_uri="+encodeURIComponent(settings.redirectUri)+"&"}if(settings.scopes&&settings.scopes.length){url+="scope="+this._computeScope(settings.scopes)}url+="&state="+encodeURIComponent(this._state);if(settings.includeGrantedScopes){url+="&include_granted_scopes=true"}if(settings.loginHint){url+="&login_hint="+encodeURIComponent(settings.loginHint)}if(!1===settings.interactive){url+="&prompt=none"}// custom query parameters
if(settings.customData){const key="token"===type?"auth":"token",cs=settings.customData[key];if(cs){url=this._applyCustomSettingsQuery(url,cs)}}return url}/**
   * Computes `scope` URL parameter from scopes array.
   *
   * @param {Array<String>} scopes List of scopes to use with the request.
   * @return {String} Computed scope value.
   */_computeScope(scopes){if(!scopes){return""}const scope=scopes.join(" ");return encodeURIComponent(scope)}/**
   * Listen for a message from the popup.
   *
   * Token will be extracted and `oauth2-token-response` will be fired. Also, if the initial
   * request came from an event, a `tokenValue` property fill be set on the event target.
   */_popupMessageHandler(e){if(!this._popup&&!this._iframe){return}const tokenInfo=e.data;if(!tokenInfo||!tokenInfo.oauth2response){// Possibly a message in the authorization info, not the popup.
return}if(!this._settings){this._settings={}}if(tokenInfo.state!==this._state){this._dispatchError({message:"Invalid state returned by the OAuth server.",code:"invalid_state",state:this._state,serverState:tokenInfo.state,interactive:this._settings.interactive});this._errored=!0}else if("error"in tokenInfo){this._dispatchError({message:tokenInfo.errorDescription||"The request is invalid.",code:tokenInfo.error||"oauth_error",state:this._state,interactive:this._settings.interactive});this._errored=!0}else if("implicit"===this._type){this._handleTokenInfo(tokenInfo)}else if("authorization_code"===this._type){this._exchangeCodeValue=tokenInfo.code;this._exchangeCode(tokenInfo.code).catch(()=>{})}this.clear()}// http://stackoverflow.com/a/10727155/1127848
randomString(len){return Math.round(Math.pow(36,len+1)-Math.random()*Math.pow(36,len)).toString(36).slice(1)}/**
   * Popup is closed by this element so if data is not yet set it means that the
   * user closed the window - probably some error.
   * The UI state is reset if needed.
   */_beforePopupUnloadHandler(){if(this.tokenInfo||"authorization_code"===this._type&&this._exchangeCodeValue){return}const settings=this._settings||{};this._dispatchError({message:"No response has been recorded.",code:"no_response",state:this._state,interactive:settings.interactive});this.clear()}/**
   * Exchange code for token.
   * One note here. This element is intened to use with applications that test endpoints.
   * It asks user to provide `client_secret` parameter and it is not a security concern to him.
   * However, this method **can't be used in regular web applications** because it is a
   * security risk and whole OAuth token exchange can be compromised. Secrets should never be
   * present on client side.
   *
   * @param {String} code Returned code from the authorization endpoint.
   * @return {Promise} Promise with token information.
   */_exchangeCode(code){const url=this._settings.accessTokenUri,body=this._getCodeEchangeBody(this._settings,code);return this._requestToken(url,body,this._settings).then(tokenInfo=>this._handleTokenInfo(tokenInfo)).catch(cause=>this._handleTokenCodeError(cause))}/**
   * Returns a body value for the code exchange request.
   * @param {Object} settings Initial settings object.
   * @param {String} code Authorization code value returned by the authorization
   * server.
   * @return {String} Request body.
   */_getCodeEchangeBody(settings,code){let url="grant_type=authorization_code";url+="&client_id="+encodeURIComponent(settings.clientId);if(settings.redirectUri){url+="&redirect_uri="+encodeURIComponent(settings.redirectUri)}url+="&code="+encodeURIComponent(code);if(settings.clientSecret){url+="&client_secret="+encodeURIComponent(settings.clientSecret)}else{url+="&client_secret="}return url}/**
   * Requests for token from the authorization server for `code`, `password`,
   * `client_credentials` and custom grant types.
   *
   * @param {String} url Base URI of the endpoint. Custom properties will be
   * applied to the final URL.
   * @param {String} body Generated body for given type. Custom properties will
   * be applied to the final body.
   * @param {Object} settings Settings object passed to the `authorize()` function
   * @return {Promise} Promise resolved to the response string.
   */_requestToken(url,body,settings){if(settings.customData){const cs=settings.customData.token;if(cs){url=this._applyCustomSettingsQuery(url,cs)}body=this._applyCustomSettingsBody(body,settings.customData)}return new Promise((resolve,reject)=>{const xhr=new XMLHttpRequest;xhr.addEventListener("load",e=>this._processTokenResponseHandler(e,resolve,reject));xhr.addEventListener("error",e=>this._processTokenResponseErrorHandler(e,reject));xhr.open("POST",url);xhr.setRequestHeader("content-type","application/x-www-form-urlencoded");if(settings.customData){this._applyCustomSettingsHeaders(xhr,settings.customData)}try{xhr.send(body)}catch(e){reject(new Error("Client request error: "+e.message))}})}/**
   * Handler for the code request load event.
   * Processes the response and either rejects the promise with an error
   * or resolves it to token info object.
   *
   * @param {Event} e XHR load event.
   * @param {Function} resolve Resolve function
   * @param {Function} reject Reject function
   */_processTokenResponseHandler(e,resolve,reject){const status=e.target.status,srvResponse=e.target.response;if(404===status){let message="Authorization URI is invalid. Received status 404.";reject(new Error(message));return}else if(400<=status&&500>status){let message="Client error: "+srvResponse;reject(new Error(message));return}else if(500<=status){let message="Authorization server error. Response code is "+status;reject(new Error(message));return}let tokenInfo;try{tokenInfo=this._processCodeResponse(srvResponse,e.target.getResponseHeader("content-type"))}catch(e){reject(new Error(e.message));return}resolve(tokenInfo)}/**
   * Handler for the code request error event.
   * Rejects the promise with error description.
   *
   * @param {Event} e XHR error event
   * @param {Function} reject Promise's reject function.
   */_processTokenResponseErrorHandler(e,reject){const status=e.target.status;let message="The request to the authorization server failed.";if(status){message+=" Response code is: "+status}reject(new Error(message))}/**
   * Processes token request body and produces map of values.
   *
   * @param {String} body Body received in the response.
   * @param {String} contentType Response content type.
   * @return {Object} Response as an object.
   * @throws {Error} Exception when body is invalid.
   */_processCodeResponse(body,contentType){if(!body){throw new Error("Code response body is empty.")}let tokenInfo;if(-1!==contentType.indexOf("json")){tokenInfo=JSON.parse(body);for(let name in tokenInfo){const camelName=this._camel(name);if(camelName){tokenInfo[camelName]=tokenInfo[name]}}}else{tokenInfo={};body.split("&").forEach(p=>{const item=p.split("="),name=item[0],camelName=this._camel(name),value=decodeURIComponent(item[1]);tokenInfo[name]=value;tokenInfo[camelName]=value})}return tokenInfo}/**
   * Processes token info object when it's ready.
   * Sets `tokenInfo` property, notifies listeners about the response
   * and cleans up.
   *
   * @param {Object} tokenInfo Token info returned from the server.
   * @return {Object} The same tokenInfo, used for Promise return value.
   */_handleTokenInfo(tokenInfo){this._setTokenInfo(tokenInfo);tokenInfo.interactive=this._settings.interactive;if("error"in tokenInfo){this._dispatchError({message:tokenInfo.errorDescription||"The request is invalid.",code:tokenInfo.error,state:this._state,interactive:this._settings.interactive})}else{this._dispatchResponse(tokenInfo)}this._settings=void 0;this._exchangeCodeValue=void 0;return tokenInfo}/**
   * Handler fore an error that happened during code exchange.
   * @param {Error} e
   */_handleTokenCodeError(e){this._dispatchError({message:"Couldn't connect to the server. "+e.message,code:"request_error",state:this._state,interactive:this._settings.interactive});this._settings=void 0;throw e}/**
   * Replaces `-` or `_` with camel case.
   * @param {String} name The string to process
   * @return {String|undefined} Camel cased string or `undefined` if not
   * transformed.
   */_camel(name){let i=0,l,changed=!1;while(l=name[i]){if(("_"===l||"-"===l)&&i+1<name.length){name=name.substr(0,i)+name[i+1].toUpperCase()+name.substr(i+2);changed=!0}i++}return changed?name:void 0}/**
   * Requests a token for `password` request type.
   *
   * @param {Object} settings The same settings as passed to `authorize()`
   * function.
   * @return {Promise} Promise resolved to token info.
   */authorizePassword(settings){this._settings=settings;const url=settings.accessTokenUri,body=this._getPasswordBody(settings);return this._requestToken(url,body,settings).then(tokenInfo=>this._handleTokenInfo(tokenInfo)).catch(cause=>this._handleTokenCodeError(cause))}/**
   * Generates a payload message for password authorization.
   *
   * @param {Object} settings Settings object passed to the `authorize()`
   * function
   * @return {String} Message body as defined in OAuth2 spec.
   */_getPasswordBody(settings){let url="grant_type=password";url+="&username="+encodeURIComponent(settings.username);url+="&password="+encodeURIComponent(settings.password);if(settings.clientId){url+="&client_id="+encodeURIComponent(settings.clientId)}if(settings.scopes&&settings.scopes.length){url+="&scope="+encodeURIComponent(settings.scopes.join(" "))}return url}/**
   * Requests a token for `client_credentials` request type.
   *
   * @param {Object} settings The same settings as passed to `authorize()`
   * function.
   * @return {Promise} Promise resolved to a token info object.
   */authorizeClientCredentials(settings){this._settings=settings;const url=settings.accessTokenUri,body=this._getClientCredentialsBody(settings);return this._requestToken(url,body,settings).then(tokenInfo=>this._handleTokenInfo(tokenInfo)).catch(cause=>this._handleTokenCodeError(cause))}/**
   * Generates a payload message for client credentials.
   *
   * @param {Object} settings Settings object passed to the `authorize()`
   * function
   * @return {String} Message body as defined in OAuth2 spec.
   */_getClientCredentialsBody(settings){let url="grant_type=client_credentials";if(settings.clientId){url+="&client_id="+encodeURIComponent(settings.clientId)}if(settings.clientSecret){url+="&client_secret="+encodeURIComponent(settings.clientSecret)}if(settings.scopes&&settings.scopes.length){url+="&scope="+this._computeScope(settings.scopes)}return url}/**
   * Performs authorization on custom grant type.
   * This extension is described in OAuth 2.0 spec.
   *
   * @param {Object} settings Settings object as for `authorize()` function.
   * @return {Promise} Promise resolved to a token info object.
   */authorizeCustomGrant(settings){this._settings=settings;const url=settings.accessTokenUri,body=this._getCustomGrantBody(settings);return this._requestToken(url,body,settings).then(tokenInfo=>this._handleTokenInfo(tokenInfo)).catch(cause=>this._handleTokenCodeError(cause))}/**
   * Creates a body for custom gran type.
   * It does not assume any parameter to be required.
   * It applies all known OAuth 2.0 parameters and then custom parameters
   *
   * @param {Object} settings
   * @return {String} Request body.
   */_getCustomGrantBody(settings){let url="grant_type="+encodeURIComponent(settings.type);if(settings.clientId){url+="&client_id="+encodeURIComponent(settings.clientId)}if(settings.clientSecret){url+="&client_secret="+encodeURIComponent(settings.clientSecret)}if(settings.scopes&&settings.scopes.length){url+="&scope="+this._computeScope(settings.scopes)}if(settings.redirectUri){url+="&redirect_uri="+encodeURIComponent(settings.redirectUri)}if(settings.clientSecret){url+="&client_secret="+encodeURIComponent(settings.clientSecret)}if(settings.username){url+="&username="+encodeURIComponent(settings.username)}if(settings.password){url+="&password="+encodeURIComponent(settings.password)}return url}/**
   * Applies custom properties defined in the OAuth settings object to the URL.
   *
   * @param {String} url Generated URL for an endpoint.
   * @param {?Object} data `customData.[type]` property from the settings object.
   * The type is either `auth` or `token`.
   * @return {String}
   */_applyCustomSettingsQuery(url,data){if(!data||!data.parameters){return url}const char=-1===url.indexOf("?")?"?":"&";url+=char+data.parameters.map(item=>{let value=item.value;if(value){value=encodeURIComponent(value)}return encodeURIComponent(item.name)+"="+value}).join("&");return url}/**
   * Applies custom headers from the settings object
   *
   * @param {XMLHttpRequest} xhr Instance of the request object.
   * @param {Object} data Value of settings' `customData` property
   */_applyCustomSettingsHeaders(xhr,data){if(!data||!data.token||!data.token.headers){return}data.token.headers.forEach(item=>{try{xhr.setRequestHeader(item.name,item.value)}catch(e){console.warn("Unable to set custom header value.")}})}/**
   * Applies custom body properties from the settings to the body value.
   *
   * @param {String} body Already computed body for OAuth request. Custom
   * properties are appended at the end of OAuth string.
   * @param {Object} data Value of settings' `customData` property
   * @return {String} Request body
   */_applyCustomSettingsBody(body,data){if(!data||!data.token||!data.token.body){return body}body+="&"+data.token.body.map(function(item){let value=item.value;if(value){value=encodeURIComponent(value)}return encodeURIComponent(item.name)+"="+value}).join("&");return body}/**
   * Dispatches an error event that propagates through the DOM.
   *
   * @param {Object} detail The detail object.
   */_dispatchError(detail){const e=new CustomEvent("oauth2-error",{bubbles:!0,composed:!0,detail:detail});this.dispatchEvent(e)}/**
   * Dispatches an error event that propagates through the DOM.
   *
   * @param {Object} detail The detail object.
   */_dispatchResponse(detail){const e=new CustomEvent("oauth2-token-response",{bubbles:!0,composed:!0,detail:detail});this.dispatchEvent(e)}/**
   * Fired when OAuth2 token has been received.
   * Properties of the `detail` object will contain the response from the authentication server.
   * It will contain the original parameteres but also camel case of the parameters.
   *
   * So for example 'implicit' will be in the response as well as `accessToken` with the same
   * value. The puropse of this is to support JS application that has strict formatting rules
   * and disallow using '_' in property names. Like ARC.
   *
   * @event oauth2-token-response
   */ /**
   * Fired wne error occurred.
   * An error may occure when `state` parameter of the OAuth2 response is different from
   * the requested one. Another example is when the popup window has been closed before it passed
   * response token. It may happen when the OAuth request was invalid.
   *
   * @event oauth2-error
   * @param {String} message A message that can be displayed to the user.
   * @param {String} code A message code: `invalid_state` - when `state` parameter is different;
   * `no_response` when the popup was closed before sendin token data; `response_parse` - when
   * the response from the code exchange can't be parsed; `request_error` when the request
   * errored by the transport library. Other status codes are defined in
   * [rfc6749](https://tools.ietf.org/html/rfc6749).
   * @param {String} state The `state` parameter either generated by this element
   * when requesting the token or passed to the element from other element.
   */}window.customElements.define(OAuth2Authorization.is,OAuth2Authorization);</script><script>/**
 * Implements logic for parsing URL string.
 */class UrlValueParser{/**
   * @constructor
   * @param {?Object} opts
   */constructor(opts){this.__data={};this.opts=opts}/**
   * @return {Object} Class options.
   */get opts(){return this.__data.opts}/**
   * Sets parser options.
   * Unknown options are ignored.
   *
   * @param {Object} opts Options to pass.
   * - queryDelimiter {String} a query string delimiter.
   */set opts(opts){opts=opts||{};this.__data.opts={queryDelimiter:opts.queryDelimiter||"&"}}/**
   * Returns protocol value in format `protocol` + ':'
   *
   * @param {String} value URL to parse.
   * @return {String|undefined} Value of the protocol or undefined if
   * value not set
   */_parseProtocol(value){if(!value){return}const delimIndex=value.indexOf("://");if(-1!==delimIndex){return value.substr(0,delimIndex+1)}}/**
   * Gets a host value from the url.
   * It reads the whole authority value of given `value`. It doesn't parses it
   * to host, port and
   * credentials parts. For URL panel it's enough.
   *
   * @param {String} value The URL to parse
   * @return {String|undefined} Value of the host or undefined.
   */_parseHost(value){if(!value){return}const delimIndex=value.indexOf("://");if(-1!==delimIndex){value=value.substr(delimIndex+3)}if(!value){return}// We don't need specifics here (username, password, port)
const host=value.split("/")[0];return host}/**
   * Parses the path part of the URL.
   *
   * @param {String} value URL value
   * @return {String|undefined} Path part of the URL
   */_parsePath(value){if(!value){return}let index=value.indexOf("://");if(-1!==index){value=value.substr(index+3)}index=value.indexOf("?");if(-1!==index){value=value.substr(0,index)}index=value.indexOf("#");if(-1!==index){value=value.substr(0,index)}const lastIsSlash="/"===value[value.length-1],parts=value.split("/").filter(part=>!!part);parts.shift();let path="/"+parts.join("/");if(lastIsSlash&&1<parts.length){path+="/"}return path}/**
   * Returns query parameters string (without the '?' sign) as a whole.
   *
   * @param {String} value The URL to parse
   * @return {String|undefined} Value of the search string or undefined.
   */_parseSearch(value){if(!value){return}let index=value.indexOf("?");if(-1===index){return}value=value.substr(index+1);index=value.indexOf("#");if(-1===index){return value}return value.substr(0,index)}/**
   * Reads a value of the anchor (or hash) parameter without the `#` sign.
   *
   * @param {String} value The URL to parse
   * @return {String|undefined} Value of the anchor (hash) or undefined.
   */_parseAnchor(value){if(!value){return}const index=value.indexOf("#");if(-1===index){return}return value.substr(index+1)}/**
   * Returns an array of items where each item is an array where first
   * item is param name and second is it's value. Both always strings.
   *
   * @param {?String} search Parsed search parameter
   * @return {Array} Always returns an array.
   */_parseSearchParams(search){const result=[];if(!search){return result}const parts=search.split(this.opts.queryDelimiter);parts.forEach(item=>{const _part=["",""],_params=item.split("=");let _name=_params.shift();if(!_name&&""!==name){return}_name=_name.trim();const _value=_params.join("=").trim();_part[0]=_name;_part[1]=_value;result.push(_part)});return result}}/**
 * A class to parse URL string.
 */class UrlParser extends UrlValueParser{/**
   * @constructor
   * @param {String} value URL value
   * @param {?Object} opts
   */constructor(value,opts){super(opts);this.value=value}/**
   * Returns protocol value in format `protocol` + ':'
   *
   * @return {String|undefined} Value of the protocol or undefined if
   * value not set
   */get protocol(){return this.__data.protocol}/**
   * Sets value of the `protocol`
   *
   * @param {String} value Protocol value.
   */set protocol(value){this.__data.protocol=value}/**
   * It reads the authority part of the URL value. It doesn't parses it
   * to host, port and credentials parts.
   *
   * @return {String|undefined} Value of the host or undefined if
   * value not set
   */get host(){return this.__data.host}/**
   * Sets value of the `host`
   *
   * @param {String} value Host value.
   */set host(value){this.__data.host=value}/**
   * Returns path part of the URL.
   *
   * @return {String|undefined} Value of the path or undefined if
   * value not set
   */get path(){return this.__data.path||"/"}/**
   * Sets value of the `path`
   *
   * @param {String} value Path value.
   */set path(value){this.__data.path=value}/**
   * Returns anchor part of the URL.
   *
   * @return {String|undefined} Value of the anchor or undefined if
   * value not set
   */get anchor(){return this.__data.anchor}/**
   * Sets value of the `anchor`
   *
   * @param {String} value Anchor value.
   */set anchor(value){this.__data.anchor=value}/**
   * Returns search part of the URL.
   *
   * @return {String|undefined} Value of the search or undefined if
   * value not set
   */get search(){return this.__data.search}/**
   * Sets value of the `search`
   *
   * @param {String} value Search value.
   */set search(value){this.__data.search=value}/**
   * The URL value. It is the same as calling `toStirng()`.
   *
   * @return {String} URL value for current configuration.
   */get value(){return this.toString()}/**
   * Sets value of the URL.
   * It parses the url and sets properties.
   *
   * @param {String} value URL value.
   */set value(value){this.protocol=this._parseProtocol(value);this.host=this._parseHost(value);this.path=this._parsePath(value);this.anchor=this._parseAnchor(value);this.search=this._parseSearch(value)}/**
   * Returns an array of search params.
   *
   * @return {Array<Array>} List of search params. Each item contains an
   * array when first item is name of the parameter and second item is the
   * value.
   */get searchParams(){return this._parseSearchParams(this.search)}/**
   * Sets the value of `search` and `searchParams`.
   *
   * @param {Array<Array>} value Search params list.
   */set searchParams(value){if(!value||!value.length){this.search=void 0;return}this.search=value.map(item=>{if(!item[0]&&!item[1]){return""}item[1]=item[1]||"";return item[0]+"="+item[1]}).join(this.opts.queryDelimiter)}/**
   * Returns the URL for current settings.
   *
   * @return {String} URL value.
   */toString(){let result="";if(this.protocol){result+=this.protocol;result+="//"}if(this.host){result+=this.host}if(this.path){if("/"===this.path&&!this.host&&!this.search&&!this.anchor){}else{if("/"!==this.path[0]){result+="/"}result+=this.path}}else{if(this.search||this.anchor){result+="/"}}if(this.search){const p=this.searchParams;this.searchParams=p;result+="?"+this.search}if(this.anchor){result+="#"+this.anchor}return result}}</script><script>window.forceJURL=!0/* ignoreName */ /* skipSlots */;class OAuth1Authorization extends ArcBehaviors.HeadersParserBehavior(Polymer.Element){static get is(){return"oauth1-authorization"}static get properties(){return{// A full data returned by the authorization endpoint.
tokenInfo:{type:Object,readOnly:!0},/**
       * If set, requests made by this element to authorization endpoint will be
       * prefixed with the proxy value.
       */proxy:String,/**
       * Latest valid token exchanged with the authorization endpoint.
       */lastIssuedToken:{type:Object,notify:!0},/**
       * OAuth 1 token authorization endpoint.
       */requestTokenUrl:String,/**
       * Oauth 1 token exchange endpoint
       */accessTokenUri:String,/**
       * Oauth 1 consumer key to use with auth request
       */consumerKey:String,/**
       * Oauth 1 consumer secret to be used to generate the signature.
       */consumerSecret:String,/**
       * A signature generation method.
       * Once of: `PLAINTEXT`, `HMAC-SHA1` or `RSA-SHA1`
       */signatureMethod:{type:String,value:"HMAC-SHA1"},/**
       * Location of the OAuth authorization parameters.
       * It can be either `authorization` meaning as a header and
       * `querystring` to put OAuth parameters to the URL.
       */authParamsLocation:{type:String,value:"authorization"},_caseMap:{type:Object,value:{}},_camelRegex:{type:Object,value:function(){return /([A-Z])/g}},/**
       * Returns `application/x-www-form-urlencoded` content type value.
       */urlEncodedType:{type:String,readOnly:!0,value:function(){return"application/x-www-form-urlencoded"}}}}constructor(){super();this._tokenRequestedHandler=this._tokenRequestedHandler.bind(this);this._listenPopup=this._listenPopup.bind(this);this._handleRequest=this._handleRequest.bind(this)}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.afterNextRender(this,()=>{window.addEventListener("oauth1-token-requested",this._tokenRequestedHandler);window.addEventListener("message",this._listenPopup);window.addEventListener("before-request",this._handleRequest)})}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("oauth1-token-requested",this._tokenRequestedHandler);window.removeEventListener("message",this._listenPopup);window.removeEventListener("before-request",this._handleRequest)}/**
   * The `before-request` handler. Creates an authorization header if needed.
   * Normally `before-request` expects to set a promise on the `detail.promises`
   * object. But because this taks is sync it skips the promise and manipulate
   * request object directly.
   */_handleRequest(e){const request=e.detail;if(!request.auth||"oauth1"!==request.auth.type){return}this._applyBeforeRequestSignature(request,request.auth)}/**
   * Applies OAuth1 authorization header with generated signature for this
   * request.
   *
   * This method expects the `auth` object to be set on the request. The object
   * is full configuration for the OAuth1 authorization as described in
   * `auth-methods/oauth1.html` element.
   *
   * @param {Object} request ARC request object
   * @param {String} token OAuth1 token
   * @param {String} tokenSecret OAuth1 token secret
   */_applyBeforeRequestSignature(request,auth){if(!request||!request.method||!request.url){return}try{this._prepareOauth(auth)}catch(e){console.error(e);return}const token=auth.token||this.lastIssuedToken.oauth_token,tokenSecret=auth.tokenSecret||this.lastIssuedToken.oauth_token_secret;let method=request.method||"GET";method=method.toUpperCase();const withPayload=-1===["GET","HEAD"].indexOf(request.method);let body;if(withPayload&&request.headers&&request.body){let contentType;try{contentType=this.getContentType(request.headers)}catch(e){}if(contentType&&0===contentType.indexOf(this.urlEncodedType)){body=request.body}}const orderedParameters=this._prepareParameters(token,tokenSecret,method,request.url,{},body);if("authorization"===this.authParamsLocation){const authorization=this._buildAuthorizationHeaders(orderedParameters);try{request.headers=this.replaceHeaderValue(request.headers,"authorization",authorization)}catch(e){}}else{request.url=this._buildAuthorizationQueryStirng(request.url,orderedParameters)}}/**
   * A handler for the `oauth1-token-requested` event.
   * Performs OAuth1 authorization for given settings.
   *
   * The detail object of the event contains OAuth1 configuration as described
   * in `auth-methods/oauth1.html`element.
   */_tokenRequestedHandler(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.authorize(e.detail)}/**
   * Performs a request to authorization server.
   *
   * @param {Object} settings Oauth1 configuration. See description for more
   * details or `auth-methods/oauth1.html` element that collectes configuration
   * from the user.
   */authorize(settings){try{this._prepareOauth(settings)}catch(e){console.error(e);this._dispatchError("Unable to authorize: "+e.message,"params-error");return}this.getOAuthRequestToken().then(temporaryCredentials=>{this.temporaryCredentials=temporaryCredentials;const authorizationUri=settings.authorizationUri+"?oauth_token="+temporaryCredentials.oauth_token;this.popupClosedProperly=void 0;this._popup=window.open(authorizationUri,"api-console-oauth1");if(!this._popup){// popup blocked.
this._dispatchError("Authorization popup is blocked","popup-blocked");return}this._next="exchange-token";this._popup.window.focus();this._observePopupState()}).catch(e=>{let msg=e.message||"Unknown error when getting the token";this._dispatchError(msg,"token-request-error")})}/**
   * Sets a configuration properties on this element from passed settings.
   *
   * @param {Object} params See description for more
   * details or `auth-methods/oauth1.html` element that collectes configuration
   * from the user.
   */_prepareOauth(params){if(params.signatureMethod){let signMethod=params.signatureMethod;if(-1===["PLAINTEXT","HMAC-SHA1","RSA-SHA1"].indexOf(signMethod)){throw new Error("Unsupported signature method: "+signMethod)}if("RSA-SHA1"===signMethod){this._privateKey=params.consumerSecret}this.signatureMethod=signMethod}if(params.requestTokenUrl){this.requestTokenUrl=params.requestTokenUrl}if(params.accessTokenUri){this.accessTokenUri=params.accessTokenUri}if(params.consumerKey){this.consumerKey=params.consumerKey}if(params.consumerSecret){this.consumerSecret=params.consumerSecret}if(params.redirectUri){this._authorizeCallback=params.redirectUri}if(params.authParamsLocation){this.authParamsLocation=params.authParamsLocation}else{this.authParamsLocation="authorization"}if(params.authTokenMethod){this.authTokenMethod=params.authTokenMethod}else{this.authTokenMethod="POST"}this._version=params.version||"1.0";this._nonceSize=params.nonceSize||32;this._nonce=params.nonce;this._timestamp=params.timestamp;this._headers=params.customHeaders||this._defaultHeaders();this._oauthParameterSeperator=","}/**
   * List of default headers to send with auth request.
   *
   * @return {Object} Map of default headers.
   */_defaultHeaders(){return{Accept:"*/*",Connection:"close","User-Agent":"Advanced REST Client authorization"}}/**
   * Returns current timestamp.
   *
   * @return {Number} Current timestamp
   */getTimestamp(){return Math.floor(new Date().getTime()/1e3)}/**
   * URL encodes the string.
   *
   * @param {String} toEncode A string to encode.
   * @return {String} Encoded string
   */encodeData(toEncode){if(!toEncode){return""}const result=encodeURIComponent(toEncode);return this._finishEncodeParams(result)}/**
   * Normalizes url encoded values as defined in the OAuth 1 spec.
   *
   * @param {String} url URI encoded params.
   * @return {String} Normalized params.
   */_finishEncodeParams(url){return url.replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}/**
   * URL decodes data.
   * Also replaces `+` with ` ` (space).
   *
   * @param {String} toDecode String to decode.
   * @return {String} Decoded string
   */decodeData(toDecode){if(!toDecode){return""}toDecode=toDecode.replace(/\+/g," ");return decodeURIComponent(toDecode)}/**
   * Computes signature for the request.
   *
   * @param {String} signatureMethod Method to use to generate the signature.
   * Supported are: `PLAINTEXT`, `HMAC-SHA1`, `RSA-SHA1`. It throws an error if
   * value of this property is other than listed here.
   * @param {String} requestMethod Request HTTP method.
   * @param {String} url Request full URL.
   * @param {Object} oauthParameters Map of oauth parameters.
   * @param {?String} tokenSecret Optional, token secret.
   * @return {String} Generated OAuth1 signature for given `signatureMethod`
   * @param {?String} body Body used with the request. Note: this parameter
   * can only be set if the request's content-type header equals
   * `application/x-www-form-urlencoded`.
   * @throws Error when `signatureMethod` is not one of listed here.
   */getSignature(signatureMethod,requestMethod,url,oauthParameters,tokenSecret,body){let signatureBase,key;if("PLAINTEXT"!==signatureMethod){signatureBase=this.createSignatureBase(requestMethod,url,oauthParameters,body)}if("RSA-SHA1"!==signatureMethod){key=this.createSignatureKey(this.consumerSecret,tokenSecret)}switch(signatureMethod){case"PLAINTEXT":return this._createSignaturePlainText(key);case"RSA-SHA1":return this._createSignatureRsaSha1(signatureBase,this._privateKey);case"HMAC-SHA1":return this._createSignatureHamacSha1(signatureBase,key);default:throw new Error("Unknown signature method");}}/**
   * Normalizes URL to base string URI as described in
   * https://tools.ietf.org/html/rfc5849#section-3.4.1.2
   *
   * @param {String} url Request full URL.
   * @return {String} Base String URI
   */_normalizeUrl(url){const parsedUrl=new URL(url);let port="";if(parsedUrl.port){if("http:"===parsedUrl.protocol&&"80"!==parsedUrl.port||"https:"===parsedUrl.protocol&&"443"!==parsedUrl.port){port=":"+parsedUrl.port}}if(!parsedUrl.pathname||""===parsedUrl.pathname){parsedUrl.pathname="/"}return parsedUrl.protocol+"//"+parsedUrl.hostname+port+parsedUrl.pathname}/**
   * @param {String} parameter Parameter name (key).
   * @return {Boolean} True if the `parameter` is an OAuth 1 parameter.
   */_isParameterNameAnOAuthParameter(parameter){return!!(parameter&&0===parameter.indexOf("oauth_"))}/**
   * Creates an Authorization header value to trasmit OAuth params in headers
   * as described in https://tools.ietf.org/html/rfc5849#section-3.5.1
   *
   * @param {Array} orderedParameters Oauth parameters that are already
   * ordered.
   * @return {String} The Authorization header value
   */_buildAuthorizationHeaders(orderedParameters){let authHeader="OAuth ";const params=[];orderedParameters.forEach(item=>{if(!this._isParameterNameAnOAuthParameter(item[0])){return}params.push(this.encodeData(item[0])+"=\""+this.encodeData(item[1])+"\"")});authHeader+=params.join(this._oauthParameterSeperator+" ");return authHeader}/**
   * Creates a body for www-urlencoded content type to transmit OAuth params
   * in request body as described in
   * https://tools.ietf.org/html/rfc5849#section-3.5.2
   *
   * @param {Array} orderedParameters Oauth parameters that are already
   * ordered.
   * @return {String} The body to send
   */_buildFormDataParameters(orderedParameters){const result=[];orderedParameters.forEach(item=>{if(!this._isParameterNameAnOAuthParameter(item[0])){return}result.push(this.encodeData(item[0])+"="+this.encodeData(item[1]))});return result.join("&")}/**
   * Adds query paramteres with OAuth 1 parameters to the URL
   * as described in https://tools.ietf.org/html/rfc5849#section-3.5.3
   *
   * @param {Array} orderedParameters Oauth parameters that are already
   * ordered.
   * @return {String} URL to use with the request
   */_buildAuthorizationQueryStirng(url,orderedParameters){/* global UrlParser */const urlParser=new UrlParser(url);orderedParameters=orderedParameters.map(function(item){return[encodeURIComponent(item[0]),encodeURIComponent(item[1])]});const params=urlParser.searchParams.concat(orderedParameters);urlParser.searchParams=params;url=urlParser.toString();return url}// Takes an object literal that represents the arguments, and returns an array
// of argument/value pairs.
_makeArrayOfArgumentsHash(argumentsHash){var argumentPairs=[];Object.keys(argumentsHash).forEach(function(key){const value=argumentsHash[key];if(Array.isArray(value)){for(let i=0,len=value.length;i<len;i++){argumentPairs[argumentPairs.length]=[key,value[i]]}}else{argumentPairs[argumentPairs.length]=[key,value]}});return argumentPairs}// Sorts the encoded key value pairs by encoded name, then encoded value
_sortRequestParams(argumentPairs){// Sort by name, then value.
argumentPairs.sort(function(a,b){if(a[0]===b[0]){return a[1]<b[1]?-1:1}else{return a[0]<b[0]?-1:1}});return argumentPairs}/**
   * Sort function to sort parameters as described in
   * https://tools.ietf.org/html/rfc5849#section-3.4.1.3.2
   */_sortParamsFunction(a,b){if(a[0]===b[0]){return(a[1]+"").localeCompare(b[1]+"")}return(a[0]+"").localeCompare(b[0]+"")}/**
   * Normalizes request parameters as described in
   * https://tools.ietf.org/html/rfc5849#section-3.4.1.3.2
   *
   * @param {Array} args List of parameters to normalize. It must contain
   * a list of array items where first element of the array is parameter name
   * and second is parameter value.
   * @return {String} Normalized parameters to string.
   */_normaliseRequestParams(args){const len=args.length;let i=0;// First encode them #3.4.1.3.2 .1
for(;i<len;i++){args[i][0]=this.encodeData(args[i][0]);args[i][1]=this.encodeData(args[i][1])}// Then sort them #3.4.1.3.2 .2
args.sort(this._sortParamsFunction);// Then concatenate together #3.4.1.3.2 .3 & .4
const result=[];args.forEach(pair=>{if("oauth_signature"===pair[0]){return}result.push(pair[0]+"="+(pair[1]+""))});return result.join("&")}/**
   * Computes array of parameters from the request URL.
   *
   * @param {String} url Full request URL
   * @return {Array} Array of parameters where each item is an array with
   * first element as a name of the parameter and second element as a value.
   */_listQueryParameters(url){const parsedUrl=new UrlParser(url);return parsedUrl.searchParams.map(item=>{return[this.decodeData(item[0]),this.decodeData(item[1])]})}/**
   * Computes array of parameters from the entity body.
   * The body must be `application/x-www-form-urlencoded`.
   *
   * @param {String} body Entity body of `application/x-www-form-urlencoded`
   * request
   * @return {Array} Array of parameters where each item is an array with
   * first element as a name of the parameter and second element as a value.
   * Keys and values are percent decoded. Additionally each `+` is replaced
   * with space character.
   */_formUrlEncodedToParams(body){if(!body){return[]}const parts=body.split("&").map(part=>{const pair=part.split("="),key=this.decodeData(pair[0]);let value="";if(pair[1]){value=this.decodeData(pair[1])}return[key,value]});return parts}/**
   * Creates a signature base as defined in
   * https://tools.ietf.org/html/rfc5849#section-3.4.1
   *
   * @param {String} method HTTP method used with the request
   * @param {String} url Full URL of the request
   * @param {Object} oauthParams Key - value pairs of OAuth parameters
   * @param {?String} body Body used with the request. Note: this parameter
   * can only be set if the request's content-type header equals
   * `application/x-www-form-urlencoded`.
   * @return {String} A base string to be used to generate signature.
   */createSignatureBase(method,url,oauthParams,body){let allParameter=[];const uriParameters=this._listQueryParameters(url);oauthParams=this._makeArrayOfArgumentsHash(oauthParams);allParameter=uriParameters.concat(oauthParams);if(body){body=this._formUrlEncodedToParams(body);allParameter=allParameter.concat(body)}allParameter=this._normaliseRequestParams(allParameter);allParameter=this.encodeData(allParameter);url=this.encodeData(this._normalizeUrl(url));return[method.toUpperCase(),url,allParameter].join("&")}/**
   * Creates a signature key to compute the signature as described in
   * https://tools.ietf.org/html/rfc5849#section-3.4.2
   *
   * @param {String} clientSecret Client secret (consumer secret).
   * @param {?String} tokenSecret Optional, token secret
   * @return {String} A key to be used to generate the signature.
   */createSignatureKey(clientSecret,tokenSecret){if(!tokenSecret){tokenSecret=""}else{tokenSecret=this.encodeData(tokenSecret)}clientSecret=this.encodeData(clientSecret);return clientSecret+"&"+tokenSecret}/**
   * Found at http://jsfiddle.net/ARTsinn/6XaUL/
   *
   * @param {String} h Hexadecimal input
   * @return {String} Result of transforming value to string.
   */hex2b64(h){const b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64pad="=";let i,c,ret="";for(i=0;i+3<=h.length;i+=3){c=parseInt(h.substring(i,i+3),16);ret+=b64map.charAt(c>>6)+b64map.charAt(63&c)}if(i+1===h.length){c=parseInt(h.substring(i,i+1),16);ret+=b64map.charAt(c<<2)}else if(i+2===h.length){c=parseInt(h.substring(i,i+2),16);ret+=b64map.charAt(c>>2)+b64map.charAt((3&c)<<4)}while(0<(3&ret.length)){ret+=b64pad}return ret}/**
   * Creates a signature for the PLAINTEXT method.
   *
   * In this case the signature is the key.
   *
   * @param {String} baseText Computed signature base text.
   * @param {String} key Computed signature key.
   * @return {String} Computed OAuth1 signature.
   */_createSignaturePlainText(key){return key}/**
   * Creates a signature for the RSA-SHA1 method.
   *
   * @param {String} baseText Computed signature base text.
   * @param {String} privateKey Client private key.
   * @return {String} Computed OAuth1 signature.
   */_createSignatureRsaSha1(baseText,privateKey){/* global RSAKey */const rsa=new RSAKey;rsa.readPrivateKeyFromPEMString(privateKey);var hSig=rsa.sign(baseText,"sha1");return this.hex2b64(hSig)}/**
   * Creates a signature for the HMAC-SHA1 method.
   *
   * @param {String} signatureBase Computed signature base text.
   * @param {String} key Computed signature key.
   * @return {String} Computed OAuth1 signature.
   */_createSignatureHamacSha1(baseText,key){/* global CryptoJS */const hash=CryptoJS.HmacSHA1(baseText,key);return hash.toString(CryptoJS.enc.Base64)}/**
   * Returns a list of characters that can be used to buid nonce.
   *
   * @return {Array<String>}
   */get nonceChars(){return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"]}_getNonce(nonceSize){const result=[],chars=this.nonceChars;let charPos;const nonceCharsLength=chars.length;for(let i=0;i<nonceSize;i++){charPos=Math.floor(Math.random()*nonceCharsLength);result[i]=chars[charPos]}return result.join("")}_prepareParameters(token,tokenSecret,method,url,extraParams,body){const oauthParameters={oauth_timestamp:this._timestamp||this.getTimestamp(),oauth_nonce:this._nonce||this._getNonce(this._nonceSize),oauth_version:this._version,oauth_signature_method:this.signatureMethod,oauth_consumer_key:this.consumerKey};if(token){oauthParameters.oauth_token=token}let sig;if(this._isEcho){sig=this.getSignature(this.signatureMethod,"GET",this._verifyCredentials,oauthParameters,tokenSecret,body)}else{if(extraParams){Object.keys(extraParams).forEach(key=>{oauthParameters[key]=extraParams[key]})}sig=this.getSignature(this.signatureMethod,method,url,oauthParameters,tokenSecret,body)}const orderedParameters=this._sortRequestParams(this._makeArrayOfArgumentsHash(oauthParameters));orderedParameters[orderedParameters.length]=["oauth_signature",sig];return orderedParameters}// Encodes parameters in the map.
encodeUriParams(params){const result=Object.keys(params).map(key=>{return encodeURIComponent(key)+"="+encodeURIComponent(params[key])});return result.join("&")}/**
   * Creates OAuth1 signature for a `request` object.
   * The request object must contain:
   * - `url` - String
   * - `method` - String
   * - `headers` - String
   * It also may contain the `body` property.
   *
   * It alters the request object by applying OAuth1 parameters to a set
   * location (qurey parameters, authorization header, body). This is
   * controlled by `this.authParamsLocation` property. By default the
   * parameters are applied to authorization header.
   *
   * @param {Object} request ARC request object.
   * @param {?String} token OAuth token to use to generate the signature.
   * If not set, then it will use a value from `this.lastIssuedToken`.
   * @param {?String} tokenSecret OAuth token secret to use to generate the
   * signature. If not set, then it will use a value from
   * `this.lastIssuedToken`.
   * @return {Object} The same object with applied OAuth 1 parameters.
   */signRequestObject(request,token,tokenSecret){if(!request||!request.method||!request.url){return request}token=token||this.lastIssuedToken.oauth_token;tokenSecret=tokenSecret||this.lastIssuedToken.oauth_token_secret;let method=request.method||"GET";method=method.toUpperCase();const withPayload=-1===["GET","HEAD"].indexOf(request.method);let body;if(withPayload&&request.headers&&request.body){let contentType;try{contentType=this.getContentType(request.headers)}catch(e){}if(contentType&&0===contentType.indexOf(this.urlEncodedType)){body=request.body}}const orderedParameters=this._prepareParameters(token,tokenSecret,method,request.url,{},body);if("authorization"===this.authParamsLocation){const authorization=this._buildAuthorizationHeaders(orderedParameters);try{request.headers=this.replaceHeaderValue(request.headers,"authorization",authorization)}catch(e){}}else{request.url=this._buildAuthorizationQueryStirng(request.url,orderedParameters)}this.clearRequestVariables();return request}_performRequest(token,tokenSecret,method,url,extraParams,body,contentType){const withPayload=-1!==["POST","PUT"].indexOf(method),orderedParameters=this._prepareParameters(token,tokenSecret,method,url,extraParams);if(withPayload&&!contentType){contentType=this.urlEncodedType}const headers={};if("authorization"===this.authParamsLocation){var authorization=this._buildAuthorizationHeaders(orderedParameters);if(this._isEcho){headers["X-Verify-Credentials-Authorization"]=authorization}else{headers.authorization=authorization}}else{url=this._buildAuthorizationQueryStirng(url,orderedParameters)}if(this._headers){Object.keys(this._headers).forEach(key=>{headers[key]=this._headers[key]})}if(extraParams){Object.keys(extraParams).forEach(key=>{if(this._isParameterNameAnOAuthParameter(key)){delete extraParams[key]}})}if(withPayload&&extraParams&&!body&&-1!==["POST","PUT"].indexOf(method)){body=this.encodeUriParams(extraParams);body=this._finishEncodeParams(body)}if(withPayload&&!body){headers["Content-length"]="0"}const init={method:method,headers:headers};if(withPayload&&body){init.body=body}let responseHeaders;return this.request(url,init).then(response=>{if(!response.ok){throw new Error("Token request error ended with status "+response.status)}responseHeaders=response.headers;return response.text()}).then(text=>{return{response:text,headers:responseHeaders}})}/**
   * Exchanges temporary authorization token for authorized token.
   * When ready this function fires `oauth1-token-response`
   */getOAuthAccessToken(token,secret,verifier){const extraParams={};if(verifier){extraParams.oauth_verifier=verifier}const method=this.authTokenMethod;return this._performRequest(token,secret,method,this.accessTokenUri,extraParams).then(response=>{if(!response.response){let message="Couldn't exchange token. ";message+="Authorization server may be down or CORS is disabled.";throw new Error(message)}const params={};this._formUrlEncodedToParams(response.response).forEach(pair=>{params[pair[0]]=pair[1]});return params}).then(tokenInfo=>{this.clearRequestVariables();this.lastIssuedToken=tokenInfo;const e=new CustomEvent("oauth1-token-response",{bubbles:!0,composed:!0,cancelable:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */,detail:tokenInfo});this.dispatchEvent(e)})}/**
   * Clears variables set for current request after signature has been
   * generated and token obtained.
   */clearRequestVariables(){this.temporaryCredentials=void 0;this._timestamp=void 0;this._nonce=void 0}/**
   * Requests the authorization server for temporarty authorization token.
   * This token should be passed to `authorizationUri` as a `oauth_token`
   * parameter.
   *
   * @param {Object} extraParams List of extra parameters to include in the
   * request.
   * @return {Promise} A promise resolved to a map of OAuth 1 parameters:
   * `oauth_token`, `oauth_token_secret`, `oauth_verifier` and
   * `oauth_callback_confirmed` (for 1.0a version).
   */getOAuthRequestToken(extraParams){extraParams=extraParams||{};if(this._authorizeCallback){extraParams.oauth_callback=this._authorizeCallback}const method=this.authTokenMethod;return this._performRequest(null,null,method,this.requestTokenUrl,extraParams).then(response=>{if(!response.response){let message="Couldn't request for authorization token. ";message+="Authorization server may be down or CORS is disabled.";throw new Error(message)}const params={};this._formUrlEncodedToParams(response.response).forEach(pair=>{params[pair[0]]=pair[1]});return params})}/**
   * Makes a HTTP request.
   * Before making the request it sends `auth-request-proxy` custom event
   * with the URL and init object in event's detail object.
   * If the event is cancelled then it will use detail's `result` value to
   * return from this function. The `result` must be a Promise that will
   * resolve to a `Response` object.
   * Otherwise it will use internall `fetch` implementation.
   *
   * @param {String} url An URL to call
   * @param {Object} init Init object that will be passed to a `Request`
   * object.
   * @return {Promise} A promise that resolves to a `Response` object.
   */request(url,init){const e=new CustomEvent("auth-request-proxy",{bubbles:!0,composed:!0,cancelable:!0,detail:{url:url,init:init}});this.dispatchEvent(e);return e.defaultPrevented?e.detail.result:this._fetch(url,init)}/**
   * Performs a HTTP request.
   * If `proxy` is set or `iron-meta` with a key `auth-proxy` is set then
   * it will prefix the URL with the value of proxy.
   *
   * @param {String} url An URL to call
   * @param {Object} init Init object that will be passed to a `Request`
   * object.
   * @return {Promise} A promise that resolves to a `Response` object.
   */_fetch(url,init){let proxy;if(this.proxy){proxy=this.proxy}else{proxy=document.createElement("iron-meta").byKey("auth-proxy")}if(proxy){url=proxy+url}init.mode="cors";return fetch(url,init)}_listenPopup(e){if(!location||!e.source||!this._popup||e.origin!==location.origin||e.source.location.href!==this._popup.location.href){return}const tokenInfo=e.data;this.popupClosedProperly=!0;switch(this._next){case"exchange-token":this.getOAuthAccessToken(tokenInfo.oauthToken,this.temporaryCredentials.oauth_token_secret,tokenInfo.oauthVerifier);break;}this._popup.close()}// Observer if the popup has been closed befor the data has been received.
_observePopupState(){const popupCheckInterval=setInterval(()=>{if(!this._popup||this._popup.closed){clearInterval(popupCheckInterval);this._beforePopupUnloadHandler()}},500)}_beforePopupUnloadHandler(){if(this.popupClosedProperly){return}this._popup=void 0;this._dispatchError("No response has been recorded.","no-response")}/**
   * Dispatches an error event that propagates through the DOM.
   *
   * @param {String} message
   * @param {String} code
   */_dispatchError(message,code){const e=new CustomEvent("oauth1-error",{bubbles:!0,composed:!0,detail:{message:message,code:code}});this.dispatchEvent(e)}/**
   * Adds camel case keys to a map of parameters.
   * It adds new keys to the object tranformed from `oauth_token`
   * to `oauthToken`
   */parseMapKeys(obj){Object.keys(obj).forEach(key=>this._parseParameter(key,obj));return obj}/**
   * Parses a query parameter object to produce camel case map of parameters.
   * This sets values to the `settings` object which is passed by reference.
   * No need to return value.
   *
   * @param {String} param Key in the `settings` object.
   * @param {Object} settings Parameters.
   */_parseParameter(param,settings){if(!(param in settings)){return settings}const value=settings[param];let oauthParam;if(this._caseMap[param]){oauthParam=this._caseMap[param]}else{oauthParam=this._getCaseParam(param)}settings[oauthParam]=value}_getCaseParam(param){return"oauth_"+param.replace(this._camelRegex,"_$1").toLowerCase()}/**
   * Fired when authorization is unsuccessful
   *
   * @event oauth1-error
   * @param {String} message Human readable error message
   * @param {String} code Error code associated with the error. See description
   * of the element fo code mening.
   */ /**
   * Fired when the authorization is successful and token and secret are ready.
   *
   * @event oauth1-token-response
   * @param {String} oauth_token Received OAuth1 token
   * @param {String} oauth_token_secret Received OAuth1 token secret
   */ /**
   * Dispatched when the component requests to proxy authorization request
   * through proxy. If the application decide to proxy the request it must
   * cancel the events.
   *
   * The handler must set `event.detail.result` property to be a `Promise`
   * with call result that will be reported to the application.
   *
   * It can be used to proxy CORS requests if the application can support this
   * case.
   *
   * @event auth-request-proxy
   * @param {String} url The request URL
   * @param {Object} init The same `init` object as the one used to initialize
   * `Request` object for fetch API.
   */}window.customElements.define(OAuth1Authorization.is,OAuth1Authorization);</script><custom-style><style is="custom-style">html{--primary-color:var(--arc-color-primary, #00709a);--secondary-color:var(--arc-color-secondary, #506773);--primary-background-color:var(--arc-color-primary-background, #fff);--accent-color:var(--arc-accent-color, #cc143c);--error-color:var(--arc-error-color, #dd2c00);--arc-font-common-base:{font-family:var(--arc-font-family, 'Roboto', 'Noto', sans-serif);-webkit-font-smoothing:antialiased;};--arc-font-common-code:{font-family:var(--arc-font-family-code, 'Roboto Mono', 'Consolas', 'Menlo', monospace);-webkit-font-smoothing:antialiased;};--arc-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--arc-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--arc-font-display1:{@apply --arc-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;word-break:break-all;};--arc-font-headline:{@apply --arc-font-common-base;font-weight:400;letter-spacing:-.012em;font-size:24px;line-height:32px;word-break:break-all;};--arc-font-title:{@apply --arc-font-common-base;@apply --arc-font-common-nowrap;font-weight:500;font-size:18px;line-height:28px;word-break:break-all;};--arc-font-subhead:{@apply --arc-font-common-base;font-weight:400;font-size:16px;line-height:24px;word-break:break-all;};--arc-font-body2:{@apply --arc-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--arc-font-body1:{@apply --arc-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--arc-font-caption:{@apply --arc-font-common-base;@apply --arc-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--select-text:{@apply --arc-font-common-base;-webkit-user-select:text;cursor:text;};--api-navigation-list-item-selected-background-color:var(--primary-color);--api-navigation-endpoint-toggle-icon-color:#9E9E9E;--api-navigation-endpoint-toggle-icon:{width:32px;height:32px;margin-right:4px;};--api-navigation:{background-color:#F5F5F5;};--api-navigation-operation-endpoint-opened-background-color:#ECEFF1;--hint-trigger-color:#455A64;--hint-trigger-hover-color:var(--primary-color);--api-form-action-icon-color:#455A64;--api-form-action-icon-hover-color:var(--primary-color);--api-form-action-button-color:#455A64;--api-form-action-button-hover-color:var(--primary-color);--from-row-action-icon-color:#455A64;--from-row-action-icon-color-hover:var(--primary-color);--http-method-label-get-background-color:rgb(0, 128, 0);--http-method-label-get-color:#fff;--http-method-label-post-background-color:rgb(33, 150, 243);--http-method-label-post-color:#fff;--http-method-label-put-background-color:rgb(255, 165, 0);--http-method-label-put-color:#fff;--http-method-label-patch-background-color:rgb(156, 39, 176);--http-method-label-patch-color:#fff;--http-method-label-delete-background-color:rgb(244, 67, 54);--http-method-label-delete-color:#fff;--http-code-snippet-container-highlighted:{background-color:var(--code-background-color);};--http-code-snippet-line:{word-break:break-all;white-space:pre-wrap;};--http-code-snippet-container:{background-color:#e0e0e0;padding:8px;};--paper-tabs-selection-bar-color:var(--primary-color);--tabs-selection-width:2px;--paper-tabs-selection-bar:{border-width:var(--tabs-selection-width);border-color:var(--primary-color);};--paper-tabs-content:{@apply --arc-font-common-base;height:calc(100% - var(--tabs-selection-width));border-bottom:var(--tabs-selection-width) solid rgba(39, 47, 51, .1);font-style:normal;color:rgba(0, 0, 0, 0.87);};--paper-tab-content-unselected:{color:rgba(0, 0, 0, 0.78);};--paper-tab-ink:rgb(39, 47, 51);--api-request-editor-send-valid-button:{background-color:var(--primary-color);color:#fff;};--api-request-editor-abort-button:{background-color:var(--primary-color);color:#fff;};--api-request-editor-abort-button-hover:{background-color:var(--primary-color);color:#fff;};--api-request-editor-send-invalid-button:{background-color:var(--error-color);color:#fff;};--request-editor-section-padding:8px 12px;--stepper-step-number-background-color:var(--primary-color);--authorization-panel:{padding:var(--request-editor-section-padding);};--api-url-params-editor:{padding:var(--request-editor-section-padding);};--api-url-params-editor-editor-subheader:{@apply --arc-font-body2;font-size:14px;padding:0.73em 0;margin:0;margin-right:12px;};--api-headers-editor:{padding:var(--request-editor-section-padding);};--api-body-editor:{padding:var(--request-editor-section-padding);};--paper-autocomplete:{max-width:calc(100vw - 256px - 48px);};--property-shape-document:{padding:12px 0;border-bottom:1px #CFD8DC dashed;};--code-background-color:#f5f2f0;--code-block:{word-wrap:break-word;};--arc-link:{color:#1976D2;};--no-info-message:{@apply --arc-font-body1;font-style:italic;color:#616161;};}[narrow]{--narrow-request-editor-section-padding:0px;--authorization-panel:{padding:var(--narrow-request-editor-section-padding);};--api-headers-editor:{padding:var(--narrow-request-editor-section-padding);};--api-body-editor:{padding:var(--narrow-request-editor-section-padding);};--api-url-params-editor:{padding:var(--narrow-request-editor-section-padding);};--api-parameters-document-title-narrow:{font-size:17px;};--api-headers-document-title-narrow:{font-size:17px;};--api-method-documentation-title-narrow:{font-size:22px;font-weight:400;};--api-method-documentation-main-section-title-narrow:{font-size:20px;};--api-method-documentation-subsection-title-narrow:{font-size:17px;};--api-body-document-title-narrow:{font-size:17px;};--api-console-main-content-margin-top:12px;}</style></custom-style></div><dom-module id="api-console"><template><style>:host{--app-primary-color:var(--api-console-primary-color, #00A2DF);--app-secondary-color:var(--api-console-secondary-color, black);display:block;background-color:var(--api-console-primary-background-color, var(--primary-background-color, transparent));@apply --arc-font-body1;}:host([app]){min-height:100%;}*[hidden]{display:none !important;}.nav-content{@apply --layout-horizontal;@apply --layout-center;}.powered-by{padding:12px 0px;border-top:1px rgba(0,0,0,0.24) solid;margin:8px 12px 0 12px;}a img{text-underline:none;}a.attribution{display:inline-block;width:177px;margin-left:24px;fill:var(--api-console-menu-color, #424143);}app-drawer-layout:not([narrow]) [drawer-toggle]{display:none;}app-drawer{z-index:0;}:host(:not([app])) app-drawer{position:absolute;}:host([layout-narrow]) app-drawer{z-index:var(--api-console-drawer-zindex, 1);}app-toolbar{background-color:var(--api-console-toolbar-background-color, #000);color:var(--api-console-toolbar-color, #fff);}.extension-banner{@apply --layout-center;display:none;border-bottom:1px var(--api-console-extension-banner-border-bottom-color, rgba(0,0,0,0.12)) solid;border-top:1px var(--api-console-extension-banner-border-bottom-color, rgba(0,0,0,0.12)) solid;margin-bottom:12px;box-sizing:border-box;color:var(--api-console-extension-banner-color, rgba(0,0,0,0.54));}.extension-banner[active]{@apply --layout-horizontal;}.main-content{margin-left:var(--api-console-main-content-margin-left, 24px);margin-right:var(--api-console-main-content-margin-right, 24px);margin-top:var(--api-console-main-content-margin-top, 0px);}.drawer-content-wrapper{max-height:calc(100% - 64px);@apply --layout-vertical;background-color:var(--api-console-menu-background-color, inherit);color:var(--api-console-menu-color);height:100%;}api-navigation{background-color:var(--api-console-menu-background-color, inherit);color:var(--api-console-menu-color);--paper-tab-content-unselected_-_color:var(--api-console-menu-tabs-color-unselected);@apply --layout-flex-auto;}:host(:not([app])) app-drawer-layout{min-height:inherit;overflow:hidden;}:host(:not([app])) app-header{position:absolute;right:0 !important;left:0 !important;}api-request-panel,
    api-documentation{max-width:var(--api-console-main-max-width, 1600px);}.api-docs{@apply --layout-horizontal;overflow:auto;}.api-docs api-documentation{@apply --layout-flex;}.api-docs .inline-request{max-width:600px;margin-left:12px;background-color:var(--apic-tryint-wide-background-color, #f8f8f8);padding:0 12px;box-sizing:border-box;@apply --layout-flex;}.method-title-area{@apply --layout-horizontal;@apply --layout-center;}.method-title-area,
    .extension-banner{max-width:var(--api-console-main-max-width, 900px);}.method-title{@apply --layout-flex;@apply --arc-font-headline;font-weight:var(--api-method-documentation-title-method-font-weight, 500);text-transform:capitalize;@apply --api-method-documentation-title;}:host([narrow]) .method-title-area{margin-bottom:24px;margin-top:12px;}:host([narrow]) .method-title{font-size:20px;margin:0;@apply --api-method-documentation-title-narrow;}.store-link{@apply --arc-link;}</style><template is="dom-if" if="[[app]]" restamp="true"><iron-media-query query="(max-width: 740px)" query-matches="{{narrow}}"></iron-media-query><iron-media-query query="(min-width: 1500px)" query-matches="{{wideLayout}}"></iron-media-query></template><app-drawer-layout responsive-width="[[responsiveWidth]]" force-narrow="[[_narrowNavForced]]" narrow="{{layoutNarrow}}"><app-drawer slot="drawer" align="[[drawerAlign]]" opened="[[navigationOpened]]"><template is="dom-if" if="[[!noToolbars]]"><app-toolbar><div>Documentation</div></app-toolbar></template><div class="drawer-content-wrapper"><api-navigation amf-model="[[amfModel]]" summary="" endpoints-opened="" on-api-navigation-selection-changed="_apiNavigationOcurred" selected="{{selectedShape}}" selected-type="{{selectedShapeType}}"></api-navigation><template is="dom-if" if="[[!noAttribution]]"></template></div></app-drawer><app-header-layout><template is="dom-if" if="[[!noToolbars]]"><app-header slot="header" fixed="" condenses="" effects="waterfall"><app-toolbar><paper-icon-button icon="arc:menu" drawer-toggle="" hidden$="[[manualNavigation]]"></paper-icon-button><div main-title="">[[apiTitle]]</div><slot name="toolbar"></slot></app-toolbar></app-header></template><div class="main-content"><slot name="content"></slot><template is="dom-if" if="[[isRequest]]"><div class="method-title-area"><h1 class="method-title">[[methodName]]</h1><div class="method-close-action"><paper-button class="action-button" on-click="closeTryIt" raised="">Back to docs</paper-button></div></div><div class="extension-banner" active$="[[extensionBannerActive]]"><p>For better experience install API console extension. Get it from <a target="_blank" class="store-link" href="https://chrome.google.com/webstore/detail/olkpohecoakpkpinafnpppponcfojioa">Chrome Web Store</a></p><paper-icon-button icon="arc:close" on-click="dismissExtensionBanner"></paper-icon-button></div><api-request-panel amf-model="[[amfModel]]" selected="[[selectedShape]]" narrow="[[narrow]]" no-url-editor="[[noUrlEditor]]" redirect-uri="[[redirectUri]]" scroll-target="[[scrollTarget]]" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" bower-location="[[bowerLocation]]" base-uri="[[baseUri]]" no-docs="[[noDocs]]" events-target="[[eventsTarget]]"></api-request-panel></template><template is="dom-if" if="[[isDocs]]"><section class="api-docs"><api-documentation amf-model="[[amfModel]]" selected="[[selectedShape]]" selected-type="[[selectedShapeType]]" no-try-it="[[_noTryItValue]]" narrow="[[narrow]]" base-uri="[[baseUri]]" inline-methods="[[inlineMethods]]" redirect-uri="[[redirectUri]]" scroll-target="[[scrollTarget]]"></api-documentation><template is="dom-if" if="[[_renderInlineTyit]]" restamp=""></template></section></template></div></app-header-layout></app-drawer-layout><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><paper-toast class="error-toast" id="apiLoadErrorToast"></paper-toast><api-console-ext-comm has-extension="{{_hasApicCorsExtension}}"></api-console-ext-comm><xhr-simple-request append-headers="[[appendHeaders]]" proxy="[[proxy]]" proxy-encode-url="[[proxyEncodeUrl]]"></xhr-simple-request><oauth1-authorization></oauth1-authorization><oauth2-authorization></oauth2-authorization></template><script>/**
   * # The API Console
   *
   * The API console for RAML (Restful Api Modeling Language) documents.
   * The RAML Console allows browsing of API documentation and in-browser testing of API methods.
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof MulesoftApps
   * @appliesMixin ApiElements.AmfHelperMixin
   */class ApiConsole extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-console"}static get properties(){return{/**
         * You can use `raml-aware` component to pass AMF data to the console.
         * Raml aware uses monostate pattern to pass the data to any other
         * instance of the same component and receives updates from them.
         *
         * When using `<raml-aware>` set it's `scope` property to some name
         * and this property to the same name. Once you update `raml` property
         * on the aware it updates the model in the console.
         */aware:String,/**
         * Generated AMF json/ld model form the API spec.
         * The element assumes the object of the first array item to be a
         * type of `"http://raml.org/vocabularies/document#Document`
         * on AMF vocabulary.
         *
         * It is only usefult for the element to resolve references.
         *
         * @type {Object|Array}
         */amfModel:Object,/**
         * It is current selection from the navigation represented
         * as an `@id` property of the AMD json/ld model.
         *
         * This property is updated internally when the user performs a navigation.
         * Change this property (with `selectedShapeType` property if needed)
         * to force the console to render specific view.
         *
         * ## example
         * ```
         * file://demo/models/api-name/api.raml#/web-api/end-points/%2Ftest-endpoint
         * ```
         */selectedShape:{type:String,notify:!0/* ignoreName */ /* skipSlots */},/**
         * One of recognizable bby the console types of currently rendered
         * documentation. It can be one of:
         *
         * - summary
         * - documentation
         * - type
         * - security
         * - endpoint
         * - method
         *
         * Use it with combination of setting `selectedShape` property to control
         * the view.
         */selectedShapeType:{type:String,notify:!0},/**
         * Computed value, true if current selection represent a method
         */isMethod:{type:Boolean,computed:"_computeIsMethod(selectedShapeType)"},/**
         * Location of the AMF json/ld model. It can be an endpoint that
         * produces AMF model or a file that contains generated model.
         *
         * When changed it download's data from the location
         * and assigns value to the `amfModel` property.
         *
         * ## Example
         * ```html
         * <api-console model-location="https://amf-parser/domain.com"></api-console>
         * ```
         */modelLocation:{type:String,observer:"_modelLocationChanged"},/**
         * Currently rendered page. It can be either `docs` or `request`.
         */page:{type:String,value:"docs",notify:!0},/**
         * Computed value (read only), `true` when current page is the
         * request panel.
         */isRequest:{type:Boolean,computed:"_computeIsRequest(page)"},/**
         * Computed value (read only), `true` when current page is the
         * documentation panel.
         */isDocs:{type:Boolean,computed:"_computeIsDocs(page)"},/**
         * The API console works with API console extension that proxies
         * request through Chrome extension's sandbox and eliminates CORS.
         *
         * The banner informing a user about the extension is rendered
         * automatically unless this property is set.
         */noExtensionBanner:{type:Boolean,observer:"_noExtBannerChanged"},/**
         * When set the extension banner is rendered.
         */extensionBannerActive:{type:Boolean,readOnly:!0},_hasApicCorsExtension:{type:Boolean,observer:"_hasCorsExtensionChanged"},/**
         * Forces the console to send headers defined in this string overriding
         * any used defined header.
         * It can be useful if the console has to send any headers string
         * to a server without user knowing about it.
         * The headers should be valid HTTP headers string.
         */appendHeaders:String,/**
         * If true it forces the console to render narrow layout.
         * This hides left hand side navigation and some fonts are smaller
         * (like titles).
         */narrow:{type:Boolean,reflectToAttribute:!0},/**
         * If set every request made from the console will be proxied by the service provided in this
         * value.
         * It will prefix entered URL with the proxy value. so the call to
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/path/http://domain.com/path/?query=some+value`
         *
         * If the proxy require a to pass the URL as a query parameter define value as follows:
         * `https://proxy.com/path/?url=`. In this case be sure to set `proxy-encode-url`
         * attribute.
         */proxy:String,/**
         * If `proxy` is set, it will URL encode the request URL before appending it to the proxy URL.
         * `http://domain.com/path/?query=some+value` will become
         * `https://proxy.com/?url=http%3A%2F%2Fdomain.com%2Fpath%2F%3Fquery%3Dsome%2Bvalue`
         */proxyEncodeUrl:Boolean,/**
         * If set then the API console hide the "try it" button from the
         * method documentation view. The request and response panels still will
         * be available, but to enter this section you'll have to do it
         * programatically.
         */noTryIt:Boolean,/**
         * If set, the open navigation button will be always hidden.
         * The left hand side navigation will be hidden until `navigationOpened`
         * property is set.
         * The navigation will cover full screen, hiding the content.
         * This works best with `narrow` layout.
         */manualNavigation:Boolean,/**
         * True when navigation is opened.
         */navigationOpened:{type:Boolean,notify:!0},/**
         * A width when the navigation drawer is automatically toggled to narrow
         * view.
         * By default it is `640px`.
         *
         * To control width of the navigation drawer, set `--app-drawer-width`
         * CSS variable to requested size.
         */responsiveWidth:String,/**
         * Computed value, true when the navigation drawer should be hidden
         * event with wide layout.
         */_narrowNavForced:{type:Boolean,computed:"_computeNarrowNavForced(manualNavigation, narrow)"},/**
         * Location of the `bower_components` folder.
         * It should be a path from server's root path including bower_components.
         */bowerLocation:String,/**
         * OAuth2 redirect URI.
         * By default the app uses `bowerLocation` to compute redirect location
         * URI. If you set this value if has to work with authorization
         * component meaning it has to pass auth data to the opener window or
         * top frame.
         * See documentation for `advanced-rest-client/oauth-authorization`
         * for API details.
         */redirectUri:String,/**
         * Hides the URL editor from the view.
         * Note that the editor is still in the DOM. This property just hiddes
         * it.
         */noUrlEditor:Boolean,/**
         * A base URI for the API. To be set if RAML spec is missing `baseUri`
         * declaration and this produces invalid URL input. This information
         * is passed to the URL editor that prefixes the URL with `baseUri` value
         * if passed URL is a relative URL.
         */baseUri:String,/**
         * Removes the "Powered by Mulesoft" attribution from the main navigation.
         * The use of this feature must be in accordance with all licensing
         * and copyright protections required by the use of this software
         */noAttribution:{type:Boolean,value:/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */},/**
         * Computed value of AMF model of a type of `http://schema.org/WebAPI`
         *
         * @type {Object}
         */webApi:{type:Object,computed:"_computeWebApi(amfModel)"},/**
         * Computed title of the API
         */apiTitle:{type:String,computed:"_computeApiTitle(webApi)"},/**
         * If true then current browser is Chrome.
         * Used to determine if the console should render the extension banner.
         */isChrome:{type:Boolean,readOnly:!0,value:function(){return /Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},/**
         * True when the main layout element renders in narrow view.
         * This changes when media query breakpoint has been reached or
         * when narrow property is set.
         */layoutNarrow:{type:Boolean,reflectToAttribute:!0},/**
         * An alignment of the layout drawer.
         * Possible values are:
         * - start
         * - end
         *
         * Default to "start".
         */drawerAlign:String,/**
         * If set the top toolbars are not rendered.
         */noToolbars:{type:Boolean,value:!1},/**
         * By default API console renders itself as an embeddable
         * web component that has changed behavior of main layout elements
         * (menu drawer and main view). When this option is set it renders
         * layout elements in it's static positions instead relative.
         *
         * Note, this option is experimental and mey be removed.
         */app:{type:Boolean,reflectToAttribute:!0},/**
         * When true it places try it panel next to the documentation panel.
         * It is set automatically via media queries
         */wideLayout:Boolean,/**
         * If set then it renders methods documentation inline with
         * the endpoint documentation.
         * When it's not set (or value is `false`, default) then it renders
         * just a list of methods with links in the documentation panel
         */inlineMethods:{type:Boolean,value:!1},_renderInlineTyit:{type:Boolean,computed:"_computeRenderInlineTryIt(wideLayout, isMethod, app, inlineMethods)"},_noTryItValue:{type:Boolean,computed:"_computeNoTryItValue(noTryIt, _renderInlineTyit)"},/**
         * Computed value from the method model, name of the method.
         * It is either a `displayName` or HTTP method name
         */methodName:{type:String,computed:"_computeMethodName(isMethod, selectedShape, webApi)"},/**
         * Scroll target used to observe `scroll` events.
         * Set it to a parent element that is a scroll region (has overflow set)
         * so the app can handle scrolling properly.
         */scrollTarget:Object,/**
         * Option passed to the try it panel.
         * When set it allows to disable parameters in an editor (headers,
         * query parameters). Disabled parameter won't be used with a test call
         * but won't be removed from the UI.
         */allowDisableParams:Boolean,/**
         * Option passed to the try it panel.
         * When set, editors renders "add custom" button that allows to define
         * custom parameters next to API spec defined.
         */allowCustom:Boolean,/**
         * Option passed to the try it panel.
         * Enables auto hiding of optional properties (like query parameters
         * or headers) and renders a checkbox to render optional items in the
         * editor view.
         */allowHideOptional:Boolean,/**
          * Prohibits rendering documentation (the icon and the
          * description) in request editors.
          */noDocs:Boolean,/**
          * A HTML element used to listen for events on.
          * If you use one than more API console elements on single page
          * at the same time wrap the console is a HTML element (eg div) and
          * set this value to the container so the request panel only listen
          * to events dispatched inside the container. Otherwise events dispatched
          * by the request panel will be handled by other instances of the console.
          * @type {Element}
          */eventsTarget:Object}}constructor(){super();this._tryitHandler=this._tryitHandler.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("tryit-requested",this._tryitHandler);this._notifyApicExtension()}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("tryit-requested",this._tryitHandler)}ready(){super.ready();this._initExtensionBanner()}/**
     * Loads model from a file described in `modelLocation` property.
     * This function is called automatically when the value of the property
     * change.
     *
     * @param {String} url Model location
     */_modelLocationChanged(url){if(!url){return}const xhr=new XMLHttpRequest;xhr.addEventListener("error",error=>this._apiLoadErrorHandler(error));xhr.addEventListener("loadend",()=>this._apiLoadEndHandler(xhr));xhr.open("GET",url,!0);xhr.send()}/**
     * Called by `_modelLocationChanged` when model data are read from remote location.
     * @param {XMLHttpRequest} xhr
     */_apiLoadEndHandler(xhr){let data;try{data=JSON.parse(xhr.response)}catch(e){this._apiLoadErrorHandler(e);return}this.set("amfModel",data)}/**
     * Called by `_modelLocationChanged` when error occurred when getting API data.
     * @param {Error} error
     */_apiLoadErrorHandler(error){const message="Unable to load API model data. "+(error.message?error.message:"");this.$.apiLoadErrorToast.text=message;this.$.apiLoadErrorToast.opened=!0}/**
     * Handler for the `tryit-requested` event. Sets current screen to
     * `request`.
     */_tryitHandler(){this.page="request"}/**
     * Resets current selection to "summary" page
     */resetSelection(){if("docs"!==this.page){this.page="docs"}this.selectedShapeType="summary";this.selectedShape="summary"}/**
     * Computes value of `apiTitle` property.
     *
     * @param {Object} shape Shape of AMF model.
     * @return {String|undefined} Description if defined.
     */_computeApiTitle(shape){return this._getValue(shape,this.ns.schema.schemaName)}/**
     * Computes value for `isRequest` property.
     *
     * @param {?String} page Currently selected page.
     * @return {Boolean}
     */_computeIsRequest(page){return"request"===page}/**
     * Computes value for `isDocs` property.
     *
     * @param {?String} page Currently selected page.
     * @return {Boolean}
     */_computeIsDocs(page){return"docs"===page}/**
     * Renders the extension banner if is Chrome and extension is not detected.
     */_initExtensionBanner(){if(!this.isChrome||this.noExtensionBanner){return}setTimeout(()=>{if(!this.noExtensionBanner&&!this._hasApicCorsExtension){this._setExtensionBannerActive(!0)}})}/**
     * Dismisses Chrome extension banner.
     */dismissExtensionBanner(){this._setExtensionBannerActive(!1)}/**
     * Handler for the navigation event dispatched by the `api-navigation`
     * component.
     *
     * @param {CustomEvent} e
     */_apiNavigationOcurred(e){const isPassive=!0===e.detail.passive;if(!isPassive&&"docs"!==this.page){this.closeTryIt()}if(e.detail.selected!==this.selectedShape){this.selectedShape=e.detail.selected}if(e.detail.type!==this.selectedShapeType){this.selectedShapeType=e.detail.type}}/**
     * Closes "try it" panel and restores docs view.
     */closeTryIt(){this.page="docs"}/**
     * Computes value of `_narrowNavForced` property.
     *
     * @param {Boolean} manualNavigation
     * @param {Boolean} narrow
     * @return {Boolean}
     */_computeNarrowNavForced(manualNavigation,narrow){return!!(manualNavigation||narrow)}/**
     * When the console is initialized when being hidden
     * it may not layout properly. The app drawer layout component
     * positions elements statically so if the console is hidden it cannot do
     * this properly. In this case call `resetLayout()` function
     * when getting the console back from the hidden state.
     */resetLayout(){this.shadowRoot.querySelector("app-drawer-layout").notifyResize()}/**
     * Dispatches `api-console-ready` event that is used by APIC extension
     * so it can initialize itself when handled
     */_notifyApicExtension(){this.dispatchEvent(new CustomEvent("api-console-ready",{bubbles:!0,composed:!0}))}/**
     * Controls behavior if the extension banner.
     * @param {Boolean} value Current value of `noExtensionBanner` property
     */_noExtBannerChanged(value){if(value&&this.extensionBannerActive){this._setExtensionBannerActive(!1)}}_hasCorsExtensionChanged(value){if(value&&this.extensionBannerActive){this._setExtensionBannerActive(!1)}}/**
     * Computes value of `isMethod` proiperty.
     * @param {String} selectedShapeType Current value of `selectedShapeType`
     * property
     * @return {Boolean} True if current selection represent a method
     */_computeIsMethod(selectedShapeType){return"method"===selectedShapeType}/**
     * Computes value for `_renderInlineTyit` property.
     * @param {Boolean} wideLayout
     * @param {Boolean} isMethod
     * @param {Boolean} app
     * @param {Boolean} inlineMethods
     * @return {Boolean} True if is wideLayout, it is a method, it is the app
     * and when inlineMethods is not set.
     */_computeRenderInlineTryIt(wideLayout,isMethod,app,inlineMethods){if(!wideLayout||!app||!isMethod||inlineMethods){return!1}return wideLayout&&isMethod}_computeNoTryItValue(noTryIt,renderInlineTyit){if(renderInlineTyit){return!0}return noTryIt}/**
     * Computes method name for not-wide view, where the request panel
     * has close button.
     * @param {Boolean} isMethod Current state of `isMethod` property
     * @param {String} selected Curerently selected AMF shape (@id).
     * @param {Object} webApi Computed AMF WebAPI model.
     * @return {String|Undefined} Name of current method (verb) as RAML's
     * `displayName` property or name of the HTTP method.
     */_computeMethodName(isMethod,selected,webApi){if(!isMethod||!selected||!webApi){return}let method;try{method=this._computeMethodModel(webApi,selected)}catch(_){return}if(!method){return}let name=this._getValue(method,this.ns.schema.schemaName);if(!name){name=this._getValue(method,this.ns.w3.hydra.core+"method")}return name}}window.customElements.define(ApiConsole.is,ApiConsole);</script></dom-module></body></html>
