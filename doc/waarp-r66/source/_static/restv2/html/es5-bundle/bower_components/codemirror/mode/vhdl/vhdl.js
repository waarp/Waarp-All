// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: https://codemirror.net/LICENSE
// Originally written by Alf Nielsen, re-written by Michael Zhou
(function(mod){if("object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"object"==("undefined"===typeof module?"undefined":babelHelpers.typeof(module)))// CommonJS
mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)// AMD
define(["../../lib/codemirror"],mod);else// Plain browser env
mod(CodeMirror)})(function(CodeMirror){"use strict";function words(str){for(var obj={},words=str.split(","),i=0;i<words.length;++i){var allCaps=words[i].toUpperCase(),firstCap=words[i].charAt(0).toUpperCase()+words[i].slice(1);obj[words[i]]=!0/* ignoreName */ /* skipSlots */;obj[allCaps]=!0;obj[firstCap]=!0}return obj}function metaHook(stream){stream.eatWhile(/[\w\$_]/);return"meta"}CodeMirror.defineMode("vhdl",function(config,parserConfig){var indentUnit=config.indentUnit,atoms=parserConfig.atoms||words("null"),hooks=parserConfig.hooks||{"`":metaHook,$:metaHook},multiLineStrings=parserConfig.multiLineStrings,keywords=words("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,"+"body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,"+"end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,"+"function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,"+"literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,"+"postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,"+"sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor"),blockKeywords=words("architecture,entity,begin,case,port,else,elsif,end,for,function,if"),isOperatorChar=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/,curPunc;function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(/* eat */ /* ignoreName */!1/* skipSlots */ /* skipSlots */!==result)return result}if("\""==ch){state.tokenize=tokenString2(ch);return state.tokenize(stream,state)}if("'"==ch){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(/[\[\]{}\(\),;\:\.]/.test(ch)){curPunc=ch;return null}if(/[\d']/.test(ch)){stream.eatWhile(/[\w\.']/);return"number"}if("-"==ch){if(stream.eat("-")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return"operator"}stream.eatWhile(/[\w\$_]/);var cur=stream.current();if(keywords.propertyIsEnumerable(cur.toLowerCase())){if(blockKeywords.propertyIsEnumerable(cur))curPunc="newstatement";return"keyword"}if(atoms.propertyIsEnumerable(cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=!1,next,end=!1;while(null!=(next=stream.next())){if(next==quote&&!escaped){end=!0;break}escaped=!escaped&&"--"==next}if(end||!(escaped||multiLineStrings))state.tokenize=tokenBase;return"string"}}function tokenString2(quote){return function(stream,state){var escaped=!1,next,end=!1;while(null!=(next=stream.next())){if(next==quote&&!escaped){end=!0;break}escaped=!escaped&&"--"==next}if(end||!(escaped||multiLineStrings))state.tokenize=tokenBase;return"string-2"}}function Context(indented,column,type,align,prev){this.indented=indented;this.column=column;this.type=type;this.align=align;this.prev=prev}function pushContext(state,col,type){return state.context=new Context(state.indented,col,type,null,state.context)}function popContext(state){var t=state.context.type;if(")"==t||"]"==t||"}"==t)state.indented=state.context.indented;return state.context=state.context.prev}// Interface
return{startState:function startState(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",!1),indented:0,startOfLine:!0}},token:function token(stream,state){var ctx=state.context;if(stream.sol()){if(null==ctx.align)ctx.align=!1;state.indented=stream.indentation();state.startOfLine=!0}if(stream.eatSpace())return null;curPunc=null;var style=(state.tokenize||tokenBase)(stream,state);if("comment"==style||"meta"==style)return style;if(null==ctx.align)ctx.align=!0;if((";"==curPunc||":"==curPunc)&&"statement"==ctx.type)popContext(state);else if("{"==curPunc)pushContext(state,stream.column(),"}");else if("["==curPunc)pushContext(state,stream.column(),"]");else if("("==curPunc)pushContext(state,stream.column(),")");else if("}"==curPunc){while("statement"==ctx.type){ctx=popContext(state)}if("}"==ctx.type)ctx=popContext(state);while("statement"==ctx.type){ctx=popContext(state)}}else if(curPunc==ctx.type)popContext(state);else if("}"==ctx.type||"top"==ctx.type||"statement"==ctx.type&&"newstatement"==curPunc)pushContext(state,stream.column(),"statement");state.startOfLine=!1;return style},indent:function indent(state,textAfter){if(state.tokenize!=tokenBase&&null!=state.tokenize)return 0;var firstChar=textAfter&&textAfter.charAt(0),ctx=state.context,closing=firstChar==ctx.type;if("statement"==ctx.type)return ctx.indented+("{"==firstChar?0:indentUnit);else if(ctx.align)return ctx.column+(closing?0:1);else return ctx.indented+(closing?0:indentUnit)},electricChars:"{}"}});CodeMirror.defineMIME("text/x-vhdl","vhdl")});